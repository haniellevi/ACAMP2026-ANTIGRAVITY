(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cy={exports:{}},_c={};var US;function BO(){if(US)return _c;US=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return _c.Fragment=e,_c.jsx=t,_c.jsxs=t,_c}var zS;function FO(){return zS||(zS=1,Cy.exports=BO()),Cy.exports}var S=FO(),Dy={exports:{}},Ve={};var BS;function qO(){if(BS)return Ve;BS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function U(D,ne,ce){this.props=D,this.context=ne,this.refs=N,this.updater=ce||V}U.prototype.isReactComponent={},U.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=U.prototype;function B(D,ne,ce){this.props=D,this.context=ne,this.refs=N,this.updater=ce||V}var X=B.prototype=new z;X.constructor=B,M(X,U.prototype),X.isPureReactComponent=!0;var H=Array.isArray;function se(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(D,ne,ce){var de=ce.ref;return{$$typeof:n,type:D,key:ne,ref:de!==void 0?de:null,props:ce}}function j(D,ne){return C(D.type,ne,D.props)}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function q(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return ne[ce]})}var O=/\/+/g;function we(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?q(""+D.key):ne.toString(36)}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(se,se):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,ne,ce,de,Te){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case n:case e:Se=!0;break;case y:return Se=D._init,ee(Se(D._payload),ne,ce,de,Te)}}if(Se)return Te=Te(D),Se=de===""?"."+we(D,0):de,H(Te)?(ce="",Se!=null&&(ce=Se.replace(O,"$&/")+"/"),ee(Te,ne,ce,"",function(Ui){return Ui})):Te!=null&&(L(Te)&&(Te=j(Te,ce+(Te.key==null||D&&D.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+Se)),ne.push(Te)),1;Se=0;var at=de===""?".":de+":";if(H(D))for(var et=0;et<D.length;et++)de=D[et],Ie=at+we(de,et),Se+=ee(de,ne,ce,Ie,Te);else if(et=A(D),typeof et=="function")for(D=et.call(D),et=0;!(de=D.next()).done;)de=de.value,Ie=at+we(de,et++),Se+=ee(de,ne,ce,Ie,Te);else if(Ie==="object"){if(typeof D.then=="function")return ee(Oe(D),ne,ce,de,Te);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function oe(D,ne,ce){if(D==null)return D;var de=[],Te=0;return ee(D,de,"","",function(Ie){return ne.call(ce,Ie,Te++)}),de}function me(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var Re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Pe={map:oe,forEach:function(D,ne,ce){oe(D,function(){ne.apply(this,arguments)},ce)},count:function(D){var ne=0;return oe(D,function(){ne++}),ne},toArray:function(D){return oe(D,function(ne){return ne})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ve.Activity=v,Ve.Children=Pe,Ve.Component=U,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ve.cache=function(D){return function(){return D.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(D,ne,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var de=M({},D.props),Te=D.key;if(ne!=null)for(Ie in ne.key!==void 0&&(Te=""+ne.key),ne)!x.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(de[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=ce;else if(1<Ie){for(var Se=Array(Ie),at=0;at<Ie;at++)Se[at]=arguments[at+2];de.children=Se}return C(D.type,Te,de)},Ve.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Ve.createElement=function(D,ne,ce){var de,Te={},Ie=null;if(ne!=null)for(de in ne.key!==void 0&&(Ie=""+ne.key),ne)x.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=ne[de]);var Se=arguments.length-2;if(Se===1)Te.children=ce;else if(1<Se){for(var at=Array(Se),et=0;et<Se;et++)at[et]=arguments[et+2];Te.children=at}if(D&&D.defaultProps)for(de in Se=D.defaultProps,Se)Te[de]===void 0&&(Te[de]=Se[de]);return C(D,Ie,Te)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:h,render:D}},Ve.isValidElement=L,Ve.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:me}},Ve.memo=function(D,ne){return{$$typeof:m,type:D,compare:ne===void 0?null:ne}},Ve.startTransition=function(D){var ne=I.T,ce={};I.T=ce;try{var de=D(),Te=I.S;Te!==null&&Te(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(se,Re)}catch(Ie){Re(Ie)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),I.T=ne}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(D){return I.H.use(D)},Ve.useActionState=function(D,ne,ce){return I.H.useActionState(D,ne,ce)},Ve.useCallback=function(D,ne){return I.H.useCallback(D,ne)},Ve.useContext=function(D){return I.H.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D,ne){return I.H.useDeferredValue(D,ne)},Ve.useEffect=function(D,ne){return I.H.useEffect(D,ne)},Ve.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(D,ne,ce){return I.H.useImperativeHandle(D,ne,ce)},Ve.useInsertionEffect=function(D,ne){return I.H.useInsertionEffect(D,ne)},Ve.useLayoutEffect=function(D,ne){return I.H.useLayoutEffect(D,ne)},Ve.useMemo=function(D,ne){return I.H.useMemo(D,ne)},Ve.useOptimistic=function(D,ne){return I.H.useOptimistic(D,ne)},Ve.useReducer=function(D,ne,ce){return I.H.useReducer(D,ne,ce)},Ve.useRef=function(D){return I.H.useRef(D)},Ve.useState=function(D){return I.H.useState(D)},Ve.useSyncExternalStore=function(D,ne,ce){return I.H.useSyncExternalStore(D,ne,ce)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.4",Ve}var FS;function R_(){return FS||(FS=1,Dy.exports=qO()),Dy.exports}var P=R_(),Vy={exports:{}},Ec={},Oy={exports:{}},Py={};var qS;function HO(){return qS||(qS=1,(function(n){function e(ee,oe){var me=ee.length;ee.push(oe);e:for(;0<me;){var Re=me-1>>>1,Pe=ee[Re];if(0<a(Pe,oe))ee[Re]=oe,ee[me]=Pe,me=Re;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var oe=ee[0],me=ee.pop();if(me!==oe){ee[0]=me;e:for(var Re=0,Pe=ee.length,D=Pe>>>1;Re<D;){var ne=2*(Re+1)-1,ce=ee[ne],de=ne+1,Te=ee[de];if(0>a(ce,me))de<Pe&&0>a(Te,ce)?(ee[Re]=Te,ee[de]=me,Re=de):(ee[Re]=ce,ee[ne]=me,Re=ne);else if(de<Pe&&0>a(Te,me))ee[Re]=Te,ee[de]=me,Re=de;else break e}}return oe}function a(ee,oe){var me=ee.sortIndex-oe.sortIndex;return me!==0?me:ee.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,E=3,A=!1,V=!1,M=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var oe=t(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=ee)i(m),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=t(m)}}function H(ee){if(M=!1,X(ee),!V)if(t(d)!==null)V=!0,se||(se=!0,q());else{var oe=t(m);oe!==null&&Oe(H,oe.startTime-ee)}}var se=!1,I=-1,x=5,C=-1;function j(){return N?!0:!(n.unstable_now()-C<x)}function L(){if(N=!1,se){var ee=n.unstable_now();C=ee;var oe=!0;try{e:{V=!1,M&&(M=!1,z(I),I=-1),A=!0;var me=E;try{t:{for(X(ee),v=t(d);v!==null&&!(v.expirationTime>ee&&j());){var Re=v.callback;if(typeof Re=="function"){v.callback=null,E=v.priorityLevel;var Pe=Re(v.expirationTime<=ee);if(ee=n.unstable_now(),typeof Pe=="function"){v.callback=Pe,X(ee),oe=!0;break t}v===t(d)&&i(d),X(ee)}else i(d);v=t(d)}if(v!==null)oe=!0;else{var D=t(m);D!==null&&Oe(H,D.startTime-ee),oe=!1}}break e}finally{v=null,E=me,A=!1}oe=void 0}}finally{oe?q():se=!1}}}var q;if(typeof B=="function")q=function(){B(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,we=O.port2;O.port1.onmessage=L,q=function(){we.postMessage(null)}}else q=function(){U(L,0)};function Oe(ee,oe){I=U(function(){ee(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var me=E;E=oe;try{return ee()}finally{E=me}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var me=E;E=ee;try{return oe()}finally{E=me}},n.unstable_scheduleCallback=function(ee,oe,me){var Re=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,ee){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=me+Pe,ee={id:y++,callback:oe,priorityLevel:ee,startTime:me,expirationTime:Pe,sortIndex:-1},me>Re?(ee.sortIndex=me,e(m,ee),t(d)===null&&ee===t(m)&&(M?(z(I),I=-1):M=!0,Oe(H,me-Re))):(ee.sortIndex=Pe,e(d,ee),V||A||(V=!0,se||(se=!0,q()))),ee},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ee){var oe=E;return function(){var me=E;E=oe;try{return ee.apply(this,arguments)}finally{E=me}}}})(Py)),Py}var HS;function GO(){return HS||(HS=1,Oy.exports=HO()),Oy.exports}var My={exports:{}},pn={};var GS;function KO(){if(GS)return pn;GS=1;var n=R_();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},pn.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},pn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},pn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},pn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},pn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},pn.requestFormReset=function(d){i.d.r(d)},pn.unstable_batchedUpdates=function(d,m){return d(m)},pn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var KS;function QO(){if(KS)return My.exports;KS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),My.exports=KO(),My.exports}var QS;function $O(){if(QS)return Ec;QS=1;var n=GO(),e=R_(),t=QO();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),r;if(g===c)return d(p),s;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,w=p.child;w;){if(w===l){T=!0,l=p,c=g;break}if(w===c){T=!0,c=p,l=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===l){T=!0,l=g,c=p;break}if(w===c){T=!0,c=g,l=p;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function we(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case se:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case B:return r.displayName||"Context";case z:return(r._context.displayName||"Context")+".Consumer";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:we(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return we(r(s))}catch{}}return null}var Oe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],Pe=-1;function D(r){return{current:r}}function ne(r){0>Pe||(r.current=Re[Pe],Re[Pe]=null,Pe--)}function ce(r,s){Pe++,Re[Pe]=r.current,r.current=s}var de=D(null),Te=D(null),Ie=D(null),Se=D(null);function at(r,s){switch(ce(Ie,s),ce(Te,r),ce(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?lS(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=lS(s),r=uS(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(de),ce(de,r)}function et(){ne(de),ne(Te),ne(Ie)}function Ui(r){r.memoizedState!==null&&ce(Se,r);var s=de.current,l=uS(s,r.type);s!==l&&(ce(Te,r),ce(de,l))}function Ao(r){Te.current===r&&(ne(de),ne(Te)),Se.current===r&&(ne(Se),pc._currentValue=me)}var wo,xo;function zi(r){if(wo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);wo=s&&s[1]||"",xo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+r+xo}var pu=!1;function fa(r,s){if(!r||pu)return"";pu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){W=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var k=T.split(`
`),Y=w.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===Y.length)for(c=k.length-1,p=Y.length-1;1<=c&&0<=p&&k[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==Y[p]){var ie=`
`+k[c].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=c&&0<=p);break}}}finally{pu=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?zi(l):""}function gu(r,s){switch(r.tag){case 26:case 27:case 5:return zi(r.type);case 16:return zi("Lazy");case 13:return r.child!==s&&s!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return fa(r.type,!1);case 11:return fa(r.type.render,!1);case 1:return fa(r.type,!0);case 31:return zi("Activity");default:return""}}function yu(r){try{var s="",l=null;do s+=gu(r,l),l=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,$t=n.unstable_scheduleCallback,ts=n.unstable_cancelCallback,Vp=n.unstable_shouldYield,Kh=n.unstable_requestPaint,Tn=n.unstable_now,ma=n.unstable_getCurrentPriorityLevel,vu=n.unstable_ImmediatePriority,_u=n.unstable_UserBlockingPriority,ns=n.unstable_NormalPriority,Op=n.unstable_LowPriority,Qh=n.unstable_IdlePriority,$h=n.log,Yh=n.unstable_setDisableYieldValue,yi=null,sn=null;function Jn(r){if(typeof $h=="function"&&Yh(r),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(yi,r)}catch{}}var Dt=Math.clz32?Math.clz32:Xh,Wh=Math.log,Ro=Math.LN2;function Xh(r){return r>>>=0,r===0?32:31-(Wh(r)/Ro|0)|0}var Bi=256,pa=262144,kt=4194304;function Fi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qi(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?p=Fi(c):(T&=w,T!==0?p=Fi(T):l||(l=w&~r,l!==0&&(p=Fi(l))))):(w=c&~g,w!==0?p=Fi(w):T!==0?p=Fi(T):l||(l=c&~r,l!==0&&(p=Fi(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function vi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Pp(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(){var r=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),r}function Hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ga(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Mp(r,s,l,c,p,g){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var w=r.entanglements,k=r.expirationTimes,Y=r.hiddenUpdates;for(l=T&~l;0<l;){var ie=31-Dt(l),ae=1<<ie;w[ie]=0,k[ie]=-1;var W=Y[ie];if(W!==null)for(Y[ie]=null,ie=0;ie<W.length;ie++){var Z=W[ie];Z!==null&&(Z.lane&=-536870913)}l&=~ae}c!==0&&ya(r,c,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ya(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Dt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Eu(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Dt(l),p=1<<c;p&s|r[c]&s&&(r[c]|=s),l&=~p}}function Tu(r,s){var l=s&-s;return l=(l&42)!==0?1:va(l),(l&(r.suspendedLanes|s))!==0?0:l}function va(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Tr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zh(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:OS(r.type))}function _i(r,s){var l=oe.p;try{return oe.p=r,s()}finally{oe.p=l}}var Ei=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ei,Zt="__reactProps$"+Ei,Gi="__reactContainer$"+Ei,Io="__reactEvents$"+Ei,Np="__reactListeners$"+Ei,ed="__reactHandles$"+Ei,td="__reactResources$"+Ei,Ki="__reactMarker$"+Ei;function Co(r){delete r[Lt],delete r[Zt],delete r[Io],delete r[Np],delete r[ed]}function Qi(r){var s=r[Lt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Gi]||l[Lt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=gS(r);r!==null;){if(l=r[Lt])return l;r=gS(r)}return s}r=l,l=r.parentNode}return null}function Zn(r){if(r=r[Lt]||r[Gi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Un(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function $i(r){var s=r[td];return s||(s=r[td]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(r){r[Ki]=!0}var Su=new Set,bu={};function Yi(r,s){Wi(r,s),Wi(r+"Capture",s)}function Wi(r,s){for(bu[r]=s,r=0;r<s.length;r++)Su.add(s[r])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},xu={};function nd(r){return Nt.call(xu,r)?!0:Nt.call(wu,r)?!1:Au.test(r)?xu[r]=!0:(wu[r]=!0,!1)}function Do(r,s,l){if(nd(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function zn(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function Ut(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}function en(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function is(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ru(r,s,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function tt(r){if(!r._valueTracker){var s=is(r)?"checked":"value";r._valueTracker=Ru(r,s,""+r[s])}}function _a(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=is(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Xi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ea=/[\n"\\]/g;function Dn(r){return r.replace(Ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vo(r,s,l,c,p,g,T,w){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+en(s)):r.value!==""+en(s)&&(r.value=""+en(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Iu(r,T,en(s)):l!=null?Iu(r,T,en(l)):c!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+en(w):r.removeAttribute("name")}function id(r,s,l,c,p,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){tt(r);return}l=l!=null?""+en(l):"",s=s!=null?""+en(s):l,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),tt(r)}function Iu(r,s,l){s==="number"&&Xi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function rs(r,s,l,c){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+en(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function rd(r,s,l){if(s!=null&&(s=""+en(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+en(l):""}function ss(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(Oe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=en(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),tt(r)}function Vn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||sd.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Du(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Cu(r,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Cu(r,g,s[g])}function Oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(r){return as.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ti(){}var Vu=null;function ei(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var os=null,Ji=null;function Ta(r){var s=Zn(r);if(s&&(r=s.stateNode)){var l=r[Zt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Vo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var p=c[Zt]||null;if(!p)throw Error(i(90));Vo(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&_a(c)}break e;case"textarea":rd(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&rs(r,!!l.multiple,s,!1)}}}var Mo=!1;function ls(r,s,l){if(Mo)return r(s,l);Mo=!0;try{var c=r(s);return c}finally{if(Mo=!1,(os!==null||Ji!==null)&&(Zd(),os&&(s=os,r=Ji,Ji=os=null,Ta(s),r)))for(s=0;s<r.length;s++)Ta(r[s])}}function Si(r,s){var l=r.stateNode;if(l===null)return null;var c=l[Zt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(ti)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Sa=!1}var Zi=null,Ou=null,ba=null;function Pu(){if(ba)return ba;var r,s=Ou,l=s.length,c,p="value"in Zi?Zi.value:Zi.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&s[l-c]===p[g-c];c++);return ba=p.slice(r,1<c?1-c:void 0)}function Aa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Sr(){return!0}function bi(){return!1}function an(r){function s(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(l=r[w],this[w]=l?l(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sr:bi,this.isPropagationStopped=bi,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=an(br),us=v({},br,{view:0,detail:0}),Mu=an(us),cs,No,tr,ko=v({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==tr&&(tr&&r.type==="mousemove"?(cs=r.screenX-tr.screenX,No=r.screenY-tr.screenY):No=cs=0,tr=r),cs)},movementY:function(r){return"movementY"in r?r.movementY:No}}),Nu=an(ko),wa=v({},ko,{dataTransfer:0}),od=an(wa),ld=v({},us,{relatedTarget:0}),xa=an(ld),ku=v({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),ud=an(ku),Lo=v({},br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),cd=an(Lo),hd=v({},br,{data:0}),nr=an(hd),dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pd(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=md[r])?!!s[r]:!1}function hs(){return pd}var Sn=v({},us,{key:function(r){if(r.key){var s=dd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Aa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?fd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(r){return r.type==="keypress"?Aa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Aa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),gd=an(Sn),yd=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=an(yd),f=v({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),_=an(f),b=v({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=an(b),Q=v({},ko,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=an(Q),he=v({},br,{newState:0,oldState:0}),Me=an(he),Vt=[9,13,27,32],Xe=ti&&"CompositionEvent"in window,yt=null;ti&&"documentMode"in document&&(yt=document.documentMode);var ni=ti&&"TextEvent"in window&&!yt,ir=ti&&(!Xe||yt&&8<yt&&11>=yt),Ai=" ",wi=!1;function Ra(r,s){switch(r){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Uo=!1;function cV(r,s){switch(r){case"compositionend":return jo(s);case"keypress":return s.which!==32?null:(wi=!0,Ai);case"textInput":return r=s.data,r===Ai&&wi?null:r;default:return null}}function hV(r,s){if(Uo)return r==="compositionend"||!Xe&&Ra(r,s)?(r=Pu(),ba=Ou=Zi=null,Uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ir&&s.locale!=="ko"?null:s.data;default:return null}}var dV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _E(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dV[r.type]:s==="textarea"}function EE(r,s,l,c){os?Ji?Ji.push(c):Ji=[c]:os=c,s=of(s,"onChange"),0<s.length&&(l=new er("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Lu=null,ju=null;function fV(r){nS(r,0)}function vd(r){var s=Un(r);if(_a(s))return r}function TE(r,s){if(r==="change")return s}var SE=!1;if(ti){var kp;if(ti){var Lp="oninput"in document;if(!Lp){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),Lp=typeof bE.oninput=="function"}kp=Lp}else kp=!1;SE=kp&&(!document.documentMode||9<document.documentMode)}function AE(){Lu&&(Lu.detachEvent("onpropertychange",wE),ju=Lu=null)}function wE(r){if(r.propertyName==="value"&&vd(ju)){var s=[];EE(s,ju,r,ei(r)),ls(fV,s)}}function mV(r,s,l){r==="focusin"?(AE(),Lu=s,ju=l,Lu.attachEvent("onpropertychange",wE)):r==="focusout"&&AE()}function pV(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vd(ju)}function gV(r,s){if(r==="click")return vd(s)}function yV(r,s){if(r==="input"||r==="change")return vd(s)}function vV(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:vV;function Uu(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Nt.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function xE(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function RE(r,s){var l=xE(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xE(l)}}function IE(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?IE(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function CE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xi(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Xi(r.document)}return s}function jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var _V=ti&&"documentMode"in document&&11>=document.documentMode,zo=null,Up=null,zu=null,zp=!1;function DE(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zp||zo==null||zo!==Xi(c)||(c=zo,"selectionStart"in c&&jp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zu&&Uu(zu,c)||(zu=c,c=of(Up,"onSelect"),0<c.length&&(s=new er("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=zo)))}function Ia(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Bp={},VE={};ti&&(VE=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Ca(r){if(Bp[r])return Bp[r];if(!Bo[r])return r;var s=Bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in VE)return Bp[r]=s[l];return r}var OE=Ca("animationend"),PE=Ca("animationiteration"),ME=Ca("animationstart"),EV=Ca("transitionrun"),TV=Ca("transitionstart"),SV=Ca("transitioncancel"),NE=Ca("transitionend"),kE=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fp.push("scrollEnd");function xi(r,s){kE.set(r,s),Yi(s,[r])}var _d=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ii=[],Fo=0,qp=0;function Ed(){for(var r=Fo,s=qp=Fo=0;s<r;){var l=ii[s];ii[s++]=null;var c=ii[s];ii[s++]=null;var p=ii[s];ii[s++]=null;var g=ii[s];if(ii[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&LE(l,p,g)}}function Td(r,s,l,c){ii[Fo++]=r,ii[Fo++]=s,ii[Fo++]=l,ii[Fo++]=c,qp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Hp(r,s,l,c){return Td(r,s,l,c),Sd(r)}function Da(r,s){return Td(r,null,null,s),Sd(r)}function LE(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=r.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&s!==null&&(p=31-Dt(l),r=g.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function Sd(r){if(50<lc)throw lc=0,Zg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var qo={};function bV(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,l,c){return new bV(r,s,l,c)}function Gp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wr(r,s){var l=r.alternate;return l===null?(l=Fn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function jE(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function bd(r,s,l,c,p,g){var T=0;if(c=r,typeof r=="function")Gp(r)&&(T=1);else if(typeof r=="string")T=IO(r,l,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Fn(31,l,s,p),r.elementType=C,r.lanes=g,r;case M:return Va(l.children,p,g,s);case N:T=8,p|=24;break;case U:return r=Fn(12,l,s,p|2),r.elementType=U,r.lanes=g,r;case H:return r=Fn(13,l,s,p),r.elementType=H,r.lanes=g,r;case se:return r=Fn(19,l,s,p),r.elementType=se,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:T=10;break e;case z:T=9;break e;case X:T=11;break e;case I:T=14;break e;case x:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Fn(T,l,s,p),s.elementType=r,s.type=c,s.lanes=g,s}function Va(r,s,l,c){return r=Fn(7,r,c,s),r.lanes=l,r}function Kp(r,s,l){return r=Fn(6,r,null,s),r.lanes=l,r}function UE(r){var s=Fn(18,null,null,0);return s.stateNode=r,s}function Qp(r,s,l){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var zE=new WeakMap;function ri(r,s){if(typeof r=="object"&&r!==null){var l=zE.get(r);return l!==void 0?l:(s={value:r,source:s,stack:yu(s)},zE.set(r,s),s)}return{value:r,source:s,stack:yu(s)}}var Ho=[],Go=0,Ad=null,Bu=0,si=[],ai=0,ds=null,rr=1,sr="";function xr(r,s){Ho[Go++]=Bu,Ho[Go++]=Ad,Ad=r,Bu=s}function BE(r,s,l){si[ai++]=rr,si[ai++]=sr,si[ai++]=ds,ds=r;var c=rr;r=sr;var p=32-Dt(c)-1;c&=~(1<<p),l+=1;var g=32-Dt(s)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,rr=1<<32-Dt(s)+p|l<<p|c,sr=g+r}else rr=1<<g|l<<p|c,sr=r}function $p(r){r.return!==null&&(xr(r,1),BE(r,1,0))}function Yp(r){for(;r===Ad;)Ad=Ho[--Go],Ho[Go]=null,Bu=Ho[--Go],Ho[Go]=null;for(;r===ds;)ds=si[--ai],si[ai]=null,sr=si[--ai],si[ai]=null,rr=si[--ai],si[ai]=null}function FE(r,s){si[ai++]=rr,si[ai++]=sr,si[ai++]=ds,rr=s.id,sr=s.overflow,ds=r}var on=null,pt=null,Ke=!1,fs=null,oi=!1,Wp=Error(i(519));function ms(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fu(ri(s,r)),Wp}function qE(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[Lt]=r,s[Zt]=c,l){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(l=0;l<cc.length;l++)Ue(cc[l],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),id(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),ss(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||aS(s.textContent,l)?(c.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),c.onScroll!=null&&Ue("scroll",s),c.onScrollEnd!=null&&Ue("scrollend",s),c.onClick!=null&&(s.onclick=Ti),s=!0):s=!1,s||ms(r,!0)}function HE(r){for(on=r.return;on;)switch(on.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:on=on.return}}function Ko(r){if(r!==on)return!1;if(!Ke)return HE(r),Ke=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||my(r.type,r.memoizedProps)),l=!l),l&&pt&&ms(r),HE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=pS(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=pS(r)}else s===27?(s=pt,Is(r.type)?(r=_y,_y=null,pt=r):pt=s):pt=on?ui(r.stateNode.nextSibling):null;return!0}function Oa(){pt=on=null,Ke=!1}function Xp(){var r=fs;return r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r),fs=null),r}function Fu(r){fs===null?fs=[r]:fs.push(r)}var Jp=D(null),Pa=null,Rr=null;function ps(r,s,l){ce(Jp,s._currentValue),s._currentValue=l}function Ir(r){r._currentValue=Jp.current,ne(Jp)}function Zp(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function eg(r,s,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=p;for(var k=0;k<s.length;k++)if(w.context===s[k]){g.lanes|=l,w=g.alternate,w!==null&&(w.lanes|=l),Zp(g.return,l,r),c||(T=null);break e}g=w.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),Zp(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Qo(r,s,l,c){r=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=p.type;Bn(p.pendingProps.value,T.value)||(r!==null?r.push(w):r=[w])}}else if(p===Se.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(pc):r=[pc])}p=p.return}r!==null&&eg(s,r,l,c),s.flags|=262144}function wd(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ma(r){Pa=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return GE(Pa,r)}function xd(r,s){return Pa===null&&Ma(r),GE(r,s)}function GE(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Rr=Rr.next=s;return l}var AV=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},wV=n.unstable_scheduleCallback,xV=n.unstable_NormalPriority,zt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new AV,data:new Map,refCount:0}}function qu(r){r.refCount--,r.refCount===0&&wV(xV,function(){r.controller.abort()})}var Hu=null,ng=0,$o=0,Yo=null;function RV(r,s){if(Hu===null){var l=Hu=[];ng=0,$o=sy(),Yo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ng++,s.then(KE,KE),s}function KE(){if(--ng===0&&Hu!==null){Yo!==null&&(Yo.status="fulfilled");var r=Hu;Hu=null,$o=0,Yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function IV(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var QE=ee.S;ee.S=function(r,s){D1=Tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&RV(r,s),QE!==null&&QE(r,s)};var Na=D(null);function ig(){var r=Na.current;return r!==null?r:dt.pooledCache}function Rd(r,s){s===null?ce(Na,Na.current):ce(Na,s.pool)}function $E(){var r=ig();return r===null?null:{parent:zt._currentValue,pool:r}}var Wo=Error(i(460)),rg=Error(i(474)),Id=Error(i(542)),Cd={then:function(){}};function YE(r){return r=r.status,r==="fulfilled"||r==="rejected"}function WE(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Ti,Ti),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,JE(r),r;default:if(typeof s.status=="string")s.then(Ti,Ti);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,JE(r),r}throw La=s,Wo}}function ka(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(La=l,Wo):l}}var La=null;function XE(){if(La===null)throw Error(i(459));var r=La;return La=null,r}function JE(r){if(r===Wo||r===Id)throw Error(i(483))}var Xo=null,Gu=0;function Dd(r){var s=Gu;return Gu+=1,Xo===null&&(Xo=[]),WE(Xo,r,s)}function Ku(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Vd(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function ZE(r){function s(G,F){if(r){var $=G.deletions;$===null?(G.deletions=[F],G.flags|=16):$.push(F)}}function l(G,F){if(!r)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=wr(G,F),G.index=0,G.sibling=null,G}function g(G,F,$){return G.index=$,r?($=G.alternate,$!==null?($=$.index,$<F?(G.flags|=67108866,F):$):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function w(G,F,$,re){return F===null||F.tag!==6?(F=Kp($,G.mode,re),F.return=G,F):(F=p(F,$),F.return=G,F)}function k(G,F,$,re){var Ee=$.type;return Ee===M?ie(G,F,$.props.children,re,$.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ka(Ee)===F.type)?(F=p(F,$.props),Ku(F,$),F.return=G,F):(F=bd($.type,$.key,$.props,null,G.mode,re),Ku(F,$),F.return=G,F)}function Y(G,F,$,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Qp($,G.mode,re),F.return=G,F):(F=p(F,$.children||[]),F.return=G,F)}function ie(G,F,$,re,Ee){return F===null||F.tag!==7?(F=Va($,G.mode,re,Ee),F.return=G,F):(F=p(F,$),F.return=G,F)}function ae(G,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Kp(""+F,G.mode,$),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return $=bd(F.type,F.key,F.props,null,G.mode,$),Ku($,F),$.return=G,$;case V:return F=Qp(F,G.mode,$),F.return=G,F;case x:return F=ka(F),ae(G,F,$)}if(Oe(F)||q(F))return F=Va(F,G.mode,$,null),F.return=G,F;if(typeof F.then=="function")return ae(G,Dd(F),$);if(F.$$typeof===B)return ae(G,xd(G,F),$);Vd(G,F)}return null}function W(G,F,$,re){var Ee=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:w(G,F,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===Ee?k(G,F,$,re):null;case V:return $.key===Ee?Y(G,F,$,re):null;case x:return $=ka($),W(G,F,$,re)}if(Oe($)||q($))return Ee!==null?null:ie(G,F,$,re,null);if(typeof $.then=="function")return W(G,F,Dd($),re);if($.$$typeof===B)return W(G,F,xd(G,$),re);Vd(G,$)}return null}function Z(G,F,$,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get($)||null,w(F,G,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return G=G.get(re.key===null?$:re.key)||null,k(F,G,re,Ee);case V:return G=G.get(re.key===null?$:re.key)||null,Y(F,G,re,Ee);case x:return re=ka(re),Z(G,F,$,re,Ee)}if(Oe(re)||q(re))return G=G.get($)||null,ie(F,G,re,Ee,null);if(typeof re.then=="function")return Z(G,F,$,Dd(re),Ee);if(re.$$typeof===B)return Z(G,F,$,xd(F,re),Ee);Vd(F,re)}return null}function pe(G,F,$,re){for(var Ee=null,Ye=null,ve=F,ke=F=0,Fe=null;ve!==null&&ke<$.length;ke++){ve.index>ke?(Fe=ve,ve=null):Fe=ve.sibling;var We=W(G,ve,$[ke],re);if(We===null){ve===null&&(ve=Fe);break}r&&ve&&We.alternate===null&&s(G,ve),F=g(We,F,ke),Ye===null?Ee=We:Ye.sibling=We,Ye=We,ve=Fe}if(ke===$.length)return l(G,ve),Ke&&xr(G,ke),Ee;if(ve===null){for(;ke<$.length;ke++)ve=ae(G,$[ke],re),ve!==null&&(F=g(ve,F,ke),Ye===null?Ee=ve:Ye.sibling=ve,Ye=ve);return Ke&&xr(G,ke),Ee}for(ve=c(ve);ke<$.length;ke++)Fe=Z(ve,G,ke,$[ke],re),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?ke:Fe.key),F=g(Fe,F,ke),Ye===null?Ee=Fe:Ye.sibling=Fe,Ye=Fe);return r&&ve.forEach(function(Ps){return s(G,Ps)}),Ke&&xr(G,ke),Ee}function Ae(G,F,$,re){if($==null)throw Error(i(151));for(var Ee=null,Ye=null,ve=F,ke=F=0,Fe=null,We=$.next();ve!==null&&!We.done;ke++,We=$.next()){ve.index>ke?(Fe=ve,ve=null):Fe=ve.sibling;var Ps=W(G,ve,We.value,re);if(Ps===null){ve===null&&(ve=Fe);break}r&&ve&&Ps.alternate===null&&s(G,ve),F=g(Ps,F,ke),Ye===null?Ee=Ps:Ye.sibling=Ps,Ye=Ps,ve=Fe}if(We.done)return l(G,ve),Ke&&xr(G,ke),Ee;if(ve===null){for(;!We.done;ke++,We=$.next())We=ae(G,We.value,re),We!==null&&(F=g(We,F,ke),Ye===null?Ee=We:Ye.sibling=We,Ye=We);return Ke&&xr(G,ke),Ee}for(ve=c(ve);!We.done;ke++,We=$.next())We=Z(ve,G,ke,We.value,re),We!==null&&(r&&We.alternate!==null&&ve.delete(We.key===null?ke:We.key),F=g(We,F,ke),Ye===null?Ee=We:Ye.sibling=We,Ye=We);return r&&ve.forEach(function(UO){return s(G,UO)}),Ke&&xr(G,ke),Ee}function ct(G,F,$,re){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var Ee=$.key;F!==null;){if(F.key===Ee){if(Ee=$.type,Ee===M){if(F.tag===7){l(G,F.sibling),re=p(F,$.props.children),re.return=G,G=re;break e}}else if(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ka(Ee)===F.type){l(G,F.sibling),re=p(F,$.props),Ku(re,$),re.return=G,G=re;break e}l(G,F);break}else s(G,F);F=F.sibling}$.type===M?(re=Va($.props.children,G.mode,re,$.key),re.return=G,G=re):(re=bd($.type,$.key,$.props,null,G.mode,re),Ku(re,$),re.return=G,G=re)}return T(G);case V:e:{for(Ee=$.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){l(G,F.sibling),re=p(F,$.children||[]),re.return=G,G=re;break e}else{l(G,F);break}else s(G,F);F=F.sibling}re=Qp($,G.mode,re),re.return=G,G=re}return T(G);case x:return $=ka($),ct(G,F,$,re)}if(Oe($))return pe(G,F,$,re);if(q($)){if(Ee=q($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),Ae(G,F,$,re)}if(typeof $.then=="function")return ct(G,F,Dd($),re);if($.$$typeof===B)return ct(G,F,xd(G,$),re);Vd(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(l(G,F.sibling),re=p(F,$),re.return=G,G=re):(l(G,F),re=Kp($,G.mode,re),re.return=G,G=re),T(G)):l(G,F)}return function(G,F,$,re){try{Gu=0;var Ee=ct(G,F,$,re);return Xo=null,Ee}catch(ve){if(ve===Wo||ve===Id)throw ve;var Ye=Fn(29,ve,null,G.mode);return Ye.lanes=re,Ye.return=G,Ye}}}var ja=ZE(!0),eT=ZE(!1),gs=!1;function sg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ag(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ys(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vs(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Sd(r),LE(r,null,l),s}return Td(r,c,s,l),Sd(r)}function Qu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Eu(r,l)}}function og(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var lg=!1;function $u(){if(lg){var r=Yo;if(r!==null)throw r}}function Yu(r,s,l,c){lg=!1;var p=r.updateQueue;gs=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var k=w,Y=k.next;k.next=null,T===null?g=Y:T.next=Y,T=k;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==T&&(w===null?ie.firstBaseUpdate=Y:w.next=Y,ie.lastBaseUpdate=k))}if(g!==null){var ae=p.baseState;T=0,ie=Y=k=null,w=g;do{var W=w.lane&-536870913,Z=W!==w.lane;if(Z?(Be&W)===W:(c&W)===W){W!==0&&W===$o&&(lg=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=r,Ae=w;W=s;var ct=l;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){ae=pe.call(ct,ae,W);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,W=typeof pe=="function"?pe.call(ct,ae,W):pe,W==null)break e;ae=v({},ae,W);break e;case 2:gs=!0}}W=w.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(Y=ie=Z,k=ae):ie=ie.next=Z,T|=W;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ie===null&&(k=ae),p.baseState=k,p.firstBaseUpdate=Y,p.lastBaseUpdate=ie,g===null&&(p.shared.lanes=0),bs|=T,r.lanes=T,r.memoizedState=ae}}function tT(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function nT(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)tT(l[r],s)}var Jo=D(null),Od=D(0);function iT(r,s){r=Lr,ce(Od,r),ce(Jo,s),Lr=r|s.baseLanes}function ug(){ce(Od,Lr),ce(Jo,Jo.current)}function cg(){Lr=Od.current,ne(Jo),ne(Od)}var qn=D(null),li=null;function _s(r){var s=r.alternate;ce(Ot,Ot.current&1),ce(qn,r),li===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(li=r)}function hg(r){ce(Ot,Ot.current),ce(qn,r),li===null&&(li=r)}function rT(r){r.tag===22?(ce(Ot,Ot.current),ce(qn,r),li===null&&(li=r)):Es()}function Es(){ce(Ot,Ot.current),ce(qn,qn.current)}function Hn(r){ne(qn),li===r&&(li=null),ne(Ot)}var Ot=D(0);function Pd(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||yy(l)||vy(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cr=0,Ne=null,lt=null,Bt=null,Md=!1,Zo=!1,Ua=!1,Nd=0,Wu=0,el=null,CV=0;function At(){throw Error(i(321))}function dg(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function fg(r,s,l,c,p,g){return Cr=g,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=r===null||r.memoizedState===null?BT:Ig,Ua=!1,g=l(c,p),Ua=!1,Zo&&(g=aT(s,l,c,p)),sT(r),g}function sT(r){ee.H=Zu;var s=lt!==null&&lt.next!==null;if(Cr=0,Bt=lt=Ne=null,Md=!1,Wu=0,el=null,s)throw Error(i(300));r===null||Ft||(r=r.dependencies,r!==null&&wd(r)&&(Ft=!0))}function aT(r,s,l,c){Ne=r;var p=0;do{if(Zo&&(el=null),Wu=0,Zo=!1,25<=p)throw Error(i(301));if(p+=1,Bt=lt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=FT,g=s(l,c)}while(Zo);return g}function DV(){var r=ee.H,s=r.useState()[0];return s=typeof s.then=="function"?Xu(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Ne.flags|=1024),s}function mg(){var r=Nd!==0;return Nd=0,r}function pg(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function gg(r){if(Md){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Md=!1}Cr=0,Bt=lt=Ne=null,Zo=!1,Wu=Nd=0,el=null}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ne.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Pt(){if(lt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=Bt===null?Ne.memoizedState:Bt.next;if(s!==null)Bt=s,lt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Bt===null?Ne.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(r){var s=Wu;return Wu+=1,el===null&&(el=[]),r=WE(el,r,s),s=Ne,(Bt===null?s.memoizedState:Bt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?BT:Ig),r}function Ld(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xu(r);if(r.$$typeof===B)return ln(r)}throw Error(i(438,String(r)))}function yg(r){var s=null,l=Ne.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=kd(),Ne.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=j;return s.index++,l}function Dr(r,s){return typeof s=="function"?s(r):s}function jd(r){var s=Pt();return vg(s,lt,r)}function vg(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,c.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{s=p.next;var w=T=null,k=null,Y=s,ie=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Be&ae)===ae:(Cr&ae)===ae){var W=Y.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===$o&&(ie=!0);else if((Cr&W)===W){Y=Y.next,W===$o&&(ie=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=ae,T=g):k=k.next=ae,Ne.lanes|=W,bs|=W;ae=Y.action,Ua&&l(g,ae),g=Y.hasEagerState?Y.eagerState:l(g,ae)}else W={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=W,T=g):k=k.next=W,Ne.lanes|=ae,bs|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?T=g:k.next=w,!Bn(g,r.memoizedState)&&(Ft=!0,ie&&(l=Yo,l!==null)))throw l;r.memoizedState=g,r.baseState=T,r.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function _g(r){var s=Pt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=r(g,T.action),T=T.next;while(T!==p);Bn(g,s.memoizedState)||(Ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function oT(r,s,l){var c=Ne,p=Pt(),g=Ke;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!Bn((lt||p).memoizedState,l);if(T&&(p.memoizedState=l,Ft=!0),p=p.queue,Sg(cT.bind(null,c,p,r),[r]),p.getSnapshot!==s||T||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,tl(9,{destroy:void 0},uT.bind(null,c,p,l,s),null),dt===null)throw Error(i(349));g||(Cr&127)!==0||lT(c,s,l)}return l}function lT(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ne.updateQueue,s===null?(s=kd(),Ne.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function uT(r,s,l,c){s.value=l,s.getSnapshot=c,hT(s)&&dT(r)}function cT(r,s,l){return l(function(){hT(s)&&dT(r)})}function hT(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function dT(r){var s=Da(r,2);s!==null&&kn(s,r,2)}function Eg(r){var s=bn();if(typeof r=="function"){var l=r;if(r=l(),Ua){Jn(!0);try{l()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},s}function fT(r,s,l,c){return r.baseState=l,vg(r,lt,typeof c=="function"?c:Dr)}function VV(r,s,l,c,p){if(Bd(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};ee.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,mT(s,g)):(g.next=l.next,s.pending=l.next=g)}}function mT(r,s){var l=s.action,c=s.payload,p=r.state;if(s.isTransition){var g=ee.T,T={};ee.T=T;try{var w=l(p,c),k=ee.S;k!==null&&k(T,w),pT(r,s,w)}catch(Y){Tg(r,s,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),ee.T=g}}else try{g=l(p,c),pT(r,s,g)}catch(Y){Tg(r,s,Y)}}function pT(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){gT(r,s,c)},function(c){return Tg(r,s,c)}):gT(r,s,l)}function gT(r,s,l){s.status="fulfilled",s.value=l,yT(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,mT(r,l)))}function Tg(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,yT(s),s=s.next;while(s!==c)}r.action=null}function yT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function vT(r,s){return s}function _T(r,s){if(Ke){var l=dt.formState;if(l!==null){e:{var c=Ne;if(Ke){if(pt){t:{for(var p=pt,g=oi;p.nodeType!==8;){if(!g){p=null;break t}if(p=ui(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){pt=ui(p.nextSibling),c=p.data==="F!";break e}}ms(c)}c=!1}c&&(s=l[0])}}return l=bn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:s},l.queue=c,l=jT.bind(null,Ne,c),c.dispatch=l,c=Eg(!1),g=Rg.bind(null,Ne,!1,c.queue),c=bn(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,l=VV.bind(null,Ne,p,g,l),p.dispatch=l,c.memoizedState=r,[s,l,!1]}function ET(r){var s=Pt();return TT(s,lt,r)}function TT(r,s,l){if(s=vg(r,s,vT)[0],r=jd(Dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Xu(s)}catch(T){throw T===Wo?Id:T}else c=s;s=Pt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Ne.flags|=2048,tl(9,{destroy:void 0},OV.bind(null,p,l),null)),[c,g,r]}function OV(r,s){r.action=s}function ST(r){var s=Pt(),l=lt;if(l!==null)return TT(s,l,r);Pt(),s=s.memoizedState,l=Pt();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function tl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=kd(),Ne.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function bT(){return Pt().memoizedState}function Ud(r,s,l,c){var p=bn();Ne.flags|=r,p.memoizedState=tl(1|s,{destroy:void 0},l,c===void 0?null:c)}function zd(r,s,l,c){var p=Pt();c=c===void 0?null:c;var g=p.memoizedState.inst;lt!==null&&c!==null&&dg(c,lt.memoizedState.deps)?p.memoizedState=tl(s,g,l,c):(Ne.flags|=r,p.memoizedState=tl(1|s,g,l,c))}function AT(r,s){Ud(8390656,8,r,s)}function Sg(r,s){zd(2048,8,r,s)}function PV(r){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=kd(),Ne.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function wT(r){var s=Pt().memoizedState;return PV({ref:s,nextImpl:r}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function xT(r,s){return zd(4,2,r,s)}function RT(r,s){return zd(4,4,r,s)}function IT(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function CT(r,s,l){l=l!=null?l.concat([r]):null,zd(4,4,IT.bind(null,s,r),l)}function bg(){}function DT(r,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&dg(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function VT(r,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&dg(s,c[1]))return c[0];if(c=r(),Ua){Jn(!0);try{r()}finally{Jn(!1)}}return l.memoizedState=[c,s],c}function Ag(r,s,l){return l===void 0||(Cr&1073741824)!==0&&(Be&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=O1(),Ne.lanes|=r,bs|=r,l)}function OT(r,s,l,c){return Bn(l,s)?l:Jo.current!==null?(r=Ag(r,l,c),Bn(r,s)||(Ft=!0),r):(Cr&42)===0||(Cr&1073741824)!==0&&(Be&261930)===0?(Ft=!0,r.memoizedState=l):(r=O1(),Ne.lanes|=r,bs|=r,s)}function PT(r,s,l,c,p){var g=oe.p;oe.p=g!==0&&8>g?g:8;var T=ee.T,w={};ee.T=w,Rg(r,!1,s,l);try{var k=p(),Y=ee.S;if(Y!==null&&Y(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ie=IV(k,c);Ju(r,s,ie,Qn(r))}else Ju(r,s,c,Qn(r))}catch(ae){Ju(r,s,{then:function(){},status:"rejected",reason:ae},Qn())}finally{oe.p=g,T!==null&&w.types!==null&&(T.types=w.types),ee.T=T}}function MV(){}function wg(r,s,l,c){if(r.tag!==5)throw Error(i(476));var p=MT(r).queue;PT(r,p,s,me,l===null?MV:function(){return NT(r),l(c)})}function MT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function NT(r){var s=MT(r);s.next===null&&(s=r.alternate.memoizedState),Ju(r,s.next.queue,{},Qn())}function xg(){return ln(pc)}function kT(){return Pt().memoizedState}function LT(){return Pt().memoizedState}function NV(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Qn();r=ys(l);var c=vs(s,r,l);c!==null&&(kn(c,s,l),Qu(c,s,l)),s={cache:tg()},r.payload=s;return}s=s.return}}function kV(r,s,l){var c=Qn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(r)?UT(s,l):(l=Hp(r,s,l,c),l!==null&&(kn(l,r,c),zT(l,s,c)))}function jT(r,s,l){var c=Qn();Ju(r,s,l,c)}function Ju(r,s,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))UT(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,l);if(p.hasEagerState=!0,p.eagerState=w,Bn(w,T))return Td(r,s,p,0),dt===null&&Ed(),!1}catch{}if(l=Hp(r,s,p,c),l!==null)return kn(l,r,c),zT(l,s,c),!0}return!1}function Rg(r,s,l,c){if(c={lane:2,revertLane:sy(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(s)throw Error(i(479))}else s=Hp(r,l,c,2),s!==null&&kn(s,r,2)}function Bd(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function UT(r,s){Zo=Md=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function zT(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Eu(r,l)}}var Zu={readContext:ln,use:Ld,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Zu.useEffectEvent=At;var BT={readContext:ln,use:Ld,useCallback:function(r,s){return bn().memoizedState=[r,s===void 0?null:s],r},useContext:ln,useEffect:AT,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Ud(4194308,4,IT.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ud(4194308,4,r,s)},useInsertionEffect:function(r,s){Ud(4,2,r,s)},useMemo:function(r,s){var l=bn();s=s===void 0?null:s;var c=r();if(Ua){Jn(!0);try{r()}finally{Jn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=bn();if(l!==void 0){var p=l(s);if(Ua){Jn(!0);try{l(s)}finally{Jn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=kV.bind(null,Ne,r),[c.memoizedState,r]},useRef:function(r){var s=bn();return r={current:r},s.memoizedState=r},useState:function(r){r=Eg(r);var s=r.queue,l=jT.bind(null,Ne,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:bg,useDeferredValue:function(r,s){var l=bn();return Ag(l,r,s)},useTransition:function(){var r=Eg(!1);return r=PT.bind(null,Ne,r.queue,!0,!1),bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=Ne,p=bn();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),dt===null)throw Error(i(349));(Be&127)!==0||lT(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,AT(cT.bind(null,c,g,r),[r]),c.flags|=2048,tl(9,{destroy:void 0},uT.bind(null,c,g,l,s),null),l},useId:function(){var r=bn(),s=dt.identifierPrefix;if(Ke){var l=sr,c=rr;l=(c&~(1<<32-Dt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Nd++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=CV++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:xg,useFormState:_T,useActionState:_T,useOptimistic:function(r){var s=bn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Rg.bind(null,Ne,!0,l),l.dispatch=s,[r,s]},useMemoCache:yg,useCacheRefresh:function(){return bn().memoizedState=NV.bind(null,Ne)},useEffectEvent:function(r){var s=bn(),l={impl:r};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ig={readContext:ln,use:Ld,useCallback:DT,useContext:ln,useEffect:Sg,useImperativeHandle:CT,useInsertionEffect:xT,useLayoutEffect:RT,useMemo:VT,useReducer:jd,useRef:bT,useState:function(){return jd(Dr)},useDebugValue:bg,useDeferredValue:function(r,s){var l=Pt();return OT(l,lt.memoizedState,r,s)},useTransition:function(){var r=jd(Dr)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Xu(r),s]},useSyncExternalStore:oT,useId:kT,useHostTransitionStatus:xg,useFormState:ET,useActionState:ET,useOptimistic:function(r,s){var l=Pt();return fT(l,lt,r,s)},useMemoCache:yg,useCacheRefresh:LT};Ig.useEffectEvent=wT;var FT={readContext:ln,use:Ld,useCallback:DT,useContext:ln,useEffect:Sg,useImperativeHandle:CT,useInsertionEffect:xT,useLayoutEffect:RT,useMemo:VT,useReducer:_g,useRef:bT,useState:function(){return _g(Dr)},useDebugValue:bg,useDeferredValue:function(r,s){var l=Pt();return lt===null?Ag(l,r,s):OT(l,lt.memoizedState,r,s)},useTransition:function(){var r=_g(Dr)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Xu(r),s]},useSyncExternalStore:oT,useId:kT,useHostTransitionStatus:xg,useFormState:ST,useActionState:ST,useOptimistic:function(r,s){var l=Pt();return lt!==null?fT(l,lt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:yg,useCacheRefresh:LT};FT.useEffectEvent=wT;function Cg(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Dg={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=Qn(),p=ys(c);p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,c),s!==null&&(kn(s,r,c),Qu(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=Qn(),p=ys(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,c),s!==null&&(kn(s,r,c),Qu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Qn(),c=ys(l);c.tag=2,s!=null&&(c.callback=s),s=vs(r,c,l),s!==null&&(kn(s,r,l),Qu(s,r,l))}};function qT(r,s,l,c,p,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Uu(l,c)||!Uu(p,g):!0}function HT(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Dg.enqueueReplaceState(s,s.state,null)}function za(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function GT(r){_d(r)}function KT(r){console.error(r)}function QT(r){_d(r)}function Fd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $T(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vg(r,s,l){return l=ys(l),l.tag=3,l.payload={element:null},l.callback=function(){Fd(r,s)},l}function YT(r){return r=ys(r),r.tag=3,r}function WT(r,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;r.payload=function(){return p(g)},r.callback=function(){$T(s,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){$T(s,l,c),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function LV(r,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Qo(s,l,p,!0),l=qn.current,l!==null){switch(l.tag){case 31:case 13:return li===null?ef():l.alternate===null&&wt===0&&(wt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Cd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),ny(r,c,p)),!1;case 22:return l.flags|=65536,c===Cd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),ny(r,c,p)),!1}throw Error(i(435,l.tag))}return ny(r,c,p),ef(),!1}if(Ke)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Wp&&(r=Error(i(422),{cause:c}),Fu(ri(r,l)))):(c!==Wp&&(s=Error(i(423),{cause:c}),Fu(ri(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=ri(c,l),p=Vg(r.stateNode,c,p),og(r,p),wt!==4&&(wt=2)),!1;var g=Error(i(520),{cause:c});if(g=ri(g,l),oc===null?oc=[g]:oc.push(g),wt!==4&&(wt=2),s===null)return!0;c=ri(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Vg(l.stateNode,c,r),og(l,r),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(As===null||!As.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=YT(p),WT(p,r,l,c),og(l,p),!1}l=l.return}while(l!==null);return!1}var Og=Error(i(461)),Ft=!1;function un(r,s,l,c){s.child=r===null?eT(s,null,l,c):ja(s,r.child,l,c)}function XT(r,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Ma(s),c=fg(r,s,l,T,g,p),w=mg(),r!==null&&!Ft?(pg(r,s,p),Vr(r,s,p)):(Ke&&w&&$p(s),s.flags|=1,un(r,s,c,p),s.child)}function JT(r,s,l,c,p){if(r===null){var g=l.type;return typeof g=="function"&&!Gp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,ZT(r,s,g,c,p)):(r=bd(l.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!zg(r,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Uu,l(T,c)&&r.ref===s.ref)return Vr(r,s,p)}return s.flags|=1,r=wr(g,c),r.ref=s.ref,r.return=s,s.child=r}function ZT(r,s,l,c,p){if(r!==null){var g=r.memoizedProps;if(Uu(g,c)&&r.ref===s.ref)if(Ft=!1,s.pendingProps=c=g,zg(r,p))(r.flags&131072)!==0&&(Ft=!0);else return s.lanes=r.lanes,Vr(r,s,p)}return Pg(r,s,l,c,p)}function e1(r,s,l,c){var p=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(c=s.child=r.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return t1(r,s,g,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rd(s,g!==null?g.cachePool:null),g!==null?iT(s,g):ug(),rT(s);else return c=s.lanes=536870912,t1(r,s,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(Rd(s,g.cachePool),iT(s,g),Es(),s.memoizedState=null):(r!==null&&Rd(s,null),ug(),Es());return un(r,s,p,l),s.child}function ec(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function t1(r,s,l,c,p){var g=ig();return g=g===null?null:{parent:zt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},r!==null&&Rd(s,null),ug(),rT(s),r!==null&&Qo(r,s,c,!0),s.childLanes=p,null}function qd(r,s){return s=Gd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function n1(r,s,l){return ja(s,r.child,null,l),r=qd(s,s.pendingProps),r.flags|=2,Hn(s),s.memoizedState=null,r}function jV(r,s,l){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ke){if(c.mode==="hidden")return r=qd(s,c),s.lanes=536870912,ec(null,r);if(hg(s),(r=pt)?(r=mS(r,oi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=UE(r),l.return=s,s.child=l,on=s,pt=null)):r=null,r===null)throw ms(s);return s.lanes=536870912,null}return qd(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(hg(s),p)if(s.flags&256)s.flags&=-257,s=n1(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ft||Qo(r,s,l,!1),p=(l&r.childLanes)!==0,Ft||p){if(c=dt,c!==null&&(T=Tu(c,l),T!==0&&T!==g.retryLane))throw g.retryLane=T,Da(r,T),kn(c,r,T),Og;ef(),s=n1(r,s,l)}else r=g.treeContext,pt=ui(T.nextSibling),on=s,Ke=!0,fs=null,oi=!1,r!==null&&FE(s,r),s=qd(s,c),s.flags|=4096;return s}return r=wr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Hd(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Pg(r,s,l,c,p){return Ma(s),l=fg(r,s,l,c,void 0,p),c=mg(),r!==null&&!Ft?(pg(r,s,p),Vr(r,s,p)):(Ke&&c&&$p(s),s.flags|=1,un(r,s,l,p),s.child)}function i1(r,s,l,c,p,g){return Ma(s),s.updateQueue=null,l=aT(s,c,l,p),sT(r),c=mg(),r!==null&&!Ft?(pg(r,s,g),Vr(r,s,g)):(Ke&&c&&$p(s),s.flags|=1,un(r,s,l,g),s.child)}function r1(r,s,l,c,p){if(Ma(s),s.stateNode===null){var g=qo,T=l.contextType;typeof T=="object"&&T!==null&&(g=ln(T)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dg,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},sg(s),T=l.contextType,g.context=typeof T=="object"&&T!==null?ln(T):qo,g.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cg(s,l,T,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Dg.enqueueReplaceState(g,g.state,null),Yu(s,c,g,p),$u(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,k=za(l,w);g.props=k;var Y=g.context,ie=l.contextType;T=qo,typeof ie=="object"&&ie!==null&&(T=ln(ie));var ae=l.getDerivedStateFromProps;ie=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==T)&&HT(s,g,c,T),gs=!1;var W=s.memoizedState;g.state=W,Yu(s,c,g,p),$u(),Y=s.memoizedState,w||W!==Y||gs?(typeof ae=="function"&&(Cg(s,l,ae,c),Y=s.memoizedState),(k=gs||qT(s,l,k,c,W,Y,T))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Y),g.props=c,g.state=Y,g.context=T,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,ag(r,s),T=s.memoizedProps,ie=za(l,T),g.props=ie,ae=s.pendingProps,W=g.context,Y=l.contextType,k=qo,typeof Y=="object"&&Y!==null&&(k=ln(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ae||W!==k)&&HT(s,g,c,k),gs=!1,W=s.memoizedState,g.state=W,Yu(s,c,g,p),$u();var Z=s.memoizedState;T!==ae||W!==Z||gs||r!==null&&r.dependencies!==null&&wd(r.dependencies)?(typeof w=="function"&&(Cg(s,l,w,c),Z=s.memoizedState),(ie=gs||qT(s,l,ie,c,W,Z,k)||r!==null&&r.dependencies!==null&&wd(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),g.props=c,g.state=Z,g.context=k,c=ie):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Hd(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=ja(s,r.child,null,p),s.child=ja(s,null,l,p)):un(r,s,l,p),s.memoizedState=g.state,r=s.child):r=Vr(r,s,p),r}function s1(r,s,l,c){return Oa(),s.flags|=256,un(r,s,l,c),s.child}var Mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(r){return{baseLanes:r,cachePool:$E()}}function kg(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Kn),r}function a1(r,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(p?_s(s):Es(),(r=pt)?(r=mS(r,oi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=UE(r),l.return=s,s.child=l,on=s,pt=null)):r=null,r===null)throw ms(s);return vy(r)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,p?(Es(),p=s.mode,w=Gd({mode:"hidden",children:w},p),c=Va(c,p,l,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Ng(l),c.childLanes=kg(r,T,l),s.memoizedState=Mg,ec(null,c)):(_s(s),Lg(s,w))}var k=r.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(g)s.flags&256?(_s(s),s.flags&=-257,s=jg(r,s,l)):s.memoizedState!==null?(Es(),s.child=r.child,s.flags|=128,s=null):(Es(),w=c.fallback,p=s.mode,c=Gd({mode:"visible",children:c.children},p),w=Va(w,p,l,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,ja(s,r.child,null,l),c=s.child,c.memoizedState=Ng(l),c.childLanes=kg(r,T,l),s.memoizedState=Mg,s=ec(null,c));else if(_s(s),vy(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Fu({value:c,source:null,stack:null}),s=jg(r,s,l)}else if(Ft||Qo(r,s,l,!1),T=(l&r.childLanes)!==0,Ft||T){if(T=dt,T!==null&&(c=Tu(T,l),c!==0&&c!==k.retryLane))throw k.retryLane=c,Da(r,c),kn(T,r,c),Og;yy(w)||ef(),s=jg(r,s,l)}else yy(w)?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,pt=ui(w.nextSibling),on=s,Ke=!0,fs=null,oi=!1,r!==null&&FE(s,r),s=Lg(s,c.children),s.flags|=4096);return s}return p?(Es(),w=c.fallback,p=s.mode,k=r.child,Y=k.sibling,c=wr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Y!==null?w=wr(Y,w):(w=Va(w,p,l,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,ec(null,c),c=s.child,w=r.child.memoizedState,w===null?w=Ng(l):(p=w.cachePool,p!==null?(k=zt._currentValue,p=p.parent!==k?{parent:k,pool:k}:p):p=$E(),w={baseLanes:w.baseLanes|l,cachePool:p}),c.memoizedState=w,c.childLanes=kg(r,T,l),s.memoizedState=Mg,ec(r.child,c)):(_s(s),l=r.child,r=l.sibling,l=wr(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Lg(r,s){return s=Gd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Gd(r,s){return r=Fn(22,r,null,s),r.lanes=0,r}function jg(r,s,l){return ja(s,r.child,null,l),r=Lg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function o1(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Zp(r.return,s,l)}function Ug(r,s,l,c,p,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=p,T.treeForkCount=g)}function l1(r,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=Ot.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,ce(Ot,T),un(r,s,c,l),c=Ke?Bu:0,!w&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&o1(r,l,s);else if(r.tag===19)o1(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Pd(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Ug(s,!1,p,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Pd(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Ug(s,!0,l,null,g,c);break;case"together":Ug(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Vr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Qo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=wr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function zg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&wd(r)))}function UV(r,s,l){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),ps(s,zt,r.memoizedState.cache),Oa();break;case 27:case 5:Ui(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,hg(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(s),s.flags|=128,null):(l&s.child.childLanes)!==0?a1(r,s,l):(_s(s),r=Vr(r,s,l),r!==null?r.sibling:null);_s(s);break;case 19:var p=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Qo(r,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return l1(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(Ot,Ot.current),c)break;return null;case 22:return s.lanes=0,e1(r,s,l,s.pendingProps);case 24:ps(s,zt,r.memoizedState.cache)}return Vr(r,s,l)}function u1(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ft=!0;else{if(!zg(r,l)&&(s.flags&128)===0)return Ft=!1,UV(r,s,l);Ft=(r.flags&131072)!==0}else Ft=!1,Ke&&(s.flags&1048576)!==0&&BE(s,Bu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=ka(s.elementType),s.type=r,typeof r=="function")Gp(r)?(c=za(r,c),s.tag=1,s=r1(null,s,r,c,l)):(s.tag=0,s=Pg(null,s,r,c,l));else{if(r!=null){var p=r.$$typeof;if(p===X){s.tag=11,s=XT(null,s,r,c,l);break e}else if(p===I){s.tag=14,s=JT(null,s,r,c,l);break e}}throw s=we(r)||r,Error(i(306,s,""))}}return s;case 0:return Pg(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=za(c,s.pendingProps),r1(r,s,c,p,l);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,ag(r,s),Yu(s,c,null,l);var T=s.memoizedState;if(c=T.cache,ps(s,zt,c),c!==g.cache&&eg(s,[zt],l,!0),$u(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=s1(r,s,c,l);break e}else if(c!==p){p=ri(Error(i(424)),s),Fu(p),s=s1(r,s,c,l);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,pt=ui(r.firstChild),on=s,Ke=!0,fs=null,oi=!0,l=eT(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oa(),c===p){s=Vr(r,s,l);break e}un(r,s,c,l)}s=s.child}return s;case 26:return Hd(r,s),r===null?(l=ES(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ke||(l=s.type,r=s.pendingProps,c=lf(Ie.current).createElement(l),c[Lt]=s,c[Zt]=r,cn(c,l,r),jt(c),s.stateNode=c):s.memoizedState=ES(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ui(s),r===null&&Ke&&(c=s.stateNode=yS(s.type,s.pendingProps,Ie.current),on=s,oi=!0,p=pt,Is(s.type)?(_y=p,pt=ui(c.firstChild)):pt=p),un(r,s,s.pendingProps.children,l),Hd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((p=c=pt)&&(c=pO(c,s.type,s.pendingProps,oi),c!==null?(s.stateNode=c,on=s,pt=ui(c.firstChild),oi=!1,p=!0):p=!1),p||ms(s)),Ui(s),p=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,my(p,g)?c=null:T!==null&&my(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=fg(r,s,DV,null,null,l),pc._currentValue=p),Hd(r,s),un(r,s,c,l),s.child;case 6:return r===null&&Ke&&((r=l=pt)&&(l=gO(l,s.pendingProps,oi),l!==null?(s.stateNode=l,on=s,pt=null,r=!0):r=!1),r||ms(s)),null;case 13:return a1(r,s,l);case 4:return at(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ja(s,null,c,l):un(r,s,c,l),s.child;case 11:return XT(r,s,s.type,s.pendingProps,l);case 7:return un(r,s,s.pendingProps,l),s.child;case 8:return un(r,s,s.pendingProps.children,l),s.child;case 12:return un(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ps(s,s.type,c.value),un(r,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ma(s),p=ln(p),c=c(p),s.flags|=1,un(r,s,c,l),s.child;case 14:return JT(r,s,s.type,s.pendingProps,l);case 15:return ZT(r,s,s.type,s.pendingProps,l);case 19:return l1(r,s,l);case 31:return jV(r,s,l);case 22:return e1(r,s,l,s.pendingProps);case 24:return Ma(s),c=ln(zt),r===null?(p=ig(),p===null&&(p=dt,g=tg(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},sg(s),ps(s,zt,p)):((r.lanes&l)!==0&&(ag(r,s),Yu(s,null,null,l),$u()),p=r.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ps(s,zt,c)):(c=g.cache,ps(s,zt,c),c!==p.cache&&eg(s,[zt],l,!0))),un(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Or(r){r.flags|=4}function Bg(r,s,l,c,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(k1())r.flags|=8192;else throw La=Cd,rg}else r.flags&=-16777217}function c1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!wS(s))if(k1())r.flags|=8192;else throw La=Cd,rg}function Kd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Jh():536870912,r.lanes|=s,sl|=s)}function tc(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function zV(r,s,l){var c=s.pendingProps;switch(Yp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ir(zt),et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ko(s)?Or(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xp())),gt(s),null;case 26:var p=s.type,g=s.memoizedState;return r===null?(Or(s),g!==null?(gt(s),c1(s,g)):(gt(s),Bg(s,p,null,c,l))):g?g!==r.memoizedState?(Or(s),gt(s),c1(s,g)):(gt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Or(s),gt(s),Bg(s,p,r,c,l)),null;case 27:if(Ao(s),l=Ie.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=de.current,Ko(s)?qE(s):(r=yS(p,c,l),s.stateNode=r,Or(s))}return gt(s),null;case 5:if(Ao(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(g=de.current,Ko(s))qE(s);else{var T=lf(Ie.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Lt]=s,g[Zt]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(cn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Or(s)}}return gt(s),Bg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ie.current,Ko(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,p=on,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Lt]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||aS(r.nodeValue,l)),r||ms(s,!0)}else r=lf(r).createTextNode(c),r[Lt]=s,s.stateNode=r}return gt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(c=Ko(s),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Lt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),r=!1}else l=Xp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Hn(s),s):(Hn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return gt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ko(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Lt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),p=!1}else p=Xp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Hn(s),s):(Hn(s),null)}return Hn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),Kd(s,s.updateQueue),gt(s),null);case 4:return et(),r===null&&uy(s.stateNode.containerInfo),gt(s),null;case 10:return Ir(s.type),gt(s),null;case 19:if(ne(Ot),c=s.memoizedState,c===null)return gt(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)tc(c,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Pd(r),g!==null){for(s.flags|=128,tc(c,!1),r=g.updateQueue,s.updateQueue=r,Kd(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)jE(l,r),l=l.sibling;return ce(Ot,Ot.current&1|2),Ke&&xr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Tn()>Xd&&(s.flags|=128,p=!0,tc(c,!1),s.lanes=4194304)}else{if(!p)if(r=Pd(g),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Kd(s,r),tc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ke)return gt(s),null}else 2*Tn()-c.renderingStartTime>Xd&&l!==536870912&&(s.flags|=128,p=!0,tc(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Tn(),r.sibling=null,l=Ot.current,ce(Ot,p?l&1|2:l&1),Ke&&xr(s,c.treeForkCount),r):(gt(s),null);case 22:case 23:return Hn(s),cg(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&Kd(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&ne(Na),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ir(zt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function BV(r,s){switch(Yp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ir(zt),et(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ao(s),null;case 31:if(s.memoizedState!==null){if(Hn(s),s.alternate===null)throw Error(i(340));Oa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Hn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Oa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ne(Ot),null;case 4:return et(),null;case 10:return Ir(s.type),null;case 22:case 23:return Hn(s),cg(),r!==null&&ne(Na),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ir(zt),null;case 25:return null;default:return null}}function h1(r,s){switch(Yp(s),s.tag){case 3:Ir(zt),et();break;case 26:case 27:case 5:Ao(s);break;case 4:et();break;case 31:s.memoizedState!==null&&Hn(s);break;case 13:Hn(s);break;case 19:ne(Ot);break;case 10:Ir(s.type);break;case 22:case 23:Hn(s),cg(),r!==null&&ne(Na);break;case 24:Ir(zt)}}function nc(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(w){it(s,s.return,w)}}function Ts(r,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&r)===r){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,p=s;var k=l,Y=w;try{Y()}catch(ie){it(p,k,ie)}}}c=c.next}while(c!==g)}}catch(ie){it(s,s.return,ie)}}function d1(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{nT(s,l)}catch(c){it(r,r.return,c)}}}function f1(r,s,l){l.props=za(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){it(r,s,c)}}function ic(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){it(r,s,p)}}function ar(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){it(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){it(r,s,p)}else l.current=null}function m1(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){it(r,r.return,p)}}function Fg(r,s,l){try{var c=r.stateNode;uO(c,r.type,l,s),c[Zt]=s}catch(p){it(r,r.return,p)}}function p1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Is(r.type)||r.tag===4}function qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Is(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hg(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ti));else if(c!==4&&(c===27&&Is(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Hg(r,s,l),r=r.sibling;r!==null;)Hg(r,s,l),r=r.sibling}function Qd(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&Is(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Qd(r,s,l),r=r.sibling;r!==null;)Qd(r,s,l),r=r.sibling}function g1(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);cn(s,c,l),s[Lt]=r,s[Zt]=l}catch(g){it(r,r.return,g)}}var Pr=!1,qt=!1,Gg=!1,y1=typeof WeakSet=="function"?WeakSet:Set,tn=null;function FV(r,s){if(r=r.containerInfo,dy=pf,r=CE(r),jp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,w=-1,k=-1,Y=0,ie=0,ae=r,W=null;t:for(;;){for(var Z;ae!==l||p!==0&&ae.nodeType!==3||(w=T+p),ae!==g||c!==0&&ae.nodeType!==3||(k=T+c),ae.nodeType===3&&(T+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===r)break t;if(W===l&&++Y===p&&(w=T),W===g&&++ie===c&&(k=T),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}l=w===-1||k===-1?null:{start:w,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(fy={focusedElem:r,selectionRange:l},pf=!1,tn=s;tn!==null;)if(s=tn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,tn=r;else for(;tn!==null;){switch(s=tn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var pe=za(l.type,p);r=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){it(l,l.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)gy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,tn=r;break}tn=s.return}}function v1(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Nr(r,l),c&4&&nc(5,l);break;case 1:if(Nr(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){it(l,l.return,T)}else{var p=za(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){it(l,l.return,T)}}c&64&&d1(l),c&512&&ic(l,l.return);break;case 3:if(Nr(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{nT(r,s)}catch(T){it(l,l.return,T)}}break;case 27:s===null&&c&4&&g1(l);case 26:case 5:Nr(r,l),s===null&&c&4&&m1(l),c&512&&ic(l,l.return);break;case 12:Nr(r,l);break;case 31:Nr(r,l),c&4&&T1(r,l);break;case 13:Nr(r,l),c&4&&S1(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=XV.bind(null,l),yO(r,l))));break;case 22:if(c=l.memoizedState!==null||Pr,!c){s=s!==null&&s.memoizedState!==null||qt,p=Pr;var g=qt;Pr=c,(qt=s)&&!g?kr(r,l,(l.subtreeFlags&8772)!==0):Nr(r,l),Pr=p,qt=g}break;case 30:break;default:Nr(r,l)}}function _1(r){var s=r.alternate;s!==null&&(r.alternate=null,_1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Co(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,On=!1;function Mr(r,s,l){for(l=l.child;l!==null;)E1(r,s,l),l=l.sibling}function E1(r,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 26:qt||ar(l,s),Mr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qt||ar(l,s);var c=vt,p=On;Is(l.type)&&(vt=l.stateNode,On=!1),Mr(r,s,l),dc(l.stateNode),vt=c,On=p;break;case 5:qt||ar(l,s);case 6:if(c=vt,p=On,vt=null,Mr(r,s,l),vt=c,On=p,vt!==null)if(On)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){it(l,s,g)}else try{vt.removeChild(l.stateNode)}catch(g){it(l,s,g)}break;case 18:vt!==null&&(On?(r=vt,dS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fl(r)):dS(vt,l.stateNode));break;case 4:c=vt,p=On,vt=l.stateNode.containerInfo,On=!0,Mr(r,s,l),vt=c,On=p;break;case 0:case 11:case 14:case 15:Ts(2,l,s),qt||Ts(4,l,s),Mr(r,s,l);break;case 1:qt||(ar(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&f1(l,s,c)),Mr(r,s,l);break;case 21:Mr(r,s,l);break;case 22:qt=(c=qt)||l.memoizedState!==null,Mr(r,s,l),qt=c;break;default:Mr(r,s,l)}}function T1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{fl(r)}catch(l){it(s,s.return,l)}}}function S1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fl(r)}catch(l){it(s,s.return,l)}}function qV(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new y1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new y1),s;default:throw Error(i(435,r.tag))}}function $d(r,s){var l=qV(r);s.forEach(function(c){if(!l.has(c)){l.add(c);var p=JV.bind(null,r,c);c.then(p,p)}})}function Pn(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=r,T=s,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(Is(w.type)){vt=w.stateNode,On=!1;break e}break;case 5:vt=w.stateNode,On=!1;break e;case 3:case 4:vt=w.stateNode.containerInfo,On=!0;break e}w=w.return}if(vt===null)throw Error(i(160));E1(g,T,p),vt=null,On=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)b1(s,r),s=s.sibling}var Ri=null;function b1(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pn(s,r),Mn(r),c&4&&(Ts(3,r,r.return),nc(3,r),Ts(5,r,r.return));break;case 1:Pn(s,r),Mn(r),c&512&&(qt||l===null||ar(l,l.return)),c&64&&Pr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ri;if(Pn(s,r),Mn(r),c&512&&(qt||l===null||ar(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ki]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),cn(g,c,l),g[Lt]=r,jt(g),c=g;break e;case"link":var T=bS("link","href",p).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break t}}g=p.createElement(c),cn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=bS("meta","content",p).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break t}}g=p.createElement(c),cn(g,c,l),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Lt]=r,jt(g),c=g}r.stateNode=c}else AS(p,r.type,r.stateNode);else r.stateNode=SS(p,c,r.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?AS(p,r.type,r.stateNode):SS(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Fg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Pn(s,r),Mn(r),c&512&&(qt||l===null||ar(l,l.return)),l!==null&&c&4&&Fg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Pn(s,r),Mn(r),c&512&&(qt||l===null||ar(l,l.return)),r.flags&32){p=r.stateNode;try{Vn(p,"")}catch(pe){it(r,r.return,pe)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,Fg(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Gg=!0);break;case 6:if(Pn(s,r),Mn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(pe){it(r,r.return,pe)}}break;case 3:if(hf=null,p=Ri,Ri=uf(s.containerInfo),Pn(s,r),Ri=p,Mn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{fl(s.containerInfo)}catch(pe){it(r,r.return,pe)}Gg&&(Gg=!1,A1(r));break;case 4:c=Ri,Ri=uf(r.stateNode.containerInfo),Pn(s,r),Mn(r),Ri=c;break;case 12:Pn(s,r),Mn(r);break;case 31:Pn(s,r),Mn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$d(r,c)));break;case 13:Pn(s,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wd=Tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$d(r,c)));break;case 22:p=r.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=Pr,ie=qt;if(Pr=Y||p,qt=ie||k,Pn(s,r),qt=ie,Pr=Y,Mn(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||k||Pr||qt||Ba(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(g=k.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=k.stateNode;var ae=k.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){it(k,k.return,pe)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(pe){it(k,k.return,pe)}}}else if(s.tag===18){if(l===null){k=s;try{var Z=k.stateNode;p?fS(Z,!0):fS(k.stateNode,!1)}catch(pe){it(k,k.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,$d(r,l))));break;case 19:Pn(s,r),Mn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$d(r,c)));break;case 30:break;case 21:break;default:Pn(s,r),Mn(r)}}function Mn(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(p1(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=qg(r);Qd(r,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Vn(T,""),l.flags&=-33);var w=qg(r);Qd(r,w,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=qg(r);Hg(r,Y,k);break;default:throw Error(i(161))}}catch(ie){it(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function A1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;A1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Nr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)v1(r,s.alternate,s),s=s.sibling}function Ba(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),Ba(s);break;case 1:ar(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&f1(s,s.return,l),Ba(s);break;case 27:dc(s.stateNode);case 26:case 5:ar(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}r=r.sibling}}function kr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:kr(p,g,l),nc(4,g);break;case 1:if(kr(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){it(c,c.return,Y)}if(c=g,p=c.updateQueue,p!==null){var w=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)tT(k[p],w)}catch(Y){it(c,c.return,Y)}}l&&T&64&&d1(g),ic(g,g.return);break;case 27:g1(g);case 26:case 5:kr(p,g,l),l&&c===null&&T&4&&m1(g),ic(g,g.return);break;case 12:kr(p,g,l);break;case 31:kr(p,g,l),l&&T&4&&T1(p,g);break;case 13:kr(p,g,l),l&&T&4&&S1(p,g);break;case 22:g.memoizedState===null&&kr(p,g,l),ic(g,g.return);break;case 30:break;default:kr(p,g,l)}s=s.sibling}}function Kg(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&qu(l))}function Qg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qu(r))}function Ii(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w1(r,s,l,c),s=s.sibling}function w1(r,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(r,s,l,c),p&2048&&nc(9,s);break;case 1:Ii(r,s,l,c);break;case 3:Ii(r,s,l,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&qu(r)));break;case 12:if(p&2048){Ii(r,s,l,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){it(s,s.return,k)}}else Ii(r,s,l,c);break;case 31:Ii(r,s,l,c);break;case 13:Ii(r,s,l,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Ii(r,s,l,c):rc(r,s):g._visibility&2?Ii(r,s,l,c):(g._visibility|=2,nl(r,s,l,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Kg(T,s);break;case 24:Ii(r,s,l,c),p&2048&&Qg(s.alternate,s);break;default:Ii(r,s,l,c)}}function nl(r,s,l,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,w=l,k=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:nl(g,T,w,k,p),nc(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?nl(g,T,w,k,p):rc(g,T):(ie._visibility|=2,nl(g,T,w,k,p)),p&&Y&2048&&Kg(T.alternate,T);break;case 24:nl(g,T,w,k,p),p&&Y&2048&&Qg(T.alternate,T);break;default:nl(g,T,w,k,p)}s=s.sibling}}function rc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,p=c.flags;switch(c.tag){case 22:rc(l,c),p&2048&&Kg(c.alternate,c);break;case 24:rc(l,c),p&2048&&Qg(c.alternate,c);break;default:rc(l,c)}s=s.sibling}}var sc=8192;function il(r,s,l){if(r.subtreeFlags&sc)for(r=r.child;r!==null;)x1(r,s,l),r=r.sibling}function x1(r,s,l){switch(r.tag){case 26:il(r,s,l),r.flags&sc&&r.memoizedState!==null&&CO(l,Ri,r.memoizedState,r.memoizedProps);break;case 5:il(r,s,l);break;case 3:case 4:var c=Ri;Ri=uf(r.stateNode.containerInfo),il(r,s,l),Ri=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,il(r,s,l),sc=c):il(r,s,l));break;default:il(r,s,l)}}function R1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ac(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];tn=c,C1(c,r)}R1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I1(r),r=r.sibling}function I1(r){switch(r.tag){case 0:case 11:case 15:ac(r),r.flags&2048&&Ts(9,r,r.return);break;case 3:ac(r);break;case 12:ac(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Yd(r)):ac(r);break;default:ac(r)}}function Yd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];tn=c,C1(c,r)}R1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),Yd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Yd(s));break;default:Yd(s)}r=r.sibling}}function C1(r,s){for(;tn!==null;){var l=tn;switch(l.tag){case 0:case 11:case 15:Ts(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:qu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,tn=c;else e:for(l=r;tn!==null;){c=tn;var p=c.sibling,g=c.return;if(_1(c),c===l){tn=null;break e}if(p!==null){p.return=g,tn=p;break e}tn=g}}}var HV={getCacheForType:function(r){var s=ln(zt),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return ln(zt).controller.signal}},GV=typeof WeakMap=="function"?WeakMap:Map,Je=0,dt=null,je=null,Be=0,nt=0,Gn=null,Ss=!1,rl=!1,$g=!1,Lr=0,wt=0,bs=0,Fa=0,Yg=0,Kn=0,sl=0,oc=null,Nn=null,Wg=!1,Wd=0,D1=0,Xd=1/0,Jd=null,As=null,Yt=0,ws=null,al=null,jr=0,Xg=0,Jg=null,V1=null,lc=0,Zg=null;function Qn(){return(Je&2)!==0&&Be!==0?Be&-Be:ee.T!==null?sy():Zh()}function O1(){if(Kn===0)if((Be&536870912)===0||Ke){var r=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Kn=r}else Kn=536870912;return r=qn.current,r!==null&&(r.flags|=32),Kn}function kn(r,s,l){(r===dt&&(nt===2||nt===9)||r.cancelPendingCommit!==null)&&(ol(r,0),xs(r,Be,Kn,!1)),ga(r,l),((Je&2)===0||r!==dt)&&(r===dt&&((Je&2)===0&&(Fa|=l),wt===4&&xs(r,Be,Kn,!1)),or(r))}function P1(r,s,l){if((Je&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&r.expiredLanes)===0||vi(r,s),p=c?$V(r,s):ty(r,s,!0),g=c;do{if(p===0){rl&&!c&&xs(r,s,0,!1);break}else{if(l=r.current.alternate,g&&!KV(l)){p=ty(r,s,!1),g=!1;continue}if(p===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var w=r;p=oc;var k=w.current.memoizedState.isDehydrated;if(k&&(ol(w,T).flags|=256),T=ty(w,T,!1),T!==2){if($g&&!k){w.errorRecoveryDisabledLanes|=g,Fa|=g,p=4;break e}g=Nn,Nn=p,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){ol(r,0),xs(r,s,0,!0);break}e:{switch(c=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:xs(c,s,Kn,!Ss);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Wd+300-Tn(),10<p)){if(xs(c,s,Kn,!Ss),qi(c,0,!0)!==0)break e;jr=s,c.timeoutHandle=cS(M1.bind(null,c,l,Nn,Jd,Wg,s,Kn,Fa,sl,Ss,g,"Throttled",-0,0),p);break e}M1(c,l,Nn,Jd,Wg,s,Kn,Fa,sl,Ss,g,null,-0,0)}}break}while(!0);or(r)}function M1(r,s,l,c,p,g,T,w,k,Y,ie,ae,W,Z){if(r.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},x1(s,g,ae);var pe=(g&62914560)===g?Wd-Tn():(g&4194048)===g?D1-Tn():0;if(pe=DO(ae,pe),pe!==null){jr=g,r.cancelPendingCommit=pe(F1.bind(null,r,s,g,l,c,p,T,w,k,ie,ae,null,W,Z)),xs(r,g,T,!Y);return}}F1(r,s,g,l,c,p,T,w,k)}function KV(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Bn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xs(r,s,l,c){s&=~Yg,s&=~Fa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var g=31-Dt(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&ya(r,l,s)}function Zd(){return(Je&6)===0?(uc(0),!1):!0}function ey(){if(je!==null){if(nt===0)var r=je.return;else r=je,Rr=Pa=null,gg(r),Xo=null,Gu=0,r=je;for(;r!==null;)h1(r.alternate,r),r=r.return;je=null}}function ol(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,dO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),jr=0,ey(),dt=r,je=l=wr(r.current,null),Be=s,nt=0,Gn=null,Ss=!1,rl=vi(r,s),$g=!1,sl=Kn=Yg=Fa=bs=wt=0,Nn=oc=null,Wg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-Dt(c),g=1<<p;s|=r[p],c&=~g}return Lr=s,Ed(),l}function N1(r,s){Ne=null,ee.H=Zu,s===Wo||s===Id?(s=XE(),nt=3):s===rg?(s=XE(),nt=4):nt=s===Og?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,je===null&&(wt=1,Fd(r,ri(s,r.current)))}function k1(){var r=qn.current;return r===null?!0:(Be&4194048)===Be?li===null:(Be&62914560)===Be||(Be&536870912)!==0?r===li:!1}function L1(){var r=ee.H;return ee.H=Zu,r===null?Zu:r}function j1(){var r=ee.A;return ee.A=HV,r}function ef(){wt=4,Ss||(Be&4194048)!==Be&&qn.current!==null||(rl=!0),(bs&134217727)===0&&(Fa&134217727)===0||dt===null||xs(dt,Be,Kn,!1)}function ty(r,s,l){var c=Je;Je|=2;var p=L1(),g=j1();(dt!==r||Be!==s)&&(Jd=null,ol(r,s)),s=!1;var T=wt;e:do try{if(nt!==0&&je!==null){var w=je,k=Gn;switch(nt){case 8:ey(),T=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var Y=nt;if(nt=0,Gn=null,ll(r,w,k,Y),l&&rl){T=0;break e}break;default:Y=nt,nt=0,Gn=null,ll(r,w,k,Y)}}QV(),T=wt;break}catch(ie){N1(r,ie)}while(!0);return s&&r.shellSuspendCounter++,Rr=Pa=null,Je=c,ee.H=p,ee.A=g,je===null&&(dt=null,Be=0,Ed()),T}function QV(){for(;je!==null;)U1(je)}function $V(r,s){var l=Je;Je|=2;var c=L1(),p=j1();dt!==r||Be!==s?(Jd=null,Xd=Tn()+500,ol(r,s)):rl=vi(r,s);e:do try{if(nt!==0&&je!==null){s=je;var g=Gn;t:switch(nt){case 1:nt=0,Gn=null,ll(r,s,g,1);break;case 2:case 9:if(YE(g)){nt=0,Gn=null,z1(s);break}s=function(){nt!==2&&nt!==9||dt!==r||(nt=7),or(r)},g.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:YE(g)?(nt=0,Gn=null,z1(s)):(nt=0,Gn=null,ll(r,s,g,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var w=je;if(T?wS(T):w.stateNode.complete){nt=0,Gn=null;var k=w.sibling;if(k!==null)je=k;else{var Y=w.return;Y!==null?(je=Y,tf(Y)):je=null}break t}}nt=0,Gn=null,ll(r,s,g,5);break;case 6:nt=0,Gn=null,ll(r,s,g,6);break;case 8:ey(),wt=6;break e;default:throw Error(i(462))}}YV();break}catch(ie){N1(r,ie)}while(!0);return Rr=Pa=null,ee.H=c,ee.A=p,Je=l,je!==null?0:(dt=null,Be=0,Ed(),wt)}function YV(){for(;je!==null&&!Vp();)U1(je)}function U1(r){var s=u1(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,s===null?tf(r):je=s}function z1(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=i1(l,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=i1(l,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:gg(s);default:h1(l,s),s=je=jE(s,Lr),s=u1(l,s,Lr)}r.memoizedProps=r.pendingProps,s===null?tf(r):je=s}function ll(r,s,l,c){Rr=Pa=null,gg(s),Xo=null,Gu=0;var p=s.return;try{if(LV(r,p,s,l,Be)){wt=1,Fd(r,ri(l,r.current)),je=null;return}}catch(g){if(p!==null)throw je=p,g;wt=1,Fd(r,ri(l,r.current)),je=null;return}s.flags&32768?(Ke||c===1?r=!0:rl||(Be&536870912)!==0?r=!1:(Ss=r=!0,(c===2||c===9||c===3||c===6)&&(c=qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),B1(s,r)):tf(s)}function tf(r){var s=r;do{if((s.flags&32768)!==0){B1(s,Ss);return}r=s.return;var l=zV(s.alternate,s,Lr);if(l!==null){je=l;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);wt===0&&(wt=5)}function B1(r,s){do{var l=BV(r.alternate,r);if(l!==null){l.flags&=32767,je=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=l}while(r!==null);wt=6,je=null}function F1(r,s,l,c,p,g,T,w,k){r.cancelPendingCommit=null;do nf();while(Yt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=qp,Mp(r,l,g,T,w,k),r===dt&&(je=dt=null,Be=0),al=s,ws=r,jr=l,Xg=g,Jg=p,V1=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ZV(ns,function(){return Q1(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=oe.p,oe.p=2,T=Je,Je|=4;try{FV(r,s,l)}finally{Je=T,oe.p=p,ee.T=c}}Yt=1,q1(),H1(),G1()}}function q1(){if(Yt===1){Yt=0;var r=ws,s=al,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=oe.p;oe.p=2;var p=Je;Je|=4;try{b1(s,r);var g=fy,T=CE(r.containerInfo),w=g.focusedElem,k=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&IE(w.ownerDocument.documentElement,w)){if(k!==null&&jp(w)){var Y=k.start,ie=k.end;if(ie===void 0&&(ie=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(ie,w.value.length);else{var ae=w.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),pe=w.textContent.length,Ae=Math.min(k.start,pe),ct=k.end===void 0?Ae:Math.min(k.end,pe);!Z.extend&&Ae>ct&&(T=ct,ct=Ae,Ae=T);var G=RE(w,Ae),F=RE(w,ct);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=ae.createRange();$.setStart(G.node,G.offset),Z.removeAllRanges(),Ae>ct?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(ae=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var re=ae[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}pf=!!dy,fy=dy=null}finally{Je=p,oe.p=c,ee.T=l}}r.current=s,Yt=2}}function H1(){if(Yt===2){Yt=0;var r=ws,s=al,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=oe.p;oe.p=2;var p=Je;Je|=4;try{v1(r,s.alternate,s)}finally{Je=p,oe.p=c,ee.T=l}}Yt=3}}function G1(){if(Yt===4||Yt===3){Yt=0,Kh();var r=ws,s=al,l=jr,c=V1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,al=ws=null,K1(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(As=null),Tr(l),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ee.T,p=oe.p,oe.p=2,ee.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var w=c[T];g(w.value,{componentStack:w.stack})}}finally{ee.T=s,oe.p=p}}(jr&3)!==0&&nf(),or(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===Zg?lc++:(lc=0,Zg=r):lc=0,uc(0)}}function K1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,qu(s)))}function nf(){return q1(),H1(),G1(),Q1()}function Q1(){if(Yt!==5)return!1;var r=ws,s=Xg;Xg=0;var l=Tr(jr),c=ee.T,p=oe.p;try{oe.p=32>l?32:l,ee.T=null,l=Jg,Jg=null;var g=ws,T=jr;if(Yt=0,al=ws=null,jr=0,(Je&6)!==0)throw Error(i(331));var w=Je;if(Je|=4,I1(g.current),w1(g,g.current,T,l),Je=w,uc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(yi,g)}catch{}return!0}finally{oe.p=p,ee.T=c,K1(r,s)}}function $1(r,s,l){s=ri(l,s),s=Vg(r.stateNode,s,2),r=vs(r,s,2),r!==null&&(ga(r,2),or(r))}function it(r,s,l){if(r.tag===3)$1(r,r,l);else for(;s!==null;){if(s.tag===3){$1(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(As===null||!As.has(c))){r=ri(l,r),l=YT(2),c=vs(s,l,2),c!==null&&(WT(l,c,s,r),ga(c,2),or(c));break}}s=s.return}}function ny(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new GV;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||($g=!0,p.add(l),r=WV.bind(null,r,s,l),s.then(r,r))}function WV(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,dt===r&&(Be&l)===l&&(wt===4||wt===3&&(Be&62914560)===Be&&300>Tn()-Wd?(Je&2)===0&&ol(r,0):Yg|=l,sl===Be&&(sl=0)),or(r)}function Y1(r,s){s===0&&(s=Jh()),r=Da(r,s),r!==null&&(ga(r,s),or(r))}function XV(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Y1(r,l)}function JV(r,s){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Y1(r,l)}function ZV(r,s){return $t(r,s)}var rf=null,ul=null,iy=!1,sf=!1,ry=!1,Rs=0;function or(r){r!==ul&&r.next===null&&(ul===null?rf=ul=r:ul=ul.next=r),sf=!0,iy||(iy=!0,tO())}function uc(r,s){if(!ry&&sf){ry=!0;do for(var l=!1,c=rf;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-Dt(42|r)+1)-1,g&=p&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Z1(c,g))}else g=Be,g=qi(c,c===dt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||vi(c,g)||(l=!0,Z1(c,g));c=c.next}while(l);ry=!1}}function eO(){W1()}function W1(){sf=iy=!1;var r=0;Rs!==0&&hO()&&(r=Rs);for(var s=Tn(),l=null,c=rf;c!==null;){var p=c.next,g=X1(c,s);g===0?(c.next=null,l===null?rf=p:l.next=p,p===null&&(ul=l)):(l=c,(r!==0||(g&3)!==0)&&(sf=!0)),c=p}Yt!==0&&Yt!==5||uc(r),Rs!==0&&(Rs=0)}function X1(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-Dt(g),w=1<<T,k=p[T];k===-1?((w&l)===0||(w&c)!==0)&&(p[T]=Pp(w,s)):k<=s&&(r.expiredLanes|=w),g&=~w}if(s=dt,l=Be,l=qi(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(nt===2||nt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ts(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||vi(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&ts(c),Tr(l)){case 2:case 8:l=_u;break;case 32:l=ns;break;case 268435456:l=Qh;break;default:l=ns}return c=J1.bind(null,r),l=$t(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&ts(c),r.callbackPriority=2,r.callbackNode=null,2}function J1(r,s){if(Yt!==0&&Yt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(nf()&&r.callbackNode!==l)return null;var c=Be;return c=qi(r,r===dt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(P1(r,c,s),X1(r,Tn()),r.callbackNode!=null&&r.callbackNode===l?J1.bind(null,r):null)}function Z1(r,s){if(nf())return null;P1(r,s,!0)}function tO(){fO(function(){(Je&6)!==0?$t(vu,eO):W1()})}function sy(){if(Rs===0){var r=$o;r===0&&(r=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Rs=r}return Rs}function eS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Po(""+r)}function tS(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function nO(r,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=eS((p[Zt]||null).action),T=c.submitter;T&&(s=(s=T[Zt]||null)?eS(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new er("action","action",null,c,p);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rs!==0){var k=T?tS(p,T):new FormData(p);wg(l,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(w.preventDefault(),k=T?tS(p,T):new FormData(p),wg(l,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var ay=0;ay<Fp.length;ay++){var oy=Fp[ay],iO=oy.toLowerCase(),rO=oy[0].toUpperCase()+oy.slice(1);xi(iO,"on"+rO)}xi(OE,"onAnimationEnd"),xi(PE,"onAnimationIteration"),xi(ME,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(EV,"onTransitionRun"),xi(TV,"onTransitionStart"),xi(SV,"onTransitionCancel"),xi(NE,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function nS(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var w=c[T],k=w.instance,Y=w.currentTarget;if(w=w.listener,k!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=Y;try{g(p)}catch(ie){_d(ie)}p.currentTarget=null,g=k}else for(T=0;T<c.length;T++){if(w=c[T],k=w.instance,Y=w.currentTarget,w=w.listener,k!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=Y;try{g(p)}catch(ie){_d(ie)}p.currentTarget=null,g=k}}}}function Ue(r,s){var l=s[Io];l===void 0&&(l=s[Io]=new Set);var c=r+"__bubble";l.has(c)||(iS(s,r,2,!1),l.add(c))}function ly(r,s,l){var c=0;s&&(c|=4),iS(l,r,c,s)}var af="_reactListening"+Math.random().toString(36).slice(2);function uy(r){if(!r[af]){r[af]=!0,Su.forEach(function(l){l!=="selectionchange"&&(sO.has(l)||ly(l,!1,r),ly(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[af]||(s[af]=!0,ly("selectionchange",!1,s))}}function iS(r,s,l,c){switch(OS(s)){case 2:var p=PO;break;case 8:p=MO;break;default:p=Ay}l=p.bind(null,s,l,r),p=void 0,!Sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function cy(r,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===p)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;w!==null;){if(T=Qi(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=g=T;continue e}w=w.parentNode}}c=c.return}ls(function(){var Y=g,ie=ei(l),ae=[];e:{var W=kE.get(r);if(W!==void 0){var Z=er,pe=r;switch(r){case"keypress":if(Aa(l)===0)break e;case"keydown":case"keyup":Z=gd;break;case"focusin":pe="focus",Z=xa;break;case"focusout":pe="blur",Z=xa;break;case"beforeblur":case"afterblur":Z=xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case OE:case PE:case ME:Z=ud;break;case NE:Z=R;break;case"scroll":case"scrollend":Z=Mu;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ar;break;case"toggle":case"beforetoggle":Z=Me}var Ae=(s&4)!==0,ct=!Ae&&(r==="scroll"||r==="scrollend"),G=Ae?W!==null?W+"Capture":null:W;Ae=[];for(var F=Y,$;F!==null;){var re=F;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||G===null||(re=Si(F,G),re!=null&&Ae.push(hc(F,re,$))),ct)break;F=F.return}0<Ae.length&&(W=new Z(W,pe,null,l,ie),ae.push({event:W,listeners:Ae}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&l!==Vu&&(pe=l.relatedTarget||l.fromElement)&&(Qi(pe)||pe[Gi]))break e;if((Z||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(pe=l.relatedTarget||l.toElement,Z=Y,pe=pe?Qi(pe):null,pe!==null&&(ct=o(pe),Ae=pe.tag,pe!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Z=null,pe=Y),Z!==pe)){if(Ae=Nu,re="onMouseLeave",G="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Ar,re="onPointerLeave",G="onPointerEnter",F="pointer"),ct=Z==null?W:Un(Z),$=pe==null?W:Un(pe),W=new Ae(re,F+"leave",Z,l,ie),W.target=ct,W.relatedTarget=$,re=null,Qi(ie)===Y&&(Ae=new Ae(G,F+"enter",pe,l,ie),Ae.target=$,Ae.relatedTarget=ct,re=Ae),ct=re,Z&&pe)t:{for(Ae=aO,G=Z,F=pe,$=0,re=G;re;re=Ae(re))$++;re=0;for(var Ee=F;Ee;Ee=Ae(Ee))re++;for(;0<$-re;)G=Ae(G),$--;for(;0<re-$;)F=Ae(F),re--;for(;$--;){if(G===F||F!==null&&G===F.alternate){Ae=G;break t}G=Ae(G),F=Ae(F)}Ae=null}else Ae=null;Z!==null&&rS(ae,W,Z,Ae,!1),pe!==null&&ct!==null&&rS(ae,ct,pe,Ae,!0)}}e:{if(W=Y?Un(Y):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Ye=TE;else if(_E(W))if(SE)Ye=yV;else{Ye=pV;var ve=mV}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Oo(Y.elementType)&&(Ye=TE):Ye=gV;if(Ye&&(Ye=Ye(r,Y))){EE(ae,Ye,l,ie);break e}ve&&ve(r,W,Y),r==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Iu(W,"number",W.value)}switch(ve=Y?Un(Y):window,r){case"focusin":(_E(ve)||ve.contentEditable==="true")&&(zo=ve,Up=Y,zu=null);break;case"focusout":zu=Up=zo=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,DE(ae,l,ie);break;case"selectionchange":if(_V)break;case"keydown":case"keyup":DE(ae,l,ie)}var ke;if(Xe)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Uo?Ra(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(ir&&l.locale!=="ko"&&(Uo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Uo&&(ke=Pu()):(Zi=ie,Ou="value"in Zi?Zi.value:Zi.textContent,Uo=!0)),ve=of(Y,Fe),0<ve.length&&(Fe=new nr(Fe,r,null,l,ie),ae.push({event:Fe,listeners:ve}),ke?Fe.data=ke:(ke=jo(l),ke!==null&&(Fe.data=ke)))),(ke=ni?cV(r,l):hV(r,l))&&(Fe=of(Y,"onBeforeInput"),0<Fe.length&&(ve=new nr("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ve,listeners:Fe}),ve.data=ke)),nO(ae,r,Y,l,ie)}nS(ae,s)})}function hc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function of(r,s){for(var l=s+"Capture",c=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Si(r,l),p!=null&&c.unshift(hc(r,p,g)),p=Si(r,s),p!=null&&c.push(hc(r,p,g))),r.tag===3)return c;r=r.return}return[]}function aO(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function rS(r,s,l,c,p){for(var g=s._reactName,T=[];l!==null&&l!==c;){var w=l,k=w.alternate,Y=w.stateNode;if(w=w.tag,k!==null&&k===c)break;w!==5&&w!==26&&w!==27||Y===null||(k=Y,p?(Y=Si(l,g),Y!=null&&T.unshift(hc(l,Y,k))):p||(Y=Si(l,g),Y!=null&&T.push(hc(l,Y,k)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var oO=/\r\n?/g,lO=/\u0000|\uFFFD/g;function sS(r){return(typeof r=="string"?r:""+r).replace(oO,`
`).replace(lO,"")}function aS(r,s){return s=sS(s),sS(r)===s}function ut(r,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Vn(r,""+c);break;case"className":zn(r,"class",c);break;case"tabIndex":zn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(r,l,c);break;case"style":Du(r,c,g);break;case"data":if(s!=="object"){zn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Po(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ut(r,s,"name",p.name,p,null),ut(r,s,"formEncType",p.formEncType,p,null),ut(r,s,"formMethod",p.formMethod,p,null),ut(r,s,"formTarget",p.formTarget,p,null)):(ut(r,s,"encType",p.encType,p,null),ut(r,s,"method",p.method,p,null),ut(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Po(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Ti);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Po(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Do(r,"popover",c);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Do(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ad.get(l)||l,Do(r,l,c))}}function hy(r,s,l,c,p,g){switch(l){case"style":Du(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&Vn(r,""+c);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=r[Zt]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Do(r,l,c)}}}function cn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,g,T,l,null)}}p&&ut(r,s,"srcSet",l.srcSet,l,null),c&&ut(r,s,"src",l.src,l,null);return;case"input":Ue("invalid",r);var w=g=T=p=null,k=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ie=l[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":T=ie;break;case"checked":k=ie;break;case"defaultChecked":Y=ie;break;case"value":g=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:ut(r,s,c,ie,l,null)}}id(r,g,w,k,Y,T,p,!1);return;case"select":Ue("invalid",r),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(w=l[p],w!=null))switch(p){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:ut(r,s,p,w,l,null)}s=g,l=T,r.multiple=!!c,s!=null?rs(r,!!c,s,!1):l!=null&&rs(r,!!c,l,!0);return;case"textarea":Ue("invalid",r),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":p=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ut(r,s,T,w,l,null)}ss(r,c,p,g);return;case"option":for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null)&&(k==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(r,s,k,c,l,null));return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(c=0;c<cc.length;c++)Ue(cc[c],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,Y,c,l,null)}return;default:if(Oo(s)){for(ie in l)l.hasOwnProperty(ie)&&(c=l[ie],c!==void 0&&hy(r,s,ie,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&ut(r,s,w,c,l,null))}function uO(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,w=null,k=null,Y=null,ie=null;for(Z in l){var ae=l[Z];if(l.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=ae;default:c.hasOwnProperty(Z)||ut(r,s,Z,null,c,ae)}}for(var W in c){var Z=c[W];if(ae=l[W],c.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":g=Z;break;case"name":p=Z;break;case"checked":Y=Z;break;case"defaultChecked":ie=Z;break;case"value":T=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ae&&ut(r,s,W,Z,c,ae)}}Vo(r,T,w,k,Y,ie,g,p);return;case"select":Z=T=w=W=null;for(g in l)if(k=l[g],l.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Z=k;default:c.hasOwnProperty(g)||ut(r,s,g,null,c,k)}for(p in c)if(g=c[p],k=l[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":W=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==k&&ut(r,s,p,g,c,k)}s=w,l=T,c=Z,W!=null?rs(r,!!l,W,!1):!!c!=!!l&&(s!=null?rs(r,!!l,s,!0):rs(r,!!l,l?[]:"",!1));return;case"textarea":Z=W=null;for(w in l)if(p=l[w],l.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(r,s,w,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":W=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&ut(r,s,T,p,c,g)}rd(r,W,Z);return;case"option":for(var pe in l)W=l[pe],l.hasOwnProperty(pe)&&W!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?r.selected=!1:ut(r,s,pe,null,c,W));for(k in c)W=c[k],Z=l[k],c.hasOwnProperty(k)&&W!==Z&&(W!=null||Z!=null)&&(k==="selected"?r.selected=W&&typeof W!="function"&&typeof W!="symbol":ut(r,s,k,W,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)W=l[Ae],l.hasOwnProperty(Ae)&&W!=null&&!c.hasOwnProperty(Ae)&&ut(r,s,Ae,null,c,W);for(Y in c)if(W=c[Y],Z=l[Y],c.hasOwnProperty(Y)&&W!==Z&&(W!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:ut(r,s,Y,W,c,Z)}return;default:if(Oo(s)){for(var ct in l)W=l[ct],l.hasOwnProperty(ct)&&W!==void 0&&!c.hasOwnProperty(ct)&&hy(r,s,ct,void 0,c,W);for(ie in c)W=c[ie],Z=l[ie],!c.hasOwnProperty(ie)||W===Z||W===void 0&&Z===void 0||hy(r,s,ie,W,c,Z);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&ut(r,s,G,null,c,W);for(ae in c)W=c[ae],Z=l[ae],!c.hasOwnProperty(ae)||W===Z||W==null&&Z==null||ut(r,s,ae,W,c,Z)}function oS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cO(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],g=p.transferSize,T=p.initiatorType,w=p.duration;if(g&&w&&oS(T)){for(T=0,w=p.responseEnd,c+=1;c<l.length;c++){var k=l[c],Y=k.startTime;if(Y>w)break;var ie=k.transferSize,ae=k.initiatorType;ie&&oS(ae)&&(k=k.responseEnd,T+=ie*(k<w?1:(w-Y)/(k-Y)))}if(--c,s+=8*(g+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var dy=null,fy=null;function lf(r){return r.nodeType===9?r:r.ownerDocument}function lS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uS(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function my(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var py=null;function hO(){var r=window.event;return r&&r.type==="popstate"?r===py?!1:(py=r,!0):(py=null,!1)}var cS=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(r){return hS.resolve(null).then(r).catch(mO)}:cS;function mO(r){setTimeout(function(){throw r})}function Is(r){return r==="head"}function dS(r,s){var l=s,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(p),fl(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")dc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,dc(l);for(var g=l.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ki]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=T}}else l==="body"&&dc(r.ownerDocument.body);l=p}while(l);fl(s)}function fS(r,s){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function gy(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gy(l),Co(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function pO(r,s,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ui(r.nextSibling),r===null)break}return null}function gO(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ui(r.nextSibling),r===null))return null;return r}function mS(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ui(r.nextSibling),r===null))return null;return r}function yy(r){return r.data==="$?"||r.data==="$~"}function vy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function yO(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var _y=null;function pS(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return ui(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function gS(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function yS(r,s,l){switch(s=lf(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function dc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Co(r)}var ci=new Map,vS=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ur=oe.d;oe.d={f:vO,r:_O,D:EO,C:TO,L:SO,m:bO,X:wO,S:AO,M:xO};function vO(){var r=Ur.f(),s=Zd();return r||s}function _O(r){var s=Zn(r);s!==null&&s.tag===5&&s.type==="form"?NT(s):Ur.r(r)}var cl=typeof document>"u"?null:document;function _S(r,s,l){var c=cl;if(c&&typeof s=="string"&&s){var p=Dn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),vS.has(p)||(vS.add(p),r={rel:r,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),cn(s,"link",r),jt(s),c.head.appendChild(s)))}}function EO(r){Ur.D(r),_S("dns-prefetch",r,null)}function TO(r,s){Ur.C(r,s),_S("preconnect",r,s)}function SO(r,s,l){Ur.L(r,s,l);var c=cl;if(c&&r&&s){var p='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dn(l.imageSizes)+'"]')):p+='[href="'+Dn(r)+'"]';var g=p;switch(s){case"style":g=hl(r);break;case"script":g=dl(r)}ci.has(g)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),ci.set(g,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(fc(g))||s==="script"&&c.querySelector(mc(g))||(s=c.createElement("link"),cn(s,"link",r),jt(s),c.head.appendChild(s)))}}function bO(r,s){Ur.m(r,s);var l=cl;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Dn(c)+'"][href="'+Dn(r)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=dl(r)}if(!ci.has(g)&&(r=v({rel:"modulepreload",href:r},s),ci.set(g,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mc(g)))return}c=l.createElement("link"),cn(c,"link",r),jt(c),l.head.appendChild(c)}}}function AO(r,s,l){Ur.S(r,s,l);var c=cl;if(c&&r){var p=$i(c).hoistableStyles,g=hl(r);s=s||"default";var T=p.get(g);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(fc(g)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=ci.get(g))&&Ey(r,l);var k=T=c.createElement("link");jt(k),cn(k,"link",r),k._p=new Promise(function(Y,ie){k.onload=Y,k.onerror=ie}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,cf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:w},p.set(g,T)}}}function wO(r,s){Ur.X(r,s);var l=cl;if(l&&r){var c=$i(l).hoistableScripts,p=dl(r),g=c.get(p);g||(g=l.querySelector(mc(p)),g||(r=v({src:r,async:!0},s),(s=ci.get(p))&&Ty(r,s),g=l.createElement("script"),jt(g),cn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function xO(r,s){Ur.M(r,s);var l=cl;if(l&&r){var c=$i(l).hoistableScripts,p=dl(r),g=c.get(p);g||(g=l.querySelector(mc(p)),g||(r=v({src:r,async:!0,type:"module"},s),(s=ci.get(p))&&Ty(r,s),g=l.createElement("script"),jt(g),cn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function ES(r,s,l,c){var p=(p=Ie.current)?uf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hl(l.href),l=$i(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hl(l.href);var g=$i(p).hoistableStyles,T=g.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=p.querySelector(fc(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ci.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(r,l),g||RO(p,r,l,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dl(l),l=$i(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function hl(r){return'href="'+Dn(r)+'"'}function fc(r){return'link[rel="stylesheet"]['+r+"]"}function TS(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function RO(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),cn(s,"link",l),jt(s),r.head.appendChild(s))}function dl(r){return'[src="'+Dn(r)+'"]'}function mc(r){return"script[async]"+r}function SS(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(c)return s.instance=c,jt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),jt(c),cn(c,"style",p),cf(c,l.precedence,r),s.instance=c;case"stylesheet":p=hl(l.href);var g=r.querySelector(fc(p));if(g)return s.state.loading|=4,s.instance=g,jt(g),g;c=TS(l),(p=ci.get(p))&&Ey(c,p),g=(r.ownerDocument||r).createElement("link"),jt(g);var T=g;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),cn(g,"link",c),s.state.loading|=4,cf(g,l.precedence,r),s.instance=g;case"script":return g=dl(l.src),(p=r.querySelector(mc(g)))?(s.instance=p,jt(p),p):(c=l,(p=ci.get(g))&&(c=v({},l),Ty(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),jt(p),cn(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,cf(c,l.precedence,r));return s.instance}function cf(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===s)g=w;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Ey(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ty(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var hf=null;function bS(r,s,l){if(hf===null){var c=new Map,p=hf=new Map;p.set(l,c)}else p=hf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var g=l[p];if(!(g[Ki]||g[Lt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var w=c.get(T);w?w.push(g):c.set(T,[g])}}return c}function AS(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function IO(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function CO(r,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=hl(c.href),g=s.querySelector(fc(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=df.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=g,jt(g);return}g=s.ownerDocument||s,c=TS(c),(p=ci.get(p))&&Ey(c,p),g=g.createElement("link"),jt(g);var T=g;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),cn(g,"link",c),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=df.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var Sy=0;function DO(r,s){return r.stylesheets&&r.count===0&&mf(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&mf(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Sy===0&&(Sy=62500*cO());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&mf(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Sy?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ff=null;function mf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ff=new Map,s.forEach(VO,r),ff=null,df.call(r))}function VO(r,s){if(!(s.state.loading&4)){var l=ff.get(r);if(l)var c=l.get(null);else{l=new Map,ff.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=df.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var pc={$$typeof:B,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function OO(r,s,l,c,p,g,T,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function xS(r,s,l,c,p,g,T,w,k,Y,ie,ae){return r=new OO(r,s,l,T,k,Y,ie,ae,w),s=1,g===!0&&(s|=24),g=Fn(3,null,null,s),r.current=g,g.stateNode=r,s=tg(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},sg(g),r}function RS(r){return r?(r=qo,r):qo}function IS(r,s,l,c,p,g){p=RS(p),c.context===null?c.context=p:c.pendingContext=p,c=ys(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=vs(r,c,s),l!==null&&(kn(l,r,s),Qu(l,r,s))}function CS(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function by(r,s){CS(r,s),(r=r.alternate)&&CS(r,s)}function DS(r){if(r.tag===13||r.tag===31){var s=Da(r,67108864);s!==null&&kn(s,r,67108864),by(r,67108864)}}function VS(r){if(r.tag===13||r.tag===31){var s=Qn();s=va(s);var l=Da(r,s);l!==null&&kn(l,r,s),by(r,s)}}var pf=!0;function PO(r,s,l,c){var p=ee.T;ee.T=null;var g=oe.p;try{oe.p=2,Ay(r,s,l,c)}finally{oe.p=g,ee.T=p}}function MO(r,s,l,c){var p=ee.T;ee.T=null;var g=oe.p;try{oe.p=8,Ay(r,s,l,c)}finally{oe.p=g,ee.T=p}}function Ay(r,s,l,c){if(pf){var p=wy(c);if(p===null)cy(r,s,c,gf,l),PS(r,c);else if(kO(p,r,s,l,c))c.stopPropagation();else if(PS(r,c),s&4&&-1<NO.indexOf(r)){for(;p!==null;){var g=Zn(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Fi(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-Dt(T);w.entanglements[1]|=k,T&=~k}or(g),(Je&6)===0&&(Xd=Tn()+500,uc(0))}}break;case 31:case 13:w=Da(g,2),w!==null&&kn(w,g,2),Zd(),by(g,2)}if(g=wy(c),g===null&&cy(r,s,c,gf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else cy(r,s,c,null,l)}}function wy(r){return r=ei(r),xy(r)}var gf=null;function xy(r){if(gf=null,r=Qi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return gf=r,null}function OS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case vu:return 2;case _u:return 8;case ns:case Op:return 32;case Qh:return 268435456;default:return 32}default:return 32}}var Ry=!1,Cs=null,Ds=null,Vs=null,gc=new Map,yc=new Map,Os=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PS(r,s){switch(r){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function vc(r,s,l,c,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Zn(s),s!==null&&DS(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function kO(r,s,l,c,p){switch(s){case"focusin":return Cs=vc(Cs,r,s,l,c,p),!0;case"dragenter":return Ds=vc(Ds,r,s,l,c,p),!0;case"mouseover":return Vs=vc(Vs,r,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return gc.set(g,vc(gc.get(g)||null,r,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,yc.set(g,vc(yc.get(g)||null,r,s,l,c,p)),!0}return!1}function MS(r){var s=Qi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,_i(r.priority,function(){VS(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,_i(r.priority,function(){VS(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=wy(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Vu=c,l.target.dispatchEvent(c),Vu=null}else return s=Zn(l),s!==null&&DS(s),r.blockedOn=l,!1;s.shift()}return!0}function NS(r,s,l){yf(r)&&l.delete(s)}function LO(){Ry=!1,Cs!==null&&yf(Cs)&&(Cs=null),Ds!==null&&yf(Ds)&&(Ds=null),Vs!==null&&yf(Vs)&&(Vs=null),gc.forEach(NS),yc.forEach(NS)}function vf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ry||(Ry=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LO)))}var _f=null;function kS(r){_f!==r&&(_f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_f===r&&(_f=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(xy(c||l)===null)continue;break}var g=Zn(l);g!==null&&(r.splice(s,3),s-=3,wg(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function fl(r){function s(k){return vf(k,r)}Cs!==null&&vf(Cs,r),Ds!==null&&vf(Ds,r),Vs!==null&&vf(Vs,r),gc.forEach(s),yc.forEach(s);for(var l=0;l<Os.length;l++){var c=Os[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Os.length&&(l=Os[0],l.blockedOn===null);)MS(l),l.blockedOn===null&&Os.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Zt]||null;if(typeof g=="function")T||kS(l);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Zt]||null)w=T.formAction;else if(xy(p)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),kS(l)}}}function LS(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Iy(r){this._internalRoot=r}Ef.prototype.render=Iy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=Qn();IS(l,c,r,s,null,null)},Ef.prototype.unmount=Iy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;IS(r.current,2,null,r,null,null),Zd(),s[Gi]=null}};function Ef(r){this._internalRoot=r}Ef.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zh();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Os.length&&s!==0&&s<Os[l].priority;l++);Os.splice(l,0,r),l===0&&MS(r)}};var jS=e.version;if(jS!=="19.2.4")throw Error(i(527,jS,"19.2.4"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var jO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{yi=Tf.inject(jO),sn=Tf}catch{}}return Ec.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",p=GT,g=KT,T=QT;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=xS(r,1,!1,null,null,l,c,null,p,g,T,LS),r[Gi]=s.current,uy(r),new Iy(s)},Ec.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,p="",g=GT,T=KT,w=QT,k=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),s=xS(r,1,!0,s,l??null,c,p,k,g,T,w,LS),s.context=RS(null),l=s.current,c=Qn(),c=va(c),p=ys(c),p.callback=null,vs(l,p,c),l=c,s.current.lanes=l,ga(s,l),or(s),r[Gi]=s.current,uy(r),new Ef(s)},Ec.version="19.2.4",Ec}var $S;function YO(){if($S)return Vy.exports;$S=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vy.exports=$O(),Vy.exports}var WO=YO();var YS="popstate";function XO(n={}){function e(i,a){let{pathname:o,search:u,hash:h}=i.location;return _v("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Xc(a)}return ZO(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JO(){return Math.random().toString(36).substring(2,10)}function WS(n,e){return{usr:n.state,key:n.key,idx:e}}function _v(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:t,key:e&&e.key||i||JO()}}function Xc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ZO(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),U=N==null?null:N-m;m=N,d&&d({action:h,location:M.location,delta:U})}function E(N,U){h="PUSH";let z=_v(M.location,N,U);m=y()+1;let B=WS(z,m),X=M.createHref(z);try{u.pushState(B,"",X)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(X)}o&&d&&d({action:h,location:M.location,delta:1})}function A(N,U){h="REPLACE";let z=_v(M.location,N,U);m=y();let B=WS(z,m),X=M.createHref(z);u.replaceState(B,"",X),o&&d&&d({action:h,location:M.location,delta:0})}function V(N){return eP(N)}let M={get action(){return h},get location(){return n(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(YS,v),d=N,()=>{a.removeEventListener(YS,v),d=null}},createHref(N){return e(a,N)},createURL:V,encodeLocation(N){let U=V(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:A,go(N){return u.go(N)}};return M}function eP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ax(n,e,t="/"){return tP(n,e,t,!1)}function tP(n,e,t,i){let a=typeof e=="string"?tu(e):e,o=Gr(a.pathname||"/",t);if(o==null)return null;let u=wx(n);nP(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=fP(o);h=hP(u[d],m,i)}return h}function wx(n,e=[],t=[],i="",a=!1){let o=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;Et(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=qr([i,y.relativePath]),E=t.concat(y);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),wx(u.children,e,E,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:uP(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of xx(u.path))o(u,h,!0,d)}),e}function xx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=xx(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function nP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var iP=/^:[\w-]+$/,rP=3,sP=2,aP=1,oP=10,lP=-2,XS=n=>n==="*";function uP(n,e){let t=n.split("/"),i=t.length;return t.some(XS)&&(i+=lP),e&&(i+=sP),t.filter(a=>!XS(a)).reduce((a,o)=>a+(iP.test(o)?rP:o===""?aP:oP),i)}function cP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function hP(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=lm({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),E=d.route;if(!v&&m&&t&&!i[i.length-1].route.index&&(v=lm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:qr([o,v.pathname]),pathnameBase:yP(qr([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=qr([o,v.pathnameBase]))}return u}function lm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dP(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let V=h[E]||"";u=o.slice(0,o.length-V.length).replace(/(.)\/+$/,"$1")}const A=h[E];return v&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function dP(n,e=!1,t=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function fP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pP(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?tu(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=JS(t.substring(1),"/"):o=JS(t,e)):o=e,{pathname:o,search:vP(i),hash:_P(a)}}function JS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ny(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I_(n){let e=gP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function C_(n,e,t,i=!1){let a;typeof n=="string"?a=tu(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),Ny("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Ny("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Ny("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?e[v]:"/"}let d=pP(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),yP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_P=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,EP=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function TP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function SP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ix(n,e){let t=n;if(typeof t!="string"||!mP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(Rx)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Gr(u.pathname,e);u.origin===o.origin&&h!=null?t=h+u.search+u.hash:a=!0}catch{ki(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cx=["POST","PUT","PATCH","DELETE"];new Set(Cx);var bP=["GET",...Cx];new Set(bP);var nu=P.createContext(null);nu.displayName="DataRouter";var Ym=P.createContext(null);Ym.displayName="DataRouterState";var AP=P.createContext(!1),Dx=P.createContext({isTransitioning:!1});Dx.displayName="ViewTransition";var wP=P.createContext(new Map);wP.displayName="Fetchers";var xP=P.createContext(null);xP.displayName="Await";var Xn=P.createContext(null);Xn.displayName="Navigation";var Sh=P.createContext(null);Sh.displayName="Location";var ji=P.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var D_=P.createContext(null);D_.displayName="RouteError";var Vx="REACT_ROUTER_ERROR",RP="REDIRECT",IP="ROUTE_ERROR_RESPONSE";function CP(n){if(n.startsWith(`${Vx}:${RP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DP(n){if(n.startsWith(`${Vx}:${IP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new EP(e.status,e.statusText,e.data)}catch{}}function VP(n,{relative:e}={}){Et(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=P.useContext(Xn),{hash:a,pathname:o,search:u}=bh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:qr([t,o])),i.createHref({pathname:h,search:u,hash:a})}function iu(){return P.useContext(Sh)!=null}function oa(){return Et(iu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Sh).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Px(n){P.useContext(Xn).static||P.useLayoutEffect(n)}function Cn(){let{isDataRoute:n}=P.useContext(ji);return n?GP():OP()}function OP(){Et(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(nu),{basename:e,navigator:t}=P.useContext(Xn),{matches:i}=P.useContext(ji),{pathname:a}=oa(),o=JSON.stringify(I_(i)),u=P.useRef(!1);return Px(()=>{u.current=!0}),P.useCallback((d,m={})=>{if(ki(u.current,Ox),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=C_(d,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qr([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,n])}P.createContext(null);function PP(){let{matches:n}=P.useContext(ji),e=n[n.length-1];return e?e.params:{}}function bh(n,{relative:e}={}){let{matches:t}=P.useContext(ji),{pathname:i}=oa(),a=JSON.stringify(I_(t));return P.useMemo(()=>C_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function MP(n,e){return Mx(n,e)}function Mx(n,e,t,i,a){Et(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(Xn),{matches:u}=P.useContext(ji),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let z=v&&v.path||"";kx(m,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=oa(),A;if(e){let z=typeof e=="string"?tu(e):e;Et(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=E;let V=A.pathname||"/",M=V;if(y!=="/"){let z=y.replace(/^\//,"").split("/");M="/"+V.replace(/^\//,"").split("/").slice(z.length).join("/")}let N=Ax(n,{pathname:M});ki(v||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ki(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=UP(N&&N.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:qr([y,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:qr([y,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,t,i,a);return e&&U?P.createElement(Sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function NP(){let n=HP(),e=TP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:a},t):null,u)}var kP=P.createElement(NP,null),Nx=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=DP(n.digest);t&&(n=t)}let e=n!==void 0?P.createElement(ji.Provider,{value:this.props.routeContext},P.createElement(D_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(LP,{error:n},e):e}};Nx.contextType=AP;var ky=new WeakMap;function LP({children:n,error:e}){let{basename:t}=P.useContext(Xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=CP(e.digest);if(i){let a=ky.get(e);if(a)throw a;let o=Ix(i.location,t);if(Rx&&!ky.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw ky.set(e,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function jP({routeContext:n,match:e,children:t}){let i=P.useContext(nu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ji.Provider,{value:n},t)}function UP(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let y=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:E,errors:A}=t,V=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||V){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=t&&i?(y,v)=>{i(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:SP(t.matches),errorInfo:v})}:void 0;return o.reduceRight((y,v,E)=>{let A,V=!1,M=null,N=null;t&&(A=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||kP,h&&(d<0&&E===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,N=null):d===E&&(V=!0,N=v.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,E+1)),z=()=>{let B;return A?B=M:V?B=N:v.route.Component?B=P.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=y,P.createElement(jP,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?P.createElement(Nx,{location:t.location,revalidation:t.revalidation,component:M,error:A,children:z(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:m}):z()},null)}function V_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zP(n){let e=P.useContext(nu);return Et(e,V_(n)),e}function BP(n){let e=P.useContext(Ym);return Et(e,V_(n)),e}function FP(n){let e=P.useContext(ji);return Et(e,V_(n)),e}function O_(n){let e=FP(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qP(){return O_("useRouteId")}function HP(){let n=P.useContext(D_),e=BP("useRouteError"),t=O_("useRouteError");return n!==void 0?n:e.errors?.[t]}function GP(){let{router:n}=zP("useNavigate"),e=O_("useNavigate"),t=P.useRef(!1);return Px(()=>{t.current=!0}),P.useCallback(async(a,o={})=>{ki(t.current,Ox),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var ZS={};function kx(n,e,t){!e&&!ZS[n]&&(ZS[n]=!0,ki(!1,t))}P.memo(KP);function KP({routes:n,future:e,state:t,onError:i}){return Mx(n,void 0,t,i,e)}function um({to:n,replace:e,state:t,relative:i}){Et(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(Xn);ki(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(ji),{pathname:u}=oa(),h=Cn(),d=C_(n,I_(o),u,i==="path"),m=JSON.stringify(d);return P.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function Ln(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Et(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof t=="string"&&(t=tu(t));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:A="default"}=t,V=P.useMemo(()=>{let M=Gr(m,h);return M==null?null:{location:{pathname:M,search:y,hash:v,state:E,key:A},navigationType:i}},[h,m,y,v,E,A,i]);return ki(V!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:P.createElement(Xn.Provider,{value:d},P.createElement(Sh.Provider,{children:e,value:V}))}function $P({children:n,location:e}){return MP(Ev(n),e)}function Ev(n,e=[]){let t=[];return P.Children.forEach(n,(i,a)=>{if(!P.isValidElement(i))return;let o=[...e,a];if(i.type===P.Fragment){t.push.apply(t,Ev(i.props.children,o));return}Et(i.type===Ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ev(i.props.children,o)),t.push(u)}),t}var kf="get",Lf="application/x-www-form-urlencoded";function Wm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function YP(n){return Wm(n)&&n.tagName.toLowerCase()==="button"}function WP(n){return Wm(n)&&n.tagName.toLowerCase()==="form"}function XP(n){return Wm(n)&&n.tagName.toLowerCase()==="input"}function JP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZP(n,e){return n.button===0&&(!e||e==="_self")&&!JP(n)}var bf=null;function eM(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var tM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ly(n){return n!=null&&!tM.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):n}function nM(n,e){let t,i,a,o,u;if(WP(n)){let h=n.getAttribute("action");i=h?Gr(h,e):null,t=n.getAttribute("method")||kf,a=Ly(n.getAttribute("enctype"))||Lf,o=new FormData(n)}else if(YP(n)||XP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Gr(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||kf,a=Ly(n.getAttribute("formenctype"))||Ly(h.getAttribute("enctype"))||Lf,o=new FormData(h,n),!eM()){let{name:m,type:y,value:v}=n;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,v)}}else{if(Wm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,i=null,a=Lf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iM(n,e,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function rM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aM(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await rM(o,t);return u.links?u.links():[]}return[]}));return cM(i.flat(1).filter(sM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eb(n,e,t,i,a,o){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>t[m].pathname!==d.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oM(n,e,{includeHydrateFallback:t}={}){return lM(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function lM(n){return[...new Set(n)]}function uM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function cM(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(uM(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function Lx(){let n=P.useContext(nu);return P_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hM(){let n=P.useContext(Ym);return P_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M_=P.createContext(void 0);M_.displayName="FrameworkContext";function jx(){let n=P.useContext(M_);return P_(n,"You must render this element inside a <HydratedRouter> element"),n}function dM(n,e){let t=P.useContext(M_),[i,a]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,E=P.useRef(null);P.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=U=>{U.forEach(z=>{u(z.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),P.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let A=()=>{a(!0)},V=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Tc(h,A),onBlur:Tc(d,V),onMouseEnter:Tc(m,A),onMouseLeave:Tc(y,V),onTouchStart:Tc(v,A)}]:[!1,E,{}]}function Tc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fM({page:n,...e}){let{router:t}=Lx(),i=P.useMemo(()=>Ax(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?P.createElement(pM,{page:n,matches:i,...e}):null}function mM(n){let{manifest:e,routeModules:t}=jx(),[i,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return aM(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function pM({page:n,matches:e,...t}){let i=oa(),{future:a,manifest:o,routeModules:u}=jx(),{basename:h}=Lx(),{loaderData:d,matches:m}=hM(),y=P.useMemo(()=>eb(n,e,m,o,i,"data"),[n,e,m,o,i]),v=P.useMemo(()=>eb(n,e,m,o,i,"assets"),[n,e,m,o,i]),E=P.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,N=!1;if(e.forEach(z=>{let B=o.routes[z.route.id];!B||!B.hasLoader||(!y.some(X=>X.route.id===z.route.id)&&z.route.id in d&&u[z.route.id]?.shouldRevalidate||B.hasClientLoader?N=!0:M.add(z.route.id))}),M.size===0)return[];let U=iM(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&M.size>0&&U.searchParams.set("_routes",e.filter(z=>M.has(z.route.id)).map(z=>z.route.id).join(",")),[U.pathname+U.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,o,y,e,n,u]),A=P.useMemo(()=>oM(v,o),[v,o]),V=mM(v);return P.createElement(P.Fragment,null,E.map(M=>P.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>P.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),V.map(({key:M,link:N})=>P.createElement("link",{key:M,nonce:t.nonce,...N,crossOrigin:N.crossOrigin??t.crossOrigin})))}function gM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yM&&(window.__reactRouterVersion="7.13.0")}catch{}function vM({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=P.useRef();a.current==null&&(a.current=XO({window:i,v5Compat:!0}));let o=a.current,[u,h]=P.useState({action:o.action,location:o.location}),d=P.useCallback(m=>{t===!1?h(m):P.startTransition(()=>h(m))},[t]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(QP,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=P.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},V){let{basename:M,unstable_useTransitions:N}=P.useContext(Xn),U=typeof m=="string"&&Ux.test(m),z=Ix(m,M);m=z.to;let B=VP(m,{relative:a}),[X,H,se]=dM(i,A),I=SM(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:N});function x(j){e&&e(j),j.defaultPrevented||I(j)}let C=P.createElement("a",{...A,...se,href:z.absoluteURL||B,onClick:z.isExternal||o?e:x,ref:gM(V,H),target:d,"data-discover":!U&&t==="render"?"true":void 0});return X&&!U?P.createElement(P.Fragment,null,C,P.createElement(fM,{page:B})):C});zx.displayName="Link";var _M=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let v=bh(u,{relative:m.relative}),E=oa(),A=P.useContext(Ym),{navigator:V,basename:M}=P.useContext(Xn),N=A!=null&&RM(v)&&h===!0,U=V.encodeLocation?V.encodeLocation(v).pathname:v.pathname,z=E.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(z=z.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&M&&(B=Gr(B,M)||B);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let H=z===U||!a&&z.startsWith(U)&&z.charAt(X)==="/",se=B!=null&&(B===U||!a&&B.startsWith(U)&&B.charAt(U.length)==="/"),I={isActive:H,isPending:se,isTransitioning:N},x=H?e:void 0,C;typeof i=="function"?C=i(I):C=[i,H?"active":null,se?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(I):o;return P.createElement(zx,{...m,"aria-current":x,className:C,ref:y,style:j,to:u,viewTransition:h},typeof d=="function"?d(I):d)});_M.displayName="NavLink";var EM=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=kf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},V)=>{let{unstable_useTransitions:M}=P.useContext(Xn),N=wM(),U=xM(h,{relative:m}),z=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Ux.test(h),X=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let se=H.nativeEvent.submitter,I=se?.getAttribute("formmethod")||u,x=()=>N(se||H.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});M&&t!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:V,method:z,action:U,onSubmit:i?d:X,...A,"data-discover":!B&&n==="render"?"true":void 0})});EM.displayName="Form";function TM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(n){let e=P.useContext(nu);return Et(e,TM(n)),e}function SM(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Cn(),y=oa(),v=bh(n,{relative:o});return P.useCallback(E=>{if(ZP(E,e)){E.preventDefault();let A=t!==void 0?t:Xc(y)===Xc(v),V=()=>m(n,{replace:A,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?P.startTransition(()=>V()):V()}},[y,m,v,t,i,e,n,a,o,u,h,d])}var bM=0,AM=()=>`__${String(++bM)}__`;function wM(){let{router:n}=Bx("useSubmit"),{basename:e}=P.useContext(Xn),t=qP(),i=n.fetch,a=n.navigate;return P.useCallback(async(o,u={})=>{let{action:h,method:d,encType:m,formData:y,body:v}=nM(o,e);if(u.navigate===!1){let E=u.fetcherKey||AM();await i(E,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,t])}function xM(n,{relative:e}={}){let{basename:t}=P.useContext(Xn),i=P.useContext(ji);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...bh(n||".",{relative:e})},u=oa();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qr([t,o.pathname])),Xc(o)}function RM(n,{relative:e}={}){let t=P.useContext(Dx);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bx("useViewTransitionState"),a=bh(n,{relative:e});if(!t.isTransitioning)return!1;let o=Gr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Gr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return lm(a.pathname,u)!=null||lm(a.pathname,o)!=null}const IM="modulepreload",CM=function(n){return"/ACAMP2026-ANTIGRAVITY/"+n},tb={},Fx=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var u=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(t.map(y=>{if(y=CM(y),y in tb)return;tb[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":IM,v||(A.as="script"),A.crossOrigin="",A.href=y,d&&A.setAttribute("nonce",d),document.head.appendChild(A),v)return new Promise((V,M)=>{A.addEventListener("load",V),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},DM=()=>{};var nb={};const qx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},VM=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,A=m&63;d||(A=64,u||(E=64)),i.push(t[y],t[v],t[E],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new OM;const E=o<<2|h>>4;if(i.push(E),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const V=m<<6&192|v;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PM=function(n){const e=qx(n);return Hx.encodeByteArray(e,!0)},cm=function(n){return PM(n).replace(/\./g,"")},Gx=function(n){try{return Hx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MM=()=>Kx().__FIREBASE_DEFAULTS__,NM=()=>{if(typeof process>"u"||typeof nb>"u")return;const n=nb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Gx(n[1]);return e&&JSON.parse(e)},Xm=()=>{try{return DM()||MM()||NM()||kM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qx=n=>Xm()?.emulatorHosts?.[n],LM=n=>{const e=Qx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$x=()=>Xm()?.config,Yx=n=>Xm()?.[`_${n}`];class jM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ru(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wx(n){return(await fetch(n,{credentials:"include"})).ok}function UM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[cm(JSON.stringify(t)),cm(JSON.stringify(u)),""].join(".")}const Lc={};function zM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function BM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ib=!1;function Xx(n,e){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Lc[n]===e||Lc[n]||ib)return;Lc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=zM().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ib=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=BM(i),A=t("text"),V=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),N=document.getElementById(M)||document.createElement("a"),U=t("preprendIcon"),z=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),y(N,M);const X=m();d(z,U),B.append(z,V,N,X),document.body.appendChild(B)}o?(V.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function Jx(){const n=Xm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Zx(){return!Jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){return!Jx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const $M="FirebaseError";class Xr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$M,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?YM(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Xr(a,h,i)}}function YM(n,e){return n.replace(WM,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const WM=/\{\$([^}]+)}/g;function XM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(rb(o)&&rb(u)){if(!Zs(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function rb(n){return n!==null&&typeof n=="object"}function wh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Dc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JM(n,e){const t=new ZM(n,e);return t.subscribe.bind(t)}class ZM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=jy),a.error===void 0&&(a.error=jy),a.complete===void 0&&(a.complete=jy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jy(){}function Mt(n){return n&&n._delegate?n._delegate:n}class uo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class tN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jM;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nN(n){return n===Ka?void 0:n}function iN(n){return n.instantiationMode==="EAGER"}class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const sN={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},aN=qe.INFO,oN={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},lN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=oN[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=lN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const uN=(n,e)=>e.some(t=>n instanceof t);let sb,ab;function cN(){return sb||(sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hN(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nR=new WeakMap,Tv=new WeakMap,iR=new WeakMap,Uy=new WeakMap,k_=new WeakMap;function dN(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Qs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&nR.set(t,n)}).catch(()=>{}),k_.set(e,n),e}function fN(n){if(Tv.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Tv.set(n,e)}let Sv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mN(n){Sv=n(Sv)}function pN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zy(this),e,...t);return iR.set(i,e.sort?e.sort():[e]),Qs(i)}:hN().includes(n)?function(...e){return n.apply(zy(this),e),Qs(nR.get(this))}:function(...e){return Qs(n.apply(zy(this),e))}}function gN(n){return typeof n=="function"?pN(n):(n instanceof IDBTransaction&&fN(n),uN(n,cN())?new Proxy(n,Sv):n)}function Qs(n){if(n instanceof IDBRequest)return dN(n);if(Uy.has(n))return Uy.get(n);const e=gN(n);return e!==n&&(Uy.set(n,e),k_.set(e,n)),e}const zy=n=>k_.get(n);function yN(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Qs(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Qs(u.result),d.oldVersion,d.newVersion,Qs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const vN=["get","getKey","getAll","getAllKeys","count"],_N=["put","add","delete","clear"],By=new Map;function ob(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=_N.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||vN.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return By.set(e,o),o}mN(n=>({...n,get:(e,t,i)=>ob(e,t)||n.get(e,t,i),has:(e,t)=>!!ob(e,t)||n.has(e,t)}));class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function TN(n){return n.getComponent()?.type==="VERSION"}const bv="@firebase/app",lb="0.14.8";const Kr=new N_("@firebase/app"),SN="@firebase/app-compat",bN="@firebase/analytics-compat",AN="@firebase/analytics",wN="@firebase/app-check-compat",xN="@firebase/app-check",RN="@firebase/auth",IN="@firebase/auth-compat",CN="@firebase/database",DN="@firebase/data-connect",VN="@firebase/database-compat",ON="@firebase/functions",PN="@firebase/functions-compat",MN="@firebase/installations",NN="@firebase/installations-compat",kN="@firebase/messaging",LN="@firebase/messaging-compat",jN="@firebase/performance",UN="@firebase/performance-compat",zN="@firebase/remote-config",BN="@firebase/remote-config-compat",FN="@firebase/storage",qN="@firebase/storage-compat",HN="@firebase/firestore",GN="@firebase/ai",KN="@firebase/firestore-compat",QN="firebase",$N="12.9.0";const Av="[DEFAULT]",YN={[bv]:"fire-core",[SN]:"fire-core-compat",[AN]:"fire-analytics",[bN]:"fire-analytics-compat",[xN]:"fire-app-check",[wN]:"fire-app-check-compat",[RN]:"fire-auth",[IN]:"fire-auth-compat",[CN]:"fire-rtdb",[DN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[ON]:"fire-fn",[PN]:"fire-fn-compat",[MN]:"fire-iid",[NN]:"fire-iid-compat",[kN]:"fire-fcm",[LN]:"fire-fcm-compat",[jN]:"fire-perf",[UN]:"fire-perf-compat",[zN]:"fire-rc",[BN]:"fire-rc-compat",[FN]:"fire-gcs",[qN]:"fire-gcs-compat",[HN]:"fire-fst",[KN]:"fire-fst-compat",[GN]:"fire-vertex","fire-js":"fire-js",[QN]:"fire-js-all"};const hm=new Map,WN=new Map,wv=new Map;function ub(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(wv.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,n);for(const t of hm.values())ub(t,n);for(const t of WN.values())ub(t,n);return!0}function L_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hi(n){return n==null?!1:n.settings!==void 0}const XN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new Ah("app","Firebase",XN);class JN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const su=$N;function rR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Av,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw $s.create("bad-app-name",{appName:String(a)});if(t||(t=$x()),!t)throw $s.create("no-options");const o=hm.get(a);if(o){if(Zs(t,o.options)&&Zs(i,o.config))return o;throw $s.create("duplicate-app",{appName:a})}const u=new rN(a);for(const d of wv.values())u.addComponent(d);const h=new JN(t,i,u);return hm.set(a,h),h}function sR(n=Av){const e=hm.get(n);if(!e&&n===Av&&$x())return rR();if(!e)throw $s.create("no-app",{appName:n});return e}function Ys(n,e,t){let i=YN[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}zl(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ZN="firebase-heartbeat-database",ek=1,Jc="firebase-heartbeat-store";let Fy=null;function aR(){return Fy||(Fy=yN(ZN,ek,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Fy}async function tk(n){try{const t=(await aR()).transaction(Jc),i=await t.objectStore(Jc).get(oR(n));return await t.done,i}catch(e){if(e instanceof Xr)Kr.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function cb(n,e){try{const i=(await aR()).transaction(Jc,"readwrite");await i.objectStore(Jc).put(e,oR(n)),await i.done}catch(t){if(t instanceof Xr)Kr.warn(t.message);else{const i=$s.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(i.message)}}}function oR(n){return`${n.name}!${n.options.appId}`}const nk=1024,ik=30;class rk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ak(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>ik){const a=ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hb(),{heartbeatsToSend:t,unsentEntries:i}=sk(this._heartbeatsCache.heartbeats),a=cm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Kr.warn(e),""}}}function hb(){return new Date().toISOString().substring(0,10)}function sk(n,e=nk){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),db(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),db(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?QM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function db(n){return cm(JSON.stringify({version:2,heartbeats:n})).length}function ok(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function lk(n){zl(new uo("platform-logger",e=>new EN(e),"PRIVATE")),zl(new uo("heartbeat",e=>new rk(e),"PRIVATE")),Ys(bv,lb,n),Ys(bv,lb,"esm2020"),Ys("fire-js","")}lk("");var uk="firebase",ck="12.9.0";Ys(uk,ck,"app");var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,lR;(function(){var n;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(j,L,q){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return x.prototype[L].apply(j,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,C){C||(C=0);const j=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)j[L]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(L=0;L<16;++L)j[L]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],L=I.g[2];let q=I.g[3],O;O=x+(q^C&(L^q))+j[0]+3614090360&4294967295,x=C+(O<<7&4294967295|O>>>25),O=q+(L^x&(C^L))+j[1]+3905402710&4294967295,q=x+(O<<12&4294967295|O>>>20),O=L+(C^q&(x^C))+j[2]+606105819&4294967295,L=q+(O<<17&4294967295|O>>>15),O=C+(x^L&(q^x))+j[3]+3250441966&4294967295,C=L+(O<<22&4294967295|O>>>10),O=x+(q^C&(L^q))+j[4]+4118548399&4294967295,x=C+(O<<7&4294967295|O>>>25),O=q+(L^x&(C^L))+j[5]+1200080426&4294967295,q=x+(O<<12&4294967295|O>>>20),O=L+(C^q&(x^C))+j[6]+2821735955&4294967295,L=q+(O<<17&4294967295|O>>>15),O=C+(x^L&(q^x))+j[7]+4249261313&4294967295,C=L+(O<<22&4294967295|O>>>10),O=x+(q^C&(L^q))+j[8]+1770035416&4294967295,x=C+(O<<7&4294967295|O>>>25),O=q+(L^x&(C^L))+j[9]+2336552879&4294967295,q=x+(O<<12&4294967295|O>>>20),O=L+(C^q&(x^C))+j[10]+4294925233&4294967295,L=q+(O<<17&4294967295|O>>>15),O=C+(x^L&(q^x))+j[11]+2304563134&4294967295,C=L+(O<<22&4294967295|O>>>10),O=x+(q^C&(L^q))+j[12]+1804603682&4294967295,x=C+(O<<7&4294967295|O>>>25),O=q+(L^x&(C^L))+j[13]+4254626195&4294967295,q=x+(O<<12&4294967295|O>>>20),O=L+(C^q&(x^C))+j[14]+2792965006&4294967295,L=q+(O<<17&4294967295|O>>>15),O=C+(x^L&(q^x))+j[15]+1236535329&4294967295,C=L+(O<<22&4294967295|O>>>10),O=x+(L^q&(C^L))+j[1]+4129170786&4294967295,x=C+(O<<5&4294967295|O>>>27),O=q+(C^L&(x^C))+j[6]+3225465664&4294967295,q=x+(O<<9&4294967295|O>>>23),O=L+(x^C&(q^x))+j[11]+643717713&4294967295,L=q+(O<<14&4294967295|O>>>18),O=C+(q^x&(L^q))+j[0]+3921069994&4294967295,C=L+(O<<20&4294967295|O>>>12),O=x+(L^q&(C^L))+j[5]+3593408605&4294967295,x=C+(O<<5&4294967295|O>>>27),O=q+(C^L&(x^C))+j[10]+38016083&4294967295,q=x+(O<<9&4294967295|O>>>23),O=L+(x^C&(q^x))+j[15]+3634488961&4294967295,L=q+(O<<14&4294967295|O>>>18),O=C+(q^x&(L^q))+j[4]+3889429448&4294967295,C=L+(O<<20&4294967295|O>>>12),O=x+(L^q&(C^L))+j[9]+568446438&4294967295,x=C+(O<<5&4294967295|O>>>27),O=q+(C^L&(x^C))+j[14]+3275163606&4294967295,q=x+(O<<9&4294967295|O>>>23),O=L+(x^C&(q^x))+j[3]+4107603335&4294967295,L=q+(O<<14&4294967295|O>>>18),O=C+(q^x&(L^q))+j[8]+1163531501&4294967295,C=L+(O<<20&4294967295|O>>>12),O=x+(L^q&(C^L))+j[13]+2850285829&4294967295,x=C+(O<<5&4294967295|O>>>27),O=q+(C^L&(x^C))+j[2]+4243563512&4294967295,q=x+(O<<9&4294967295|O>>>23),O=L+(x^C&(q^x))+j[7]+1735328473&4294967295,L=q+(O<<14&4294967295|O>>>18),O=C+(q^x&(L^q))+j[12]+2368359562&4294967295,C=L+(O<<20&4294967295|O>>>12),O=x+(C^L^q)+j[5]+4294588738&4294967295,x=C+(O<<4&4294967295|O>>>28),O=q+(x^C^L)+j[8]+2272392833&4294967295,q=x+(O<<11&4294967295|O>>>21),O=L+(q^x^C)+j[11]+1839030562&4294967295,L=q+(O<<16&4294967295|O>>>16),O=C+(L^q^x)+j[14]+4259657740&4294967295,C=L+(O<<23&4294967295|O>>>9),O=x+(C^L^q)+j[1]+2763975236&4294967295,x=C+(O<<4&4294967295|O>>>28),O=q+(x^C^L)+j[4]+1272893353&4294967295,q=x+(O<<11&4294967295|O>>>21),O=L+(q^x^C)+j[7]+4139469664&4294967295,L=q+(O<<16&4294967295|O>>>16),O=C+(L^q^x)+j[10]+3200236656&4294967295,C=L+(O<<23&4294967295|O>>>9),O=x+(C^L^q)+j[13]+681279174&4294967295,x=C+(O<<4&4294967295|O>>>28),O=q+(x^C^L)+j[0]+3936430074&4294967295,q=x+(O<<11&4294967295|O>>>21),O=L+(q^x^C)+j[3]+3572445317&4294967295,L=q+(O<<16&4294967295|O>>>16),O=C+(L^q^x)+j[6]+76029189&4294967295,C=L+(O<<23&4294967295|O>>>9),O=x+(C^L^q)+j[9]+3654602809&4294967295,x=C+(O<<4&4294967295|O>>>28),O=q+(x^C^L)+j[12]+3873151461&4294967295,q=x+(O<<11&4294967295|O>>>21),O=L+(q^x^C)+j[15]+530742520&4294967295,L=q+(O<<16&4294967295|O>>>16),O=C+(L^q^x)+j[2]+3299628645&4294967295,C=L+(O<<23&4294967295|O>>>9),O=x+(L^(C|~q))+j[0]+4096336452&4294967295,x=C+(O<<6&4294967295|O>>>26),O=q+(C^(x|~L))+j[7]+1126891415&4294967295,q=x+(O<<10&4294967295|O>>>22),O=L+(x^(q|~C))+j[14]+2878612391&4294967295,L=q+(O<<15&4294967295|O>>>17),O=C+(q^(L|~x))+j[5]+4237533241&4294967295,C=L+(O<<21&4294967295|O>>>11),O=x+(L^(C|~q))+j[12]+1700485571&4294967295,x=C+(O<<6&4294967295|O>>>26),O=q+(C^(x|~L))+j[3]+2399980690&4294967295,q=x+(O<<10&4294967295|O>>>22),O=L+(x^(q|~C))+j[10]+4293915773&4294967295,L=q+(O<<15&4294967295|O>>>17),O=C+(q^(L|~x))+j[1]+2240044497&4294967295,C=L+(O<<21&4294967295|O>>>11),O=x+(L^(C|~q))+j[8]+1873313359&4294967295,x=C+(O<<6&4294967295|O>>>26),O=q+(C^(x|~L))+j[15]+4264355552&4294967295,q=x+(O<<10&4294967295|O>>>22),O=L+(x^(q|~C))+j[6]+2734768916&4294967295,L=q+(O<<15&4294967295|O>>>17),O=C+(q^(L|~x))+j[13]+1309151649&4294967295,C=L+(O<<21&4294967295|O>>>11),O=x+(L^(C|~q))+j[4]+4149444226&4294967295,x=C+(O<<6&4294967295|O>>>26),O=q+(C^(x|~L))+j[11]+3174756917&4294967295,q=x+(O<<10&4294967295|O>>>22),O=L+(x^(q|~C))+j[2]+718787259&4294967295,L=q+(O<<15&4294967295|O>>>17),O=C+(q^(L|~x))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+q&4294967295}i.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,j=this.C;let L=this.h,q=0;for(;q<x;){if(L==0)for(;q<=C;)a(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<x;)if(j[L++]=I.charCodeAt(q++),L==this.blockSize){a(this,j),L=0;break}}else for(;q<x;)if(j[L++]=I[q++],L==this.blockSize){a(this,j),L=0;break}}this.h=L,this.o+=x},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)I[x++]=this.g[C]>>>j&255;return I};function o(I,x){var C=h;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function u(I,x){this.h=x;const C=[];let j=!0;for(let L=I.length-1;L>=0;L--){const q=I[L]|0;j&&q==x||(C[L]=q,j=!1)}this.g=C}var h={};function d(I){return-128<=I&&I<128?o(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(m(-I));const x=[];let C=1;for(let j=0;I>=C;j++)x[j]=I/C|0,C*=4294967296;return new u(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return N(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(x,8));let j=v;for(let q=0;q<I.length;q+=8){var L=Math.min(8,I.length-q);const O=parseInt(I.substring(q,q+L),x);L<8?(L=m(Math.pow(x,L)),j=j.j(L).add(m(O))):(j=j.j(C),j=j.add(m(O)))}return j}var v=d(0),E=d(1),A=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-N(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);I+=(j>=0?j:4294967296+j)*x,x*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(M(this))return"-"+N(this).toString(I);const x=m(Math.pow(I,6));var C=this;let j="";for(;;){const L=X(C,x).g;C=U(C,L.j(x));let q=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=L,V(C))return q+j;for(;q.length<6;)q="0"+q;j=q+j}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=U(this,I),M(I)?-1:V(I)?0:1};function N(I){const x=I.g.length,C=[];for(let j=0;j<x;j++)C[j]=~I.g[j];return new u(C,~I.h).add(E)}n.abs=function(){return M(this)?N(this):this},n.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let j=0;for(let L=0;L<=x;L++){let q=j+(this.i(L)&65535)+(I.i(L)&65535),O=(q>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);j=O>>>16,q&=65535,O&=65535,C[L]=O<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(I,x){return I.add(N(x))}n.j=function(I){if(V(this)||V(I))return v;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(this.l(A)<0&&I.l(A)<0)return m(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var j=0;j<2*x;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<I.g.length;L++){const q=this.i(j)>>>16,O=this.i(j)&65535,we=I.i(L)>>>16,Oe=I.i(L)&65535;C[2*j+2*L]+=O*Oe,z(C,2*j+2*L),C[2*j+2*L+1]+=q*Oe,z(C,2*j+2*L+1),C[2*j+2*L+1]+=O*we,z(C,2*j+2*L+1),C[2*j+2*L+2]+=q*we,z(C,2*j+2*L+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new u(C,0)};function z(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function B(I,x){this.g=I,this.h=x}function X(I,x){if(V(x))throw Error("division by zero");if(V(I))return new B(v,v);if(M(I))return x=X(N(I),x),new B(N(x.g),N(x.h));if(M(x))return x=X(I,N(x)),new B(N(x.g),x.h);if(I.g.length>30){if(M(I)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,j=x;j.l(I)<=0;)C=H(C),j=H(j);var L=se(C,1),q=se(j,1);for(j=se(j,2),C=se(C,2);!V(j);){var O=q.add(j);O.l(I)<=0&&(L=L.add(C),q=O),j=se(j,1),C=se(C,1)}return x=U(I,L.j(x)),new B(L,x)}for(L=v;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),q=m(C),O=q.j(x);M(O)||O.l(I)>0;)C-=j,q=m(C),O=q.j(x);V(q)&&(q=E),L=L.add(q),I=U(I,O)}return new B(L,I)}n.B=function(I){return X(this,I).h},n.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)&I.i(j);return new u(C,this.h&I.h)},n.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)|I.i(j);return new u(C,this.h|I.h)},n.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)^I.i(j);return new u(C,this.h^I.h)};function H(I){const x=I.g.length+1,C=[];for(let j=0;j<x;j++)C[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(C,I.h)}function se(I,x){const C=x>>5;x%=32;const j=I.g.length-C,L=[];for(let q=0;q<j;q++)L[q]=x>0?I.i(q+C)>>>x|I.i(q+C+1)<<32-x:I.i(q+C);return new u(L,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ws=u}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uR,Vc,cR,jf,xv,hR,dR,fR;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(f,_){if(_)e:{var b=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in b))break e;b=b[Q]}f=f[f.length-1],R=b[f],_=_(R),_!=R&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&b.push([R,_[R]]);return b}});var o=o||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function m(f,_,b){return m=d,m.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(R,Q,J){for(var he=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)he[Me-2]=arguments[Me];return _.prototype[Q].apply(R,he)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const b=Array(_);for(let R=0;R<_;R++)b[R]=f[R];return b}return[]}function V(f,_){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var b=typeof Q;if(b=b!="object"?b:Q?Array.isArray(Q)?"array":b:"null",b=="array"||b=="object"&&typeof Q.length=="number"){b=f.length||0;const J=Q.length||0;f.length=b+J;for(let he=0;he<J;he++)f[b+he]=Q[he]}else f.push(Q)}}class M{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function U(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,b){const R=B.get();R.set(_,b),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new M(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let H,se=!1,I=new z,x=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(C)}};function C(){for(var f;f=U();){try{f.h.call(f.g)}catch(b){N(b)}var _=B;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}se=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function we(f,_){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(we,L),we.prototype.init=function(f,_){const b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),ee=0;function oe(f,_,b,R,Q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!R,this.ha=Q,this.key=++ee,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,_,b){for(const R in f)_.call(b,f[R],R,f)}function Pe(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function D(f){const _={};for(const b in f)_[b]=f[b];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,_){let b,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(b in R)f[b]=R[b];for(let J=0;J<ne.length;J++)b=ne[J],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,_,b,R,Q){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const he=Ie(f,_,R,Q);return he>-1?(_=f[he],b||(_.fa=!1)):(_=new oe(_,this.src,J,!!R,Q),_.fa=b,f.push(_)),_};function Te(f,_){const b=_.type;if(b in f.g){var R=f.g[b],Q=Array.prototype.indexOf.call(R,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(R,Q,1),J&&(me(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Ie(f,_,b,R){for(let Q=0;Q<f.length;++Q){const J=f[Q];if(!J.da&&J.listener==_&&J.capture==!!b&&J.ha==R)return Q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),at={};function et(f,_,b,R,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)et(f,_[J],b,R,Q);return null}return b=yu(b),f&&f[Oe]?f.J(_,b,h(R)?!!R.capture:!1,Q):Ui(f,_,b,!1,R,Q)}function Ui(f,_,b,R,Q,J){if(!_)throw Error("Invalid event type");const he=h(Q)?!!Q.capture:!!Q;let Me=fa(f);if(Me||(f[Se]=Me=new de(f)),b=Me.add(_,b,R,he,J),b.proxy)return b;if(R=Ao(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)q||(Q=he),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),R,Q);else if(f.attachEvent)f.attachEvent(zi(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ao(){function f(b){return _.call(f.src,f.listener,b)}const _=pu;return f}function wo(f,_,b,R,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)wo(f,_[J],b,R,Q);else R=h(R)?!!R.capture:!!R,b=yu(b),f&&f[Oe]?(f=f.i,J=String(_).toString(),J in f.g&&(_=f.g[J],b=Ie(_,b,R,Q),b>-1&&(me(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[J],f.h--)))):f&&(f=fa(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ie(_,b,R,Q)),(b=f>-1?_[f]:null)&&xo(b))}function xo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Oe])Te(_.i,f);else{var b=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(b,R,f.capture):_.detachEvent?_.detachEvent(zi(b),R):_.addListener&&_.removeListener&&_.removeListener(R),(b=fa(_))?(Te(b,f),b.h==0&&(b.src=null,_[Se]=null)):me(f)}}}function zi(f){return f in at?at[f]:at[f]="on"+f}function pu(f,_){if(f.da)f=!0;else{_=new we(_,this);const b=f.listener,R=f.ha||f.src;f.fa&&xo(f),f=b.call(R,_)}return f}function fa(f){return f=f[Se],f instanceof de?f:null}var gu="__closure_events_fn_"+(Math.random()*1e9>>>0);function yu(f){return typeof f=="function"?f:(f[gu]||(f[gu]=function(_){return f.handleEvent(_)}),f[gu])}function Nt(){j.call(this),this.i=new de(this),this.M=this,this.G=null}v(Nt,j),Nt.prototype[Oe]=!0,Nt.prototype.removeEventListener=function(f,_,b,R){wo(this,f,_,b,R)};function $t(f,_){var b,R=f.G;if(R)for(b=[];R;R=R.G)b.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new L(_,f);else if(_ instanceof L)_.target=_.target||f;else{var Q=_;_=new L(R,f),ce(_,Q)}Q=!0;let J,he;if(b)for(he=b.length-1;he>=0;he--)J=_.g=b[he],Q=ts(J,R,!0,_)&&Q;if(J=_.g=f,Q=ts(J,R,!0,_)&&Q,Q=ts(J,R,!1,_)&&Q,b)for(he=0;he<b.length;he++)J=_.g=b[he],Q=ts(J,R,!1,_)&&Q}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let R=0;R<b.length;R++)me(b[R]);delete f.g[_],f.h--}}this.G=null},Nt.prototype.J=function(f,_,b,R){return this.i.add(String(f),_,!1,b,R)},Nt.prototype.K=function(f,_,b,R){return this.i.add(String(f),_,!0,b,R)};function ts(f,_,b,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const he=_[J];if(he&&!he.da&&he.capture==b){const Me=he.listener,Vt=he.ha||he.src;he.fa&&Te(f.i,he),Q=Me.call(Vt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Vp(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Kh(f){f.g=Vp(()=>{f.g=null,f.i&&(f.i=!1,Kh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Tn extends j{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Kh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(f){j.call(this),this.h=f,this.g={}}v(ma,j);var vu=[];function _u(f){Re(f.g,function(_,b){this.g.hasOwnProperty(b)&&xo(_)},f),f.g={}}ma.prototype.N=function(){ma.Z.N.call(this),_u(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=u.JSON.stringify,Op=u.JSON.parse,Qh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function $h(){}function Yh(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){L.call(this,"d")}v(sn,L);function Jn(){L.call(this,"c")}v(Jn,L);var Dt={},Wh=null;function Ro(){return Wh=Wh||new Nt}Dt.Ia="serverreachability";function Xh(f){L.call(this,Dt.Ia,f)}v(Xh,L);function Bi(f){const _=Ro();$t(_,new Xh(_))}Dt.STAT_EVENT="statevent";function pa(f,_){L.call(this,Dt.STAT_EVENT,f),this.stat=_}v(pa,L);function kt(f){const _=Ro();$t(_,new pa(_,f))}Dt.Ja="timingevent";function Fi(f,_){L.call(this,Dt.Ja,f),this.size=_}v(Fi,L);function qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function Pp(f,_,b,R,Q,J){f.info(function(){if(f.g)if(J){var he="",Me=J.split("&");for(let Xe=0;Xe<Me.length;Xe++){var Vt=Me[Xe].split("=");if(Vt.length>1){const yt=Vt[0];Vt=Vt[1];const ni=yt.split("_");he=ni.length>=2&&ni[1]=="type"?he+(yt+"="+Vt+"&"):he+(yt+"=redacted&")}}}else he=null;else he=J;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+_+`
`+b+`
`+he})}function Jh(f,_,b,R,Q,J,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+_+`
`+b+`
`+J+" "+he})}function Hi(f,_,b,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Mp(f,b)+(R?" "+R:"")})}function ga(f,_){f.info(function(){return"TIMEOUT: "+_})}vi.prototype.info=function(){};function Mp(f,_){if(!f.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var b=J[f];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return ns(J)}catch{return _}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tu;function va(){}v(va,$h),va.prototype.g=function(){return new XMLHttpRequest},Tu=new va;function Tr(f){return encodeURIComponent(String(f))}function Zh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function _i(f,_,b,R){this.j=f,this.i=_,this.l=b,this.S=R||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var Lt={},Zt={};function Gi(f,_,b){f.M=1,f.A=_a(Ut(_)),f.u=b,f.R=!0,Io(f,null)}function Io(f,_){f.F=Date.now(),Ki(f),f.B=Ut(f.A);var b=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),Oo(b.i,"t",R),f.C=0,b=f.j.L,f.h=new Ei,f.g=md(f.j,b?_:null,!f.u),f.P>0&&(f.O=new Tn(m(f.Y,f,f.g),f.P)),_=f.V,b=f.g,R=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(vu[0]=Q.toString()),Q=vu);for(let J=0;J<Q.length;J++){const he=et(b,Q[J],R||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=f.J?D(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Bi(),Pp(f.i,f.v,f.B,f.l,f.S,f.u)}_i.prototype.ba=function(f){f=f.target;const _=this.O;_&&bi(f)==3?_.j():this.Y(f)},_i.prototype.Y=function(f){try{if(f==this.g)e:{const Me=bi(this.g),Vt=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Me!=4||Vt==7||(Vt==8||Xe<=0?Bi(3):Bi(2)),Qi(this);var _=this.g.ca();this.X=_;var b=Np(this);if(this.o=_==200,Jh(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var J=R;break t}}J=null}if(f=J)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,f);else{this.o=!1,this.m=3,kt(12),Un(this),Zn(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=td(this,b),yt==Zt){Me==4&&(this.m=4,kt(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Lt){this.m=4,kt(15),Hi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,yt,null),$i(this,yt);if(ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,b,"[Invalid Chunked Response]"),Un(this),Zn(this);else if(b.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ku(he),he.P=!0,kt(11))}}else Hi(this.i,this.l,b,null),$i(this,b);Me==4&&Un(this),this.o&&!this.K&&(Me==4?cd(this.j,this):(this.o=!1,Ki(this)))}else br(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Un(this),Zn(this)}}}catch{}};function Np(f){if(!ed(f))return f.g.la();const _=an(f.g);if(_==="")return"";let b="";const R=_.length,Q=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),Zn(f),"";f.h.i=new u.TextDecoder}for(let J=0;J<R;J++)f.h.h=!0,b+=f.h.i.decode(_[J],{stream:!(Q&&J==R-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function ed(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function td(f,_){var b=f.C,R=_.indexOf(`
`,b);return R==-1?Zt:(b=Number(_.substring(b,R)),isNaN(b)?Lt:(R+=1,R+b>_.length?Zt:(_=_.slice(R,R+b),f.C=R+b,_)))}_i.prototype.cancel=function(){this.K=!0,Un(this)};function Ki(f){f.T=Date.now()+f.H,Co(f,f.H)}function Co(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(m(f.aa,f),_)}function Qi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}_i.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Bi(),kt(17)),Un(this),this.m=2,Zn(this)):Co(this,this.T-f)};function Zn(f){f.j.I==0||f.K||cd(f.j,f)}function Un(f){Qi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,_u(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function $i(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Wi(b.h,f))){if(!f.L&&Wi(b.h,f)&&b.I==3){try{var R=b.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Lo(b),cs(b);else break e;xa(b),kt(18)}}else b.xa=Q[1],0<b.xa-b.K&&Q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=qi(m(b.Va,b),6e3));Yi(b.h)<=1&&b.ta&&(b.ta=void 0)}else nr(b,11)}else if((f.L||b.g==f)&&Lo(b),!O(_))for(Q=b.Ba.g.parse(_),_=0;_<Q.length;_++){let Xe=Q[_];const yt=Xe[0];if(!(yt<=b.K))if(b.K=yt,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const ni=Xe[3];ni!=null&&(b.ka=ni,b.j.info("VER="+b.ka));const ir=Xe[4];ir!=null&&(b.za=ir,b.j.info("SVER="+b.za));const Ai=Xe[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(R=1.5*Ai,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const wi=f.g;if(wi){const Ra=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var J=R.h;J.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Au(J,J.h),J.h=null))}if(R.G){const jo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(R.wa=jo,tt(R.J,R.G,jo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var he=f;if(R.na=fd(R,R.L?R.ba:null,R.W),he.L){wu(R.h,he);var Me=he,Vt=R.O;Vt&&(Me.H=Vt),Me.D&&(Qi(Me),Ki(Me)),R.g=he}else ld(R);b.i.length>0&&tr(b)}else Xe[0]!="stop"&&Xe[0]!="close"||nr(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?nr(b,7):Mu(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Bi(4)}catch{}}var jt=class{constructor(f,_){this.g=f,this.map=_}};function Su(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function Wi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Au(f,_){f.g?f.g.add(_):f.h=_}function wu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Su.prototype.cancel=function(){if(this.i=xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return A(f.i)}var nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const R=f[b].indexOf("=");let Q,J=null;R>=0?(Q=f[b].substring(0,R),J=f[b].substring(R+1)):Q=f[b],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function zn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof zn?(this.l=f.l,en(this,f.j),this.o=f.o,this.g=f.g,is(this,f.u),this.h=f.h,Ru(this,ad(f.i)),this.m=f.m):f&&(_=String(f).match(nd))?(this.l=!1,en(this,_[1]||"",!0),this.o=Xi(_[2]||""),this.g=Xi(_[3]||"",!0),is(this,_[4]),this.h=Xi(_[5]||"",!0),Ru(this,_[6]||"",!0),this.m=Xi(_[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}zn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Ea(_,Vo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ea(_,Vo,!0),"@"),f.push(Tr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Ea(b,b.charAt(0)=="/"?Iu:id,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Ea(b,rd)),f.join("")},zn.prototype.resolve=function(f){const _=Ut(this);let b=!!f.j;b?en(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var R=f.h;if(b)is(_,f.u);else if(b=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(R=_.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let he=0;he<Q.length;){const Me=Q[he++];Me=="."?R&&he==Q.length&&J.push(""):Me==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&he==Q.length&&J.push("")):(J.push(Me),R=!0)}R=J.join("/")}else R=Q}return b?_.h=R:b=f.i.toString()!=="",b?Ru(_,ad(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Ut(f){return new zn(f)}function en(f,_,b){f.j=b?Xi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function is(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ru(f,_,b){_ instanceof ss?(f.i=_,Po(f.i,f.l)):(b||(_=Ea(_,rs)),f.i=new ss(_,f.l))}function tt(f,_,b){f.i.set(_,b)}function _a(f){return tt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Xi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ea(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Dn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vo=/[#\/\?@]/g,id=/[#\?:]/g,Iu=/[#\?]/g,rs=/[#\?@]/g,rd=/#/g;function ss(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=ss.prototype,n.add=function(f,_){Vn(this),this.i=null,f=as(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function sd(f,_){Vn(f),_=as(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Cu(f,_){return Vn(f),_=as(f,_),f.g.has(_)}n.forEach=function(f,_){Vn(this),this.g.forEach(function(b,R){b.forEach(function(Q){f.call(_,Q,R,this)},this)},this)};function Du(f,_){Vn(f);let b=[];if(typeof _=="string")Cu(f,_)&&(b=b.concat(f.g.get(as(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Vn(this),this.i=null,f=as(this,f),Cu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Du(this,f),f.length>0?String(f[0]):_):_};function Oo(f,_,b){sd(f,_),b.length>0&&(f.i=null,f.g.set(as(f,_),A(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var b=_[R];const Q=Tr(b);b=Du(this,b);for(let J=0;J<b.length;J++){let he=Q;b[J]!==""&&(he+="="+Tr(b[J])),f.push(he)}}return this.i=f.join("&")};function ad(f){const _=new ss;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function as(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Po(f,_){_&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(b,R){const Q=R.toLowerCase();R!=Q&&(sd(this,R),Oo(this,Q,b))},f)),f.j=_}function Ti(f,_){const b=new vi;if(u.Image){const R=new Image;R.onload=y(ei,b,"TestLoadImage: loaded",!0,_,R),R.onerror=y(ei,b,"TestLoadImage: error",!1,_,R),R.onabort=y(ei,b,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(ei,b,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function Vu(f,_){const b=new vi,R=new AbortController,Q=setTimeout(()=>{R.abort(),ei(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(Q),J.ok?ei(b,"TestPingServer: ok",!0,_):ei(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ei(b,"TestPingServer: error",!1,_)})}function ei(f,_,b,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(b)}catch{}}function os(){this.g=new Qh}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ji,$h),Ji.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,_){Nt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Nt),n=Ta.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Si(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ls(this):Si(this),this.readyState==3&&Mo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ls(this))},n.Na=function(f){this.g&&(this.response=f,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Si(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ti(f){let _="";return Re(f,function(b,R){_+=R,_+=":",_+=b,_+=`\r
`}),_}function Sa(f,_,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ti(b),typeof f=="string"?b!=null&&Tr(b):tt(f,_,b))}function ot(f){Nt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ot,Nt);var Zi=/^https?$/i,Ou=["POST","PUT"];n=ot.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tu.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){ba(this,J);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)b.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Ou,_,void 0)>=0)||R||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){ba(this,J)}};function ba(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Pu(f),Sr(f)}function Pu(f){f.A||(f.A=!0,$t(f,"complete"),$t(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$t(this,"complete"),$t(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},n.Xa=function(){Aa(this)};function Aa(f){if(f.h&&typeof o<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if($t(f,"readystatechange"),bi(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var R;if(R=J===0){let he=String(f.D).match(nd)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),R=!Zi.test(he?he.toLowerCase():"")}b=R}if(b)$t(f,"complete"),$t(f,"success");else{f.o=6;try{var Q=bi(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Pu(f)}}finally{Sr(f)}}}}function Sr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||$t(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Op(_)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function br(f){const _={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(O(f[R]))continue;var b=Zh(f[R]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=_[Q]||[];_[Q]=J,J.push(b)}Pe(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function us(f){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,f),this.Za=er("retryDelaySeedMs",1e4,f),this.Ta=er("forwardChannelMaxRetries",2,f),this.va=er("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Su(f&&f.concurrentRequestLimit),this.Ba=new os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=us.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,R){kt(0),this.W=f,this.H=_||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=fd(this,null,this.W),tr(this)};function Mu(f){if(No(f),f.I==3){var _=f.V++,b=Ut(f.J);if(tt(b,"SID",f.M),tt(b,"RID",_),tt(b,"TYPE","terminate"),wa(f,b),_=new _i(f,f.j,_),_.M=2,_.A=_a(Ut(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=md(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ki(_)}dd(f)}function cs(f){f.g&&(ku(f),f.g.cancel(),f.g=null)}function No(f){cs(f),f.v&&(u.clearTimeout(f.v),f.v=null),Lo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function tr(f){if(!bu(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||x(),se||(H(),se=!0),I.add(_,f),f.D=0}}function ko(f,_){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(m(f.Ea,f,_),hd(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new _i(this,this.j,f);let J=this.o;if(this.U&&(J?(J=D(J),ce(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=od(this,Q,_),b=Ut(this.J),tt(b,"RID",f),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),wa(this,b),J&&(this.R?_="headers="+Tr(ti(J))+"&"+_:this.u&&Sa(b,this.u,J)),Au(this.h,Q),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",_),tt(b,"SID","null"),Q.U=!0,Gi(Q,b,null)):Gi(Q,b,_),this.I=2}}else this.I==3&&(f?Nu(this,f):this.i.length==0||bu(this.h)||Nu(this))};function Nu(f,_){var b;_?b=_.l:b=f.V++;const R=Ut(f.J);tt(R,"SID",f.M),tt(R,"RID",b),tt(R,"AID",f.K),wa(f,R),f.u&&f.o&&Sa(R,f.u,f.o),b=new _i(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=od(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Au(f.h,b),Gi(b,R,_)}function wa(f,_){f.H&&Re(f.H,function(b,R){tt(_,R,b)}),f.l&&Re({},function(b,R){tt(_,R,b)})}function od(f,_,b){b=Math.min(f.i.length,b);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Me=-1;for(;;){const Vt=["count="+b];Me==-1?b>0?(Me=Q[0].g,Vt.push("ofs="+Me)):Me=0:Vt.push("ofs="+Me);let Xe=!0;for(let yt=0;yt<b;yt++){var J=Q[yt].g;const ni=Q[yt].map;if(J-=Me,J<0)Me=Math.max(0,Q[yt].g-100),Xe=!1;else try{J="req"+J+"_"||"";try{var he=ni instanceof Map?ni:Object.entries(ni);for(const[ir,Ai]of he){let wi=Ai;h(Ai)&&(wi=ns(Ai)),Vt.push(J+ir+"="+encodeURIComponent(wi))}}catch(ir){throw Vt.push(J+"type="+encodeURIComponent("_badmap")),ir}}catch{R&&R(ni)}}if(Xe){he=Vt.join("&");break e}}he=void 0}return f=f.i.splice(0,b),_.G=f,he}function ld(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||x(),se||(H(),se=!0),I.add(_,f),f.A=0}}function xa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(m(f.Da,f),hd(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,ud(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),cs(this),ud(this))};function ku(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ud(f){f.g=new _i(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ut(f.na);tt(_,"RID","rpc"),tt(_,"SID",f.M),tt(_,"AID",f.K),tt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&tt(_,"TO",f.ia),tt(_,"TYPE","xmlhttp"),wa(f,_),f.u&&f.o&&Sa(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=_a(Ut(_)),b.u=null,b.R=!0,Io(b,f)}n.Va=function(){this.C!=null&&(this.C=null,cs(this),xa(this),kt(19))};function Lo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function cd(f,_){var b=null;if(f.g==_){Lo(f),ku(f),f.g=null;var R=2}else if(Wi(f.h,_))b=_.G,wu(f.h,_),R=1;else return;if(f.I!=0){if(_.o)if(R==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var Q=f.D;R=Ro(),$t(R,new Fi(R,b)),tr(f)}else ld(f);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(R==1&&ko(f,_)||R==2&&xa(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),Q){case 1:nr(f,5);break;case 4:nr(f,10);break;case 3:nr(f,6);break;default:nr(f,2)}}}function hd(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function nr(f,_){if(f.j.info("Error code "+_),_==2){var b=m(f.bb,f),R=f.Ua;const Q=!R;R=new zn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||en(R,"https"),_a(R),Q?Ti(R.toString(),b):Vu(R.toString(),b)}else kt(2);f.I=0,f.l&&f.l.pa(_),dd(f),No(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function dd(f){if(f.I=0,f.ja=[],f.l){const _=xu(f.h);(_.length!=0||f.i.length!=0)&&(V(f.ja,_),V(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function fd(f,_,b){var R=b instanceof zn?Ut(b):new zn(b);if(R.g!="")_&&(R.g=_+"."+R.g),is(R,R.u);else{var Q=u.location;R=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new zn(null);R&&en(J,R),_&&(J.g=_),Q&&is(J,Q),b&&(J.h=b),R=J}return b=f.G,_=f.wa,b&&_&&tt(R,b,_),tt(R,"VER",f.ka),wa(f,R),R}function md(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ot(new Ji({ab:b})):new ot(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pd(){}n=pd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function hs(){}hs.prototype.g=function(f,_){return new Sn(f,_)};function Sn(f,_){Nt.call(this),this.g=new us(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!O(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ar(this)}v(Sn,Nt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Mu(this.g)},Sn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=ns(f),f=b);_.i.push(new jt(_.Ya++,f)),_.I==3&&tr(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,Sn.Z.N.call(this)};function gd(f){sn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(gd,sn);function yd(){Jn.call(this),this.status=1}v(yd,Jn);function Ar(f){this.g=f}v(Ar,pd),Ar.prototype.ra=function(){$t(this.g,"a")},Ar.prototype.qa=function(f){$t(this.g,new gd(f))},Ar.prototype.pa=function(f){$t(this.g,new yd)},Ar.prototype.oa=function(){$t(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,fR=function(){return new hs},dR=function(){return Ro()},hR=Dt,xv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,jf=ya,Eu.COMPLETE="complete",cR=Eu,Yh.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Vc=Yh,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,uR=ot}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let au="12.9.0";function hk(n){au=n}const co=new N_("@firebase/firestore");function El(){return co.logLevel}function le(n,...e){if(co.logLevel<=qe.DEBUG){const t=e.map(j_);co.debug(`Firestore (${au}): ${n}`,...t)}}function An(n,...e){if(co.logLevel<=qe.ERROR){const t=e.map(j_);co.error(`Firestore (${au}): ${n}`,...t)}}function ea(n,...e){if(co.logLevel<=qe.WARN){const t=e.map(j_);co.warn(`Firestore (${au}): ${n}`,...t)}}function j_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,mR(n,i,t)}function mR(n,e,t){let i=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw An(i),new Error(i)}function _e(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||mR(e,a,i)}function De(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class fk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class mk{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new pR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class pk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class U_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=vk(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function Ce(n,e){return n<e?-1:n>e?1:0}function Rv(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),o=e.charAt(i);if(a!==o)return qy(a)===qy(o)?Ce(a,o):qy(a)?1:-1}return Ce(n.length,e.length)}const _k=55296,Ek=57343;function qy(n){const e=n.charCodeAt(0);return e>=_k&&e<=Ek}function Bl(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}function gR(n){return n+"\0"}const pb="__name__";class ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=ur.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ce(e.length,t.length)}static compareSegments(e,t){const i=ur.isNumericId(e),a=ur.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ur.extractNumericId(e).compare(ur.extractNumericId(t)):Rv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ze extends ur{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const Tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ur{construct(e,t,i){return new St(e,t,i)}static isValidIdentifier(e){return Tk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pb}static keyField(){return new St([pb])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ze.fromString(e))}static fromName(e){return new fe(Ze.fromString(e).popFirst(5))}static empty(){return new fe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ze(e.slice()))}}function yR(n,e,t){if(!t)throw new ue(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sk(n,e,t,i){if(e===!0&&i===!0)throw new ue(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gb(n){if(!fe.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yb(n){if(fe.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jm(n);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function xh(n,e){if(!vR(n))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new ue(te.INVALID_ARGUMENT,t);return!0}const vb=-62135596800,_b=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_b);return new He(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vb)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_b}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Kt("string",He._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new He(0,0))}static max(){return new be(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;class dm{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Iv(n){return n.fields.find((e=>e.kind===2))}function Qa(n){return n.fields.filter((e=>e.kind!==2))}dm.UNKNOWN_ID=-1;class Uf{constructor(e,t){this.fieldPath=e,this.kind=t}}class eh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eh(0,Wn.min())}}function bk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=be.fromTimestamp(i===1e9?new He(t+1,0):new He(t,i));return new Wn(a,fe.empty(),e)}function _R(n){return new Wn(n.readTime,n.key,Zc)}class Wn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wn(be.min(),fe.empty(),Zc)}static max(){return new Wn(be.max(),fe.empty(),Zc)}}function z_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==ER)throw n;le("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,i)=>{t(e)}))}static reject(e){return new K(((t,i)=>{i(e)}))}static waitFor(e){return new K(((t,i)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&t()}),(d=>i(d)))})),u=!0,o===a&&t()}))}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next((a=>a?K.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,o)=>{i.push(t.call(this,a,o))})),this.waitFor(i)}static mapArray(e,t){return new K(((i,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next((y=>{u[m]=y,++h,h===o&&i(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new K(((i,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):i()};o()}))}}const $n="SimpleDb";class Zm{static open(e,t,i,a){try{return new Zm(t,e.transaction(a,i))}catch(o){throw new jc(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new dr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new jc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=B_(i.target.error);this.S.reject(new jc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le($n,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wk(t)}}class Xs{static delete(e){return le($n,"Removing database:",e),Wa(Kx().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!tR())return!1;if(Xs.F())return!0;const e=Xt(),t=Xs.M(e),i=0<t&&t<10,a=SR(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Xs.M(Xt())===12.2&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le($n,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;t(u)},a.onblocked=()=>{i(new jc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new ue(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ue(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new jc(e,u))},a.onupgradeneeded=o=>{le($n,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,a.transaction,o.oldVersion,this.version).next((()=>{le($n,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Zm.open(this.db,e,o?"readonly":"readwrite",i),d=a(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),K.reject(m)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,m=d.name!=="FirebaseError"&&u<3;if(le($n,"Transaction failed with error:",d.message,"Retrying:",m),this.close(),!m)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Ak{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Wa(this.U.delete())}}class jc extends ue{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function la(n){return n.name==="IndexedDbTransactionError"}class wk{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(le($n,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(le($n,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Wa(i)}add(e){return le($n,"ADD",this.store.name,e,e),Wa(this.store.add(e))}get(e){return Wa(this.store.get(e)).next((t=>(t===void 0&&(t=null),le($n,"GET",this.store.name,e,t),t)))}delete(e){return le($n,"DELETE",this.store.name,e),Wa(this.store.delete(e))}count(){return le($n,"COUNT",this.store.name),Wa(this.store.count())}H(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(i.range);return new K(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(i),u=[];return this.J(o,((h,d)=>{u.push(d)})).next((()=>u))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new K(((a,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(e,t){le($n,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.J(a,((o,u,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.J(a,t)}te(e){const t=this.cursor({});return new K(((i,a)=>{t.onerror=o=>{const u=B_(o.target.error);a(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}J(e,t){const i=[];return new K(((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new Ak(h),m=t(h.primaryKey,h.value,d);if(m instanceof K){const y=m.catch((v=>(d.done(),K.reject(v))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>K.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wa(n){return new K(((e,t)=>{n.onsuccess=i=>{const a=i.target.result;e(a)},n.onerror=i=>{const a=B_(i.target.error);t(a)}}))}let Eb=!1;function B_(n){const e=Xs.M(Xt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Eb||(Eb=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Uc="IndexBackfiller";class xk{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Uc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(Uc,`Documents written: ${t}`)}catch(t){la(t)?le(Uc,"Ignoring IndexedDB error during index backfill: ",t):await To(t)}await this.re(6e4)}))}}class Rk{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,o=!0;return K.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!i.has(u))return le(Uc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,i.add(u)}));o=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,o))).next((h=>(le(Uc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,o)=>{const u=_R(o);z_(u,i)>0&&(i=u)})),new Wn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fi.ce=-1;const io=-1;function ep(n){return n==null}function th(n){return n===0&&1/n==-1/0}function Ik(n){return typeof n=="number"&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const fm="";function En(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tb(e)),e=Ck(n.get(t),e);return Tb(e)}function Ck(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case fm:t+="";break;default:t+=o}}return t}function Tb(n){return n+fm+""}function cr(n){const e=n.length;if(_e(e>=2,64408,{path:n}),e===2)return _e(n.charAt(0)===fm&&n.charAt(1)==="",56145,{path:n}),Ze.emptyPath();const t=e-2,i=[];let a="";for(let o=0;o<e;){const u=n.indexOf(fm,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(o,u),a+="\0";break;case"":a+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new Ze(i)}const $a="remoteDocuments",Rh="owner",ml="owner",nh="mutationQueues",Dk="userId",Oi="mutations",Sb="batchId",eo="userMutationsIndex",bb=["userId","batchId"];function zf(n,e){return[n,En(e)]}function bR(n,e,t){return[n,En(e),t]}const Vk={},Fl="documentMutations",mm="remoteDocumentsV14",Ok=["prefixPath","collectionGroup","readTime","documentId"],Bf="documentKeyIndex",Pk=["prefixPath","collectionGroup","documentId"],AR="collectionGroupIndex",Mk=["collectionGroup","readTime","prefixPath","documentId"],ih="remoteDocumentGlobal",Cv="remoteDocumentGlobalKey",ql="targets",wR="queryTargetsIndex",Nk=["canonicalId","targetId"],Hl="targetDocuments",kk=["targetId","path"],F_="documentTargetsIndex",Lk=["path","targetId"],pm="targetGlobalKey",ro="targetGlobal",rh="collectionParents",jk=["collectionId","parent"],Gl="clientMetadata",Uk="clientId",tp="bundles",zk="bundleId",np="namedQueries",Bk="name",q_="indexConfiguration",Fk="indexId",Dv="collectionGroupIndex",qk="collectionGroup",zc="indexState",Hk=["indexId","uid"],xR="sequenceNumberIndex",Gk=["uid","sequenceNumber"],Bc="indexEntries",Kk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RR="documentKeyIndex",Qk=["indexId","uid","orderedDocumentKey"],ip="documentOverlays",$k=["userId","collectionPath","documentId"],Vv="collectionPathOverlayIndex",Yk=["userId","collectionPath","largestBatchId"],IR="collectionGroupOverlayIndex",Wk=["userId","collectionGroup","largestBatchId"],H_="globals",Xk="name",CR=[nh,Oi,Fl,$a,ql,Rh,ro,Hl,Gl,ih,rh,tp,np],Jk=[...CR,ip],DR=[nh,Oi,Fl,mm,ql,Rh,ro,Hl,Gl,ih,rh,tp,np,ip],VR=DR,G_=[...VR,q_,zc,Bc],Zk=G_,OR=[...G_,H_],e4=OR;class Ov extends TR{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Jt(n,e){const t=De(n);return Xs.O(t.le,e)}function Ab(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(n){return n.hasNext()?n.getNext():void 0}class jn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new jn([])}unionWith(e){let t=new st(St.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class MR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MR("Invalid base64 string: "+o):o}})(e);return new Qt(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const t4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(n){if(_e(!!n,39018),typeof n=="string"){let e=0;const t=t4.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}const NR="server_timestamp",kR="__type__",LR="__previous_value__",jR="__local_write_time__";function K_(n){return(n?.mapValue?.fields||{})[kR]?.stringValue===NR}function rp(n){const e=n.mapValue.fields[LR];return K_(e)?rp(e):e}function sh(n){const e=Qr(n.mapValue.fields[jR].timestampValue);return new He(e.seconds,e.nanos)}class n4{constructor(e,t,i,a,o,u,h,d,m,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const gm="(default)";class ho{constructor(e,t){this.projectId=e,this.database=t||gm}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===gm}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function i4(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(n.options.projectId,e)}const Q_="__type__",UR="__max__",Hs={mapValue:{fields:{__type__:{stringValue:UR}}}},$_="__vector__",Kl="value",Ff={nullValue:"NULL_VALUE"};function ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?K_(n)?4:zR(n)?9007199254740991:sp(n)?10:11:ye(28295,{value:n})}function yr(n,e){if(n===e)return!0;const t=ta(n);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sh(n).isEqual(sh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Qr(a.timestampValue),h=Qr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return $r(a.bytesValue).isEqual($r(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return _t(a.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _t(a.integerValue)===_t(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=_t(a.doubleValue),h=_t(o.doubleValue);return u===h?th(u)===th(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Bl(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Ab(u)!==Ab(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!yr(u[d],h[d])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function ah(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function na(n,e){if(n===e)return 0;const t=ta(n),i=ta(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=_t(o.integerValue||o.doubleValue),d=_t(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return xb(n.timestampValue,e.timestampValue);case 4:return xb(sh(n),sh(e));case 5:return Rv(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=$r(o),d=$r(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Ce(h[m],d[m]);if(y!==0)return y}return Ce(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ce(_t(o.latitude),_t(u.latitude));return h!==0?h:Ce(_t(o.longitude),_t(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Rb(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[Kl]?.arrayValue,y=d[Kl]?.arrayValue,v=Ce(m?.values?.length||0,y?.values?.length||0);return v!==0?v:Rb(m,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Hs.mapValue&&u===Hs.mapValue)return 0;if(o===Hs.mapValue)return 1;if(u===Hs.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=Rv(d[v],y[v]);if(E!==0)return E;const A=na(h[d[v]],m[y[v]]);if(A!==0)return A}return Ce(d.length,y.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function xb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=Qr(n),i=Qr(e),a=Ce(t.seconds,i.seconds);return a!==0?a:Ce(t.nanos,i.nanos)}function Rb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=na(t[a],i[a]);if(o)return o}return Ce(t.length,i.length)}function Ql(n){return Pv(n)}function Pv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Qr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=Pv(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Pv(t.fields[u])}`;return a+"}"})(n.mapValue):ye(61005,{value:n})}function qf(n){switch(ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rp(n);return e?16+qf(e):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+qf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ua(i.fields,((o,u)=>{a+=o.length+qf(u)})),a})(n.mapValue);default:throw ye(13486,{value:n})}}function oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mv(n){return!!n&&"integerValue"in n}function lh(n){return!!n&&"arrayValue"in n}function Ib(n){return!!n&&"nullValue"in n}function Cb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hf(n){return!!n&&"mapValue"in n}function sp(n){return(n?.mapValue?.fields||{})[Q_]?.stringValue===$_}function Fc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ua(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Fc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(n.arrayValue.values[t]);return e}return{...n}}function zR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}const BR={mapValue:{fields:{[Q_]:{stringValue:$_},[Kl]:{arrayValue:{}}}}};function r4(n){return"nullValue"in n?Ff:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oh(ho.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?sp(n)?BR:{mapValue:{}}:ye(35942,{value:n})}function s4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oh(ho.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?BR:"mapValue"in n?sp(n)?{mapValue:{}}:Hs:ye(61959,{value:n})}function Db(n,e){const t=na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Vb(n,e){const t=na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=St.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Fc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ua(t,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new vn(Fc(this.value))}}function FR(n){const e=[];return ua(n.fields,((t,i)=>{const a=new St([t]);if(Hf(i)){const o=FR(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new jn(e)}class Rt{constructor(e,t,i,a,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Rt(e,0,be.min(),be.min(),be.min(),vn.empty(),0)}static newFoundDocument(e,t,i,a){return new Rt(e,1,t,be.min(),i,a,0)}static newNoDocument(e,t){return new Rt(e,2,t,be.min(),be.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new Rt(e,3,t,be.min(),be.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(e,t){this.position=e,this.inclusive=t}}function Ob(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=fe.comparator(fe.fromName(u.referenceValue),t.key):i=na(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function a4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qR{}class Ge extends qR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new o4(e,t,i):t==="array-contains"?new c4(e,i):t==="in"?new YR(e,i):t==="not-in"?new h4(e,i):t==="array-contains-any"?new d4(e,i):new Ge(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new l4(e,i):new u4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&ta(this.value)===ta(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends qR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rt(e,t)}matches(e){return Yl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yl(n){return n.op==="and"}function Nv(n){return n.op==="or"}function Y_(n){return HR(n)&&Yl(n)}function HR(n){for(const e of n.filters)if(e instanceof rt)return!1;return!0}function kv(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(Y_(n))return n.filters.map((e=>kv(e))).join(",");{const e=n.filters.map((t=>kv(t))).join(",");return`${n.op}(${e})`}}function GR(n,e){return n instanceof Ge?(function(i,a){return a instanceof Ge&&i.op===a.op&&i.field.isEqual(a.field)&&yr(i.value,a.value)})(n,e):n instanceof rt?(function(i,a){return a instanceof rt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&GR(u,a.filters[h])),!0):!1})(n,e):void ye(19439)}function KR(n,e){const t=n.filters.concat(e);return rt.create(t,n.op)}function QR(n){return n instanceof Ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`})(n):n instanceof rt?(function(t){return t.op.toString()+" {"+t.getFilters().map(QR).join(" ,")+"}"})(n):"Filter"}class o4 extends Ge{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class l4 extends Ge{constructor(e,t){super(e,"in",t),this.keys=$R("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class u4 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=$R("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $R(n,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class c4 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lh(t)&&ah(t.arrayValue,this.value)}}class YR extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ah(this.value.arrayValue,t)}}class h4 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ah(this.value.arrayValue,t)}}class d4 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ah(this.value.arrayValue,i)))}}class f4{constructor(e,t=null,i=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Lv(n,e=null,t=[],i=[],a=null,o=null,u=null){return new f4(n,e,t,i,a,o,u)}function fo(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>kv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),ep(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ql(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ql(i))).join(",")),e.Te=t}return e.Te}function Ih(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pb(n.startAt,e.startAt)&&Pb(n.endAt,e.endAt)}function ym(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function vm(n,e){return n.filters.filter((t=>t instanceof Ge&&t.field.isEqual(e)))}function Mb(n,e,t){let i=Ff,a=!0;for(const o of vm(n,e)){let u=Ff,h=!0;switch(o.op){case"<":case"<=":u=r4(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Ff}Db({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Db({value:i,inclusive:a},{value:u,inclusive:t.inclusive})<0&&(i=u,a=t.inclusive);break}}return{value:i,inclusive:a}}function Nb(n,e,t){let i=Hs,a=!0;for(const o of vm(n,e)){let u=Hs,h=!0;switch(o.op){case">=":case">":u=s4(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Hs}Vb({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Vb({value:i,inclusive:a},{value:u,inclusive:t.inclusive})>0&&(i=u,a=t.inclusive);break}}return{value:i,inclusive:a}}class ou{constructor(e,t=null,i=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m4(n,e,t,i,a,o,u,h){return new ou(n,e,t,i,a,o,u,h)}function Ch(n){return new ou(n)}function kb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p4(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function WR(n){return n.collectionGroup!==null}function qc(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new st(St.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new uh(o,i))})),t.has(St.keyField().canonicalString())||e.Ie.push(new uh(St.keyField(),i))}return e.Ie}function pi(n){const e=De(n);return e.Ee||(e.Ee=g4(e,qc(n))),e.Ee}function g4(n,e){if(n.limitType==="F")return Lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new uh(a.field,o)}));const t=n.endAt?new $l(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new $l(n.startAt.position,n.startAt.inclusive):null;return Lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function jv(n,e){const t=n.filters.concat([e]);return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function y4(n,e){const t=n.explicitOrderBy.concat([e]);return new ou(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function _m(n,e,t){return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return Ih(pi(n),pi(e))&&n.limitType===e.limitType}function XR(n){return`${fo(pi(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>QR(a))).join(", ")}]`),ep(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ql(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ql(a))).join(",")),`Target(${i})`})(pi(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):fe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,a){for(const o of qc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const m=Ob(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,qc(i),a)||i.endAt&&!(function(u,h,d){const m=Ob(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,qc(i),a))})(n,e)}function v4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JR(n){return(e,t)=>{let i=!1;for(const a of qc(n)){const o=_4(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function _4(n,e,t){const i=n.field.isKeyField()?fe.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?na(d,m):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}class Jr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((t,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return PR(this.inner)}size(){return this.innerSize}}const E4=new Tt(fe.comparator);function Yn(){return E4}const ZR=new Tt(fe.comparator);function Oc(...n){let e=ZR;for(const t of n)e=e.insert(t.key,t);return e}function eI(n){let e=ZR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function hr(){return Hc()}function tI(){return Hc()}function Hc(){return new Jr((n=>n.toString()),((n,e)=>n.isEqual(e)))}const T4=new Tt(fe.comparator),S4=new st(fe.comparator);function Le(...n){let e=S4;for(const t of n)e=e.add(t);return e}const b4=new st(Ce);function A4(){return b4}function W_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function nI(n){return{integerValue:""+n}}function w4(n,e){return Ik(e)?nI(e):W_(n,e)}class op{constructor(){this._=void 0}}function x4(n,e,t){return n instanceof ch?(function(a,o){const u={fields:{[kR]:{stringValue:NR},[jR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&K_(o)&&(o=rp(o)),o&&(u.fields[LR]=o),{mapValue:u}})(t,e):n instanceof mo?rI(n,e):n instanceof Wl?sI(n,e):(function(a,o){const u=iI(a,o),h=Lb(u)+Lb(a.Ae);return Mv(u)&&Mv(a.Ae)?nI(h):W_(a.serializer,h)})(n,e)}function R4(n,e,t){return n instanceof mo?rI(n,e):n instanceof Wl?sI(n,e):t}function iI(n,e){return n instanceof hh?(function(i){return Mv(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class ch extends op{}class mo extends op{constructor(e){super(),this.elements=e}}function rI(n,e){const t=aI(e);for(const i of n.elements)t.some((a=>yr(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Wl extends op{constructor(e){super(),this.elements=e}}function sI(n,e){let t=aI(e);for(const i of n.elements)t=t.filter((a=>!yr(a,i)));return{arrayValue:{values:t}}}class hh extends op{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Lb(n){return _t(n.integerValue||n.doubleValue)}function aI(n){return lh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class oI{constructor(e,t){this.field=e,this.transform=t}}function I4(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof mo&&a instanceof mo||i instanceof Wl&&a instanceof Wl?Bl(i.elements,a.elements,yr):i instanceof hh&&a instanceof hh?yr(i.Ae,a.Ae):i instanceof ch&&a instanceof ch})(n.transform,e.transform)}class C4{constructor(e,t){this.version=e,this.transformResults=t}}class rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lp{}function lI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vh(n.key,rn.none()):new lu(n.key,n.data,rn.none());{const t=n.data,i=vn.empty();let a=new st(St.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Zr(n.key,i,new jn(a.toArray()),rn.none())}}function D4(n,e,t){n instanceof lu?(function(a,o,u){const h=a.value.clone(),d=Ub(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Zr?(function(a,o,u){if(!Gf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Ub(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(uI(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Gc(n,e,t,i){return n instanceof lu?(function(o,u,h,d){if(!Gf(o.precondition,u))return h;const m=o.value.clone(),y=zb(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Zr?(function(o,u,h,d){if(!Gf(o.precondition,u))return h;const m=zb(o.fieldTransforms,d,u),y=u.data;return y.setAll(uI(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(o,u,h){return Gf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function V4(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=iI(i.transform,a||null);o!=null&&(t===null&&(t=vn.empty()),t.set(i.field,o))}return t||null}function jb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Bl(i,a,((o,u)=>I4(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends lp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zr extends lp{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Ub(n,e,t){const i=new Map;_e(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);i.set(o.field,R4(u,h,t[a]))}return i}function zb(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,x4(o,u,e))}return i}class Vh extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cI extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&D4(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Gc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=tI();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const d=lI(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((t,i)=>jb(t,i)))&&Bl(this.baseMutations,e.baseMutations,((t,i)=>jb(t,i)))}}class J_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return T4})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new J_(e,t,i,a)}}class Z_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class O4{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,$e;function P4(n){switch(n){case te.OK:return ye(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function hI(n){if(n===void 0)return An("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ht.OK:return te.OK;case Ht.CANCELLED:return te.CANCELLED;case Ht.UNKNOWN:return te.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return te.INTERNAL;case Ht.UNAVAILABLE:return te.UNAVAILABLE;case Ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ht.NOT_FOUND:return te.NOT_FOUND;case Ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ht.ABORTED:return te.ABORTED;case Ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ht.DATA_LOSS:return te.DATA_LOSS;default:return ye(39323,{code:n})}}($e=Ht||(Ht={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function M4(){return new TextEncoder}const N4=new Ws([4294967295,4294967295],0);function Bb(n){const e=M4().encode(n),t=new lR;return t.update(e),new Uint8Array(t.digest())}function Fb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([t,i],0),new Ws([a,o],0)]}class e0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(i<0)throw new Pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ws.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ws.fromNumber(i)));return a.compare(N4)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Bb(e),[i,a]=Fb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new e0(o,a,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Bb(e),[i,a]=Fb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.be(u)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class up{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new up(be.min(),a,new Tt(Ce),Yn(),Le())}}class Oh{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Oh(i,t,Le(),Le(),Le())}}class Kf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class dI{constructor(e,t){this.targetId=e,this.Ce=t}}class fI{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class qb{constructor(){this.ve=0,this.Fe=Hb(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),i=Le();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ye(38017,{changeType:o})}})),new Oh(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Hb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class k4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yn(),this.He=xf(),this.Je=xf(),this.Ze=new Tt(Ce)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(ym(o))if(i===0){const u=new fe(o.path);this.et(t,u,Rt.newNoDocument(u,be.min()))}else _e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=$r(i).toUint8Array()}catch(d){if(d instanceof MR)return ea("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,o)}catch(d){return ea(d instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&ym(h.target)){const d=new fe(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Rt.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let i=Le();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new up(e,t,this.Ze,this.je,i);return this.je=Yn(),this.He=xf(),this.Je=xf(),this.Ze=new Tt(Ce),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new qb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new st(Ce),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new st(Ce),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xf(){return new Tt(fe.comparator)}function Hb(){return new Tt(fe.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U4={and:"AND",or:"OR"};class z4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uv(n,e){return n.useProto3Json||ep(e)?e:{value:e}}function Xl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B4(n,e){return Xl(n,e.toTimestamp())}function In(n){return _e(!!n,49232),be.fromTimestamp((function(t){const i=Qr(t);return new He(i.seconds,i.nanos)})(n))}function t0(n,e){return zv(n,e).canonicalString()}function zv(n,e){const t=(function(a){return new Ze(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function pI(n){const e=Ze.fromString(n);return _e(AI(e),10190,{key:e.toString()}),e}function Em(n,e){return t0(n.databaseId,e.path)}function so(n,e){const t=pI(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(vI(t))}function gI(n,e){return t0(n.databaseId,e)}function yI(n){const e=pI(n);return e.length===4?Ze.emptyPath():vI(e)}function Bv(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vI(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gb(n,e,t){return{name:Em(n,e),fields:t.value.mapValue.fields}}function F4(n,e,t){const i=so(n,e.name),a=In(e.updateTime),o=e.createTime?In(e.createTime):be.min(),u=new vn({mapValue:{fields:e.fields}}),h=Rt.newFoundDocument(i,a,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function q4(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ye(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(_e(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(_e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?te.UNKNOWN:hI(m.code);return new ue(y,m.message||"")})(u);t=new fI(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=so(n,i.document.name),o=In(i.document.updateTime),u=i.document.createTime?In(i.document.createTime):be.min(),h=new vn({mapValue:{fields:i.document.fields}}),d=Rt.newFoundDocument(a,o,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Kf(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=so(n,i.document),o=i.readTime?In(i.readTime):be.min(),u=Rt.newNoDocument(a,o),h=i.removedTargetIds||[];t=new Kf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=so(n,i.document),o=i.removedTargetIds||[];t=new Kf([],o,a,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new O4(a,o),h=i.targetId;t=new dI(h,u)}}return t}function Tm(n,e){let t;if(e instanceof lu)t={update:Gb(n,e.key,e.value)};else if(e instanceof Vh)t={delete:Em(n,e.key)};else if(e instanceof Zr)t={update:Gb(n,e.key,e.data),updateMask:Y4(e.fieldMask)};else{if(!(e instanceof cI))return ye(16599,{dt:e.type});t={verify:Em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof ch)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ye(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:B4(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function Fv(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?rn.updateTime(In(o.updateTime)):o.exists!==void 0?rn.exists(o.exists):rn.none()})(e.currentDocument):rn.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)_e(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new ch;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new mo(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Wl(y)}else"increment"in h?d=new hh(u,h.increment):ye(16584,{proto:h});const m=St.fromServerFormat(h.fieldPath);return new oI(m,d)})(n,a))):[];if(e.update){e.update.name;const a=so(n,e.update.name),o=new vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const m=d.fieldPaths||[];return new jn(m.map((y=>St.fromServerFormat(y))))})(e.updateMask);return new Zr(a,o,u,t,i)}return new lu(a,o,t,i)}if(e.delete){const a=so(n,e.delete);return new Vh(a,t)}if(e.verify){const a=so(n,e.verify);return new cI(a,t)}return ye(1463,{proto:e})}function H4(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?In(a.updateTime):In(o);return u.isEqual(be.min())&&(u=In(o)),new C4(u,a.transformResults||[])})(t,e)))):[]}function _I(n,e){return{documents:[gI(n,e.path)]}}function EI(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gI(n,a);const o=(function(m){if(m.length!==0)return bI(rt.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Sl(E.field),direction:K4(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Uv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function TI(n){let e=yI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_e(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(v){const E=SI(v);return E instanceof rt&&Y_(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((E=>(function(V){return new uh(bl(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,ep(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(v){const E=!!v.before,A=v.values||[];return new $l(A,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const E=!v.before,A=v.values||[];return new $l(A,E)})(t.endAt)),m4(e,a,u,o,h,"F",d,m)}function G4(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bl(t.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(t.unaryFilter.field);return Ge.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ge.create(bl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return rt.create(t.compositeFilter.filters.map((i=>SI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function K4(n){return L4[n]}function Q4(n){return j4[n]}function $4(n){return U4[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function bl(n){return St.fromServerFormat(n.fieldPath)}function bI(n){return n instanceof Ge?(function(t){if(t.op==="=="){if(Cb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(Ib(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(Ib(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:Q4(t.op),value:t.value}}})(n):n instanceof rt?(function(t){const i=t.getFilters().map((a=>bI(a)));return i.length===1?i[0]:{compositeFilter:{op:$4(t.op),filters:i}}})(n):ye(54877,{filter:n})}function Y4(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function AI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function wI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class zr{constructor(e,t,i,a,o=be.min(),u=be.min(),h=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xI{constructor(e){this.yt=e}}function W4(n,e){let t;if(e.document)t=F4(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=fe.fromSegments(e.noDocument.path),a=go(e.noDocument.readTime);t=Rt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=fe.fromSegments(e.unknownDocument.path),a=go(e.unknownDocument.version);t=Rt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const o=new He(a[0],a[1]);return be.fromTimestamp(o)})(e.readTime)),t}function Kb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,u){return{name:Em(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Xl(o,u.version.toTimestamp()),createTime:Xl(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:po(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:po(e.version)}}return i}function Sm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function po(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(n){const e=new He(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function Xa(n,e){const t=(e.baseMutations||[]).map((o=>Fv(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>Fv(n.yt,o))),a=He.fromMillis(e.localWriteTimeMs);return new X_(e.batchId,a,t,i)}function Mc(n){const e=go(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?go(n.lastLimboFreeSnapshotVersion):be.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return _e(u===1,1966,{count:u}),pi(Ch(yI(o.documents[0])))})(n.query):(function(o){return pi(TI(o))})(n.query),new zr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Qt.fromBase64String(n.resumeToken))}function RI(n,e){const t=po(e.snapshotVersion),i=po(e.lastLimboFreeSnapshotVersion);let a;a=ym(e.target)?_I(n.yt,e.target):EI(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function II(n){const e=TI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_m(e,e.limit,"L"):e}function Hy(n,e){return new Z_(e.largestBatchId,Fv(n.yt,e.overlayMutation))}function Qb(n,e){const t=e.path.lastSegment();return[n,En(e.path.popLast()),t]}function $b(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:po(i.readTime),documentKey:En(i.documentKey.path),largestBatchId:i.largestBatchId}}class X4{getBundleMetadata(e,t){return Yb(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:go(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return Yb(e).put((function(a){return{bundleId:a.id,createTime:po(In(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Wb(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:II(o.bundledQuery),readTime:go(o.readTime)}})(i)}))}saveNamedQuery(e,t){return Wb(e).put((function(a){return{name:a.name,readTime:po(In(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Yb(n){return Jt(n,tp)}function Wb(n){return Jt(n,np)}class cp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new cp(e,i)}getOverlay(e,t){return Sc(e).get(Qb(this.userId,t)).next((i=>i?Hy(this.serializer,i):null))}getOverlays(e,t){const i=hr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((o,u)=>{const h=new Z_(t,u);a.push(this.bt(e,h))})),K.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((u=>a.add(En(u.getCollectionPath()))));const o=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Sc(e).X(Vv,h))})),K.waitFor(o)}getOverlaysForCollection(e,t,i){const a=hr(),o=En(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Sc(e).H(Vv,u).next((h=>{for(const d of h){const m=Hy(this.serializer,d);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const o=hr();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sc(e).ee({index:IR,range:h},((d,m,y)=>{const v=Hy(this.serializer,m);o.size()<a||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>o))}bt(e,t){return Sc(e).put((function(a,o,u){const[h,d,m]=Qb(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Tm(a.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Sc(n){return Jt(n,ip)}class J4{St(e){return Jt(e,H_)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t?.value;return i?Qt.fromUint8Array(i):Qt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ja{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(_t(e.integerValue));else if("doubleValue"in e){const i=_t(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),th(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Qr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt($r(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?zR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):sp(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ye(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Kl,o=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(_t(o)),this.Ot(a,t),this.Ct(i[a],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),fe.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ja.Wt=new Ja;const gl=255;function Z4(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Xb(n){const e=64-(function(i){let a=0;for(let o=0;o<8;++o){const u=Z4(255&i[o]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(e/8)}class eL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),i=Xb(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=Xb(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(gl),this.sn(255)}_n(){this.an(gl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===gl?(this.sn(gl),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===gl?(this.an(gl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class tL{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class nL{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bc{constructor(){this.cn=new eL,this.ascending=new tL(this.cn),this.descending=new nL(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Za{constructor(e,t,i,a){this.hn=e,this.Pn=t,this.Tn=i,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new Za(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:Qf(this.Tn),directionalValue:Qf(this.In),orderedDocumentKey:Qf(t),documentKey:i.path.toArray()}}An(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ms(n,e){let t=n.hn-e.hn;return t!==0?t:(t=Jb(n.Tn,e.Tn),t!==0?t:(t=Jb(n.In,e.In),t!==0?t:fe.comparator(n.Pn,e.Pn)))}function Jb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function Qf(n){return eR()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(n):n}function Zb(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(n)}class eA{constructor(e){this.Vn=new st(((t,i)=>St.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Iv(e);if(t!==void 0&&!this.pn(t))return!1;const i=Qa(e);let a=new Set,o=0,u=0;for(;o<i.length&&this.pn(i[o]);++o)a=a.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[o];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++o}for(;o<i.length;++o){const h=i[o];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new st(St.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Uf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Uf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Uf(i.field,i.dir==="asc"?0:1)));return new dm(dm.UNKNOWN_ID,this.collectionId,t,eh.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function CI(n){if(_e(n instanceof Ge||n instanceof rt,20012),n instanceof Ge){if(n instanceof YR){const t=n.value.arrayValue?.values?.map((i=>Ge.create(n.field,"==",i)))||[];return rt.create(t,"or")}return n}const e=n.filters.map((t=>CI(t)));return rt.create(e,n.op)}function iL(n){if(n.getFilters().length===0)return[];const e=Gv(CI(n));return _e(DI(e),7391),qv(e)||Hv(e)?[e]:e.getFilters()}function qv(n){return n instanceof Ge}function Hv(n){return n instanceof rt&&Y_(n)}function DI(n){return qv(n)||Hv(n)||(function(t){if(t instanceof rt&&Nv(t)){for(const i of t.getFilters())if(!qv(i)&&!Hv(i))return!1;return!0}return!1})(n)}function Gv(n){if(_e(n instanceof Ge||n instanceof rt,34018),n instanceof Ge)return n;if(n.filters.length===1)return Gv(n.filters[0]);const e=n.filters.map((i=>Gv(i)));let t=rt.create(e,n.op);return t=bm(t),DI(t)?t:(_e(t instanceof rt,64498),_e(Yl(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((i,a)=>n0(i,a))))}function n0(n,e){let t;return _e(n instanceof Ge||n instanceof rt,38388),_e(e instanceof Ge||e instanceof rt,25473),t=n instanceof Ge?e instanceof Ge?(function(a,o){return rt.create([a,o],"and")})(n,e):tA(n,e):e instanceof Ge?tA(e,n):(function(a,o){if(_e(a.filters.length>0&&o.filters.length>0,48005),Yl(a)&&Yl(o))return KR(a,o.getFilters());const u=Nv(a)?a:o,h=Nv(a)?o:a,d=u.filters.map((m=>n0(m,h)));return rt.create(d,"or")})(n,e),bm(t)}function tA(n,e){if(Yl(e))return KR(e,n.getFilters());{const t=e.filters.map((i=>n0(n,i)));return rt.create(t,"or")}}function bm(n){if(_e(n instanceof Ge||n instanceof rt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return bm(e[0]);if(HR(n))return n;const t=e.map((a=>bm(a))),i=[];return t.forEach((a=>{a instanceof Ge?i.push(a):a instanceof rt&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:rt.create(i,n.op)}class rL{constructor(){this.Sn=new i0}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Wn.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class i0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new st(Ze.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new st(Ze.comparator)).toArray()}}const nA="IndexedDbIndexManager",Rf=new Uint8Array(0);class sL{constructor(e,t){this.databaseId=t,this.Dn=new i0,this.Cn=new Jr((i=>fo(i)),((i,a)=>Ih(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:i,parent:En(a)};return iA(e).put(o)}return K.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[gR(t),""],!1,!0);return iA(e).H(a).next((o=>{for(const u of o){if(u.collectionId!==t)break;i.push(cr(u.parent))}return i}))}addFieldIndex(e,t){const i=Ac(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete a.indexId;const o=i.add(a);if(t.indexState){const u=vl(e);return o.next((h=>{u.put($b(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Ac(e),a=vl(e),o=yl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ac(e),i=yl(e),a=vl(e);return t.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(e,t){return K.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const o=new eA(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=yl(e);let a=!0;const o=new Map;return K.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{a&&(a=!!h),o.set(u,h)})))).next((()=>{if(a){let u=Le();const h=[];return K.forEach(o,((d,m)=>{le(nA,`Using index ${(function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map((X=>`${X.fieldPath}:${X.kind}`)).join(",")}`})(d)} to execute ${fo(t)}`);const y=(function(B,X){const H=Iv(X);if(H===void 0)return null;for(const se of vm(B,H.fieldPath))switch(se.op){case"array-contains-any":return se.value.arrayValue.values||[];case"array-contains":return[se.value]}return null})(m,d),v=(function(B,X){const H=new Map;for(const se of Qa(X))for(const I of vm(B,se.fieldPath))switch(I.op){case"==":case"in":H.set(se.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return H.set(se.fieldPath.canonicalString(),I.value),Array.from(H.values())}return null})(m,d),E=(function(B,X){const H=[];let se=!0;for(const I of Qa(X)){const x=I.kind===0?Mb(B,I.fieldPath,B.startAt):Nb(B,I.fieldPath,B.startAt);H.push(x.value),se&&(se=x.inclusive)}return new $l(H,se)})(m,d),A=(function(B,X){const H=[];let se=!0;for(const I of Qa(X)){const x=I.kind===0?Nb(B,I.fieldPath,B.endAt):Mb(B,I.fieldPath,B.endAt);H.push(x.value),se&&(se=x.inclusive)}return new $l(H,se)})(m,d),V=this.Mn(d,m,E),M=this.Mn(d,m,A),N=this.xn(d,m,v),U=this.On(d.indexId,y,V,E.inclusive,M,A.inclusive,N);return K.forEach(U,(z=>i.Z(z,t.limit).next((B=>{B.forEach((X=>{const H=fe.fromSegments(X.documentKey);u.has(H)||(u=u.add(H),h.push(H))}))}))))})).next((()=>h))}return K.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=iL(rt.create(e.filters,"and")).map((i=>Lv(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,a,o,u,h){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),m=d/(t!=null?t.length:1),y=[];for(let v=0;v<d;++v){const E=t?this.Nn(t[v/m]):Rf,A=this.Bn(e,E,i[v%m],a),V=this.Ln(e,E,o[v%m],u),M=h.map((N=>this.Bn(e,E,N,!0)));y.push(...this.createRange(A,V,M))}return y}Bn(e,t,i,a){const o=new Za(e,fe.empty(),t,i);return a?o:o.En()}Ln(e,t,i,a){const o=new Za(e,fe.empty(),t,i);return a?o.En():o}Fn(e,t){const i=new eA(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let u=null;for(const h of o)i.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let i=2;const a=this.vn(t);return K.forEach(a,(o=>this.Fn(e,o).next((u=>{u?i!==0&&u.fields.length<(function(d){let m=new st(St.comparator),y=!1;for(const v of d.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:m=m.add(E.field));for(const v of d.orderBy)v.field.isKeyField()||(m=m.add(v.field));return m.size+(y?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(t)&&a.length>1&&i===2?1:i))}kn(e,t){const i=new bc;for(const a of Qa(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const u=i.ln(a.kind);Ja.Wt.Dt(o,u)}return i.un()}Nn(e){const t=new bc;return Ja.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new bc;return Ja.Wt.Dt(oh(this.databaseId,t),i.ln((function(o){const u=Qa(o);return u.length===0?0:u[u.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let a=[];a.push(new bc);let o=0;for(const u of Qa(e)){const h=i[o++];for(const d of a)if(this.qn(t,u.fieldPath)&&lh(h))a=this.Un(a,u,h);else{const m=d.ln(u.kind);Ja.Wt.Dt(h,m)}}return this.$n(a)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const a=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of a){const d=new bc;d.seed(h.un()),Ja.Wt.Dt(u,d.ln(t.kind)),o.push(d)}return o}qn(e,t){return!!e.filters.find((i=>i instanceof Ge&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Ac(e),a=vl(e);return(t?i.H(Dv,IDBKeyRange.bound(t,t)):i.H()).next((o=>{const u=[];return K.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const E=v?new eh(v.sequenceNumber,new Wn(go(v.readTime),new fe(cr(v.documentKey)),v.largestBatchId)):eh.empty(),A=y.fields.map((([V,M])=>new Uf(St.fromServerFormat(V),M)));return new dm(y.indexId,y.collectionGroup,A,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const o=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=Ac(e),o=vl(e);return this.Wn(e).next((u=>a.H(Dv,IDBKeyRange.bound(t,t)).next((h=>K.forEach(h,(d=>o.put($b(d.indexId,this.uid,u,i))))))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,((a,o)=>{const u=i.get(a.collectionGroup);return(u?K.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),K.forEach(h,(d=>this.Qn(e,a,d).next((m=>{const y=this.Gn(o,d);return m.isEqual(y)?K.resolve():this.zn(e,o,d,m,y)})))))))}))}jn(e,t,i,a){return yl(e).put(a.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,a){return yl(e).delete(a.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const a=yl(e);let o=new st(Ms);return a.ee({index:RR,range:IDBKeyRange.only([i.indexId,this.uid,Qf(this.Kn(i,t))])},((u,h)=>{o=o.add(new Za(i.indexId,t,Zb(h.arrayValue),Zb(h.directionalValue)))})).next((()=>o))}Gn(e,t){let i=new st(Ms);const a=this.kn(t,e);if(a==null)return i;const o=Iv(t);if(o!=null){const u=e.data.field(o.fieldPath);if(lh(u))for(const h of u.arrayValue.values||[])i=i.add(new Za(t.indexId,e.key,this.Nn(h),a))}else i=i.add(new Za(t.indexId,e.key,Rf,a));return i}zn(e,t,i,a,o){le(nA,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,m,y,v,E){const A=d.getIterator(),V=m.getIterator();let M=pl(A),N=pl(V);for(;M||N;){let U=!1,z=!1;if(M&&N){const B=y(M,N);B<0?z=!0:B>0&&(U=!0)}else M!=null?z=!0:U=!0;U?(v(N),N=pl(V)):z?(E(M),M=pl(A)):(M=pl(A),N=pl(V))}})(a,o,Ms,(h=>{u.push(this.jn(e,t,i,h))}),(h=>{u.push(this.Hn(e,t,i,h))})),K.waitFor(u)}Wn(e){let t=1;return vl(e).ee({index:xR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((u,h)=>Ms(u,h))).filter(((u,h,d)=>!h||Ms(u,d[h-1])!==0));const a=[];a.push(e);for(const u of i){const h=Ms(u,e),d=Ms(u,t);if(h===0)a[0]=e.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(t);const o=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,Rf,fe.empty()),d=a[u+1].An(this.uid,Rf,fe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Jn(e,t){return Ms(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rA)}getMinOffset(e,t){return K.mapArray(this.vn(t),(i=>this.Fn(e,i).next((a=>a||ye(44426))))).next(rA)}}function iA(n){return Jt(n,rh)}function yl(n){return Jt(n,Bc)}function Ac(n){return Jt(n,q_)}function vl(n){return Jt(n,zc)}function rA(n){_e(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;z_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Wn(e.readTime,e.documentKey,t)}const sA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VI=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function OI(n,e,t){const i=n.store(Oi),a=n.store(Fl),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=i.ee({range:u},((y,v,E)=>(h++,E.delete())));o.push(d.next((()=>{_e(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const v=bR(e,y.key.path,t.batchId);o.push(a.delete(v)),m.push(y.key)}return K.waitFor(o).next((()=>m))}function Am(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(VI,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class hp{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(e,t,i,a){_e(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new hp(o,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).ee({index:eo,range:i},((a,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const o=Al(e),u=Ns(e);return u.add({}).next((h=>{_e(typeof h=="number",49019);const d=new X_(h,t,i,a),m=(function(A,V,M){const N=M.baseMutations.map((z=>Tm(A.yt,z))),U=M.mutations.map((z=>Tm(A.yt,z)));return{userId:V,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:N,mutations:U}})(this.serializer,this.userId,d),y=[];let v=new st(((E,A)=>Ce(E.canonicalString(),A.canonicalString())));for(const E of a){const A=bR(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(m)),y.push(o.put(A,Vk))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),K.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,t){return Ns(e).get(t).next((i=>i?(_e(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Xa(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?K.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ns(e).ee({index:eo,range:a},((u,h,d)=>{h.userId===this.userId&&(_e(h.batchId>=i,47524,{Yn:i}),o=Xa(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=io;return Ns(e).ee({index:eo,range:t,reverse:!0},((a,o,u)=>{i=o.batchId,u.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,io],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).H(eo,t).next((i=>i.map((a=>Xa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=zf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),o=[];return Al(e).ee({range:a},((u,h,d)=>{const[m,y,v]=u,E=cr(y);if(m===this.userId&&t.path.isEqual(E))return Ns(e).get(v).next((A=>{if(!A)throw ye(61480,{er:u,batchId:v});_e(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:v}),o.push(Xa(this.serializer,A))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(Ce);const a=[];return t.forEach((o=>{const u=zf(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Al(e).ee({range:h},((m,y,v)=>{const[E,A,V]=m,M=cr(A);E===this.userId&&o.path.isEqual(M)?i=i.add(V):v.done()}));a.push(d)})),K.waitFor(a).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,o=zf(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new st(Ce);return Al(e).ee({range:u},((d,m,y)=>{const[v,E,A]=d,V=cr(E);v===this.userId&&i.isPrefixOf(V)?V.length===a&&(h=h.add(A)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const i=[],a=[];return t.forEach((o=>{a.push(Ns(e).get(o).next((u=>{if(u===null)throw ye(35274,{batchId:o});_e(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),i.push(Xa(this.serializer,u))})))})),K.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return OI(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),K.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Al(e).ee({range:i},((o,u,h)=>{if(o[0]===this.userId){const d=cr(o[1]);a.push(d)}else h.done()})).next((()=>{_e(a.length===0,56720,{rr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return PI(e,this.userId,t)}ir(e){return MI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:io,lastStreamToken:""}))}}function PI(n,e,t){const i=zf(e,t.path),a=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Al(n).ee({range:o,Y:!0},((h,d,m)=>{const[y,v,E]=h;y===e&&v===a&&(u=!0),m.done()})).next((()=>u))}function Ns(n){return Jt(n,Oi)}function Al(n){return Jt(n,Fl)}function MI(n){return Jt(n,nh)}class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}class aL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new yo(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>be.fromTimestamp(new He(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_l(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(_e(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let a=0;const o=[];return _l(e).ee(((u,h)=>{const d=Mc(h);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>K.waitFor(o))).next((()=>a))}forEachTarget(e,t){return _l(e).ee(((i,a)=>{const o=Mc(a);t(o)}))}ur(e){return aA(e).get(pm).next((t=>(_e(t!==null,2888),t)))}cr(e,t){return aA(e).put(pm,t)}lr(e,t){return _l(e).put(RI(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=fo(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return _l(e).ee({range:a,index:wR},((u,h,d)=>{const m=Mc(h);Ih(t,m.target)&&(o=m,d.done())})).next((()=>o))}addMatchingKeys(e,t,i){const a=[],o=Us(e);return t.forEach((u=>{const h=En(u.path);a.push(o.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(e,i,u))})),K.waitFor(a)}removeMatchingKeys(e,t,i){const a=Us(e);return K.forEach(t,(o=>{const u=En(o.path);return K.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=Us(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Us(e);let o=Le();return a.ee({range:i,Y:!0},((u,h,d)=>{const m=cr(u[1]),y=new fe(m);o=o.add(y)})).next((()=>o))}containsKey(e,t){const i=En(t.path),a=IDBKeyRange.bound([i],[gR(i)],!1,!0);let o=0;return Us(e).ee({index:F_,Y:!0,range:a},(([u,h],d,m)=>{u!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return _l(e).get(t).next((i=>i?Mc(i):null))}}function _l(n){return Jt(n,ql)}function aA(n){return Jt(n,ro)}function Us(n){return Jt(n,Hl)}const oA="LruGarbageCollector",oL=1048576;function lA([n,e],[t,i]){const a=Ce(n,t);return a===0?Ce(e,i):a}class lL{constructor(e){this.Pr=e,this.buffer=new st(lA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(oA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?le(oA,"Ignoring IndexedDB error during garbage collection: ",t):await To(t)}await this.Ar(3e5)}))}}class uL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(fi.ce);const i=new lL(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(sA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),El()<=qe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function kI(n,e){return new uL(n,e)}class cL{constructor(e,t){this.db=e,this.garbageCollector=kI(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,a)=>t(a)))}addReference(e,t,i){return If(e,i)}removeReference(e,t,i){return If(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return If(e,t)}wr(e,t){return(function(a,o){let u=!1;return MI(a).te((h=>PI(a,h,o).next((d=>(d&&(u=!0),K.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.yr(e,((u,h)=>{if(h<=t){const d=this.wr(e,u).next((m=>{if(!m)return o++,i.getEntry(e,u).next((()=>(i.removeEntry(u,be.min()),Us(e).delete((function(v){return[0,En(v.path)]})(u)))))}));a.push(d)}})).next((()=>K.waitFor(a))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return If(e,t)}yr(e,t){const i=Us(e);let a,o=fi.ce;return i.ee({index:F_},(([u,h],{path:d,sequenceNumber:m})=>{u===0?(o!==fi.ce&&t(new fe(cr(a)),o),o=m,a=d):o=fi.ce})).next((()=>{o!==fi.ce&&t(new fe(cr(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function If(n,e){return Us(n).put((function(i,a){return{targetId:0,path:En(i.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class LI{constructor(){this.changes=new Jr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return qa(e).put(i)}removeEntry(e,t,i){return qa(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Sm(u),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=Rt.newInvalidDocument(t);return qa(e).ee({index:Bf,range:IDBKeyRange.only(wc(t))},((a,o)=>{i=this.Sr(t,o)})).next((()=>i))}Dr(e,t){let i={size:0,document:Rt.newInvalidDocument(t)};return qa(e).ee({index:Bf,range:IDBKeyRange.only(wc(t))},((a,o)=>{i={document:this.Sr(t,o),size:Am(o)}})).next((()=>i))}getEntries(e,t){let i=Yn();return this.Cr(e,t,((a,o)=>{const u=this.Sr(a,o);i=i.insert(a,u)})).next((()=>i))}vr(e,t){let i=Yn(),a=new Tt(fe.comparator);return this.Cr(e,t,((o,u)=>{const h=this.Sr(o,u);i=i.insert(o,h),a=a.insert(o,Am(u))})).next((()=>({documents:i,Fr:a})))}Cr(e,t,i){if(t.isEmpty())return K.resolve();let a=new st(hA);t.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(wc(a.first()),wc(a.last())),u=a.getIterator();let h=u.getNext();return qa(e).ee({index:Bf,range:o},((d,m,y)=>{const v=fe.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&hA(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,m),h=u.hasNext()?u.getNext():null),h?y.j(wc(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Sm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qa(e).H(IDBKeyRange.bound(h,d,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let y=Yn();for(const v of m){const E=this.Sr(fe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Dh(t,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(e,t,i,a){let o=Yn();const u=cA(t,i),h=cA(t,Wn.max());return qa(e).ee({index:AR,range:IDBKeyRange.bound(u,h,!0)},((d,m,y)=>{const v=this.Sr(fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(v.key,v),o.size===a&&y.done()})).next((()=>o))}newChangeBuffer(e){return new dL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return uA(e).get(Cv).next((t=>(_e(!!t,20021),t)))}br(e,t){return uA(e).put(Cv,t)}Sr(e,t){if(t){const i=W4(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(be.min())))return i}return Rt.newInvalidDocument(e)}}function jI(n){return new hL(n)}class dL extends LI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Jr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new st(((o,u)=>Ce(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=Kb(this.Mr.serializer,u);a=a.add(o.path.popLast());const m=Am(d);i+=m-h.size,t.push(this.Mr.addEntry(e,o,d))}else if(i-=h.size,this.trackRemovals){const d=Kb(this.Mr.serializer,u.convertToNoDocument(be.min()));t.push(this.Mr.addEntry(e,o,d))}})),a.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:a})=>(a.forEach(((o,u)=>{this.Or.set(o,{size:u,readTime:i.get(o).readTime})})),i)))}}function uA(n){return Jt(n,ih)}function qa(n){return Jt(n,mm)}function wc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cA(n,e){const t=e.documentKey.path.toArray();return[n,Sm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hA(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(a=Ce(t[o],i[o]),a)return a;return a=Ce(t.length,i.length),a||(a=Ce(t[t.length-2],i[i.length-2]),a||Ce(t[t.length-1],i[i.length-1]))}class fL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class UI{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Gc(i.mutation,a,jn.empty(),He.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Le()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Le()){const a=hr();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((o=>{let u=Oc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=hr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Le())))}populateOverlays(e,t,i){const a=[];return i.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,a){let o=Yn();const u=Hc(),h=(function(){return Hc()})();return t.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Zr)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Gc(y.mutation,m,y.mutation.getFieldMask(),He.now())):u.set(m.key,jn.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new fL(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Hc();let a=new Tt(((u,h)=>u-h)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let y=i.get(d)||jn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||Le()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=tI();y.forEach((E=>{if(!o.has(E)){const A=lI(t.get(E),i.get(E));A!==null&&v.set(E,A),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return K.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return p4(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):K.resolve(hr());let h=Zc,d=o;return u.next((m=>K.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?K.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,Le()))).next((y=>({batchId:h,changes:eI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let a=Oc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=Oc();return this.indexManager.getCollectionParents(e,o).next((h=>K.forEach(h,(d=>{const m=(function(v,E){return new ou(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Rt.newInvalidDocument(y)))}));let h=Oc();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Gc(y.mutation,m,jn.empty(),He.now()),Dh(t,m)&&(h=h.insert(d,m))})),h}))}}class mL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:In(a.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:II(a.bundledQuery),readTime:In(a.readTime)}})(t)),K.resolve()}}class pL{constructor(){this.overlays=new Tt(fe.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=hr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,o)=>{this.bt(e,t,o)})),K.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const a=hr(),o=t.length+1,u=new fe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return K.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new Tt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=hr(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=hr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return K.resolve(h)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Z_(t,i));let o=this.Lr.get(t);o===void 0&&(o=Le(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class gL{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class r0{constructor(){this.kr=new st(nn.Kr),this.qr=new st(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new nn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new fe(new Ze([])),i=new nn(t,e),a=new nn(t,e+1),o=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new fe(new Ze([])),i=new nn(t,e),a=new nn(t,e+1);let o=Le();return this.qr.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new nn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return fe.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||fe.comparator(e.key,t.key)}}class yL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new st(nn.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new X_(o,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new nn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),o=a<0?0:a;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?io:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),a=new nn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);o.push(h)})),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(Ce);return t.forEach((a=>{const o=new nn(a,0),u=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{i=i.add(h.Hr)}))})),K.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;fe.isDocumentKey(o)||(o=o.child(""));const u=new nn(new fe(o),0);let h=new st(Ce);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),u),K.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return K.forEach(t.mutations,(a=>{const o=new nn(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new nn(t,0),a=this.Jr.firstAfterOrEqual(i);return K.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vL{constructor(e){this.ti=e,this.docs=(function(){return new Tt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Rt.newInvalidDocument(t))}getEntries(e,t){let i=Yn();return t.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Rt.newInvalidDocument(a))})),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=Yn();const u=t.path,h=new fe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||z_(_R(y),i)<=0||(a.has(y.key)||Dh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,i,a){ye(9500)}ni(e,t){return K.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new _L(this)}getSize(e){return K.resolve(this.size)}}class _L extends LI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class EL{constructor(e){this.persistence=e,this.ri=new Jr((t=>fo(t)),Ih),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new r0,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),K.waitFor(o).next((()=>a))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class s0{constructor(e,t){this._i={},this.overlays={},this.ai=new fi(0),this.ui=!1,this.ui=!0,this.ci=new gL,this.referenceDelegate=e(this),this.li=new EL(this),this.indexManager=new rL,this.remoteDocumentCache=(function(a){return new vL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new xI(t),this.Pi=new mL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new yL(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const a=new TL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return K.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class TL extends TR{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ri=new r0,this.Ai=null}static Vi(e){return new dp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(i=>{const a=fe.fromPath(i);return this.mi(e,a).next((o=>{o||t.removeEntry(a,be.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class wm{constructor(e,t){this.persistence=e,this.fi=new Jr((i=>En(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=kI(this,t)}static Vi(e,t){return new wm(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((o=>o?K.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(i++,o.removeEntry(u,be.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qf(e.data.value)),t}wr(e,t,i){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return K.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class SL{constructor(e){this.serializer=e}k(e,t,i,a){const o=new Zm("createOrUpgrade",t);i<1&&a>=1&&((function(d){d.createObjectStore(Rh)})(e),(function(d){d.createObjectStore(nh,{keyPath:Dk}),d.createObjectStore(Oi,{keyPath:Sb,autoIncrement:!0}).createIndex(eo,bb,{unique:!0}),d.createObjectStore(Fl)})(e),dA(e),(function(d){d.createObjectStore($a)})(e));let u=K.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(Hl),d.deleteObjectStore(ql),d.deleteObjectStore(ro)})(e),dA(e)),u=u.next((()=>(function(d){const m=d.store(ro),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return m.put(pm,y)})(o)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(d,m){return m.store(Oi).H().next((v=>{d.deleteObjectStore(Oi),d.createObjectStore(Oi,{keyPath:Sb,autoIncrement:!0}).createIndex(eo,bb,{unique:!0});const E=m.store(Oi),A=v.map((V=>E.put(V)));return K.waitFor(A)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Gl,{keyPath:Uk})})(e)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(o)))),i<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(ih)})(e),this.pi(o))))),i<7&&a>=7&&(u=u.next((()=>this.yi(o)))),i<8&&a>=8&&(u=u.next((()=>this.wi(e,o)))),i<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(o)))),i<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(tp,{keyPath:zk})})(e),(function(d){d.createObjectStore(np,{keyPath:Bk})})(e)}))),i<12&&a>=12&&(u=u.next((()=>{(function(d){const m=d.createObjectStore(ip,{keyPath:$k});m.createIndex(Vv,Yk,{unique:!1}),m.createIndex(IR,Wk,{unique:!1})})(e)}))),i<13&&a>=13&&(u=u.next((()=>(function(d){const m=d.createObjectStore(mm,{keyPath:Ok});m.createIndex(Bf,Pk),m.createIndex(AR,Mk)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore($a)))),i<14&&a>=14&&(u=u.next((()=>this.Di(e,o)))),i<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(q_,{keyPath:Fk,autoIncrement:!0}).createIndex(Dv,qk,{unique:!1}),d.createObjectStore(zc,{keyPath:Hk}).createIndex(xR,Gk,{unique:!1}),d.createObjectStore(Bc,{keyPath:Kk}).createIndex(RR,Qk,{unique:!1})})(e)))),i<16&&a>=16&&(u=u.next((()=>{t.objectStore(zc).clear()})).next((()=>{t.objectStore(Bc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(H_,{keyPath:Xk})})(e)}))),i<18&&a>=18&&eR()&&(u=u.next((()=>{t.objectStore(zc).clear()})).next((()=>{t.objectStore(Bc).clear()}))),u}pi(e){let t=0;return e.store($a).ee(((i,a)=>{t+=Am(a)})).next((()=>{const i={byteSize:t};return e.store(ih).put(Cv,i)}))}gi(e){const t=e.store(nh),i=e.store(Oi);return t.H().next((a=>K.forEach(a,(o=>{const u=IDBKeyRange.bound([o.userId,io],[o.userId,o.lastAcknowledgedBatchId]);return i.H(eo,u).next((h=>K.forEach(h,(d=>{_e(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const m=Xa(this.serializer,d);return OI(e,o.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(Hl),i=e.store($a);return e.store(ro).get(pm).next((a=>{const o=[];return i.ee(((u,h)=>{const d=new Ze(u),m=(function(v){return[0,En(v)]})(d);o.push(t.get(m).next((y=>y?K.resolve():(v=>t.put({targetId:0,path:En(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>K.waitFor(o)))}))}wi(e,t){e.createObjectStore(rh,{keyPath:jk});const i=t.store(rh),a=new i0,o=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:En(d)})}};return t.store($a).ee({Y:!0},((u,h)=>{const d=new Ze(u);return o(d.popLast())})).next((()=>t.store(Fl).ee({Y:!0},(([u,h,d],m)=>{const y=cr(h);return o(y.popLast())}))))}bi(e){const t=e.store(ql);return t.ee(((i,a)=>{const o=Mc(a),u=RI(this.serializer,o);return t.put(u)}))}Si(e,t){const i=t.store($a),a=[];return i.ee(((o,u)=>{const h=t.store(mm),d=(function(v){return v.document?new fe(Ze.fromString(v.document.name).popFirst(5)):v.noDocument?fe.fromSegments(v.noDocument.path):v.unknownDocument?fe.fromSegments(v.unknownDocument.path):ye(36783)})(u).path.toArray(),m={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(m))})).next((()=>K.waitFor(a)))}Di(e,t){const i=t.store(Oi),a=jI(this.serializer),o=new s0(dp.Vi,this.serializer.yt);return i.H().next((u=>{const h=new Map;return u.forEach((d=>{let m=h.get(d.userId)??Le();Xa(this.serializer,d).keys().forEach((y=>m=m.add(y))),h.set(d.userId,m)})),K.forEach(h,((d,m)=>{const y=new dn(m),v=cp.wt(this.serializer,y),E=o.getIndexManager(y),A=hp.wt(y,this.serializer,E,o.referenceDelegate);return new UI(a,A,v,E).recalculateAndSaveOverlaysForDocumentKeys(new Ov(t,fi.ce),d).next()}))}))}}function dA(n){n.createObjectStore(Hl,{keyPath:kk}).createIndex(F_,Lk,{unique:!0}),n.createObjectStore(ql,{keyPath:"targetId"}).createIndex(wR,Nk,{unique:!0}),n.createObjectStore(ro)}const ks="IndexedDbPersistence",Gy=18e5,Ky=5e3,Qy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bL="main";class a0{constructor(e,t,i,a,o,u,h,d,m,y,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=o,this.window=u,this.document=h,this.Fi=m,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!a0.v())throw new ue(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cL(this,a),this.Ki=t+bL,this.serializer=new xI(d),this.qi=new Xs(this.Ki,this.xi,new SL(this.serializer)),this.ci=new J4,this.li=new aL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jI(this.serializer),this.Pi=new X4,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&An(ks,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Qy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new fi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(la(e))return le(ks,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(ks,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return xc(e).get(ml).next((t=>K.resolve(this.Xi(t))))}Yi(e){return Cf(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Gy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Jt(t,Gl);return i.H().next((a=>{const o=this.ns(a,Gy),u=a.filter((h=>o.indexOf(h)===-1));return K.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?K.resolve(!0):xc(e).get(ml).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Ky)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Qy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cf(e).H().next((i=>this.ns(i,Ky).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(ks,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Rh,Gl],(e=>{const t=new Ov(e,fi.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Cf(e).H().next((t=>this.ns(t,Gy).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return hp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sL(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return cp.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){le(ks,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?e4:d===17?OR:d===16?Zk:d===15?G_:d===14?VR:d===13?DR:d===12?Jk:d===11?CR:void ye(60245)})(this.xi);let u;return this.qi.runTransaction(e,a,o,(h=>(u=new Ov(h,this.ai?this.ai.next():fi.ce),t==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ue(te.FAILED_PRECONDITION,ER);return i(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return xc(e).get(ml).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Ky)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ue(te.FAILED_PRECONDITION,Qy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xc(e).put(ml,t)}static v(){return Xs.v()}Ji(e){const t=xc(e);return t.get(ml).next((i=>this.Xi(i)?(le(ks,"Releasing primary lease."),t.delete(ml)):K.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(An(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;Zx()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return le(ks,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return An(ks,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xc(n){return Jt(n,Rh)}function Cf(n){return Jt(n,Gl)}function AL(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class o0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Le(),a=Le();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new o0(e,t.fromCache,i,a)}}class wL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Zx()?8:SR(Xt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new wL;return this.ys(e,t,u).next((h=>{if(o.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>o.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(El()<=qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(El()<=qe.DEBUG&&le("QueryEngine","Query:",Tl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(El()<=qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):K.resolve())}gs(e,t){if(kb(t))return K.resolve(null);let i=pi(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_m(t,null,"F"),i=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Le(...o);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.bs(t,h);return this.Ss(t,m,u,d.readTime)?this.gs(e,_m(t,null,"F")):this.Ds(e,m,t,d)}))))})))))}ps(e,t,i,a){return kb(t)||a.isEqual(be.min())?K.resolve(null):this.fs.getDocuments(e,i).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,i,a)?K.resolve(null):(El()<=qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(t)),this.Ds(e,u,t,bk(a,Zc)).next((h=>h)))}))}bs(e,t){let i=new st(JR(e));return t.forEach(((a,o)=>{Dh(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,i){return El()<=qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.fs.getDocumentsMatchingQuery(e,t,Wn.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const l0="LocalStore",xL=3e8;class RL{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Tt(Ce),this.Fs=new Jr((o=>fo(o)),Ih),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function BI(n,e,t,i){return new RL(n,e,t,i)}async function FI(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Le();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function IL(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,E=v.keys();let A=K.resolve();return E.forEach((V=>{A=A.next((()=>y.getEntry(d,V))).next((M=>{const N=m.docVersions.get(V);_e(N!==null,48541),M.version.compareTo(N)<0&&(v.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function qI(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function CL(n,e){const t=De(n),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(t.li.removeMatchingKeys(o,y.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,y.addedDocuments,v))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(M,N,U){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=xL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,A,y)&&h.push(t.li.updateTargetData(o,A))}));let d=Yn(),m=Le();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(DL(o,u,e.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(be.min())){const y=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return K.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(t.vs=a,o)))}function DL(n,e,t){let i=Le(),a=Le();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=Yn();return t.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):le(l0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function VL(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=io),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function OL(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((o=>o?(a=o,K.resolve(a)):t.li.allocateTargetId(i).next((u=>(a=new zr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Kv(n,e,t){const i=De(n),a=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!la(u))throw u;le(l0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function fA(n,e,t){const i=De(n);let a=be.min(),o=Le();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const v=De(d),E=v.Fs.get(y);return E!==void 0?K.resolve(v.vs.get(E)):v.li.getTargetData(m,y)})(i,u,pi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,t?a:be.min(),t?o:Le()))).next((h=>(PL(i,v4(e),h),{documents:h,ks:o})))))}function PL(n,e,t){let i=n.Ms.get(e)||be.min();t.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}class mA{constructor(){this.activeTargetIds=A4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.vo=new mA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new mA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ML{Mo(e){}shutdown(){}}const pA="ConnectivityMonitor";class gA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(pA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(pA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Qv(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const $y="RestConnection",NL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===gm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,o){const u=Qv(),h=this.Qo(e,t.toUriEncodedString());le($y,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=ru(m);return this.zo(e,h,d,i,y).then((v=>(le($y,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ea($y,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,t,i,a,o,u){return this.Wo(e,t,i,a,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const i=NL[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class LL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gn="WebChannelConnection",Rc=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ml extends kL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ml.c_){const e=dR();Rc(e,hR.STAT_EVENT,(t=>{t.stat===xv.PROXY?le(gn,"STAT_EVENT: detected buffering proxy"):t.stat===xv.NOPROXY&&le(gn,"STAT_EVENT: detected no buffering proxy")})),Ml.c_=!0}}zo(e,t,i,a,o){const u=Qv();return new Promise(((h,d)=>{const m=new uR;m.setWithCredentials(!0),m.listenOnce(cR.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case jf.NO_ERROR:const v=m.getResponseJson();le(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case jf.TIMEOUT:le(gn,`RPC '${e}' ${u} timed out`),d(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const E=m.getStatus();if(le(gn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A?.error;if(V&&V.status&&V.message){const M=(function(U){const z=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(z)>=0?z:te.UNKNOWN})(V.status);d(new ue(M,V.message))}else d(new ue(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ue(te.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(gn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);le(gn,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=Qv(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const m=o.join("");le(gn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let v=!1,E=!1;const A=new LL({Ho:V=>{E?le(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(v||(le(gn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),le(gn,`RPC '${e}' stream ${a} sending:`,V),y.send(V))},Jo:()=>y.close()});return Rc(y,Vc.EventType.OPEN,(()=>{E||(le(gn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Rc(y,Vc.EventType.CLOSE,(()=>{E||(E=!0,le(gn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(y))})),Rc(y,Vc.EventType.ERROR,(V=>{E||(E=!0,ea(gn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),A.o_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),Rc(y,Vc.EventType.MESSAGE,(V=>{if(!E){const M=V.data[0];_e(!!M,16349);const N=M,U=N?.error||N[0]?.error;if(U){le(gn,`RPC '${e}' stream ${a} received error:`,U);const z=U.status;let B=(function(se){const I=Ht[se];if(I!==void 0)return hI(I)})(z),X=U.message;z==="NOT_FOUND"&&X.includes("database")&&X.includes("does not exist")&&X.includes(this.databaseId.database)&&ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=te.INTERNAL,X="Unknown error status: "+z+" with message "+U.message),E=!0,A.o_(new ue(B,X)),y.close()}else le(gn,`RPC '${e}' stream ${a} received:`,M),A.__(M)}})),Ml.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fR()}}function jL(n){return new Ml(n)}function UL(){return typeof window<"u"?window:null}function $f(){return typeof document<"u"?document:null}function fp(n){return new z4(n,!0)}Ml.c_=!1;class GI{constructor(e,t,i=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const yA="PersistentStream";class KI{constructor(e,t,i,a,o,u,h,d){this.Ci=e,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(An(t.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ue(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(yA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(le(yA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zL extends KI{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=q4(this.serializer,e),i=(function(o){if(!("targetChange"in o))return be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?In(u.readTime):be.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Bv(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=ym(d)?{documents:_I(o,d)}:{query:EI(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=mI(o,u.resumeToken);const m=Uv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Xl(o,u.snapshotVersion.toTimestamp());const m=Uv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=G4(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Bv(this.serializer),t.removeTarget=e,this.K_(t)}}class BL extends KI{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=H4(e.writeResults,e.commitTime),i=In(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Bv(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Tm(this.serializer,i)))};this.K_(t)}}class FL{}class qL extends FL{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,zv(t,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(te.UNKNOWN,o.toString())}))}jo(e,t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,zv(t,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HL(n,e,t,i){return new qL(n,e,t,i)}class GL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(An(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class KL{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{So(this)&&(le(vo,"Restarting streams for network reachability change."),await(async function(d){const m=De(d);m.Ea.add(4),await Ph(m),m.Va.set("Unknown"),m.Ea.delete(4),await mp(m)})(this))}))})),this.Va=new GL(i,a)}}async function mp(n){if(So(n))for(const e of n.Ra)await e(!0)}async function Ph(n){for(const e of n.Ra)await e(!1)}function QI(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),d0(t)?h0(t):uu(t).O_()&&c0(t,e))}function u0(n,e){const t=De(n),i=uu(t);t.Ia.delete(e),i.O_()&&$I(t,e),t.Ia.size===0&&(i.O_()?i.L_():So(t)&&t.Va.set("Unknown"))}function c0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uu(n).Z_(e)}function $I(n,e){n.da.$e(e),uu(n).X_(e)}function h0(n){n.da=new k4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),uu(n).start(),n.Va.ua()}function d0(n){return So(n)&&!uu(n).x_()&&n.Ia.size>0}function So(n){return De(n).Ea.size===0}function YI(n){n.da=void 0}async function QL(n){n.Va.set("Online")}async function $L(n){n.Ia.forEach(((e,t)=>{c0(n,e)}))}async function YL(n,e){YI(n),d0(n)?(n.Va.ha(e),h0(n)):n.Va.set("Unknown")}async function WL(n,e,t){if(n.Va.set("Online"),e instanceof fI&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(i){le(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xm(n,i)}else if(e instanceof Kf?n.da.Xe(e):e instanceof dI?n.da.st(e):n.da.tt(e),!t.isEqual(be.min()))try{const i=await qI(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),$I(o,d);const v=new zr(y.target,d,m,y.sequenceNumber);c0(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){le(vo,"Failed to raise snapshot:",i),await xm(n,i)}}async function xm(n,e,t){if(!la(e))throw e;n.Ea.add(1),await Ph(n),n.Va.set("Offline"),t||(t=()=>qI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(vo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await mp(n)}))}function WI(n,e){return e().catch((t=>xm(n,t,e)))}async function Mh(n){const e=De(n),t=ia(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:io;for(;XL(e);)try{const a=await VL(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,JL(e,a)}catch(a){await xm(e,a)}XI(e)&&JI(e)}function XL(n){return So(n)&&n.Ta.length<10}function JL(n,e){n.Ta.push(e);const t=ia(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function XI(n){return So(n)&&!ia(n).x_()&&n.Ta.length>0}function JI(n){ia(n).start()}async function ZL(n){ia(n).ra()}async function e5(n){const e=ia(n);for(const t of n.Ta)e.ea(t.mutations)}async function t5(n,e,t){const i=n.Ta.shift(),a=J_.from(i,e,t);await WI(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Mh(n)}async function n5(n,e){e&&ia(n).Y_&&await(async function(i,a){if((function(u){return P4(u)&&u!==te.ABORTED})(a.code)){const o=i.Ta.shift();ia(i).B_(),await WI(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Mh(i)}})(n,e),XI(n)&&JI(n)}async function vA(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),le(vo,"RemoteStore received new credentials");const i=So(t);t.Ea.add(3),await Ph(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await mp(t)}async function i5(n,e){const t=De(n);e?(t.Ea.delete(2),await mp(t)):e||(t.Ea.add(2),await Ph(t),t.Va.set("Unknown"))}function uu(n){return n.ma||(n.ma=(function(t,i,a){const o=De(t);return o.sa(),new zL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:QL.bind(null,n),Yo:$L.bind(null,n),t_:YL.bind(null,n),J_:WL.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),d0(n)?h0(n):n.Va.set("Unknown")):(await n.ma.stop(),YI(n))}))),n.ma}function ia(n){return n.fa||(n.fa=(function(t,i,a){const o=De(t);return o.sa(),new BL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZL.bind(null,n),t_:n5.bind(null,n),ta:e5.bind(null,n),na:t5.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Mh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class f0{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,h=new f0(e,t,u,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(n,e){if(An("AsyncQueue",`${e}: ${n}`),la(n))return new ue(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Oc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Nl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class _A{constructor(){this.ga=new Tt(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Jl{constructor(e,t,i,a,o,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Jl(e,t,Nl.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class r5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class s5{constructor(){this.queries=EA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),o=a.queries;a.queries=EA(),o.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function EA(){return new Jr((n=>XR(n)),ap)}async function p0(n,e){const t=De(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(i=2):(o=new r5,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=m0(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&y0(t)}async function g0(n,e){const t=De(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function a5(n,e){const t=De(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&y0(t)}function o5(n,e,t){const i=De(n),a=i.queries.get(e);if(a)for(const o of a.ba)o.onError(t);i.queries.delete(e)}function y0(n){n.Ca.forEach((e=>{e.next()}))}var $v,TA;(TA=$v||($v={})).Ma="default",TA.Cache="cache";class v0{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$v.Cache}}class ZI{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class l5{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=JR(e),this.tu=new Nl(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new _A,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const E=a.get(y),A=Dh(this.query,v)?v:null,V=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;E&&A?E.data.isEqual(A.data)?V!==M&&(i.track({type:3,doc:A}),N=!0):this.su(E,A)||(i.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),N=!0):E&&!A&&(i.track({type:1,doc:E}),N=!0,(d||m)&&(h=!0)),N&&(A?(u=u.add(A),o=M?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(A,V){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:N})}};return M(A)-M(V)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new Jl(this.query,e.tu,o,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _A,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new eC(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new ZI(i))})),t}cu(e){this.Za=e.ks,this.Ya=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _0="SyncEngine";class u5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class c5{constructor(e){this.key=e,this.hu=!1}}class h5{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Jr((h=>XR(h)),ap),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(fe.comparator),this.Au=new Map,this.Vu=new r0,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d5(n,e,t=!0){const i=aC(n);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await tC(i,e,t,!0),a}async function f5(n,e){const t=aC(n);await tC(t,e,!0,!1)}async function tC(n,e,t,i){const a=await OL(n.localStore,pi(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await m5(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&QI(n.remoteStore,a),h}async function m5(n,e,t,i,a){n.pu=(v,E,A)=>(async function(M,N,U,z){let B=N.view.ru(U);B.Ss&&(B=await fA(M.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,B))));const X=z&&z.targetChanges.get(N.targetId),H=z&&z.targetMismatches.get(N.targetId)!=null,se=N.view.applyChanges(B,M.isPrimaryClient,X,H);return bA(M,N.targetId,se.au),se.snapshot})(n,v,E,A);const o=await fA(n.localStore,e,!0),u=new l5(e,o.ks),h=u.ru(o.documents),d=Oh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,d);bA(n,t,m.au);const y=new u5(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function p5(n,e,t){const i=De(n),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!ap(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Kv(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&u0(i.remoteStore,a.targetId),Yv(i,a.targetId)})).catch(To)):(Yv(i,a.targetId),await Kv(i.localStore,a.targetId,!0))}async function g5(n,e){const t=De(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),u0(t.remoteStore,i.targetId))}async function y5(n,e,t){const i=oC(n);try{const a=await(function(u,h){const d=De(u),m=He.now(),y=h.reduce(((A,V)=>A.add(V.key)),Le());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let V=Yn(),M=Le();return d.xs.getEntries(A,y).next((N=>{V=N,V.forEach(((U,z)=>{z.isValidDocument()||(M=M.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,V))).next((N=>{v=N;const U=[];for(const z of h){const B=V4(z,v.get(z.key).overlayedDocument);B!=null&&U.push(new Zr(z.key,B,FR(B.value.mapValue),rn.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,U,h)})).next((N=>{E=N;const U=N.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(A,N.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:eI(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new Tt(Ce)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(i,a.batchId,t),await Nh(i,a.changes),await Mh(i.remoteStore)}catch(a){const o=m0(a,"Failed to persist write");t.reject(o)}}async function nC(n,e){const t=De(n);try{const i=await CL(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_e(u.hu,14607):a.removedDocuments.size>0&&(_e(u.hu,42227),u.hu=!1))})),await Nh(t,i,e)}catch(i){await To(i)}}function SA(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=De(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(m=!0)})),m&&y0(d)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function v5(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),o=a&&a.key;if(o){let u=new Tt(fe.comparator);u=u.insert(o,Rt.newNoDocument(o,be.min()));const h=Le().add(o),d=new up(be.min(),new Map,new Tt(Ce),u,h);await nC(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),E0(i)}else await Kv(i.localStore,e,!1).then((()=>Yv(i,e,t))).catch(To)}async function _5(n,e){const t=De(n),i=e.batch.batchId;try{const a=await IL(t.localStore,e);rC(t,i,null),iC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nh(t,a)}catch(a){await To(a)}}async function E5(n,e,t){const i=De(n);try{const a=await(function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(_e(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);rC(i,e,t),iC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nh(i,a)}catch(a){await To(a)}}function iC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function rC(n,e,t){const i=De(n);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||sC(n,i)}))}function sC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(u0(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),E0(n))}function bA(n,e,t){for(const i of t)i instanceof ZI?(n.Vu.addReference(i.key,e),T5(n,i)):i instanceof eC?(le(_0,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||sC(n,i.key)):ye(19791,{wu:i})}function T5(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(le(_0,"New document in limbo: "+t),n.Eu.add(i),E0(n))}function E0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new fe(Ze.fromString(e)),i=n.fu.next();n.Au.set(i,new c5(t)),n.Ru=n.Ru.insert(t,i),QI(n.remoteStore,new zr(pi(Ch(t.path)),i,"TargetPurposeLimboResolution",fi.ce))}}async function Nh(n,e,t){const i=De(n),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=o0.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,m){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>K.forEach(m,(E=>K.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>K.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!la(v))throw v;le(l0,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const A=y.vs.get(E),V=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(V);y.vs=y.vs.insert(E,M)}}})(i.localStore,o))}async function S5(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){le(_0,"User change. New user:",e.toKey());const i=await FI(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ue(te.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nh(t,i.Ns)}}function b5(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return Le().add(i.key);{let a=Le();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function aC(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v5.bind(null,e),e.Pu.J_=a5.bind(null,e.eventManager),e.Pu.yu=o5.bind(null,e.eventManager),e}function oC(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E5.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return BI(this.persistence,new zI,e.initialUser,this.serializer)}Cu(e){return new s0(dp.Vi,this.serializer)}Du(e){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class A5 extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof wm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NI(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new s0((i=>wm.Vi(i,t)),this.serializer)}}class w5 extends dh{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await oC(this.xu.syncEngine),await Mh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return BI(this.persistence,new zI,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new NI(i,e.asyncQueue,t)}Mu(e,t){const i=new Rk(t,this.persistence);return new xk(e.asyncQueue,i)}Cu(e){const t=AL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new a0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,UL(),$f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new HI}}class Rm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await i5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s5})()}createDatastore(e){const t=fp(e.databaseInfo.databaseId),i=jL(e.databaseInfo);return HL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,o,u,h){return new KL(i,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>SA(this.syncEngine,t,0)),(function(){return gA.v()?new gA:new ML})())}createSyncEngine(e,t){return(function(a,o,u,h,d,m,y){const v=new h5(a,o,u,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=De(t);le(vo,"RemoteStore shutting down."),i.Ea.add(5),await Ph(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class T0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ra="FirestoreClient";class x5{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=U_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{le(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(le(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=m0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Yy(n,e){n.asyncQueue.verifyOperationInProgress(),le(ra,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await FI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function AA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await R5(n);le(ra,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>vA(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>vA(e.remoteStore,a))),n._onlineComponents=e}async function R5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(ra,"Using user provided OfflineComponentProvider");try{await Yy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Yy(n,new dh)}}else le(ra,"Using default OfflineComponentProvider"),await Yy(n,new A5(void 0));return n._offlineComponents}async function lC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(ra,"Using user provided OnlineComponentProvider"),await AA(n,n._uninitializedComponentsProvider._online)):(le(ra,"Using default OnlineComponentProvider"),await AA(n,new Rm))),n._onlineComponents}function I5(n){return lC(n).then((e=>e.syncEngine))}async function Im(n){const e=await lC(n),t=e.eventManager;return t.onListen=d5.bind(null,e.syncEngine),t.onUnlisten=p5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g5.bind(null,e.syncEngine),t}function C5(n,e,t,i){const a=new T0(i),o=new v0(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>p0(await Im(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>g0(await Im(n),o)))}}function D5(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new T0({next:E=>{y.Nu(),u.enqueueAndForget((()=>g0(o,v)));const A=E.docs.has(h);!A&&E.fromCache?m.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&d.source==="server"?m.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new v0(Ch(h.path),y,{includeMetadataChanges:!0,Ka:!0});return p0(o,v)})(await Im(n),n.asyncQueue,e,t,i))),i.promise}function V5(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new T0({next:E=>{y.Nu(),u.enqueueAndForget((()=>g0(o,v))),E.fromCache&&d.source==="server"?m.reject(new ue(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new v0(h,y,{includeMetadataChanges:!0,Ka:!0});return p0(o,v)})(await Im(n),n.asyncQueue,e,t,i))),i.promise}function O5(n,e){const t=new dr;return n.asyncQueue.enqueueAndForget((async()=>y5(await I5(n),e,t))),t.promise}function uC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const P5="ComponentProvider",wA=new Map;function M5(n,e,t,i,a){return new n4(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,uC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const cC="firestore.googleapis.com",xA=!0;class RA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=xA}else this.host=e.host,this.ssl=e.ssl??xA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oL)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new dk;switch(i.type){case"firstParty":return new gk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=wA.get(t);i&&(le(P5,"Removing Datastore"),wA.delete(t),i.terminate())})(this),Promise.resolve()}}function N5(n,e,t,i={}){n=Rn(n,pp);const a=ru(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(Wx(`https://${h}`),Xx("Firestore",!0)),o.host!==cC&&o.host!==h&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!Zs(d,u)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=dn.MOCK_USER;else{m=UM(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(v)}n._authCredentials=new fk(new pR(m,y))}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(xh(t,It._jsonSchema))return new It(e,i||null,new fe(Ze.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Kt("string",It._jsonSchemaVersion),referencePath:Kt("string")};class Js extends es{constructor(e,t,i){super(e,t,Ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new fe(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Cm(n,e,...t){if(n=Mt(n),yR("collection","path",e),n instanceof pp){const i=Ze.fromString(e,...t);return yb(i),new Js(n,null,i)}{if(!(n instanceof It||n instanceof Js))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return yb(i),new Js(n.firestore,null,i)}}function mn(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=U_.newId()),yR("doc","path",e),n instanceof pp){const i=Ze.fromString(e,...t);return gb(i),new It(n,null,new fe(i))}{if(!(n instanceof It||n instanceof Js))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return gb(i),new It(n.firestore,n instanceof Js?n.converter:null,new fe(i))}}const IA="AsyncQueue";class CA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GI(this,"async_queue_retry"),this._c=()=>{const i=$f();i&&le(IA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=$f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!la(e))throw e;le(IA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,An("INTERNAL UNHANDLED ERROR: ",DA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=f0.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:DA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vr extends pp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new CA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CA(e),this._firestoreClient=void 0,await e}}}function k5(n,e){const t=typeof n=="object"?n:sR(),i=typeof n=="string"?n:gm,a=L_(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=LM("firestore");o&&N5(a,...o)}return a}function kh(n){if(n._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hC(n),n._firestoreClient}function hC(n){const e=n._freezeSettings(),t=M5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new x5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function L5(n,e){ea("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return j5(n,Rm.provider,{build:i=>new w5(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function j5(n,e,t){if((n=Rn(n,vr))._firestoreClient||n._terminated)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ue(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},hC(n)}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(Qt.fromBase64String(e))}catch(t){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new di(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Kt("string",di._jsonSchemaVersion),bytes:Kt("string")};class gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._methodName=e}}class fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(xh(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Kt("string",fr._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Mi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mi(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Kt("string",Mi._jsonSchemaVersion),vectorValues:Kt("object")};const U5=/^__.*__$/;class z5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class dC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:n})}}class vp{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fC(this.dataSource)&&U5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class B5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||fp(e)}createContext(e,t,i,a=!1){return new vp({dataSource:e,methodName:t,targetDoc:i,path:St.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(n){const e=n._freezeSettings(),t=fp(n._databaseId);return new B5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mC(n,e,t,i,a,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);b0("Data must be an object, but it was:",u,i);const h=yC(i,u);let d,m;if(o.merge)d=new jn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=Zl(e,v,t);if(!u.contains(E))throw new ue(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);EC(y,E)||y.push(E)}d=new jn(y),m=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=u.fieldTransforms;return new z5(new vn(h),d,m)}class Ep extends yp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ep}}function F5(n,e,t){return new vp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class S0 extends yp{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=F5(this,e,!0),i=this.Ac.map((o=>cu(o,t))),a=new mo(i);return new oI(e.path,a)}isEqual(e){return e instanceof S0&&Zs(this.Ac,e.Ac)}}function pC(n,e,t,i){const a=n.createContext(1,e,t);b0("Data must be an object, but it was:",a,i);const o=[],u=vn.empty();ua(i,((d,m)=>{const y=_C(e,d,t);m=Mt(m);const v=a.childContextForFieldPath(y);if(m instanceof Ep)o.push(y);else{const E=cu(m,v);E!=null&&(o.push(y),u.set(y,E))}}));const h=new jn(o);return new dC(u,h,a.fieldTransforms)}function gC(n,e,t,i,a,o){const u=n.createContext(1,e,t),h=[Zl(e,i,t)],d=[a];if(o.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Zl(e,o[E])),d.push(o[E+1]);const m=[],y=vn.empty();for(let E=h.length-1;E>=0;--E)if(!EC(m,h[E])){const A=h[E];let V=d[E];V=Mt(V);const M=u.childContextForFieldPath(A);if(V instanceof Ep)m.push(A);else{const N=cu(V,M);N!=null&&(m.push(A),y.set(A,N))}}const v=new jn(m);return new dC(y,v,u.fieldTransforms)}function q5(n,e,t,i=!1){return cu(t,n.createContext(i?4:3,e))}function cu(n,e){if(vC(n=Mt(n)))return b0("Unsupported field value:",e,n),yC(n,e);if(n instanceof yp)return(function(i,a){if(!fC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let d=cu(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,a){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=He.fromDate(i);return{timestampValue:Xl(a.serializer,o)}}if(i instanceof He){const o=new He(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xl(a.serializer,o)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof di)return{bytesValue:mI(a.serializer,i._byteString)};if(i instanceof It){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Mi)return(function(u,h){const d=u instanceof Mi?u.toArray():u;return{mapValue:{fields:{[Q_]:{stringValue:$_},[Kl]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return W_(h.serializer,y)}))}}}}}})(i,a);if(wI(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Jm(i)}`)})(n,e)}function yC(n,e){const t={};return PR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(n,((i,a)=>{const o=cu(a,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function vC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof He||n instanceof fr||n instanceof di||n instanceof It||n instanceof yp||n instanceof Mi||wI(n))}function b0(n,e,t){if(!vC(t)||!vR(t)){const i=Jm(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Zl(n,e,t){if((e=Mt(e))instanceof gp)return e._internalPath;if(typeof e=="string")return _C(n,e);throw Dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const H5=new RegExp("[~\\*/\\[\\]]");function _C(n,e,t){if(e.search(H5)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gp(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dm(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ue(te.INVALID_ARGUMENT,h+n+d)}function EC(n,e){return n.some((t=>t.isEqual(e)))}class G5{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ua(e,((a,o)=>{i[a]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Kl].arrayValue?.values?.map((i=>_t(i.doubleValue)));return new Mi(t)}convertGeoPoint(e){return new fr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const t=Qr(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);_e(AI(i),9688,{name:e});const a=new ho(i.get(1),i.get(3)),o=new fe(i.popFirst(5));return a.isEqual(t)||An(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class A0 extends G5{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function TC(...n){return new S0("arrayUnion",n)}const VA="@firebase/firestore",OA="4.11.0";function PA(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class SC{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Zl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class K5 extends SC{data(){return super.data()}}function bC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w0{}class x0 extends w0{}function AC(n,e,...t){let i=[];e instanceof w0&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((d=>d instanceof I0)).length,h=o.filter((d=>d instanceof R0)).length;if(u>1||u>0&&h>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class R0 extends x0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new R0(e,t,i)}_apply(e){const t=this._parse(e);return wC(e._query,t),new es(e.firestore,e.converter,jv(e._query,t))}_parse(e){const t=_p(e.firestore);return(function(o,u,h,d,m,y,v){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){NA(v,y);const V=[];for(const M of v)V.push(MA(d,o,M));E={arrayValue:{values:V}}}else E=MA(d,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||NA(v,y),E=q5(h,u,v,y==="in"||y==="not-in");return Ge.create(m,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class I0 extends w0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I0(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)wC(u,d),u=jv(u,d)})(e._query,t),new es(e.firestore,e.converter,jv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C0 extends x0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new C0(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(o,u)})(e._query,this._field,this._direction);return new es(e.firestore,e.converter,y4(e._query,t))}}function Q5(n,e="asc"){const t=e,i=Zl("orderBy",n);return C0._create(i,t)}class D0 extends x0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new D0(e,t,i)}_apply(e){return new es(e.firestore,e.converter,_m(e._query,this._limit,this._limitType))}}function $5(n){return D0._create("limit",n,"F")}function MA(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WR(e)&&t.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!fe.isDocumentKey(i))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oh(n,new fe(i))}if(t instanceof It)return oh(n,t._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jm(t)}.`)}function NA(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wC(n,e){const t=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends SC{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:Kt("string",ao._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Yf extends ao{data(e={}){return super.data(e)}}class oo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Yf(this._firestore,this._userDataWriter,i.key,i,new Nc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Y5(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=U_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Y5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Kt("string",oo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class W5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_p(e)}set(e,t,i){this._verifyNotCommitted();const a=Wy(e,this._firestore),o=xC(a.converter,t,i),u=mC(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,rn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const o=Wy(e,this._firestore);let u;return u=typeof(t=Mt(t))=="string"||t instanceof gp?gC(this._dataReader,"WriteBatch.update",o._key,t,i,a):pC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wy(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(t._key,rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wy(n,e){if((n=Mt(n)).firestore!==e)throw new ue(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Vm(n){n=Rn(n,It);const e=Rn(n.firestore,vr),t=kh(e);return D5(t,n._key).then((i=>IC(e,n,i)))}function X5(n){n=Rn(n,es);const e=Rn(n.firestore,vr),t=kh(e),i=new A0(e);return bC(n._query),V5(t,n._query).then((a=>new oo(e,i,n,a)))}function Om(n,e,t){n=Rn(n,It);const i=Rn(n.firestore,vr),a=xC(n.converter,e,t),o=_p(i);return Sp(i,[mC(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,rn.none())])}function Tp(n,e,t,...i){n=Rn(n,It);const a=Rn(n.firestore,vr),o=_p(a);let u;return u=typeof(e=Mt(e))=="string"||e instanceof gp?gC(o,"updateDoc",n._key,e,t,i):pC(o,"updateDoc",n._key,e),Sp(a,[u.toMutation(n._key,rn.exists(!0))])}function RC(n){return Sp(Rn(n.firestore,vr),[new Vh(n._key,rn.none())])}function Pm(n,...e){n=Mt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||PA(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(PA(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,u,h;if(n instanceof It)u=Rn(n.firestore,vr),h=Ch(n._key.path),o={next:m=>{e[i]&&e[i](IC(u,n,m))},error:e[i+1],complete:e[i+2]};else{const m=Rn(n,es);u=Rn(m.firestore,vr),h=m._query;const y=new A0(u);o={next:v=>{e[i]&&e[i](new oo(u,y,m,v))},error:e[i+1],complete:e[i+2]},bC(n._query)}const d=kh(u);return C5(d,h,a,o)}function Sp(n,e){const t=kh(n);return O5(t,e)}function IC(n,e,t){const i=t.docs.get(e._key),a=new A0(n);return new ao(n,a,e._key,i,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}function J5(n){return n=Rn(n,vr),kh(n),new W5(n,(e=>Sp(n,e)))}(function(e,t=!0){hk(su),zl(new uo("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new vr(new mk(i.getProvider("auth-internal")),new yk(u,i.getProvider("app-check-internal")),i4(u,a),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ys(VA,OA,e),Ys(VA,OA,"esm2020")})();function CC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z5=CC,DC=new Ah("auth","Firebase",CC());const Mm=new N_("@firebase/auth");function e3(n,...e){Mm.logLevel<=qe.WARN&&Mm.warn(`Auth (${su}): ${n}`,...e)}function Wf(n,...e){Mm.logLevel<=qe.ERROR&&Mm.error(`Auth (${su}): ${n}`,...e)}function Li(n,...e){throw V0(n,...e)}function mr(n,...e){return V0(n,...e)}function VC(n,e,t){const i={...Z5(),[e]:t};return new Ah("auth","Firebase",i).create(e,{appName:n.name})}function Hr(n){return VC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return DC.create(n,...e)}function xe(n,e,...t){if(!n)throw V0(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wf(e),new Error(e)}function Yr(n,e){n||Br(e)}function Wv(){return typeof self<"u"&&self.location?.href||""}function t3(){return kA()==="http:"||kA()==="https:"}function kA(){return typeof self<"u"&&self.location?.protocol||null}function n3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t3()||HM()||"connection"in navigator)?navigator.onLine:!0}function i3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Lh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=FM()||GM()}get(){return n3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O0(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const r3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const s3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a3=new Lh(3e4,6e4);function ca(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ha(n,e,t,i,a={}){return PC(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=wh({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...o};return qM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ru(n.emulatorConfig.host)&&(m.credentials="include"),OC.fetch()(await MC(n,n.config.apiHost,t,h),m)})}async function PC(n,e,t){n._canInitEmulator=!1;const i={...r3,...e};try{const a=new l3(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Vf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Vf(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw VC(n,y,m);Li(n,y)}}catch(a){if(a instanceof Xr)throw a;Li(n,"network-request-failed",{message:String(a)})}}async function jh(n,e,t,i,a={}){const o=await ha(n,e,t,i,a);return"mfaPendingCredential"in o&&Li(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function MC(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?O0(n.config,a):`${n.config.apiScheme}://${a}`;return s3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function o3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(mr(this.auth,"network-request-failed")),a3.get())})}}function Vf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=mr(n,e,i);return a.customData._tokenResponse=t,a}function LA(n){return n!==void 0&&n.enterprise!==void 0}class u3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return o3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function c3(n,e){return ha(n,"GET","/v2/recaptchaConfig",ca(n,e))}async function h3(n,e){return ha(n,"POST","/v1/accounts:delete",e)}async function Nm(n,e){return ha(n,"POST","/v1/accounts:lookup",e)}function Kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d3(n,e=!1){const t=Mt(n),i=await t.getIdToken(e),a=P0(i);xe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:i,authTime:Kc(Xy(a.auth_time)),issuedAtTime:Kc(Xy(a.iat)),expirationTime:Kc(Xy(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xy(n){return Number(n)*1e3}function P0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gx(t);return a?JSON.parse(a):(Wf("Failed to decode base64 JWT payload"),null)}catch(a){return Wf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function jA(n){const e=P0(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xr&&f3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function f3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class m3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function km(n){const e=n.auth,t=await n.getIdToken(),i=await fh(n,Nm(e,{idToken:t}));xe(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?NC(a.providerUserInfo):[],u=g3(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Xv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function p3(n){const e=Mt(n);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g3(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function NC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function y3(n,e){const t=await PC(n,{},async()=>{const i=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await MC(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&ru(n.emulatorConfig.host)&&(d.credentials="include"),OC.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v3(n,e){return ha(n,"POST","/v2/accounts:revokeToken",ca(n,e))}class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=jA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await y3(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new kl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(xe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Br("not implemented")}}function Ls(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new m3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await fh(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return d3(this,e)}reload(){return p3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await km(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await fh(this,h3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:V,stsTokenManager:M}=t;xe(v&&M,e,"internal-error");const N=kl.fromJSON(this.name,M);xe(typeof v=="string",e,"internal-error"),Ls(i,e.name),Ls(a,e.name),xe(typeof E=="boolean",e,"internal-error"),xe(typeof A=="boolean",e,"internal-error"),Ls(o,e.name),Ls(u,e.name),Ls(h,e.name),Ls(d,e.name),Ls(m,e.name),Ls(y,e.name);const U=new Pi({uid:v,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:y});return V&&Array.isArray(V)&&(U.providerData=V.map(z=>({...z}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,t,i=!1){const a=new kl;a.updateFromServerResponse(t);const o=new Pi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await km(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];xe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?NC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new kl;h.updateFromIdToken(i);const d=new Pi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Xv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const UA=new Map;function Fr(n){Yr(n instanceof Function,"Expected a class definition");let e=UA.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UA.set(n,e),e)}class kC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kC.type="NONE";const zA=kC;function Xf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ll{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Xf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nm(this.auth,{idToken:e}).catch(()=>{});return t?Pi._fromGetAccountInfoResponse(this.auth,t,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ll(Fr(zA),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Fr(zA);const u=Xf(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const E=await Nm(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Pi._fromGetAccountInfoResponse(e,E,y)}else v=Pi._fromJSON(e,y);m!==o&&(h=v),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ll(o,e,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ll(o,e,i))}}function BA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FC(e))return"Blackberry";if(qC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||UC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function LC(n=Xt()){return/firefox\//i.test(n)}function jC(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UC(n=Xt()){return/crios\//i.test(n)}function zC(n=Xt()){return/iemobile/i.test(n)}function BC(n=Xt()){return/android/i.test(n)}function FC(n=Xt()){return/blackberry/i.test(n)}function qC(n=Xt()){return/webos/i.test(n)}function M0(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _3(n=Xt()){return M0(n)&&!!window.navigator?.standalone}function E3(){return KM()&&document.documentMode===10}function HC(n=Xt()){return M0(n)||BC(n)||qC(n)||FC(n)||/windows phone/i.test(n)||zC(n)}function GC(n,e=[]){let t;switch(n){case"Browser":t=BA(Xt());break;case"Worker":t=`${BA(Xt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${su}/${i}`}class T3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function S3(n,e={}){return ha(n,"GET","/v2/passwordPolicy",ca(n,e))}const b3=6;class A3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class w3{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FA(this),this.idTokenSubscription=new FA(this),this.beforeStateQueue=new T3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nm(this,{idToken:e}),i=await Pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Hr(this));const t=e?Mt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S3(this),t=new A3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ah("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await v3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&e3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(n){return Mt(n)}class FA{constructor(e){this.auth=e,this.observer=null,this.addObserver=JM(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x3(n){bp=n}function KC(n){return bp.loadJS(n)}function R3(){return bp.recaptchaEnterpriseScript}function I3(){return bp.gapiScript}function C3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class D3{constructor(){this.enterprise=new V3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class V3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const O3="recaptcha-enterprise",QC="NO_RECAPTCHA";class P3{constructor(e){this.type=O3,this.auth=bo(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{c3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new u3(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;LA(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(QC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D3().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!t&&LA(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=R3();d.length!==0&&(d+=h),KC(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function qA(n,e,t,i=!1,a=!1){const o=new P3(n);let u;if(a)u=QC;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Jv(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qA(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qA(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(o)})}function M3(n,e){const t=L_(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Zs(o,e??{}))return a;Li(a,"already-initialized")}return t.initialize({options:e})}function N3(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function k3(n,e,t){const i=bo(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=$C(e),{host:u,port:h}=L3(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(Zs(m,i.config.emulator)&&Zs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ru(u)?(Wx(`${o}//${u}${d}`),Xx("Auth",!0)):j3()}function $C(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function L3(n){const e=$C(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:HA(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:HA(u)}}}function HA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function j3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class N0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function U3(n,e){return ha(n,"POST","/v1/accounts:signUp",e)}async function z3(n,e){return jh(n,"POST","/v1/accounts:signInWithPassword",ca(n,e))}async function B3(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}async function F3(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}class mh extends N0{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new mh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new mh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,t,"signInWithPassword",z3);case"emailLink":return B3(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,i,"signUpPassword",U3);case"emailLink":return F3(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jl(n,e){return jh(n,"POST","/v1/accounts:signInWithIdp",ca(n,e))}const q3="http://localhost";class _o extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=t;if(!i||!a)return null;const u=new _o(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return jl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}buildRequest(){const e={requestUri:q3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wh(t)}return e}}function H3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G3(n){const e=Cc(Dc(n)).link,t=e?Cc(Dc(e)).deep_link_id:null,i=Cc(Dc(n)).deep_link_id;return(i?Cc(Dc(i)).link:null)||i||t||e||n}class k0{constructor(e){const t=Cc(Dc(e)),i=t.apiKey??null,a=t.oobCode??null,o=H3(t.mode??null);xe(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=G3(e);try{return new k0(t)}catch{return null}}}class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return mh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=k0.parseLink(t);return xe(i,"argument-error"),mh._fromEmailAndCode(e,i.code,i.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uh extends YC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Uh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bs.credential(t,i)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Fs extends Uh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class qs extends Uh{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function K3(n,e){return jh(n,"POST","/v1/accounts:signUp",ca(n,e))}class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await Pi._fromIdTokenResponse(e,i,a),u=GA(i);return new Eo({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=GA(i);return new Eo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function GA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Lm extends Xr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Lm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Lm(e,t,i,a)}}function WC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(n,o,e,i):o})}async function Q3(n,e,t=!1){const i=await fh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",i)}async function $3(n,e,t=!1){const{auth:i}=n;if(hi(i.app))return Promise.reject(Hr(i));const a="reauthenticate";try{const o=await fh(n,WC(i,a,e,n),t);xe(o.idToken,i,"internal-error");const u=P0(o.idToken);xe(u,i,"internal-error");const{sub:h}=u;return xe(n.uid===h,i,"user-mismatch"),Eo._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Li(i,"user-mismatch"),o}}async function XC(n,e,t=!1){if(hi(n.app))return Promise.reject(Hr(n));const i="signIn",a=await WC(n,i,e),o=await Eo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function Y3(n,e){return XC(bo(n),e)}async function JC(n){const e=bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZC(n,e,t){if(hi(n.app))return Promise.reject(Hr(n));const i=bo(n),u=await Jv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K3).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&JC(n),d}),h=await Eo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function W3(n,e,t){return hi(n.app)?Promise.reject(Hr(n)):Y3(Mt(n),hu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&JC(n),i})}function X3(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function J3(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function e2(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function Z3(n){return Mt(n).signOut()}const jm="__sak";class t2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ej=1e3,tj=10;class n2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);E3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tj):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n2.type="LOCAL";const nj=n2;class i2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i2.type="SESSION";const r2=i2;function ij(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ap{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Ap(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),d=await ij(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ap.receivers=[];function L0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class rj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=L0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function pr(){return window}function sj(n){pr().location.href=n}function s2(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function aj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oj(){return navigator?.serviceWorker?.controller||null}function lj(){return s2()?self:null}const a2="firebaseLocalStorageDb",uj=1,Um="firebaseLocalStorage",o2="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wp(n,e){return n.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function cj(){const n=indexedDB.deleteDatabase(a2);return new zh(n).toPromise()}function Zv(){const n=indexedDB.open(a2,uj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Um,{keyPath:o2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Um)?e(i):(i.close(),await cj(),e(await Zv()))})})}async function KA(n,e,t){const i=wp(n,!0).put({[o2]:e,value:t});return new zh(i).toPromise()}async function hj(n,e){const t=wp(n,!1).get(e),i=await new zh(t).toPromise();return i===void 0?null:i.value}function QA(n,e){const t=wp(n,!0).delete(e);return new zh(t).toPromise()}const dj=800,fj=3;class l2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>fj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ap._getInstance(lj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aj(),!this.activeServiceWorker)return;this.sender=new rj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zv();return await KA(e,jm,"1"),await QA(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>KA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>hj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=wp(a,!1).getAll();return new zh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l2.type="LOCAL";const mj=l2;new Lh(3e4,6e4);function pj(n,e){return e?Fr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class j0 extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gj(n){return XC(n.auth,new j0(n),n.bypassAuthState)}function yj(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),$3(t,new j0(n),n.bypassAuthState)}async function vj(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),Q3(t,new j0(n),n.bypassAuthState)}class u2{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return vj;case"reauthViaPopup":case"reauthViaRedirect":return yj;default:Li(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _j=new Lh(2e3,1e4);class xl extends u2{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_j.get())};e()}}xl.currentPopupAction=null;const Ej="pendingRedirect",Jf=new Map;class Tj extends u2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const i=await Sj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sj(n,e){const t=wj(e),i=Aj(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function bj(n,e){Jf.set(n._key(),e)}function Aj(n){return Fr(n._redirectPersistence)}function wj(n){return Xf(Ej,n.config.apiKey,n.name)}async function xj(n,e,t=!1){if(hi(n.app))return Promise.reject(Hr(n));const i=bo(n),a=pj(i,e),u=await new Tj(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const Rj=600*1e3;class Ij{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!c2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rj&&this.cachedEventUids.clear(),this.cachedEventUids.has($A(e))}saveEventToCache(e){this.cachedEventUids.add($A(e)),this.lastProcessedEventTime=Date.now()}}function $A(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Cj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c2(n);default:return!1}}async function Dj(n,e={}){return ha(n,"GET","/v1/projects",e)}const Vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oj=/^https?/;async function Pj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Dj(n);for(const t of e)try{if(Mj(t))return}catch{}Li(n,"unauthorized-domain")}function Mj(n){const e=Wv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Oj.test(t))return!1;if(Vj.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Nj=new Lh(3e4,6e4);function YA(){const n=pr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kj(n){return new Promise((e,t)=>{function i(){YA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YA(),t(mr(n,"network-request-failed"))},timeout:Nj.get()})}if(pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pr().gapi?.load)i();else{const a=C3("iframefcb");return pr()[a]=()=>{gapi.load?i():t(mr(n,"network-request-failed"))},KC(`${I3()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function Lj(n){return Zf=Zf||kj(n),Zf}const jj=new Lh(5e3,15e3),Uj="__/auth/iframe",zj="emulator/auth/iframe",Bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qj(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?O0(e,zj):`https://${n.config.authDomain}/${Uj}`,i={apiKey:e.apiKey,appName:n.name,v:su},a=Fj.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${wh(i).slice(1)}`}async function Hj(n){const e=await Lj(n),t=pr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:qj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bj,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=mr(n,"network-request-failed"),h=pr().setTimeout(()=>{o(u)},jj.get());function d(){pr().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(u)})}))}const Gj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kj=500,Qj=600,$j="_blank",Yj="http://localhost";class WA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wj(n,e,t,i=Kj,a=Qj){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...Gj,width:i.toString(),height:a.toString(),top:o,left:u},m=Xt().toLowerCase();t&&(h=UC(m)?$j:t),LC(m)&&(e=e||Yj,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[A,V])=>`${E}${A}=${V},`,"");if(_3(m)&&h!=="_self")return Xj(e||"",h),new WA(null);const v=window.open(e||"",h,y);xe(v,n,"popup-blocked");try{v.focus()}catch{}return new WA(v)}function Xj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const Jj="__/auth/handler",Zj="emulator/auth/handler",e6=encodeURIComponent("fac");async function XA(n,e,t,i,a,o){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:su,eventId:a};if(e instanceof YC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",XM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Uh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${e6}=${encodeURIComponent(d)}`:"";return`${t6(n)}?${wh(h).slice(1)}${m}`}function t6({config:n}){return n.emulator?O0(n,Zj):`https://${n.authDomain}/${Jj}`}const Jy="webStorageSupport";class n6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r2,this._completeRedirectFn=xj,this._overrideRedirectResult=bj}async _openPopup(e,t,i,a){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await XA(e,t,i,Wv(),a);return Wj(e,o,L0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await XA(e,t,i,Wv(),a);return sj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Hj(e),i=new Ij(e);return t.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jy,{type:Jy},a=>{const o=a?.[0]?.[Jy];o!==void 0&&t(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return HC()||jC()||M0()}}const i6=n6;var JA="@firebase/auth",ZA="1.12.0";class r6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function s6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a6(n){zl(new uo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(n)},m=new w3(i,a,o,d);return N3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zl(new uo("auth-internal",e=>{const t=bo(e.getProvider("auth").getImmediate());return(i=>new r6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(JA,ZA,s6(n)),Ys(JA,ZA,"esm2020")}const o6=300,l6=Yx("authIdTokenMaxAge")||o6;let ew=null;const u6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>l6)return;const a=t?.token;ew!==a&&(ew=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function c6(n=sR()){const e=L_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=M3(n,{popupRedirectResolver:i6,persistence:[mj,nj,r2]}),i=Yx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=u6(o.toString());J3(t,u,()=>u(t.currentUser)),X3(t,h=>u(h))}}const a=Qx("auth");return a&&k3(t,`http://${a}`),t}function h6(){return document.getElementsByTagName("head")?.[0]??document}x3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=mr("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",h6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a6("Browser");const d6={apiKey:"AIzaSyDQXzO10EZsD_XIR3Jxn61MwroAym8ZkZ0",authDomain:"acampfiladelfia.firebaseapp.com",projectId:"acampfiladelfia",storageBucket:"acampfiladelfia.firebasestorage.app",messagingSenderId:"462365534474",appId:"1:462365534474:web:258ea893b55077839b32f3",measurementId:"G-6CZCJ3RFNM"},h2=rR(d6),Ct=k5(h2);L5(Ct).catch(n=>{n.code=="failed-precondition"?console.warn("Persistncia offline falhou: Mltiplas abas abertas."):n.code=="unimplemented"&&console.warn("Persistncia offline no suportada neste navegador.")});const Rl=c6(h2),d2=P.createContext();function Er(){return P.useContext(d2)}function f6({children:n}){const[e,t]=P.useState(null),[i,a]=P.useState(!0);function o(m,y){return W3(Rl,m,y)}function u(m,y){return ZC(Rl,m,y)}function h(){return Z3(Rl)}P.useEffect(()=>e2(Rl,async y=>{try{if(y){const{getUserProfile:v}=await Fx(async()=>{const{getUserProfile:A}=await Promise.resolve().then(()=>T6);return{getUserProfile:A}},[]),E=await v(y.uid);t({...y,profile:E})}else t(null)}catch(v){console.error("Erro ao carregar perfil:",v),t(null)}finally{a(!1)}}),[]);const d={currentUser:e,login:o,signup:u,logout:h};return S.jsx(d2.Provider,{value:d,children:!i&&n})}const m6="_btn_7pqsz_1",p6="_primary_7pqsz_89",g6="_secondary_7pqsz_101",y6="_full_7pqsz_113",Zy={btn:m6,primary:p6,secondary:g6,full:y6},Qe=({children:n,onClick:e,disabled:t,type:i="button",variant:a="primary",fullWidth:o=!1})=>S.jsx("button",{type:i,className:`${Zy.btn} ${Zy[a]} ${o?Zy.full:""}`,onClick:e,disabled:t,children:n}),e_=({label:n,type:e="text",value:t,onChange:i,placeholder:a,required:o=!1})=>S.jsxs("div",{style:{marginBottom:"1rem"},children:[n&&S.jsxs("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"1rem",color:"var(--color-gold)",fontFamily:"var(--font-display)",letterSpacing:"1px"},children:[n," ",o&&S.jsx("span",{style:{color:"var(--color-fire)"},children:"*"})]}),S.jsx("input",{type:e,value:t,onChange:i,placeholder:a,required:o,style:{width:"100%",padding:"14px",backgroundColor:"rgba(0,0,0,0.4)",border:"2px solid var(--color-wood-light)",borderRadius:"var(--radius-rustic)",color:"var(--text-main)",fontFamily:"var(--font-body)",fontSize:"1rem",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.5)"},onFocus:u=>u.target.style.borderColor="var(--color-gold)",onBlur:u=>u.target.style.borderColor="var(--color-wood-light)"})]}),ft=({children:n,className:e="",style:t={},onClick:i})=>S.jsxs("div",{onClick:i,style:{backgroundColor:"var(--bg-card)",border:"var(--border-rustic)",borderRadius:"var(--radius-rustic)",padding:"1.5rem",position:"relative",boxShadow:"var(--shadow-rustic)",backgroundImage:"linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px)",backgroundSize:"20px 20px",cursor:i?"pointer":"default",transition:i?"transform 0.2s ease":"none",...t},className:e,children:[S.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),n]}),xp=n=>typeof n=="string"?["igrejafiladelfiacorrente@gmail.com","admin@acamp.forja.com"].includes(n):n?.role==="admin",v6=async n=>{try{const e=mn(Ct,"users",n),t=await Vm(e);if(t.exists())return t.data().role==="admin";const i=mn(Ct,"admins",n);return(await Vm(i)).exists()}catch{return!1}},f2=async(n,e)=>{try{const t=xp(e.email||`${e.nomeGuerra.toLowerCase()}@acamp.forja.com`),i=mn(Ct,"users",n);await Om(i,{...e,status:t?"approved":"pending",role:t?"admin":"soldier",updatedAt:He.now()},{merge:!0})}catch(t){console.error("Erro ao salvar perfil:",t)}},_6=async n=>{try{const e=mn(Ct,"users",n),t=await Vm(e);return t.exists()?t.data():null}catch(e){return console.error("Erro ao buscar perfil:",e),null}},m2=async n=>{try{const e=mn(Ct,"users",n);return await Tp(e,{status:"approved",approvedAt:He.now()}),{success:!0}}catch(e){return console.error("Erro ao aprovar usurio:",e),{success:!1,error:e}}},p2=async n=>{try{return await RC(mn(Ct,"users",n)),{success:!0}}catch(e){return console.error("Erro ao rejeitar usurio:",e),{success:!1,error:e}}},g2=async(n,e,t="soldier")=>{try{const a=`${n.trim().toLowerCase().replace(/\s+/g,".")}@acamp.forja.com`,o=`${e}@acamp2026`,h=(await ZC(Rl,a,o)).user.uid,d=mn(Ct,"users",h);return await Om(d,{nomeGuerra:n,email:a,pin:e,role:t,status:"approved",createdAt:new Date().toISOString(),createdByAdmin:!0,updatedAt:He.now()}),{success:!0,uid:h}}catch(i){console.error("Erro ao criar usurio:",i);let a="Erro desconhecido";return i.code==="auth/email-already-in-use"?a="Esse nome de guerra j est em uso!":i.code==="auth/weak-password"&&(a="PIN muito fraco. Use 4 dgitos."),{success:!1,error:a}}},y2=async(n,e)=>{try{const t=mn(Ct,"users",n);return await Tp(t,{role:e,updatedAt:He.now()}),{success:!0}}catch(t){return console.error("Erro ao atualizar role:",t),{success:!1,error:t}}},E6=async(n,e)=>{try{const t=mn(Ct,"users",n);return await Tp(t,{...e,updatedAt:He.now()}),{success:!0}}catch(t){return console.error("Erro ao atualizar perfil:",t),{success:!1,error:t}}},T6=Object.freeze(Object.defineProperty({__proto__:null,approveUser:m2,checkAdminStatus:v6,checkIsAdmin:xp,createUserByAdmin:g2,getUserProfile:_6,rejectUser:p2,saveUserProfile:f2,updateUserProfile:E6,updateUserRole:y2},Symbol.toStringTag,{value:"Module"})),U0=P.createContext({});function z0(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const v2=typeof window<"u",_2=v2?P.useLayoutEffect:P.useEffect,Rp=P.createContext(null);function B0(n,e){n.indexOf(e)===-1&&n.push(e)}function zm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _r=(n,e,t)=>t>e?e:t<n?n:t;let F0=()=>{};const Wr={},E2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function T2(n){return typeof n=="object"&&n!==null}const S2=n=>/^0[^.\s]+$/u.test(n);function q0(n){let e;return()=>(e===void 0&&(e=n()),e)}const gi=n=>n,S6=(n,e)=>t=>e(n(t)),Bh=(...n)=>n.reduce(S6),ph=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class H0{constructor(){this.subscriptions=[]}add(e){return B0(this.subscriptions,e),()=>zm(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=n=>n*1e3,mi=n=>n/1e3;function b2(n,e){return e?n*(1e3/e):0}const A2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,b6=1e-7,A6=12;function w6(n,e,t,i,a){let o,u,h=0;do u=e+(t-e)/2,o=A2(u,i,a)-n,o>0?t=u:e=u;while(Math.abs(o)>b6&&++h<A6);return u}function Fh(n,e,t,i){if(n===e&&t===i)return gi;const a=o=>w6(o,0,1,n,t);return o=>o===0||o===1?o:A2(a(o),e,i)}const w2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,x2=n=>e=>1-n(1-e),R2=Fh(.33,1.53,.69,.99),G0=x2(R2),I2=w2(G0),C2=n=>(n*=2)<1?.5*G0(n):.5*(2-Math.pow(2,-10*(n-1))),K0=n=>1-Math.sin(Math.acos(n)),D2=x2(K0),V2=w2(K0),x6=Fh(.42,0,1,1),R6=Fh(0,0,.58,1),O2=Fh(.42,0,.58,1),I6=n=>Array.isArray(n)&&typeof n[0]!="number",P2=n=>Array.isArray(n)&&typeof n[0]=="number",C6={linear:gi,easeIn:x6,easeInOut:O2,easeOut:R6,circIn:K0,circInOut:V2,circOut:D2,backIn:G0,backInOut:I2,backOut:R2,anticipate:C2},D6=n=>typeof n=="string",tw=n=>{if(P2(n)){F0(n.length===4);const[e,t,i,a]=n;return Fh(e,t,i,a)}else if(D6(n))return C6[n];return n},Of=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V6(n,e){let t=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),n()),y(h)}const m={schedule:(y,v=!1,E=!1)=>{const V=E&&a?t:i;return v&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(d),t.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const O6=40;function M2(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=Of.reduce((B,X)=>(B[X]=V6(o),B),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:v,preRender:E,render:A,postRender:V}=u,M=()=>{const B=Wr.useManualTiming?a.timestamp:performance.now();t=!1,Wr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(B-a.timestamp,O6),1)),a.timestamp=B,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),v.process(a),E.process(a),A.process(a),V.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(M))},N=()=>{t=!0,i=!0,a.isProcessing||n(M)};return{schedule:Of.reduce((B,X)=>{const H=u[X];return B[X]=(se,I=!1,x=!1)=>(t||N(),H.schedule(se,I,x)),B},{}),cancel:B=>{for(let X=0;X<Of.length;X++)u[Of[X]].cancel(B)},state:a,steps:u}}const{schedule:mt,cancel:sa,state:hn,steps:ev}=M2(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let em;function P6(){em=void 0}const wn={now:()=>(em===void 0&&wn.set(hn.isProcessing||Wr.useManualTiming?hn.timestamp:performance.now()),em),set:n=>{em=n,queueMicrotask(P6)}},N2=n=>e=>typeof e=="string"&&e.startsWith(n),k2=N2("--"),M6=N2("var(--"),Q0=n=>M6(n)?N6.test(n.split("/*")[0].trim()):!1,N6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function nw(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const du={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gh={...du,transform:n=>_r(0,1,n)},Pf={...du,default:1},Qc=n=>Math.round(n*1e5)/1e5,$0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k6(n){return n==null}const L6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y0=(n,e)=>t=>!!(typeof t=="string"&&L6.test(t)&&t.startsWith(n)||e&&!k6(t)&&Object.prototype.hasOwnProperty.call(t,e)),L2=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match($0);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},j6=n=>_r(0,255,n),tv={...du,transform:n=>Math.round(j6(n))},to={test:Y0("rgb","red"),parse:L2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+tv.transform(n)+", "+tv.transform(e)+", "+tv.transform(t)+", "+Qc(gh.transform(i))+")"};function U6(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const t_={test:Y0("#"),parse:U6,transform:to.transform},qh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),js=qh("deg"),gr=qh("%"),ge=qh("px"),z6=qh("vh"),B6=qh("vw"),iw={...gr,parse:n=>gr.parse(n)/100,transform:n=>gr.transform(n*100)},Il={test:Y0("hsl","hue"),parse:L2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+gr.transform(Qc(e))+", "+gr.transform(Qc(t))+", "+Qc(gh.transform(i))+")"},Gt={test:n=>to.test(n)||t_.test(n)||Il.test(n),parse:n=>to.test(n)?to.parse(n):Il.test(n)?Il.parse(n):t_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?to.transform(n):Il.transform(n),getAnimatableNone:n=>{const e=Gt.parse(n);return e.alpha=0,Gt.transform(e)}},F6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q6(n){return isNaN(n)&&typeof n=="string"&&(n.match($0)?.length||0)+(n.match(F6)?.length||0)>0}const j2="number",U2="color",H6="var",G6="var(",rw="${}",K6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(K6,d=>(Gt.test(d)?(i.color.push(o),a.push(U2),t.push(Gt.parse(d))):d.startsWith(G6)?(i.var.push(o),a.push(H6),t.push(d)):(i.number.push(o),a.push(j2),t.push(parseFloat(d))),++o,rw)).split(rw);return{values:t,split:h,indexes:i,types:a}}function z2(n){return yh(n).values}function B2(n){const{split:e,types:t}=yh(n),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const h=t[u];h===j2?o+=Qc(a[u]):h===U2?o+=Gt.transform(a[u]):o+=a[u]}return o}}const Q6=n=>typeof n=="number"?0:Gt.test(n)?Gt.getAnimatableNone(n):n;function $6(n){const e=z2(n);return B2(n)(e.map(Q6))}const aa={test:q6,parse:z2,createTransformer:B2,getAnimatableNone:$6};function nv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Y6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,u=0;if(!e)a=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;a=nv(d,h,n+1/3),o=nv(d,h,n),u=nv(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Bm(n,e){return t=>t>0?e:n}const bt=(n,e,t)=>n+(e-n)*t,iv=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},W6=[t_,to,Il],X6=n=>W6.find(e=>e.test(n));function sw(n){const e=X6(n);if(!e)return!1;let t=e.parse(n);return e===Il&&(t=Y6(t)),t}const aw=(n,e)=>{const t=sw(n),i=sw(e);if(!t||!i)return Bm(n,e);const a={...t};return o=>(a.red=iv(t.red,i.red,o),a.green=iv(t.green,i.green,o),a.blue=iv(t.blue,i.blue,o),a.alpha=bt(t.alpha,i.alpha,o),to.transform(a))},n_=new Set(["none","hidden"]);function J6(n,e){return n_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Z6(n,e){return t=>bt(n,e,t)}function W0(n){return typeof n=="number"?Z6:typeof n=="string"?Q0(n)?Bm:Gt.test(n)?aw:nU:Array.isArray(n)?F2:typeof n=="object"?Gt.test(n)?aw:eU:Bm}function F2(n,e){const t=[...n],i=t.length,a=n.map((o,u)=>W0(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=a[u](o);return t}}function eU(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=W0(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function tU(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=n.indexes[o][i[o]],h=n.values[u]??0;t[a]=h,i[o]++}return t}const nU=(n,e)=>{const t=aa.createTransformer(e),i=yh(n),a=yh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?n_.has(n)&&!a.values.length||n_.has(e)&&!i.values.length?J6(n,e):Bh(F2(tU(i,a),a.values),t):Bm(n,e)};function q2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):W0(n)(n,e)}const iU=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>mt.update(e,t),stop:()=>sa(e),now:()=>hn.isProcessing?hn.timestamp:wn.now()}},H2=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Fm=2e4;function X0(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Fm;)e+=t,i=n.next(e);return e>=Fm?1/0:e}function rU(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(X0(i),Fm);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:mi(a)}}const sU=5;function G2(n,e,t){const i=Math.max(e-sU,0);return b2(t-n(i),e-i)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rv=.001;function aU({duration:n=xt.duration,bounce:e=xt.bounce,velocity:t=xt.velocity,mass:i=xt.mass}){let a,o,u=1-e;u=_r(xt.minDamping,xt.maxDamping,u),n=_r(xt.minDuration,xt.maxDuration,mi(n)),u<1?(a=m=>{const y=m*u,v=y*n,E=y-t,A=i_(m,u),V=Math.exp(-v);return rv-E/A*V},o=m=>{const v=m*u*n,E=v*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,V=Math.exp(-v),M=i_(Math.pow(m,2),u);return(-a(m)+rv>0?-1:1)*((E-A)*V)/M}):(a=m=>{const y=Math.exp(-m*n),v=(m-t)*n+1;return-rv+y*v},o=m=>{const y=Math.exp(-m*n),v=(t-m)*(n*n);return y*v});const h=5/n,d=lU(a,o,h);if(n=Ni(n),isNaN(d))return{stiffness:xt.stiffness,damping:xt.damping,duration:n};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const oU=12;function lU(n,e,t){let i=t;for(let a=1;a<oU;a++)i=i-n(i)/e(i);return i}function i_(n,e){return n*Math.sqrt(1-e*e)}const uU=["duration","bounce"],cU=["stiffness","damping","mass"];function ow(n,e){return e.some(t=>n[t]!==void 0)}function hU(n){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...n};if(!ow(n,cU)&&ow(n,uU))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*_r(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:xt.mass,stiffness:a,damping:o}}else{const t=aU(n);e={...e,...t,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function qm(n=xt.visualDuration,e=xt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:v,velocity:E,isResolvedFromDuration:A}=hU({...t,velocity:-mi(t.velocity||0)}),V=E||0,M=m/(2*Math.sqrt(d*y)),N=u-o,U=mi(Math.sqrt(d/y)),z=Math.abs(N)<5;i||(i=z?xt.restSpeed.granular:xt.restSpeed.default),a||(a=z?xt.restDelta.granular:xt.restDelta.default);let B;if(M<1){const H=i_(U,M);B=se=>{const I=Math.exp(-M*U*se);return u-I*((V+M*U*N)/H*Math.sin(H*se)+N*Math.cos(H*se))}}else if(M===1)B=H=>u-Math.exp(-U*H)*(N+(V+U*N)*H);else{const H=U*Math.sqrt(M*M-1);B=se=>{const I=Math.exp(-M*U*se),x=Math.min(H*se,300);return u-I*((V+M*U*N)*Math.sinh(x)+H*N*Math.cosh(x))/H}}const X={calculatedDuration:A&&v||null,next:H=>{const se=B(H);if(A)h.done=H>=v;else{let I=H===0?V:0;M<1&&(I=H===0?Ni(V):G2(B,H,se));const x=Math.abs(I)<=i,C=Math.abs(u-se)<=a;h.done=x&&C}return h.value=h.done?u:se,h},toString:()=>{const H=Math.min(X0(X),Fm),se=H2(I=>X.next(H*I).value,H,30);return H+"ms "+se},toTransition:()=>{}};return X}qm.applyToOptions=n=>{const e=rU(n,100,qm);return n.ease=e.ease,n.duration=Ni(e.duration),n.type="keyframes",n};function r_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},A=x=>h!==void 0&&x<h||d!==void 0&&x>d,V=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=t*e;const N=v+M,U=u===void 0?N:u(N);U!==N&&(M=U-v);const z=x=>-M*Math.exp(-x/i),B=x=>U+z(x),X=x=>{const C=z(x),j=B(x);E.done=Math.abs(C)<=m,E.value=E.done?U:j};let H,se;const I=x=>{A(E.value)&&(H=x,se=qm({keyframes:[E.value,V(E.value)],velocity:G2(B,x,E.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let C=!1;return!se&&H===void 0&&(C=!0,X(x),I(x)),H!==void 0&&x>=H?se.next(x-H):(!C&&X(x),E)}}}function dU(n,e,t){const i=[],a=t||Wr.mix||q2,o=n.length-1;for(let u=0;u<o;u++){let h=a(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||gi:e;h=Bh(d,h)}i.push(h)}return i}function fU(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if(F0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=dU(e,i,a),d=h.length,m=y=>{if(u&&y<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=ph(n[v],n[v+1],y);return h[v](E)};return t?y=>m(_r(n[0],n[o-1],y)):m}function mU(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=ph(0,e,i);n.push(bt(t,1,a))}}function pU(n){const e=[0];return mU(e,n.length-1),e}function gU(n,e){return n.map(t=>t*e)}function yU(n,e){return n.map(()=>e||O2).splice(0,n.length-1)}function $c({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=I6(i)?i.map(tw):tw(i),o={done:!1,value:e[0]},u=gU(t&&t.length===e.length?t:pU(e),n),h=fU(u,e,{ease:Array.isArray(a)?a:yU(e,a)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const vU=n=>n!==null;function J0(n,{repeat:e,repeatType:t="loop"},i,a=1){const o=n.filter(vU),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const _U={decay:r_,inertia:r_,tween:$c,keyframes:$c,spring:qm};function K2(n){typeof n.type=="string"&&(n.type=_U[n.type])}class Z0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const EU=n=>n/100;class eE extends Z0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;K2(e);const{type:t=$c,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const d=t||$c;d!==$c&&typeof h[0]!="number"&&(this.mixKeyframes=Bh(EU,q2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=X0(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:A,type:V,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,X=i;if(v){const x=Math.min(this.currentTime,a)/h;let C=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&C--,C=Math.min(C,v+1),C%2&&(E==="reverse"?(j=1-j,A&&(j-=A/h)):E==="mirror"&&(X=u)),B=_r(0,1,j)*h}const H=z?{done:!1,value:y[0]}:X.next(B);o&&(H.value=o(H.value));let{done:se}=H;!z&&d!==null&&(se=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return I&&V!==r_&&(H.value=J0(y,this.options,N,this.speed)),M&&M(H.value),I&&this.finish(),H}then(e,t){return this.finished.then(e,t)}get duration(){return mi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=iU,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TU(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const no=n=>n*180/Math.PI,s_=n=>{const e=no(Math.atan2(n[1],n[0]));return a_(e)},SU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:s_,rotateZ:s_,skewX:n=>no(Math.atan(n[1])),skewY:n=>no(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},a_=n=>(n=n%360,n<0&&(n+=360),n),lw=s_,uw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uw,scaleY:cw,scale:n=>(uw(n)+cw(n))/2,rotateX:n=>a_(no(Math.atan2(n[6],n[5]))),rotateY:n=>a_(no(Math.atan2(-n[2],n[0]))),rotateZ:lw,rotate:lw,skewX:n=>no(Math.atan(n[4])),skewY:n=>no(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function o_(n){return n.includes("scale")?1:0}function l_(n,e){if(!n||n==="none")return o_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=bU,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=SU,a=h}if(!a)return o_(e);const o=i[e],u=a[1].split(",").map(wU);return typeof o=="function"?o(u):u[o]}const AU=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return l_(t,e)};function wU(n){return parseFloat(n.trim())}const fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mu=new Set(fu),hw=n=>n===du||n===ge,xU=new Set(["x","y","z"]),RU=fu.filter(n=>!xU.has(n));function IU(n){const e=[];return RU.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Gs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>l_(e,"x"),y:(n,{transform:e})=>l_(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const lo=new Set;let u_=!1,c_=!1,h_=!1;function Q2(){if(c_){const n=Array.from(lo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=IU(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}c_=!1,u_=!1,lo.forEach(n=>n.complete(h_)),lo.clear()}function $2(){lo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(c_=!0)})}function CU(){h_=!0,$2(),Q2(),h_=!1}class tE{constructor(e,t,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),u_||(u_=!0,mt.read($2),mt.resolveKeyframes(Q2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}TU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DU=n=>n.startsWith("--");function VU(n,e,t){DU(e)?n.style.setProperty(e,t):n.style[e]=t}const OU=q0(()=>window.ScrollTimeline!==void 0),PU={};function MU(n,e){const t=q0(n);return()=>PU[e]??t()}const Y2=MU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,dw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function W2(n,e){if(n)return typeof n=="function"?Y2()?H2(n,e):"ease-out":P2(n)?kc(n):Array.isArray(n)?n.map(t=>W2(t,e)||dw.easeOut):dw[n]}function NU(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:t};d&&(y.offset=d);const v=W2(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),n.animate(y,E)}function X2(n){return typeof n=="function"&&"applyToOptions"in n}function kU({type:n,...e}){return X2(n)&&Y2()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class J2 extends Z0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,F0(typeof e.type!="string");const m=kU(e);this.animation=NU(t,i,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=J0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):VU(t,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return mi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&OU()?(this.animation.timeline=e,gi):t(this)}}const Z2={anticipate:C2,backInOut:I2,circInOut:V2};function LU(n){return n in Z2}function jU(n){typeof n.ease=="string"&&LU(n.ease)&&(n.ease=Z2[n.ease])}const sv=10;class UU extends J2{constructor(e){jU(e),K2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new eE({...u,autoplay:!1}),d=Math.max(sv,wn.now()-this.startTime),m=_r(0,sv,d-sv);t.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const fw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(aa.test(n)||n==="0")&&!n.startsWith("url("));function zU(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function BU(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=fw(a,e),h=fw(o,e);return!u||!h?!1:zU(n)||(t==="spring"||X2(t))&&i}function d_(n){n.duration=0,n.type="keyframes"}const FU=new Set(["opacity","clipPath","filter","transform"]),qU=q0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HU(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:o,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return qU()&&t&&FU.has(t)&&(t!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const GU=40;class KU extends Z0{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const E={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:y,...v},A=y?.KeyframeResolver||tE;this.keyframeResolver=new A(h,(V,M,N)=>this.onKeyframesResolved(V,M,E,!N),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=wn.now(),BU(e,o,u,h)||((Wr.instantAnimations||!d)&&y?.(J0(e,i,t)),e[0]=e[e.length-1],d_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>GU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},A=!m&&HU(E),V=E.motionValue?.owner?.current,M=A?new UU({...E,element:V}):new eE(E);M.finished.then(()=>{this.notifyFinished()}).catch(gi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function eD(n,e,t,i=0,a=1){const o=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):a===1?o*i:h-o*i}const QU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $U(n){const e=QU.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function tD(n,e,t=1){const[i,a]=$U(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return E2(u)?parseFloat(u):u}return Q0(a)?tD(a,e,t+1):a}const YU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),XU={type:"keyframes",duration:.8},JU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZU=(n,{keyframes:e})=>e.length>2?XU:mu.has(n)?n.startsWith("scale")?WU(e[1]):YU:JU,ez=n=>n!==null;function tz(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(ez),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}function nD(n,e){if(n?.inherit&&e){const{inherit:t,...i}=n;return{...e,...i}}return n}function nE(n,e){const t=n?.[e]??n?.default??n;return t!==n?nD(t,n):t}function nz({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const iE=(n,e,t,i={},a,o)=>u=>{const h=nE(i,n)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ni(d);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};nz(h)||Object.assign(y,ZU(n,y)),y.duration&&(y.duration=Ni(y.duration)),y.repeatDelay&&(y.repeatDelay=Ni(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(d_(y),y.delay===0&&(v=!0)),(Wr.instantAnimations||Wr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,d_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const E=tz(y.keyframes,h);if(E!==void 0){mt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new eE(y):new KU(y)};function mw(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function rE(n,e,t,i){if(typeof e=="function"){const[a,o]=mw(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=mw(i);e=e(t!==void 0?t:n.custom,a,o)}return e}function Ul(n,e,t){const i=n.getProps();return rE(i,e,t!==void 0?t:i.custom,n)}const iD=new Set(["width","height","top","left","right","bottom",...fu]),pw=30,iz=n=>!isNaN(parseFloat(n));class rz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new H0);const i=this.events[e].add(t);return e==="change"?()=>{i(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return b2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eu(n,e){return new rz(n,e)}const f_=n=>Array.isArray(n);function sz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,eu(t))}function az(n){return f_(n)?n[n.length-1]||0:n}function oz(n,e){const t=Ul(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const u in o){const h=az(o[u]);sz(n,u,h)}}const _n=n=>!!(n&&n.getVelocity);function lz(n){return!!(_n(n)&&n.add)}function m_(n,e){const t=n.getValue("willChange");if(lz(t))return t.add(e);if(!t&&Wr.WillChange){const i=new Wr.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function sE(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const uz="framerAppearId",rD="data-"+sE(uz);function sD(n){return n.props[rD]}function cz({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function aD(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o,transitionEnd:u,...h}=e;const d=n.getDefaultTransition();o=o?nD(o,d):d;const m=o?.reduceMotion;i&&(o=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const E in h){const A=n.getValue(E,n.latestValues[E]??null),V=h[E];if(V===void 0||v&&cz(v,E))continue;const M={delay:t,...nE(o||{},E)},N=A.get();if(N!==void 0&&!A.isAnimating&&!Array.isArray(V)&&V===N&&!M.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const X=sD(n);if(X){const H=window.MotionHandoffAnimation(X,E,mt);H!==null&&(M.startTime=H,U=!0)}}m_(n,E);const z=m??n.shouldReduceMotion;A.start(iE(E,A,V,z&&iD.has(E)?{type:!1}:M,n,U));const B=A.animation;B&&y.push(B)}if(u){const E=()=>mt.update(()=>{u&&oz(n,u)});y.length?Promise.all(y).then(E):E()}return y}function p_(n,e,t={}){const i=Ul(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(aD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return hz(n,e,d,m,y,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(t.delay)])}function hz(n,e,t=0,i=0,a=0,o=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(p_(d,e,{...u,delay:t+(typeof i=="function"?0:i)+eD(n.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function dz(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>p_(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=p_(n,e,t);else{const a=typeof e=="function"?Ul(n,e,t.custom):e;i=Promise.all(aD(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const fz={test:n=>n==="auto",parse:n=>n},oD=n=>e=>e.test(n),lD=[du,ge,gr,js,B6,z6,fz],gw=n=>lD.find(oD(n));function mz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||S2(n):!0}const pz=new Set(["brightness","contrast","saturate","opacity"]);function gz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match($0)||[];if(!i)return n;const a=t.replace(i,"");let o=pz.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const yz=/\b([a-z-]*)\(.*?\)/gu,g_={...aa,getAnimatableNone:n=>{const e=n.match(yz);return e?e.map(gz).join(" "):n}},yw={...du,transform:Math.round},vz={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:js,skewX:js,skewY:js,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:gh,originX:iw,originY:iw,originZ:ge},aE={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...vz,zIndex:yw,fillOpacity:gh,strokeOpacity:gh,numOctaves:yw},_z={...aE,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:g_,WebkitFilter:g_},uD=n=>_z[n];function cD(n,e){let t=uD(n);return t!==g_&&(t=aa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Ez=new Set(["auto","none","0"]);function Tz(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!Ez.has(o)&&yh(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=cD(t,a)}class Sz extends tE{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),Q0(v))){const E=tD(v,t.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!iD.has(i)||e.length!==2)return;const[a,o]=e,u=gw(a),h=gw(o),d=nw(a),m=nw(o);if(d!==m&&Gs[i]){this.needsMeasurement=!0;return}if(u!==h)if(hw(u)&&hw(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||mz(e[a]))&&i.push(a);i.length&&Tz(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Gs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const bz=new Set(["opacity","clipPath","filter","transform"]);function hD(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const dD=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function y_(n){return T2(n)&&"offsetHeight"in n}const{schedule:oE}=M2(queueMicrotask,!1),Vi={x:!1,y:!1};function fD(){return Vi.x||Vi.y}function Az(n){return n==="x"||n==="y"?Vi[n]?null:(Vi[n]=!0,()=>{Vi[n]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function mD(n,e){const t=hD(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function wz(n){return!(n.pointerType==="touch"||fD())}function xz(n,e,t={}){const[i,a,o]=mD(n,t);return i.forEach(u=>{let h=!1,d=!1,m;const y=()=>{u.removeEventListener("pointerleave",V)},v=N=>{m&&(m(N),m=void 0),y()},E=N=>{h=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),d&&(d=!1,v(N))},A=()=>{h=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},V=N=>{if(N.pointerType!=="touch"){if(h){d=!0;return}v(N)}},M=N=>{if(!wz(N))return;d=!1;const U=e(u,N);typeof U=="function"&&(m=U,u.addEventListener("pointerleave",V,a))};u.addEventListener("pointerenter",M,a),u.addEventListener("pointerdown",A,a)}),o}const pD=(n,e)=>e?n===e?!0:pD(n,e.parentElement):!1,lE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Rz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iz(n){return Rz.has(n.tagName)||n.isContentEditable===!0}const Cz=new Set(["INPUT","SELECT","TEXTAREA"]);function Dz(n){return Cz.has(n.tagName)||n.isContentEditable===!0}const tm=new WeakSet;function vw(n){return e=>{e.key==="Enter"&&n(e)}}function av(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vz=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=vw(()=>{if(tm.has(t))return;av(t,"down");const a=vw(()=>{av(t,"up")}),o=()=>av(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function _w(n){return lE(n)&&!fD()}const Ew=new WeakSet;function Oz(n,e,t={}){const[i,a,o]=mD(n,t),u=h=>{const d=h.currentTarget;if(!_w(h)||Ew.has(h))return;tm.add(d),t.stopPropagation&&Ew.add(h);const m=e(d,h),y=(A,V)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),tm.has(d)&&tm.delete(d),_w(A)&&typeof m=="function"&&m(A,{success:V})},v=A=>{y(A,d===window||d===document||t.useGlobalTarget||pD(d,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),y_(h)&&(h.addEventListener("focus",m=>Vz(m,a)),!Iz(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function uE(n){return T2(n)&&"ownerSVGElement"in n}const nm=new WeakMap;let im;const gD=(n,e,t)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:uE(i)&&"getBBox"in i?i.getBBox()[e]:i[t],Pz=gD("inline","width","offsetWidth"),Mz=gD("block","height","offsetHeight");function Nz({target:n,borderBoxSize:e}){nm.get(n)?.forEach(t=>{t(n,{get width(){return Pz(n,e)},get height(){return Mz(n,e)}})})}function kz(n){n.forEach(Nz)}function Lz(){typeof ResizeObserver>"u"||(im=new ResizeObserver(kz))}function jz(n,e){im||Lz();const t=hD(n);return t.forEach(i=>{let a=nm.get(i);a||(a=new Set,nm.set(i,a)),a.add(e),im?.observe(i)}),()=>{t.forEach(i=>{const a=nm.get(i);a?.delete(e),a?.size||im?.unobserve(i)})}}const rm=new Set;let Cl;function Uz(){Cl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};rm.forEach(e=>e(n))},window.addEventListener("resize",Cl)}function zz(n){return rm.add(n),Cl||Uz(),()=>{rm.delete(n),!rm.size&&typeof Cl=="function"&&(window.removeEventListener("resize",Cl),Cl=void 0)}}function Tw(n,e){return typeof n=="function"?zz(n):jz(n,e)}function Bz(n){return uE(n)&&n.tagName==="svg"}const Fz=[...lD,Gt,aa],qz=n=>Fz.find(oD(n)),Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:Sw(),y:Sw()}),bw=()=>({min:0,max:0}),Wt=()=>({x:bw(),y:bw()}),Hz=new WeakMap;function Ip(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function vh(n){return typeof n=="string"||Array.isArray(n)}const cE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hE=["initial",...cE];function Cp(n){return Ip(n.animate)||hE.some(e=>vh(n[e]))}function yD(n){return!!(Cp(n)||n.variants)}function Gz(n,e,t){for(const i in e){const a=e[i],o=t[i];if(_n(a))n.addValue(i,a);else if(_n(o))n.addValue(i,eu(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,eu(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const v_={current:null},vD={current:!1},Kz=typeof window<"u";function Qz(){if(vD.current=!0,!!Kz)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>v_.current=n.matches;n.addEventListener("change",e),e()}else v_.current=!1}const Aw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Hm={};function _D(n){Hm=n}function $z(){return Hm}class Yz{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,skipAnimations:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=tE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=wn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Cp(t),this.isVariantNode=yD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in E){const V=E[A];m[A]!==void 0&&_n(V)&&V.set(m[A])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,Hz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vD.current||Qz(),this.shouldReduceMotion=v_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&bz.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:d,ease:m,duration:y}=t.accelerate,v=new J2({element:this.current,name:e,keyframes:h,times:d,ease:m,duration:Ni(y)}),E=u(v);this.valueSubscriptions.set(e,()=>{E(),v.cancel()});return}const i=mu.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hm){const t=Hm[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Aw.length;i++){const a=Aw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Gz(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=eu(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(E2(i)||S2(i))?i=parseFloat(i):!qz(i)&&aa.test(t)&&(i=cD(e,t)),this.setBaseTarget(e,_n(i)?i.get():i)),_n(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=rE(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!_n(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new H0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){oE.render(this.render)}}class ED extends Yz{constructor(){super(...arguments),this.KeyframeResolver=Sz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}function TD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Wz({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Xz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function ov(n){return n===void 0||n===1}function __({scale:n,scaleX:e,scaleY:t}){return!ov(n)||!ov(e)||!ov(t)}function Ya(n){return __(n)||SD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function SD(n){return ww(n.x)||ww(n.y)}function ww(n){return n&&n!=="0%"}function Gm(n,e,t){const i=n-t,a=e*i;return t+a}function xw(n,e,t,i,a){return a!==void 0&&(n=Gm(n,a,i)),Gm(n,t,i)+e}function E_(n,e=0,t=1,i,a){n.min=xw(n.min,e,t,i,a),n.max=xw(n.max,e,t,i,a)}function bD(n,{x:e,y:t}){E_(n.x,e.translate,e.scale,e.originPoint),E_(n.y,t.translate,t.scale,t.originPoint)}const Rw=.999999999999,Iw=1.0000000000001;function Jz(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=t[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ol(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,bD(n,u)),i&&Ya(o.latestValues)&&Ol(n,o.latestValues))}e.x<Iw&&e.x>Rw&&(e.x=1),e.y<Iw&&e.y>Rw&&(e.y=1)}function Vl(n,e){n.min=n.min+e,n.max=n.max+e}function Cw(n,e,t,i,a=.5){const o=bt(n.min,n.max,a);E_(n,e,t,o,i)}function Ol(n,e){Cw(n.x,e.x,e.scaleX,e.scale,e.originX),Cw(n.y,e.y,e.scaleY,e.scale,e.originY)}function AD(n,e){return TD(Xz(n.getBoundingClientRect(),e))}function Zz(n,e,t){const i=AD(n,t),{scroll:a}=e;return a&&(Vl(i.x,a.offset.x),Vl(i.y,a.offset.y)),i}const e9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t9=fu.length;function n9(n,e,t){let i="",a=!0;for(let o=0;o<t9;o++){const u=fu[o],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const m=parseFloat(h);d=u.startsWith("scale")?m===1:m===0}if(!d||t){const m=dD(h,aE[u]);if(!d){a=!1;const y=e9[u]||u;i+=`${y}(${m}) `}t&&(e[u]=m)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function dE(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let u=!1,h=!1;for(const d in e){const m=e[d];if(mu.has(d)){u=!0;continue}else if(k2(d)){a[d]=m;continue}else{const y=dD(m,aE[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(u||t?i.transform=n9(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}function wD(n,{style:e,vars:t},i,a){const o=n.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function Dw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ic={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ge.test(n))n=parseFloat(n);else return n;const t=Dw(n,e.target.x),i=Dw(n,e.target.y);return`${t}% ${i}%`}},i9={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=aa.parse(n);if(a.length>5)return i;const o=aa.createTransformer(n),u=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=bt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}},T_={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:i9};function xD(n,{layout:e,layoutId:t}){return mu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!T_[n]||n==="opacity")}function fE(n,e,t){const i=n.style,a=e?.style,o={};if(!i)return o;for(const u in i)(_n(i[u])||a&&_n(a[u])||xD(u,n)||t?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function r9(n){return window.getComputedStyle(n)}class s9 extends ED{constructor(){super(...arguments),this.type="html",this.renderInstance=wD}readValueFromInstance(e,t){if(mu.has(t))return this.projection?.isProjecting?o_(t):AU(e,t);{const i=r9(e),a=(k2(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return AD(e,t)}build(e,t,i){dE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return fE(e,t,i)}}const a9={offset:"stroke-dashoffset",array:"stroke-dasharray"},o9={offset:"strokeDashoffset",array:"strokeDasharray"};function l9(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?a9:o9;n[o.offset]=`${-i}`,n[o.array]=`${e} ${t}`}const u9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function RD(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,m,y){if(dE(n,h,m),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const A of u9)v[A]!==void 0&&(E[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&l9(v,a,o,u,!1)}const ID=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),CD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function c9(n,e,t,i){wD(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(ID.has(a)?a:sE(a),e.attrs[a])}function DD(n,e,t){const i=fE(n,e,t);for(const a in n)if(_n(n[a])||_n(e[a])){const o=fu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}class h9 extends ED{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mu.has(t)){const i=uD(t);return i&&i.default||0}return t=ID.has(t)?t:sE(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return DD(e,t,i)}build(e,t,i){RD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){c9(e,t,i,a)}mount(e){this.isSVGTag=CD(e.tagName),super.mount(e)}}const d9=hE.length;function VD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?VD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<d9;t++){const i=hE[t],a=n.props[i];(vh(a)||a===!1)&&(e[i]=a)}return e}function OD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const f9=[...cE].reverse(),m9=cE.length;function p9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>dz(n,t,i)))}function g9(n){let e=p9(n),t=Vw(),i=!0;const a=d=>(m,y)=>{const v=Ul(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:A,...V}=v;m={...m,...V,...A}}return m};function o(d){e=d(n)}function u(d){const{props:m}=n,y=VD(n.parent)||{},v=[],E=new Set;let A={},V=1/0;for(let N=0;N<m9;N++){const U=f9[N],z=t[U],B=m[U]!==void 0?m[U]:y[U],X=vh(B),H=U===d?z.isActive:null;H===!1&&(V=N);let se=B===y[U]&&B!==m[U]&&X;if(se&&i&&n.manuallyAnimateOnMount&&(se=!1),z.protectedKeys={...A},!z.isActive&&H===null||!B&&!z.prevProp||Ip(B)||typeof B=="boolean")continue;if(U==="exit"&&z.isActive&&H!==!0){z.prevResolvedValues&&(A={...A,...z.prevResolvedValues});continue}const I=y9(z.prevProp,B);let x=I||U===d&&z.isActive&&!se&&X||N>V&&X,C=!1;const j=Array.isArray(B)?B:[B];let L=j.reduce(a(U),{});H===!1&&(L={});const{prevResolvedValues:q={}}=z,O={...q,...L},we=oe=>{x=!0,E.has(oe)&&(C=!0,E.delete(oe)),z.needsAnimating[oe]=!0;const me=n.getValue(oe);me&&(me.liveStyle=!1)};for(const oe in O){const me=L[oe],Re=q[oe];if(A.hasOwnProperty(oe))continue;let Pe=!1;f_(me)&&f_(Re)?Pe=!OD(me,Re):Pe=me!==Re,Pe?me!=null?we(oe):E.add(oe):me!==void 0&&E.has(oe)?we(oe):z.protectedKeys[oe]=!0}z.prevProp=B,z.prevResolvedValues=L,z.isActive&&(A={...A,...L}),i&&n.blockInitialAnimation&&(x=!1);const Oe=se&&I;x&&(!Oe||C)&&v.push(...j.map(oe=>{const me={type:U};if(typeof oe=="string"&&i&&!Oe&&n.manuallyAnimateOnMount&&n.parent){const{parent:Re}=n,Pe=Ul(Re,oe);if(Re.enteringChildren&&Pe){const{delayChildren:D}=Pe.transition||{};me.delay=eD(Re.enteringChildren,n,D)}}return{animation:oe,options:me}}))}if(E.size){const N={};if(typeof m.initial!="boolean"){const U=Ul(n,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(N.transition=U.transition)}E.forEach(U=>{const z=n.getBaseTarget(U),B=n.getValue(U);B&&(B.liveStyle=!0),N[U]=z??null}),v.push({animation:N})}let M=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(v):Promise.resolve()}function h(d,m){if(t[d].isActive===m)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),t[d].isActive=m;const y=u(d);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Vw()}}}function y9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!OD(e,n):!1}function Ha(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vw(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}function Ow(n,e){n.min=e.min,n.max=e.max}function Ci(n,e){Ow(n.x,e.x),Ow(n.y,e.y)}function Pw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const PD=1e-4,v9=1-PD,_9=1+PD,MD=.01,E9=0-MD,T9=0+MD;function xn(n){return n.max-n.min}function S9(n,e,t){return Math.abs(n-e)<=t}function Mw(n,e,t,i=.5){n.origin=i,n.originPoint=bt(e.min,e.max,n.origin),n.scale=xn(t)/xn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=v9&&n.scale<=_9||isNaN(n.scale))&&(n.scale=1),(n.translate>=E9&&n.translate<=T9||isNaN(n.translate))&&(n.translate=0)}function Yc(n,e,t,i){Mw(n.x,e.x,t.x,i?i.originX:void 0),Mw(n.y,e.y,t.y,i?i.originY:void 0)}function Nw(n,e,t){n.min=t.min+e.min,n.max=n.min+xn(e)}function b9(n,e,t){Nw(n.x,e.x,t.x),Nw(n.y,e.y,t.y)}function kw(n,e,t){n.min=e.min-t.min,n.max=n.min+xn(e)}function Km(n,e,t){kw(n.x,e.x,t.x),kw(n.y,e.y,t.y)}function Lw(n,e,t,i,a){return n-=e,n=Gm(n,1/t,i),a!==void 0&&(n=Gm(n,1/a,i)),n}function A9(n,e=0,t=1,i=.5,a,o=n,u=n){if(gr.test(e)&&(e=parseFloat(e),e=bt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=bt(o.min,o.max,i);n===o&&(h-=e),n.min=Lw(n.min,e,t,h,a),n.max=Lw(n.max,e,t,h,a)}function jw(n,e,[t,i,a],o,u){A9(n,e[t],e[i],e[a],e.scale,o,u)}const w9=["x","scaleX","originX"],x9=["y","scaleY","originY"];function Uw(n,e,t,i){jw(n.x,e,w9,t?t.x:void 0,i?i.x:void 0),jw(n.y,e,x9,t?t.y:void 0,i?i.y:void 0)}function zw(n){return n.translate===0&&n.scale===1}function ND(n){return zw(n.x)&&zw(n.y)}function Bw(n,e){return n.min===e.min&&n.max===e.max}function R9(n,e){return Bw(n.x,e.x)&&Bw(n.y,e.y)}function Fw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function kD(n,e){return Fw(n.x,e.x)&&Fw(n.y,e.y)}function qw(n){return xn(n.x)/xn(n.y)}function Hw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function lr(n){return[n("x"),n("y")]}function I9(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,u=t?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:E,skewX:A,skewY:V}=t;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),V&&(i+=`skewY(${V}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const LD=["TopLeft","TopRight","BottomLeft","BottomRight"],C9=LD.length,Gw=n=>typeof n=="string"?parseFloat(n):n,Kw=n=>typeof n=="number"||ge.test(n);function D9(n,e,t,i,a,o){a?(n.opacity=bt(0,t.opacity??1,V9(i)),n.opacityExit=bt(e.opacity??1,0,O9(i))):o&&(n.opacity=bt(e.opacity??1,t.opacity??1,i));for(let u=0;u<C9;u++){const h=`border${LD[u]}Radius`;let d=Qw(e,h),m=Qw(t,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Kw(d)===Kw(m)?(n[h]=Math.max(bt(Gw(d),Gw(m),i),0),(gr.test(m)||gr.test(d))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,i))}function Qw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const V9=jD(0,.5,D2),O9=jD(.5,.95,gi);function jD(n,e,t){return i=>i<n?0:i>e?1:t(ph(n,e,i))}function P9(n,e,t){const i=_n(n)?n:eu(n);return i.start(iE("",i,e,t)),i.animation}function _h(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const M9=(n,e)=>n.depth-e.depth;class N9{constructor(){this.children=[],this.isDirty=!1}add(e){B0(this.children,e),this.isDirty=!0}remove(e){zm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M9),this.isDirty=!1,this.children.forEach(e)}}function k9(n,e){const t=wn.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(sa(i),n(o-e))};return mt.setup(i,!0),()=>sa(i)}function sm(n){return _n(n)?n.get():n}class L9{constructor(){this.members=[]}add(e){B0(this.members,e);for(let t=this.members.length-1;t>=0;t--){const i=this.members[t];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&zm(this.members,i)}e.scheduleRender()}remove(e){if(zm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a],u=o.instance;if(o.isPresent!==!1&&(!u||u.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,o=e.options.layoutDependency;if(!(a!==void 0&&o!==void 0&&a===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const am={hasAnimatedSinceResize:!0,hasEverUpdated:!1},lv=["","X","Y","Z"],j9=1e3;let U9=0;function uv(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function UD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=sD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",mt,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&UD(i)}function zD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=U9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F9),this.nodes.forEach(K9),this.nodes.forEach(Q9),this.nodes.forEach(q9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new N9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new H0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uE(u)&&!Bz(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{v=window.innerWidth}),n(u,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=k9(E,250),am.hasAnimatedSinceResize&&(am.hasAnimatedSinceResize=!1,this.nodes.forEach(Ww)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||m.getDefaultTransition()||J9,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=m.getProps(),U=!this.targetLayout||!kD(this.targetLayout,A),z=!v&&E;if(this.options.layoutRoot||this.resumeFrom||z||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...nE(V,"layout"),onPlay:M,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,z)}else v||Ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($w);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G9),this.nodes.forEach(z9),this.nodes.forEach(B9)):this.nodes.forEach(Yw),this.clearAllSnapshots();const h=wn.now();hn.delta=_r(0,1e3/60,h-hn.timestamp),hn.timestamp=h,hn.isProcessing=!0,ev.update.process(hn),ev.preRender.process(hn),ev.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H9),this.sharedNodes.forEach(Y9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!ND(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ya(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Z9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Wt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eB))){const{scroll:m}=this.root;m&&(Vl(h.x,m.offset.x),Vl(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Wt();if(Ci(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ci(h,u),Vl(h.x,y.offset.x),Vl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Wt();Ci(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ol(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ya(y.latestValues)&&Ol(d,y.latestValues)}return Ya(this.latestValues)&&Ol(d,this.latestValues),d}removeTransform(u){const h=Wt();Ci(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ya(m.latestValues))continue;__(m.latestValues)&&m.updateSnapshot();const y=Wt(),v=m.measurePageBox();Ci(y,v),Uw(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ya(this.latestValues)&&Uw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=hn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),bD(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||__(this.parent.latestValues)||SD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Km(this.relativeTargetOrigin,h,d),Ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Ci(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Jz(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Wt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pw(this.prevProjectionDelta.x,this.projectionDelta.x),Pw(this.prevProjectionDelta.y,this.projectionDelta.y)),Yc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!Hw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},v=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Wt(),A=d?d.source:void 0,V=this.layout?this.layout.source:void 0,M=A!==V,N=this.getStack(),U=!N||N.members.length<=1,z=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(X9));this.animationProgress=0;let B;this.mixTargetDelta=X=>{const H=X/1e3;Xw(v.x,u.x,H),Xw(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Km(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W9(this.relativeTarget,this.relativeTargetOrigin,E,H),B&&R9(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Wt()),Ci(B,this.relativeTarget)),M&&(this.animationValues=y,D9(y,m,this.latestValues,H,z,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{am.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eu(0)),this.currentAnimation=P9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&BD(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Wt();const v=xn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=xn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Ci(h,d),Ol(h,y),Yc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new L9),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&uv("z",u,m,this.animationValues);for(let y=0;y<lv.length;y++)uv(`rotate${lv[y]}`,u,m,this.animationValues),uv(`skew${lv[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=sm(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=sm(h?.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=I9(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in T_){if(y[V]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:U}=T_[V],z=v==="none"?y[V]:M(y[V],m);if(N){const B=N.length;for(let X=0;X<B;X++)u[N[X]]=z}else U?this.options.visualElement.renderState.vars[V]=z:u[V]=z}this.options.layoutId&&(u.pointerEvents=m===this?sm(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($w),this.root.sharedNodes.clear()}}}function z9(n){n.updateLayout()}function B9(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?lr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],E=xn(v);v.min=t[y].min,v.max=v.min+E}):BD(a,e.layoutBox,t)&&lr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],E=xn(t[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=Dl();Yc(u,t,e.layoutBox);const h=Dl();o?Yc(h,n.applyTransform(i,!0),e.measuredBox):Yc(h,t,e.layoutBox);const d=!ND(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const A=Wt();Km(A,e.layoutBox,v.layoutBox);const V=Wt();Km(V,t,E.layoutBox),kD(A,V)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function F9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function q9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function H9(n){n.clearSnapshot()}function $w(n){n.clearMeasurements()}function Yw(n){n.isLayoutDirty=!1}function G9(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ww(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function K9(n){n.resolveTargetDelta()}function Q9(n){n.calcProjection()}function $9(n){n.resetSkewAndRotation()}function Y9(n){n.removeLeadSnapshot()}function Xw(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Jw(n,e,t,i){n.min=bt(e.min,t.min,i),n.max=bt(e.max,t.max,i)}function W9(n,e,t,i){Jw(n.x,e.x,t.x,i),Jw(n.y,e.y,t.y,i)}function X9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const J9={duration:.45,ease:[.4,0,.1,1]},Zw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ex=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:gi;function tx(n){n.min=ex(n.min),n.max=ex(n.max)}function Z9(n){tx(n.x),tx(n.y)}function BD(n,e,t){return n==="position"||n==="preserve-aspect"&&!S9(qw(e),qw(t),.2)}function eB(n){return n!==n.root&&n.scroll?.wasRoot}const tB=zD({attachResizeListener:(n,e)=>_h(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),cv={current:void 0},FD=zD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cv.current){const n=new tB({});n.mount(window),n.setOptions({layoutScroll:!0}),cv.current=n}return cv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mE=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function nx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nB(...n){return e=>{let t=!1;const i=n.map(a=>{const o=nx(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():nx(n[a],null)}}}}function iB(...n){return P.useCallback(nB(...n),n)}class rB extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=t.offsetParent,a=y_(i)&&i.offsetWidth||0,o=y_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=t.offsetHeight||0,u.width=t.offsetWidth||0,u.top=t.offsetTop,u.left=t.offsetLeft,u.right=a-u.width-u.left,u.bottom=o-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sB({children:n,isPresent:e,anchorX:t,anchorY:i,root:a,pop:o}){const u=P.useId(),h=P.useRef(null),d=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=P.useContext(mE),y=n.props?.ref??n?.ref,v=iB(h,y);return P.useInsertionEffect(()=>{const{width:E,height:A,top:V,left:M,right:N,bottom:U}=d.current;if(e||o===!1||!h.current||!E||!A)return;const z=t==="left"?`left: ${M}`:`right: ${N}`,B=i==="bottom"?`bottom: ${U}`:`top: ${V}`;h.current.dataset.motionPopId=u;const X=document.createElement("style");m&&(X.nonce=m);const H=a??document.head;return H.appendChild(X),X.sheet&&X.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${A}px !important;
            ${z}px !important;
            ${B}px !important;
          }
        `),()=>{H.contains(X)&&H.removeChild(X)}},[e]),S.jsx(rB,{isPresent:e,childRef:h,sizeRef:d,pop:o,children:o===!1?n:P.cloneElement(n,{ref:v})})}const aB=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,anchorY:d,root:m})=>{const y=z0(oB),v=P.useId();let E=!0,A=P.useMemo(()=>(E=!1,{id:v,initial:e,isPresent:t,custom:a,onExitComplete:V=>{y.set(V,!0);for(const M of y.values())if(!M)return;i&&i()},register:V=>(y.set(V,!1),()=>y.delete(V))}),[t,y,i]);return o&&E&&(A={...A}),P.useMemo(()=>{y.forEach((V,M)=>y.set(M,!1))},[t]),P.useEffect(()=>{!t&&!y.size&&i&&i()},[t]),n=S.jsx(sB,{pop:u==="popLayout",isPresent:t,anchorX:h,anchorY:d,root:m,children:n}),S.jsx(Rp.Provider,{value:A,children:n})};function oB(){return new Map}function qD(n=!0){const e=P.useContext(Rp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=P.useId();P.useEffect(()=>{if(n)return a(o)},[n]);const u=P.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const Mf=n=>n.key||"";function ix(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const Hh=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[y,v]=qD(u),E=P.useMemo(()=>ix(n),[n]),A=u&&!y?[]:E.map(Mf),V=P.useRef(!0),M=P.useRef(E),N=z0(()=>new Map),U=P.useRef(new Set),[z,B]=P.useState(E),[X,H]=P.useState(E);_2(()=>{V.current=!1,M.current=E;for(let x=0;x<X.length;x++){const C=Mf(X[x]);A.includes(C)?(N.delete(C),U.current.delete(C)):N.get(C)!==!0&&N.set(C,!1)}},[X,A.length,A.join("-")]);const se=[];if(E!==z){let x=[...E];for(let C=0;C<X.length;C++){const j=X[C],L=Mf(j);A.includes(L)||(x.splice(C,0,j),se.push(j))}return o==="wait"&&se.length&&(x=se),H(ix(x)),B(E),null}const{forceRender:I}=P.useContext(U0);return S.jsx(S.Fragment,{children:X.map(x=>{const C=Mf(x),j=u&&!y?!1:E===X||A.includes(C),L=()=>{if(U.current.has(C))return;if(U.current.add(C),N.has(C))N.set(C,!0);else return;let q=!0;N.forEach(O=>{O||(q=!1)}),q&&(I?.(),H(M.current),u&&v?.(),i&&i())};return S.jsx(aB,{isPresent:j,initial:!V.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:m,onExitComplete:j?void 0:L,anchorX:h,anchorY:d,children:x},C)})})},HD=P.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sx=!1;function lB(){if(sx)return;const n={};for(const e in rx)n[e]={isEnabled:t=>rx[e].some(i=>!!t[i])};_D(n),sx=!0}function GD(){return lB(),$z()}function uB(n){const e=GD();for(const t in n)e[t]={...e[t],...n[t]};_D(e)}const cB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Qm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cB.has(n)}let KD=n=>!Qm(n);function hB(n){typeof n=="function"&&(KD=e=>e.startsWith("on")?!Qm(e):n(e))}try{hB(require("@emotion/is-prop-valid").default)}catch{}function dB(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(KD(a)||t===!0&&Qm(a)||!e&&!Qm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Dp=P.createContext({});function fB(n,e){if(Cp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||vh(t)?t:void 0,animate:vh(i)?i:void 0}}return n.inherit!==!1?e:{}}function mB(n){const{initial:e,animate:t}=fB(n,P.useContext(Dp));return P.useMemo(()=>({initial:e,animate:t}),[ax(e),ax(t)])}function ax(n){return Array.isArray(n)?n.join(" "):n}const pE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QD(n,e,t){for(const i in e)!_n(e[i])&&!xD(i,t)&&(n[i]=e[i])}function pB({transformTemplate:n},e){return P.useMemo(()=>{const t=pE();return dE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gB(n,e){const t=n.style||{},i={};return QD(i,t,n),Object.assign(i,pB(n,e)),i}function yB(n,e){const t={},i=gB(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const $D=()=>({...pE(),attrs:{}});function vB(n,e,t,i){const a=P.useMemo(()=>{const o=$D();return RD(o,e,CD(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};QD(o,n.style,n),a.style={...o,...a.style}}return a}const _B=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gE(n){return typeof n!="string"||n.includes("-")?!1:!!(_B.indexOf(n)>-1||/[A-Z]/u.test(n))}function EB(n,e,t,{latestValues:i},a,o=!1,u){const d=(u??gE(n)?vB:yB)(e,i,a,n),m=dB(e,typeof n=="string",o),y=n!==P.Fragment?{...m,...d,ref:t}:{},{children:v}=e,E=P.useMemo(()=>_n(v)?v.get():v,[v]);return P.createElement(n,{...y,children:E})}function TB({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:SB(t,i,a,n),renderState:e()}}function SB(n,e,t,i){const a={},o=i(n,{});for(const E in o)a[E]=sm(o[E]);let{initial:u,animate:h}=n;const d=Cp(n),m=yD(n);e&&m&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Ip(v)){const E=Array.isArray(v)?v:[v];for(let A=0;A<E.length;A++){const V=rE(n,E[A]);if(V){const{transitionEnd:M,transition:N,...U}=V;for(const z in U){let B=U[z];if(Array.isArray(B)){const X=y?B.length-1:0;B=B[X]}B!==null&&(a[z]=B)}for(const z in M)a[z]=M[z]}}}return a}const YD=n=>(e,t)=>{const i=P.useContext(Dp),a=P.useContext(Rp),o=()=>TB(n,e,i,a);return t?o():z0(o)},bB=YD({scrapeMotionValuesFromProps:fE,createRenderState:pE}),AB=YD({scrapeMotionValuesFromProps:DD,createRenderState:$D}),wB=Symbol.for("motionComponentSymbol");function xB(n,e,t){const i=P.useRef(t);P.useInsertionEffect(()=>{i.current=t});const a=P.useRef(null);return P.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const u=i.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[e])}const WD=P.createContext({});function wl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function RB(n,e,t,i,a,o){const{visualElement:u}=P.useContext(Dp),h=P.useContext(HD),d=P.useContext(Rp),m=P.useContext(mE),y=m.reducedMotion,v=m.skipAnimations,E=P.useRef(null),A=P.useRef(!1);i=i||h.renderer,!E.current&&i&&(E.current=i(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:o}),A.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const V=E.current,M=P.useContext(WD);V&&!V.projection&&a&&(V.type==="html"||V.type==="svg")&&IB(E.current,t,a,M);const N=P.useRef(!1);P.useInsertionEffect(()=>{V&&N.current&&V.update(t,d)});const U=t[rD],z=P.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return _2(()=>{A.current=!0,V&&(N.current=!0,window.MotionIsMounted=!0,V.updateFeatures(),V.scheduleRenderMicrotask(),z.current&&V.animationState&&V.animationState.animateChanges())}),P.useEffect(()=>{V&&(!z.current&&V.animationState&&V.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),z.current=!1),V.enteringChildren=void 0)}),V}function IB(n,e,t,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:XD(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&wl(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function XD(n){if(n)return n.options.allowProjection!==!1?n.projection:XD(n.parent)}function hv(n,{forwardMotionProps:e=!1,type:t}={},i,a){i&&uB(i);const o=t?t==="svg":gE(n),u=o?AB:bB;function h(m,y){let v;const E={...P.useContext(mE),...m,layoutId:CB(m)},{isStatic:A}=E,V=mB(m),M=u(m,A);if(!A&&v2){DB();const N=VB(E);v=N.MeasureLayout,V.visualElement=RB(n,M,E,a,N.ProjectionNode,o)}return S.jsxs(Dp.Provider,{value:V,children:[v&&V.visualElement?S.jsx(v,{visualElement:V.visualElement,...E}):null,EB(n,m,xB(M,V.visualElement,y),M,A,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=P.forwardRef(h);return d[wB]=n,d}function CB({layoutId:n}){const e=P.useContext(U0).id;return e&&n!==void 0?e+"-"+n:n}function DB(n,e){P.useContext(HD).strict}function VB(n){const e=GD(),{drag:t,layout:i}=e;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function OB(n,e){if(typeof Proxy>"u")return hv;const t=new Map,i=(o,u)=>hv(o,u,n,e),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,hv(u,void 0,n,e)),t.get(u))})}const PB=(n,e)=>e.isSVG??gE(n)?new h9(e):new s9(e,{allowProjection:n!==P.Fragment});class MB extends da{constructor(e){super(e),e.animationState||(e.animationState=g9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ip(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let NB=0;class kB extends da{constructor(){super(...arguments),this.id=NB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LB={animation:{Feature:MB},exit:{Feature:kB}};function Gh(n){return{point:{x:n.pageX,y:n.pageY}}}const jB=n=>e=>lE(e)&&n(e,Gh(e));function Wc(n,e,t,i){return _h(n,e,jB(t),i)}const JD=({current:n})=>n?n.ownerDocument.defaultView:null,ox=(n,e)=>Math.abs(n-e);function UB(n,e){const t=ox(n.x,e.x),i=ox(n.y,e.y);return Math.sqrt(t**2+i**2)}const lx=new Set(["auto","scroll"]);class ZD{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=fv(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,M=UB(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!M)return;const{point:N}=A,{timestamp:U}=hn;this.history.push({...N,timestamp:U});const{onStart:z,onMove:B}=this.handlers;V||(z&&z(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,A)},this.handlePointerMove=(A,V)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=dv(V,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(A,V)=>{this.end();const{onEnd:M,onSessionEnd:N,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=fv(A.type==="pointercancel"?this.lastMoveEventInfo:dv(V,this.transformPagePoint),this.history);this.startEvent&&M&&M(A,z),N&&N(A,z)},!lE(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=Gh(e),m=dv(d,this.transformPagePoint),{point:y}=m,{timestamp:v}=hn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=t;E&&E(e,fv(m,this.history)),this.removeListeners=Bh(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(lx.has(i.overflowX)||lx.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),mt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),sa(this.updatePoint)}}function dv(n,e){return e?{point:e(n.point)}:n}function ux(n,e){return{x:n.x-e.x,y:n.y-e.y}}function fv({point:n},e){return{point:n,delta:ux(n,eV(e)),offset:ux(n,zB(e)),velocity:BB(e,.1)}}function zB(n){return n[0]}function eV(n){return n[n.length-1]}function BB(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=eV(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Ni(e)));)t--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Ni(e)*2&&(i=n[1]);const o=mi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FB(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?bt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?bt(t,n,i.max):Math.min(n,t)),n}function cx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qB(n,{top:e,left:t,bottom:i,right:a}){return{x:cx(n.x,t,a),y:cx(n.y,e,i)}}function hx(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function HB(n,e){return{x:hx(n.x,e.x),y:hx(n.y,e.y)}}function GB(n,e){let t=.5;const i=xn(n),a=xn(e);return a>i?t=ph(e.min,e.max-i,n.min):i>a&&(t=ph(n.min,n.max-a,e.min)),_r(0,1,t)}function KB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const S_=.35;function QB(n=S_){return n===!1?n=0:n===!0&&(n=S_),{x:dx(n,"left","right"),y:dx(n,"top","bottom")}}function dx(n,e,t){return{min:fx(n,e),max:fx(n,t)}}function fx(n,e){return typeof n=="number"?n:n[e]||0}const $B=new WeakMap;class YB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{t&&this.snapToCursor(Gh(v).point),this.stopAnimation()},u=(v,E)=>{const{drag:A,dragPropagation:V,onDragStart:M}=this.getProps();if(A&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Az(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(U=>{let z=this.getAxisMotionValue(U).get()||0;if(gr.test(z)){const{projection:B}=this.visualElement;if(B&&B.layout){const X=B.layout.layoutBox[U];X&&(z=xn(X)*(parseFloat(z)/100))}}this.originPoint[U]=z}),M&&mt.update(()=>M(v,E),!1,!0),m_(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:V,onDirectionLock:M,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=E;if(V&&this.currentDirection===null){this.currentDirection=XB(U),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),N&&mt.update(()=>N(v,E),!1,!0)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new ZD(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:JD(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&mt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Nf(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=FB(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=qB(i.layoutBox,e):this.constraints=!1,this.elastic=QB(t),a!==this.constraints&&!wl(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&lr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Zz(i,a.root,this.visualElement.getTransformPagePoint());let u=HB(a.layout.layoutBox,o);if(t){const h=t(Wz(u));this.hasMutatedConstraints=!!h,h&&(u=TD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=lr(y=>{if(!Nf(y,t,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,V={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,V)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return m_(this.visualElement,e),i.start(iE(e,i,0,t,this.visualElement,!1))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){lr(t=>{const{drag:i}=this.getProps();if(!Nf(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[t],d=o.get()||0;o.set(e[t]-bt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!wl(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};lr(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=GB({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),lr(u=>{if(!Nf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(bt(d,m,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;$B.set(this.visualElement,this);const e=this.visualElement.current,t=Wc(e,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=m.target,A=E!==e&&Dz(E);y&&v&&!A&&this.start(m)});let i;const a=()=>{const{dragConstraints:m}=this.getProps();wl(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),i||(i=WB(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,u=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),mt.read(a);const h=_h(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(lr(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),t(),u(),d&&d(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=S_,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function mx(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function WB(n,e,t){const i=Tw(n,mx(t)),a=Tw(e,mx(t));return()=>{i(),a()}}function Nf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function XB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class JB extends da{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new YB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const mv=n=>(e,t)=>{n&&mt.update(()=>n(e,t),!1,!0)};class ZB extends da{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new ZD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:mv(e),onStart:mv(t),onMove:mv(i),onEnd:(o,u)=>{delete this.session,a&&mt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pv=!1;class e8 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),pv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,e.layoutDependency!==t&&u.setOptions({...u.options,layoutDependency:t}),pv=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||mt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;pv=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tV(n){const[e,t]=qD(),i=P.useContext(U0);return S.jsx(e8,{...n,layoutGroup:i,switchLayoutGroup:P.useContext(WD),isPresent:e,safeToRemove:t})}const t8={pan:{Feature:ZB},drag:{Feature:JB,ProjectionNode:FD,MeasureLayout:tV}};function px(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&mt.postRender(()=>o(e,Gh(e)))}class n8 extends da{mount(){const{current:e}=this.node;e&&(this.unmount=xz(e,(t,i)=>(px(this.node,i,"Start"),a=>px(this.node,a,"End"))))}unmount(){}}class i8 extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(_h(this.node.current,"focus",()=>this.onFocus()),_h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gx(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&mt.postRender(()=>o(e,Gh(e)))}class r8 extends da{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:i}=this.node.props;this.unmount=Oz(e,(a,o)=>(gx(this.node,o,"Start"),(u,{success:h})=>gx(this.node,u,h?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:i?.tap===!1})}unmount(){}}const b_=new WeakMap,gv=new WeakMap,s8=n=>{const e=b_.get(n.target);e&&e(n)},a8=n=>{n.forEach(s8)};function o8({root:n,...e}){const t=n||document;gv.has(t)||gv.set(t,{});const i=gv.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(a8,{root:n,...e})),i[a]}function l8(n,e,t){const i=o8(e);return b_.set(n,t),i.observe(n),()=>{b_.delete(n),i.unobserve(n)}}const u8={some:0,all:1};class c8 extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:u8[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=m?y:v;E&&E(d)};return l8(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(h8(e,t))&&this.startObserver()}unmount(){}}function h8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const d8={inView:{Feature:c8},tap:{Feature:r8},focus:{Feature:i8},hover:{Feature:n8}},f8={layout:{ProjectionNode:FD,MeasureLayout:tV}},m8={...LB,...d8,...t8,...f8},ht=OB(m8,PB);const nV=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const p8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const g8=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const yx=n=>{const e=g8(n);return e.charAt(0).toUpperCase()+e.slice(1)};var y8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v8=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const _8=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...h},d)=>P.createElement("svg",{ref:d,...y8,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:nV("lucide",a),...!o&&!v8(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>P.createElement(m,y)),...Array.isArray(o)?o:[o]]));const ze=(n,e)=>{const t=P.forwardRef(({className:i,...a},o)=>P.createElement(_8,{ref:o,iconNode:e,className:nV(`lucide-${p8(yx(n))}`,`lucide-${n}`,i),...a}));return t.displayName=yx(n),t};const E8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vx=ze("arrow-right",E8);const T8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],S8=ze("award",T8);const b8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],A8=ze("book-open",b8);const w8=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],x8=ze("brush",w8);const R8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],A_=ze("calendar",R8);const I8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Eh=ze("chevron-left",I8);const C8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$m=ze("circle-check-big",C8);const D8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V8=ze("circle-x",D8);const O8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iV=ze("clock",O8);const P8=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_x=ze("crown",P8);const M8=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],N8=ze("droplets",M8);const k8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],L8=ze("flame",k8);const j8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],U8=ze("house",j8);const z8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rV=ze("key",z8);const B8=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],F8=ze("list-checks",B8);const q8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sV=ze("lock",q8);const H8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aV=ze("log-out",H8);const G8=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],K8=ze("map",G8);const Q8=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ex=ze("mic",Q8);const $8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Y8=ze("plus",$8);const W8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X8=ze("rotate-ccw",W8);const J8=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Z8=ze("scroll",J8);const eF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tF=ze("send",eF);const nF=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],iF=ze("settings-2",nF);const rF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sF=ze("share-2",rF);const aF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yE=ze("shield-alert",aF);const oF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lF=ze("shield-check",oF);const uF=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],cF=ze("ticket",uF);const hF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dF=ze("trash-2",hF);const fF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mF=ze("triangle-alert",fF);const pF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vE=ze("trophy",pF);const gF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yF=ze("user-check",gF);const vF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],w_=ze("user-plus",vF);const _F=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EF=ze("users",_F);const TF=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],SF=ze("utensils",TF);const bF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AF=ze("x",bF);const wF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tx=ze("zap",wF);function xF(){const[n,e]=P.useState("WELCOME"),[t,i]=P.useState(!0),[a,o]=P.useState(""),[u,h]=P.useState(""),[d,m]=P.useState(""),[y,v]=P.useState(!1),{login:E,signup:A}=Er(),V=Cn(),M=U=>`${U.trim().toLowerCase().replace(/\s+/g,".")}@acamp.forja.com`,N=async U=>{if(U.preventDefault(),m(""),v(!0),a.length<3){m("Nome de Guerra muito curto."),v(!1);return}if(u.length<4){m("PIN deve ter 4 dgitos."),v(!1);return}const z=M(a),B=`${u}@acamp2026`;try{if(t){const H=(await A(z,B)).user.uid;await f2(H,{uid:H,nomeGuerra:a,pin:u,email:z,createdAt:new Date().toISOString()})}else await E(z,B);V("/home")}catch(X){console.error("Erro na autenticao:",X),X.code==="auth/email-already-in-use"?m('Este Nome de Guerra j est em combate. Use "J SOU ALISTADO"'):X.code==="auth/wrong-password"?m("PIN incorreto para este soldado."):m("Falha na comunicao com o QG. Tente novamente.")}finally{v(!1)}};return S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",overflow:"hidden"},children:[S.jsxs(ht.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{textAlign:"center",marginBottom:"2.5rem"},children:[S.jsx("img",{src:"/logo.png",alt:"Logo A Forja",style:{width:"160px",height:"auto",marginBottom:"1rem",filter:"drop-shadow(0 0 20px rgba(211, 84, 0, 0.3))"}}),S.jsx("h1",{style:{fontSize:"3rem",margin:0,color:"var(--color-gold)"},children:"A FORJA"}),S.jsx("p",{style:{color:"var(--color-fire)",fontWeight:"bold",letterSpacing:"2px",fontSize:"0.8rem"},children:"ACAMPAMENTO 2026"})]}),S.jsxs(Hh,{mode:"wait",children:[n==="WELCOME"&&S.jsx(ht.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:S.jsxs(ft,{style:{textAlign:"center"},children:[S.jsx("h2",{style:{fontSize:"1.8rem",color:"var(--color-gold)",marginBottom:"1.5rem"},children:"BEM-VINDO, GUERREIRO"}),S.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"2rem",fontSize:"0.9rem"},children:"O alistamento para a Forja 2026 est aberto."}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>{m(""),e("AUTH"),i(!0)},fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(w_,{size:20})," ALISTAR-SE AGORA"]})}),S.jsx(Qe,{variant:"secondary",onClick:()=>{m(""),e("AUTH"),i(!1)},fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(rV,{size:20})," J SOU ALISTADO"]})})]})]})},"welcome"),n==="AUTH"&&S.jsx(ht.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:S.jsx(ft,{children:S.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("h3",{style:{margin:0,color:"var(--color-gold)"},children:t?"NOVO ALISTAMENTO":"RETORNO AO FRONT"}),S.jsx("p",{style:{fontSize:"0.8rem",opacity:.7},children:t?"Defina sua identidade militar":"Identifique-se para entrar."})]}),d&&S.jsx("div",{style:{color:"#ff6b6b",background:"rgba(255,0,0,0.1)",padding:"0.5rem",border:"1px solid #ff6b6b",borderRadius:"4px",fontSize:"0.8rem",textAlign:"center"},children:d}),S.jsx(e_,{label:"NOME DE GUERRA (SEM ESPAOS)",placeholder:"EX: GIDEO",value:a,onChange:U=>o(U.target.value.toUpperCase()),required:!0}),S.jsx(e_,{label:"CDIGO (PIN DE 4 DGITOS)",type:"tel",placeholder:"****",value:u,onChange:U=>h(U.target.value.replace(/\D/g,"").slice(0,4)),required:!0}),S.jsxs("div",{style:{marginTop:"0.5rem"},children:[S.jsx(Qe,{type:"submit",disabled:y,fullWidth:!0,children:y?"PROCESSANDO...":t?"ENVIAR ALISTAMENTO":"ENTRAR"}),S.jsx(Qe,{variant:"secondary",onClick:()=>{m(""),e("WELCOME")},fullWidth:!0,style:{marginTop:"0.5rem"},children:"VOLTAR"})]}),t&&S.jsx("p",{style:{fontSize:"0.7rem",opacity:.5,textAlign:"center",marginTop:"10px"},children:"* Seu alistamento passar por aprovao do comando."})]})})},"auth")]}),S.jsx("div",{style:{marginTop:"3rem",opacity:.3,fontSize:"0.6rem",letterSpacing:"2px",textAlign:"center"},children:"FILADLFIA  DIVISO DE OPERAES 2026"})]})}function RF(){const{logout:n,currentUser:e}=Er(),t=Cn(),i=async()=>{await n(),t("/")};return S.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",textAlign:"center"},children:S.jsx(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{width:"100%",maxWidth:"400px"},children:S.jsx(ft,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",padding:"1rem 0"},children:[S.jsx(yE,{size:64,color:"var(--color-fire)"}),S.jsxs("div",{children:[S.jsx("h2",{style:{color:"var(--color-gold)",margin:"0 0 0.5rem 0"},children:"ALISTAMENTO REALIZADO"}),S.jsxs("p",{style:{color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"bold"},children:["SOLDADO: ",e?.profile?.nomeGuerra||"RECRUTA"]})]}),S.jsxs("div",{style:{background:"rgba(255, 165, 0, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[S.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-dim)"},children:"Seus dados foram enviados ao Comando. Aguarde a aprovao oficial para acessar o sistema."}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"var(--text-dim)",fontStyle:"italic"},children:['"Nenhum soldado em servio se envolve em negcios desta vida, porque o seu objetivo  satisfazer aquele que o arregimentou."',S.jsx("br",{}),"2 Timteo 2:4"]})]}),S.jsx(Qe,{variant:"secondary",onClick:i,fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(aV,{size:20})," SAIR / RETORNAR"]})})]})})})})}const Ks=[{dia:"Sbado",eventos:[{hora:"13:00",nome:"Sada da Igreja",desc:"Concentrao para partida"},{hora:"15:00",nome:"Organizao",desc:"Chegada e montagem de acampamento"},{hora:"19:00",nome:"Culto de Abertura",desc:"Primeira palavra oficial"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"Livre",desc:"Tempo de confraternizao"}]},{dia:"Domingo",eventos:[{hora:"07:00",nome:"Despertar",desc:"Toque de alvorada"},{hora:"07:30",nome:"Devocional",desc:"Primeiro contato com o Mestre"},{hora:"07:45",nome:"Caf da Manh",desc:"Energia para o dia"},{hora:"08:30",nome:"Culto - BATISMO",desc:"Celebrao e compromisso pblico"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinamento de campo"},{hora:"12:30",nome:"Almoo",desc:"Refeio comunitria"},{hora:"15:00",nome:"Gincana",desc:"Competio por pelotes"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"LUAU",desc:"Fogo e adorao"},{hora:"23:00",nome:"Apagar Luzes",desc:"Silncio total"}]},{dia:"Segunda",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Competio"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio"},{hora:"21:30",nome:"CINEMA",desc:"Filme selecionado"},{hora:"23:00",nome:"Apagar Luzes",desc:"Descanso"}]},{dia:"Tera",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Final das competies"},{hora:"19:00",nome:"Culto",desc:"Mensagem de Encerramento"},{hora:"20:30",nome:"Jantar",desc:"Jantar Especial"},{hora:"21:30",nome:"Jornal e Luau",desc:"Retrospectiva do Acampamento"},{hora:"23:00",nome:"Encerramento Oficial",desc:"ltimos avisos"},{hora:"00:00",nome:"Apagar Luzes",desc:"Silncio Final"}]}];function IF(){const{currentUser:n,logout:e}=Er(),t=Cn(),i=async()=>{try{await e(),t("/")}catch(v){console.error("Erro ao sair",v)}},a=n?.email?.split("@")[0].toUpperCase().replace("."," ")||"SOLDADO",u=(()=>{const v=new Date,A=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][v.getDay()],V=v.getHours().toString().padStart(2,"0")+":"+v.getMinutes().toString().padStart(2,"0");let M=Ks.find(z=>z.dia===A);if(M){const z=M.eventos.find(B=>B.hora>V);if(z)return{...z,dia:"HOJE"}}const N=Ks.findIndex(z=>z.dia===A),U=Ks[(N+1)%Ks.length];return{...U.eventos[0],dia:U.dia}})(),[h,d]=P.useState(!1),m=xp(n?.email);P.useEffect(()=>{if(n){const v=n.email.split("@")[0].toLowerCase();Fx(async()=>{const{EscalasService:E}=await Promise.resolve().then(()=>NF);return{EscalasService:E}},void 0).then(({EscalasService:E})=>{E.getEscalas().then(A=>{const V=A.some(M=>M.equipe.some(N=>N.toLowerCase().includes(v)));d(V)})})}},[n]);const y=[{label:"SERMES = EU + DEUS",route:"/sermoes",icon:S.jsx(Z8,{size:32,color:"var(--color-gold)"}),desc:"Minha intimidade"},{label:"PASSAPORTE",route:"/passaporte",icon:S.jsx(K8,{size:32,color:"var(--color-gold)"}),desc:"Sua jornada militar"},{label:"FERRAMENTAS",route:"/ferramentas",icon:S.jsx(iF,{size:32,color:"var(--color-gold)"}),desc:"Diagnsticos e Perfis"},{label:"REGRAS DO ACAMP",route:"/regras",icon:S.jsx(A8,{size:32,color:"var(--color-gold)"}),desc:"Cdigo de Conduta"},{label:"PROGRAMAO",route:"/programacao",icon:S.jsx(iV,{size:32,color:"var(--color-gold)"}),desc:"Horrio das misses"},{label:"RANKING",route:"/ranking",icon:S.jsx(vE,{size:32,color:"var(--color-gold)"}),desc:"Honra e Glria"}];return h&&y.splice(5,0,{label:"ESCALAS",route:"/escalas",icon:S.jsx(F8,{size:32,color:"var(--color-gold)"}),desc:"Seu posto hoje"}),m&&y.push({label:"COMANDO",route:"/admin",icon:S.jsx(yE,{size:32,color:"var(--color-fire)"}),desc:"Controle Master"}),S.jsxs("div",{style:{padding:"1rem",maxWidth:"600px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[S.jsxs(ht.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",background:"var(--bg-card)",padding:"1rem",borderRadius:"var(--radius-rustic)",borderBottom:"2px solid var(--color-gold)",boxShadow:"var(--shadow-rustic)"},children:[S.jsxs("div",{children:[S.jsx("h2",{style:{margin:0,fontSize:"1.8rem",lineHeight:1},children:"QG PRINCIPAL"}),S.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--color-gold)",opacity:.8,fontWeight:"bold"},children:["MATRCULA: ",a]})]}),S.jsx("div",{style:{width:"48px",height:"48px",background:"var(--color-wood-dark)",borderRadius:"var(--radius-rustic)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--color-gold)",boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"},children:S.jsx(Tx,{size:24,color:"var(--color-fire)"})})]}),S.jsx("section",{style:{marginBottom:"2rem"},children:S.jsx(ht.div,{whileHover:{scale:1.02},children:S.jsxs(ft,{style:{display:"flex",alignItems:"center",gap:"1.5rem",borderColor:"var(--color-fire)",backgroundColor:"rgba(211, 84, 0, 0.15)",borderLeft:"4px solid var(--color-fire)"},children:[S.jsx("div",{style:{background:"var(--color-fire)",padding:"10px",borderRadius:"50%",boxShadow:"0 0 15px rgba(211, 84, 0, 0.4)"},children:S.jsx(Tx,{size:24,color:"white"})}),S.jsxs("div",{children:[S.jsxs("h3",{style:{margin:0,fontSize:"1.4rem",color:"var(--color-fire-glow)"},children:["MISSO URGENTE: ",u.dia]}),S.jsxs("p",{style:{margin:0,fontSize:"1.2rem",color:"var(--text-main)",fontWeight:"bold"},children:[u.hora," - ",u.nome]}),S.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:u.desc})]})]})})}),S.jsxs("section",{style:{flex:1},children:[S.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",fontSize:"1.5rem"},children:[S.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}}),"ARSENAL DISPONVEL",S.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:y.map((v,E)=>S.jsx(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:E*.1},whileTap:{scale:.95},children:S.jsxs(ft,{onClick:()=>t(v.route),style:{textAlign:"center",padding:"1.5rem 1rem",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.8rem"},children:[v.icon,S.jsxs("div",{children:[S.jsx("strong",{style:{display:"block",color:"var(--color-gold)",fontSize:"1.2rem",marginBottom:"2px"},children:v.label}),S.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px"},children:v.desc})]})]})},v.label))})]}),S.jsx("div",{style:{marginTop:"2rem",padding:"1rem 0"},children:S.jsx(Qe,{onClick:i,variant:"secondary",fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(aV,{size:20}),"ABANDONAR POSTO (SAIR)"]})})})]})}const Th=[{id:"1",titulo:"RENNCIA: O PREO DO CHAMADO",pregador:"Pr. Gilvan",data:"Domingo - 08:30",tema:"Renncia",senhaSelo:"4821",icon:"",perguntas:[{q:"O que significa renncia no contexto do Reino?",opts:["Fugir das responsabilidades","Trocar o que  bom pelo que  excelente","Abrir mo de tudo sem motivo","Ignorar os problemas"],correta:1},{q:'Qual o principal "preo" mencionado no chamado?',opts:["Dinheiro e bens","Conforto e vontade prpria","Tempo de sono","Popularidade nas redes"],correta:1},{q:"Seguir a Cristo exige uma deciso:",opts:["Semanal","Mental apenas","Diria de negar-se a si mesmo","Opcional"],correta:2}]},{id:"2",titulo:"A FORJA DA MENTE",pregador:"Pra. Dbora",data:"Domingo - 19:00",tema:"Renovao",senhaSelo:"7356",icon:"",perguntas:[{q:"Segundo o sermo, onde comea a verdadeira batalha?",opts:["Nas circunstncias externas","Na mente","No comportamento","Nas palavras"],correta:1},{q:"Como renovamos nossa mente segundo Romanos 12?",opts:["Lendo mais notcias","No nos conformando com este sculo","Esquecendo o passado","Sendo pessoas positivas"],correta:1},{q:"Uma mente forjada em Deus :",opts:["Inabalvel e focada no Reino","Lgica e fria","Confusa e mstica","Sempre feliz"],correta:0}]},{id:"3",titulo:"IDENTIDADE DO GUERREIRO",pregador:"Pr. Marcos",data:"Segunda - 08:30",tema:"Identidade",senhaSelo:"1947",icon:"",perguntas:[{q:"Quem define a identidade do guerreiro?",opts:["Sua famlia","Seu desempenho","O Criador (Deus)","A sociedade"],correta:2},{q:"Qual a principal arma defensiva mencionada?",opts:["Espada do Esprito","Escudo da F","Capacete da Salvao","Sandlias da Paz"],correta:1},{q:"Um guerreiro que no conhece sua identidade:",opts:["Luta melhor"," vulnervel aos ataques do inimigo","No precisa de armadura"," independente"],correta:1}]},{id:"4",titulo:"COMUNHO NO FRONT",pregador:"Miss. Ana",data:"Segunda - 19:00",tema:"Comunho",senhaSelo:"6283",icon:"",perguntas:[{q:"Por que o isolamento  perigoso no front?",opts:["Porque  chato","Porque o soldado sozinho  alvo fcil","Porque gasta mais recursos","No  perigoso"],correta:1},{q:"O que sustenta a comunho verdadeira?",opts:["Interesses em comum","O amor sacrificial de Cristo","Apenas amizade social","Concordar em tudo"],correta:1},{q:"No corpo de Cristo, cada membro :",opts:["Indispensvel","Opcional","Substituvel","Superior aos outros"],correta:0}]},{id:"5",titulo:"HONRA E LEALDADE",pregador:"Pr. Silas",data:"Tera - 08:30",tema:"Honra",senhaSelo:"5094",icon:"",perguntas:[{q:"Honra  uma questo de:",opts:["Poder","Princpio e corao","Status","Troca de favores"],correta:1},{q:"A quem devemos honra primeiro?",opts:["Aos lderes","Aos pais","A Deus","A ns mesmos"],correta:2},{q:"A deslealdade no exrcito de Deus causa:",opts:["Crescimento","Diviso e fraqueza","Nada demais","Independncia"],correta:1}]},{id:"6",titulo:"PRONTIDO PARA O SERVIO",pregador:"Ev. Lucas",data:"Tera - 19:00",tema:"Servio",senhaSelo:"3617",icon:"",perguntas:[{q:"O que define a prontido de um servo?",opts:["Sua disposio em obedecer logo","Seu conhecimento tcnico","Seus anos de igreja","Sua vontade prpria"],correta:0},{q:"Servir no Reino  um:",opts:["Fardo pesado","Privilgio e misso","Emprego espiritual","Hobbie"],correta:1},{q:"O maior no Reino  aquele que:",opts:["Manda mais","Sermoneia melhor","Serve a todos","Tem mais ttulos"],correta:2}]},{id:"7",titulo:"ENVIO: A GRANDE COMISSO",pregador:"Coordenao",data:"Quarta - 07:30",tema:"Envio",senhaSelo:"8472",icon:"",perguntas:[{q:"Qual a nossa principal misso aps o acampamento?",opts:["Descansar","Fazer discpulos de todas as naes","Apenas guardar as memrias","Mudar de igreja"],correta:1},{q:"Onde comea o campo missionrio?",opts:["Na frica","Em Corrente-PI","Onde quer que nossos ps pisem","No prdio da igreja"],correta:2},{q:"Quem nos capacita para o envio?",opts:["Nossa inteligncia","O Esprito Santo","Os cursos que fizemos","A diretoria do acampamento"],correta:1}]}],Sx="anotacoes_sermoes",om={getListaSermoes(){return Th},async getAnotacao(n,e){const t=mn(Ct,Sx,`${n}_${e}`),i=await Vm(t);return i.exists()&&i.data().conteudo||""},async salvarAnotacao(n,e,t){const i=mn(Ct,Sx,`${n}_${e}`);await Om(i,{userId:n,sermaoId:e,conteudo:t,updatedAt:new Date},{merge:!0})},async validarSelo(n,e,t){const i=Th.find(a=>a.id===e);if(!i||i.senhaSelo!==t)return{success:!1,message:"Senha incorreta para este selo."};try{const a=mn(Ct,"users",n);return await Om(a,{selos:TC(e)},{merge:!0}),{success:!0}}catch(a){return console.error("Erro ao validar selo:",a),{success:!1,message:"Erro na conexo com o QG."}}}};function CF(){const{currentUser:n}=Er(),[e,t]=P.useState(null),i=Cn();P.useEffect(()=>{if(!n)return;const o=Pm(mn(Ct,"users",n.uid),u=>{u.exists()&&t(u.data())});return()=>o()},[n]);const a=e?.selos||[];return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(S8,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0,fontSize:"2rem"},children:"PASSAPORTE DO GUERREIRO"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.9rem"},children:"STATUS DE PRONTIDO"})]}),S.jsxs(ft,{style:{marginBottom:"2rem",textAlign:"center",borderColor:"var(--color-gold)"},children:[S.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"CONQUISTAS:"}),S.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--color-gold)"},children:[a.length,S.jsxs("span",{style:{fontSize:"1rem",opacity:.5},children:[" / ",Th.length]})]})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:Th.map(o=>{const u=a.includes(o.id);return S.jsx(ht.div,{whileHover:u?{scale:1.05}:{},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:S.jsxs(ft,{style:{opacity:u?1:.3,border:u?"2px solid var(--color-gold)":"1px dashed var(--color-wood-light)",background:u?"var(--color-wood-dark)":"transparent",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",aspectRatio:"1",padding:"1rem"},children:[S.jsx("span",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:u?o.icon:S.jsx(sV,{size:32,opacity:.5})}),S.jsx("strong",{style:{fontSize:"0.7rem",color:u?"var(--color-gold)":"var(--text-dim)",textTransform:"uppercase",letterSpacing:"1px"},children:o.tema})]})},o.id)})}),S.jsx("div",{style:{marginTop:"3rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>i("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function DF(){const n=Cn(),e=om.getListaSermoes();return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[S.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"CADERNO DE GUERRA"}),S.jsx("p",{style:{opacity:.7},children:"Anotaes e Reflexes"})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(t=>S.jsx(ft,{style:{cursor:"pointer",borderLeft:"4px solid var(--color-burnt-orange)"},onClick:()=>n(`/sermoes/${t.id}`),children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsxs("div",{children:[S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-sage-green)",textTransform:"uppercase"},children:t.data}),S.jsx("h3",{style:{margin:"0.2rem 0",fontSize:"1.2rem"},children:t.titulo}),S.jsxs("p",{style:{margin:0,opacity:.8,fontSize:"0.9rem"},children:["Preletor: ",t.pregador]})]}),S.jsx("span",{style:{fontSize:"1.5rem"},children:""})]})},t.id))}),S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}var yv,bx;function VF(){if(bx)return yv;bx=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt,d=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf,m=typeof self=="object"&&self&&self.Object===Object&&self,y=d||m||Function("return this")(),v=Object.prototype,E=v.toString,A=Math.max,V=Math.min,M=function(){return y.Date.now()};function N(H,se,I){var x,C,j,L,q,O,we=0,Oe=!1,ee=!1,oe=!0;if(typeof H!="function")throw new TypeError(n);se=X(se)||0,U(I)&&(Oe=!!I.leading,ee="maxWait"in I,j=ee?A(X(I.maxWait)||0,se):j,oe="trailing"in I?!!I.trailing:oe);function me(Se){var at=x,et=C;return x=C=void 0,we=Se,L=H.apply(et,at),L}function Re(Se){return we=Se,q=setTimeout(ne,se),Oe?me(Se):L}function Pe(Se){var at=Se-O,et=Se-we,Ui=se-at;return ee?V(Ui,j-et):Ui}function D(Se){var at=Se-O,et=Se-we;return O===void 0||at>=se||at<0||ee&&et>=j}function ne(){var Se=M();if(D(Se))return ce(Se);q=setTimeout(ne,Pe(Se))}function ce(Se){return q=void 0,oe&&x?me(Se):(x=C=void 0,L)}function de(){q!==void 0&&clearTimeout(q),we=0,x=O=C=q=void 0}function Te(){return q===void 0?L:ce(M())}function Ie(){var Se=M(),at=D(Se);if(x=arguments,C=this,O=Se,at){if(q===void 0)return Re(O);if(ee)return q=setTimeout(ne,se),me(O)}return q===void 0&&(q=setTimeout(ne,se)),L}return Ie.cancel=de,Ie.flush=Te,Ie}function U(H){var se=typeof H;return!!H&&(se=="object"||se=="function")}function z(H){return!!H&&typeof H=="object"}function B(H){return typeof H=="symbol"||z(H)&&E.call(H)==t}function X(H){if(typeof H=="number")return H;if(B(H))return e;if(U(H)){var se=typeof H.valueOf=="function"?H.valueOf():H;H=U(se)?se+"":se}if(typeof H!="string")return H===0?H:+H;H=H.replace(i,"");var I=o.test(H);return I||u.test(H)?h(H.slice(2),I?2:8):a.test(H)?e:+H}return yv=N,yv}var OF=VF();const PF=zO(OF);function MF(){const{id:n}=PP(),e=Cn(),{currentUser:t}=Er(),[i,a]=P.useState(""),[o,u]=P.useState(!1),[h,d]=P.useState(!1),[m,y]=P.useState(""),[v,E]=P.useState(!1),[A,V]=P.useState(!1),[M,N]=P.useState(""),U=Th.find(O=>O.id===n);P.useEffect(()=>{let O;if(t&&n){try{om.getAnotacao(t.uid,n).then(Oe=>{a(Oe||"")}).catch(Oe=>console.error("Erro ao carregar anotaes:",Oe))}catch(Oe){console.error(Oe)}const we=mn(Ct,"users",t.uid);O=Pm(we,Oe=>{Oe.exists()&&(Oe.data().selos||[]).includes(n)&&E(!0)},Oe=>console.error("Erro ao escutar selos:",Oe))}return()=>O&&O()},[t,n]);const z=()=>{if(!("webkitSpeechRecognition"in window)){alert("Seu navegador no suporta reconhecimento de voz.");return}const O=new window.webkitSpeechRecognition;O.lang="pt-BR",O.continuous=!1,O.onstart=()=>V(!0),O.onend=()=>V(!1),O.onresult=we=>{const Oe=we.results[0][0].transcript;a(ee=>ee+(ee?" ":"")+Oe),t&&B(t.uid,n,i+" "+Oe)},O.start()},B=P.useCallback(PF((O,we,Oe)=>{u(!0),om.salvarAnotacao(O,we,Oe).then(()=>{u(!1)})},1e3),[]),X=O=>{const we=O.target.value;a(we),t&&(u(!0),B(t.uid,n,we))},[H,se]=P.useState(0),[I,x]=P.useState([]),[C,j]=P.useState(!1),L=async()=>{N("");const O=await om.validarSelo(t.uid,n,m);O.success?(E(!0),N("SELO CONQUISTADO COM SUCESSO!"),setTimeout(()=>{d(!1),se(0),x([])},2e3)):N(O.message)},q=O=>{const we=U.perguntas[H-1];O===we.correta?(j(!1),H<3?se(H+1):se(4)):(j(!0),N("RESPOSTA INCORRETA. REVISE SUAS ANOTAES!"))};return U?S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"var(--bg-main)"},children:[S.jsxs("header",{style:{padding:"1rem",background:"rgba(45, 30, 23, 0.9)",borderBottom:"2px solid var(--color-wood-light)",display:"flex",alignItems:"center",gap:"1rem",zIndex:10},children:[S.jsx("button",{onClick:()=>e("/sermoes"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer"},children:S.jsx(ht.div,{whileTap:{scale:.9},children:" VOLTAR"})}),S.jsxs("div",{style:{flex:1},children:[S.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-gold)",textTransform:"uppercase",letterSpacing:"1px"},children:U.titulo}),S.jsx("span",{style:{fontSize:"0.7rem",color:o?"var(--color-fire)":"var(--color-gold)"},children:o?"MARCANDO PAPEL...":"REGISTRADO NO ARQUIVO"})]}),!v&&S.jsxs(ht.button,{whileTap:{scale:.95},onClick:()=>d(!0),style:{background:"var(--color-gold)",border:"none",borderRadius:"4px",padding:"0.4rem 0.8rem",fontSize:"0.7rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(sV,{size:12})," SELAR"]}),v&&S.jsxs("div",{style:{color:"var(--color-gold)",display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx($m,{size:16})," ",S.jsx("span",{style:{fontSize:"0.7rem"},children:"SELADO"})]})]}),S.jsx("div",{style:{flex:1,padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:S.jsxs("div",{style:{position:"relative",flex:1,display:"flex",flexDirection:"column"},children:[S.jsx("textarea",{value:i,onChange:X,placeholder:"O Mestre est falando... anote aqui suas ordens e reflexes.",style:{flex:1,width:"100%",background:"rgba(0,0,0,0.3)",backgroundImage:"radial-gradient(var(--color-wood-light) 0.5px, transparent 0.5px)",backgroundSize:"20px 20px",border:"1px solid var(--color-wood-medium)",color:"#e0d6c5",fontFamily:"var(--font-body)",fontSize:"1.1rem",padding:"1.5rem",resize:"none",borderRadius:"8px",outline:"none",lineHeight:"1.8"}}),S.jsx(ht.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,style:{position:"absolute",bottom:"20px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",background:A?"var(--color-fire)":"var(--color-gold)",border:"none",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--color-wood-dark)"},children:A?S.jsx(ht.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0},children:S.jsx(Ex,{size:24})}):S.jsx(Ex,{size:24})})]})}),S.jsx(Hh,{children:h&&S.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,padding:"1rem"},children:S.jsx(ht.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},style:{width:"100%",maxWidth:"400px"},children:S.jsxs(ft,{style:{padding:"2rem"},children:[H===0&&S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx(rV,{size:40,color:"var(--color-gold)",style:{marginBottom:"1rem"}}),S.jsx("h3",{style:{color:"var(--color-gold)"},children:"FIXAO DE COMANDO"}),S.jsx("p",{style:{opacity:.8,marginBottom:"2rem"},children:"Soldado, para receber o selo deste sermo em seu passaporte, responda corretamente 3 perguntas de fixao."}),S.jsx(Qe,{onClick:()=>se(1),fullWidth:!0,children:"INICIAR TESTE"}),S.jsx(Qe,{variant:"secondary",onClick:()=>d(!1),fullWidth:!0,style:{marginTop:"0.5rem"},children:"CANCELAR"})]}),H>=1&&H<=3&&S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[S.jsxs("span",{style:{color:"var(--color-gold)",fontSize:"0.8rem"},children:["PERGUNTA ",H,"/3"]}),S.jsx("div",{style:{width:"60px",height:"4px",background:"#333",borderRadius:"2px",alignSelf:"center"},children:S.jsx("div",{style:{width:`${H/3*100}%`,height:"100%",background:"var(--color-gold)"}})})]}),S.jsx("h4",{style:{marginBottom:"1.5rem",minHeight:"3.6rem"},children:U.perguntas[H-1].q}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.perguntas[H-1].opts.map((O,we)=>S.jsx("button",{onClick:()=>q(we),style:{padding:"1rem",textAlign:"left",background:"rgba(255,255,255,0.05)",border:"1px solid var(--color-gold-dim)",borderRadius:"4px",color:"white",cursor:"pointer",transition:"all 0.2s"},children:O},we))}),C&&S.jsx("p",{style:{color:"var(--color-fire)",fontSize:"0.8rem",marginTop:"1rem",textAlign:"center"},children:M})]}),H===4&&S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx($m,{size:40,color:"#4cd137",style:{marginBottom:"1rem"}}),S.jsx("h3",{style:{color:"var(--color-gold)"},children:"TESTE CONCLUDO"}),S.jsx("p",{style:{fontSize:"0.8rem",opacity:.7,marginBottom:"1.5rem"},children:"Agora, insira o PIN de 4 dgitos dado pelo preletor para SELAR seu passaporte."}),M&&S.jsx("div",{style:{color:v?"#4cd137":"var(--color-fire)",marginBottom:"1rem",fontSize:"0.9rem",fontWeight:"bold"},children:M}),S.jsx(e_,{type:"tel",placeholder:"XXXX",value:m,onChange:O=>y(O.target.value.replace(/\D/g,"").slice(0,4)),style:{textAlign:"center",fontSize:"1.5rem",letterSpacing:"10px"}}),S.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsx(Qe,{onClick:L,fullWidth:!0,disabled:v||m.length<4,children:v?"CONQUISTADO!":"SELAR AGORA"}),S.jsx(Qe,{variant:"secondary",onClick:()=>{d(!1),se(0)},fullWidth:!0,children:"VOLTAR"})]})]})]})})})})]}):S.jsx("div",{style:{color:"white",padding:"2rem"},children:"Sermo no encontrado no arsenal."})}const x_=[{id:"cozinha_sab_almoco",titulo:"COZINHA - Sbado Almoo",horario:"11:00 - 13:00",lider:"Sgt. Marta",equipe:["Gideo","Dbora","Sanso","Samuel"]},{id:"limpeza_sab_tarde",titulo:"LIMPEZA - Banheiros",horario:"14:00 - 15:00",lider:"Cb. Davi",equipe:["Pedro","Tiago","Joo"]},{id:"seguranca_noite",titulo:"VIGLIA NOTURNA",horario:"00:00 - 02:00",lider:"Ten. Josu",equipe:["Elias","Eliseu","Moiss"]}],oV={getEscalas(){return Promise.resolve(x_)},getMinhasEscalas(n){return Promise.resolve(x_.filter(e=>e.equipe.some(t=>t.toLowerCase()===n.toLowerCase())))}},NF=Object.freeze(Object.defineProperty({__proto__:null,ESCALAS_DATA:x_,EscalasService:oV},Symbol.toStringTag,{value:"Module"}));function kF(){const n=Cn(),{currentUser:e}=Er(),[t,i]=P.useState([]),[a,o]=P.useState(!1);P.useEffect(()=>{oV.getEscalas().then(i)},[]);const u=e?.email?.split("@")[0]||"",h=a?t.filter(d=>d.equipe.some(m=>m.toLowerCase().includes(u.toLowerCase()))):t;return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[S.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"ORDENS DE SERVIO"}),S.jsx("p",{style:{opacity:.7},children:"Escalas e Turnos"})]}),S.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",justifyContent:"center",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>o(!1),variant:a?"secondary":"primary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"TODAS"}),S.jsx(Qe,{onClick:()=>o(!0),variant:a?"primary":"secondary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"MINHAS MISSES"})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.map(d=>S.jsxs(ft,{style:{borderLeft:"4px solid var(--color-sage-green)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-old-gold)",fontWeight:"bold",textTransform:"uppercase"},children:d.horario}),S.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:["Lder: ",d.lider]})]}),S.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.2rem"},children:d.titulo}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:d.equipe.map(m=>S.jsx("span",{style:{backgroundColor:m.toLowerCase().includes(u.toLowerCase())?"var(--color-burnt-orange)":"rgba(255,255,255,0.1)",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.8rem",color:"var(--color-paper-white)"},children:m},m))})]},d.id)),h.length===0&&S.jsx("div",{style:{textAlign:"center",opacity:.5,marginTop:"2rem"},children:S.jsx("p",{children:"Nenhuma misso encontrada."})})]}),S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}const vv=[{id:"renuncia",name:"Renncia e Compromisso",icon:"",color:"#ef4444"},{id:"mente",name:"Renovao da Mente",icon:"",color:"#6c5ce7"},{id:"comunhao",name:"Comunho e Relacionamento",icon:"",color:"#00cec9"},{id:"honra",name:"Honra e Lealdade",icon:"",color:"#ffd700"},{id:"servico",name:"Servio e Multiplicao",icon:"",color:"#f97316"}],Ga=[{catId:"renuncia",q:"Quando algo que eu quero conflita com o que Deus pede, eu:",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{catId:"renuncia",q:"Minha vida de orao e devocional pessoal :",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{catId:"renuncia",q:"Quando enfrento dificuldade por causa da f, eu:",opts:["Questiono se vale a pena seguir a Jesus","Fico desanimado e me afasto um pouco","Me apoio em Deus mas sinto o peso","Entendo que faz parte e persevero com alegria"]},{catId:"renuncia",q:"Meu compromisso com a igreja local :",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{catId:"renuncia",q:"Em relao ao meu tempo, dinheiro e talentos para o Reino:",opts:["No penso nisso como algo que devo a Deus","Contribuo quando sobra ou  conveniente","Dizimo e oferto, mas ainda sou apegado ao controle","Entendo que tudo  de Deus e administro como mordomo"]},{catId:"mente",q:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",opts:['Ignoro ou descarto como "radical demais"',"Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{catId:"mente",q:"Minha mentalidade em relao  igreja  mais de:",opts:['"O que a igreja faz por mim?" (consumidor)','"Eu vou quando me convm" (visitante)',"Estou disposto a contribuir (participante)",'"O que eu posso fazer pelo Reino?" (discpulo)']},{catId:"mente",q:"Quando passo por uma crise pessoal, minha reao :",opts:["Reclamar de Deus e da liderana","Ficar distante e resolver sozinho","Buscar ajuda mas com certa resistncia","Interceder, buscar a Palavra e apoiar a comunidade"]},{catId:"mente",q:"Em relao  renovao da mente (mudar padres de pensamento):",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{catId:"mente",q:"Quando vejo outro cristo errando, minha primeira reao :",opts:["Comentar com outros sobre o erro","Julgar internamente","Sentir compaixo mas no fazer nada","Orar e, se apropriado, restaurar com mansido"]},{catId:"comunhao",q:"Meu envolvimento com um pequeno grupo ou clula :",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{catId:"comunhao",q:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratico transparncia e vulnerabilidade na comunidade"]},{catId:"comunhao",q:"Quando um irmo/irm da f est passando por dificuldade:",opts:["Geralmente nem fico sabendo",'Digo "vou orar" mas esqueo',"Oro e mando uma mensagem de apoio","Vou at a pessoa, ajudo com ao prtica e oro junto"]},{catId:"comunhao",q:"Sobre construir relacionamentos de discipulado (mentoria):",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{catId:"comunhao",q:"Quando h conflito entre irmos na igreja, eu:",opts:["Fico de um lado e falo mal do outro","Evito o assunto completamente","Tento ser pacificador mas de longe","Vou diretamente buscar reconciliao conforme Mateus 18"]},{catId:"honra",q:"Quando a liderana da igreja toma uma deciso com a qual discordo:",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{catId:"honra",q:"Em relao  honra e reconhecimento dos meus lderes:",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{catId:"honra",q:"Quando ouo fofoca sobre um lder ou irmo, eu:",opts:["Ouo e passo para frente","Ouo mas no compartilho","Mudo de assunto","Interrompo e defendo o ausente"]},{catId:"honra",q:"Minha postura em relao  autoridade (pais, chefes, lderes):",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o principio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{catId:"honra",q:"Se meu lder comete um erro pblico, minha reao :",opts:["Contar para outros e usar como justificativa para sair","Perder a confiana e me afastar","Ficar decepcionado mas manter distncia",'"Cobrir" com orao, apoiar a restaurao e manter lealdade']},{catId:"servico",q:"Em relao ao voluntariado na igreja, eu:",opts:["No sirvo em nenhuma rea","Servo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{catId:"servico",q:"Eu conheo meus dons espirituais e como us-los?",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{catId:"servico",q:"Sobre evangelismo e compartilhar minha f:",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]},{catId:"servico",q:"Se algum me pedisse para discipular um novo convertido, eu:",opts:["No me sentiria capaz de forma alguma","Ficaria inseguro e provavelmente recusaria","Tentaria com auxlio de material","Aceitaria com alegria  j fao ou estou pronto"]},{catId:"servico",q:"Minha viso sobre o meu papel na expanso do Reino de Deus:",opts:["Isso  trabalho de pastor e missionrio","Sei que deveria participar mas no sei como","Estou comeando a entender meu papel","Sei que EU sou o agente do Reino onde piso"]}],lV=async(n,e)=>{try{const t=mn(Ct,"users",n),i={date:He.now(),...e};return await Tp(t,{diagnostico:TC(i),lastDiagnostico:i}),!0}catch(t){throw console.error("Error saving diagnostic result: ",t),t}};function LF(n,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function h(y){try{m(i.next(y))}catch(v){u(v)}}function d(y){try{m(i.throw(y))}catch(v){u(v)}}function m(y){y.done?o(y.value):a(y.value).then(h,d)}m((i=i.apply(n,[])).next())})}function jF(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(y){return d([m,y])}}function d(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(y){m=[6,y],a=0}finally{i=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Pl=function(){return Pl=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pl.apply(this,arguments)},uV=function(n){return{loading:n==null,value:n}},UF=function(){return function(n,e){switch(e.type){case"error":return Pl(Pl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return uV(e.defaultValue);case"value":return Pl(Pl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},zF=(function(n){var e=n?n():void 0,t=P.useReducer(UF(),uV(e)),i=t[0],a=t[1],o=P.useCallback(function(){var d=n?n():void 0;a({type:"reset",defaultValue:d})},[n]),u=P.useCallback(function(d){a({type:"error",error:d})},[]),h=P.useCallback(function(d){a({type:"value",value:d})},[]);return P.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:h,value:i.value}},[i.error,i.loading,o,u,h,i.value])}),BF=(function(n,e){var t=zF(function(){return n.currentUser}),i=t.error,a=t.loading,o=t.setError,u=t.setValue,h=t.value;return P.useEffect(function(){var d=e2(n,function(m){return LF(void 0,void 0,void 0,function(){var y;return jF(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return v.sent(),[3,4];case 3:return y=v.sent(),o(y),[3,4];case 4:return u(m),[2]}})})},o);return function(){d()}},[n]),[h,a,i]});const FF=()=>{const[n]=BF(Rl),e=Cn(),[t,i]=P.useState(0),[a,o]=P.useState(Array(Ga.length).fill(null)),[u,h]=P.useState(!1),[d,m]=P.useState({}),[y,v]=P.useState(0),[E,A]=P.useState(!1),V=X=>{const H=[...a];H[t]=X,o(H),t<Ga.length-1?setTimeout(()=>i(t+1),300):M(H)},M=async X=>{A(!0);let H={},se=0;vv.forEach(I=>H[I.id]=0),X.forEach((I,x)=>{const C=Ga[x];H[C.catId]+=I,se+=I}),m(H),v(se),h(!0),n&&await lV(n.uid,{answers:X,scores:H,totalScore:se}),A(!1)},N=X=>(d&&d[X]||0)/15*100;if(E)return S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-main)"},children:S.jsx(ht.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},style:{fontSize:"3rem"},children:""})});if(u)return S.jsxs(ht.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",paddingBottom:"3rem"},children:[S.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[S.jsx(vE,{size:64,color:"var(--color-gold)",style:{marginBottom:"1rem"}}),S.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:"RELATRIO DE CAMPO"}),S.jsx("p",{style:{color:"var(--text-dim)"},children:"Perfil do Discpulo  ACAMP 2026"})]}),S.jsxs(ft,{style:{textAlign:"center",marginBottom:"1.5rem",border:"2px solid var(--color-gold)"},children:[S.jsx("h3",{style:{fontSize:"1.2rem",color:"var(--text-dim)"},children:"PONTUAO TOTAL"}),S.jsx("div",{style:{fontSize:"4.5rem",color:"var(--color-gold)",lineHeight:1,margin:"10px 0"},children:y}),S.jsxs("div",{style:{fontSize:"1rem",color:"var(--color-fire)",fontWeight:"bold"},children:["NVEL DE PRONTIDO: ",y>50?"ELITE":"RECRUTA"]})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:vv.map(X=>S.jsxs(ft,{style:{padding:"1rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[S.jsxs("span",{style:{fontWeight:"bold",color:"var(--color-gold)"},children:[X.icon," ",X.name]}),S.jsxs("span",{children:[d[X.id]," pts"]})]}),S.jsx("div",{style:{height:"8px",background:"var(--color-wood-dark)",borderRadius:"4px",overflow:"hidden"},children:S.jsx(ht.div,{initial:{width:0},animate:{width:`${N(X.id)}%`},style:{height:"100%",background:X.color||"var(--color-gold)"}})})]},X.id))}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>{h(!1),i(0),o(Array(Ga.length).fill(null))},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(X8,{size:20})," REFAZER MISSO"]})}),S.jsx(Qe,{variant:"secondary",onClick:()=>e("/home"),children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(U8,{size:20})," VOLTAR AO QG"]})})]})]});const U=Ga[t],z=vv.find(X=>X.id===U.catId),B=t/Ga.length*100;return S.jsxs("div",{style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[S.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("button",{onClick:()=>e("/home"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center"},children:[S.jsx(Eh,{})," VOLTAR"]}),S.jsxs("div",{style:{fontFamily:"var(--font-display)",color:"var(--color-gold)"},children:["FALTA ",Ga.length-t," PARA CONCLUIR"]})]}),S.jsx("div",{style:{height:"4px",background:"var(--bg-card)",borderRadius:"2px",marginBottom:"2rem",overflow:"hidden"},children:S.jsx(ht.div,{animate:{width:`${B}%`},style:{height:"100%",background:"var(--color-fire)"}})}),S.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:S.jsxs("div",{style:{display:"inline-block",padding:"4px 12px",background:"var(--color-gold)",color:"var(--color-wood-dark)",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:[z?.icon," ",z?.name.toUpperCase()]})}),S.jsx(Hh,{mode:"wait",children:S.jsxs(ht.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},style:{flex:1},children:[S.jsx("h2",{style:{fontSize:"1.8rem",lineHeight:1.2,marginBottom:"2rem",textAlign:"center"},children:U.q}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.opts.map((X,H)=>S.jsx(ft,{onClick:()=>V(H),style:{borderColor:a[t]===H?"var(--color-fire)":"var(--color-wood-light)",background:a[t]===H?"rgba(211, 84, 0, 0.1)":"var(--bg-card)",padding:"1.2rem",transition:"all 0.2s"},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid var(--color-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a[t]===H&&S.jsx("div",{style:{width:"12px",height:"12px",background:"var(--color-fire)",borderRadius:"50%"}})}),S.jsx("span",{style:{fontSize:"1rem",fontWeight:a[t]===H?"bold":"normal"},children:X})]})},H))})]},t)}),S.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:S.jsx(Qe,{variant:"secondary",disabled:t===0,onClick:()=>i(X=>X-1),children:"ANTERIOR"})})]})},qF=async(n=10)=>{const e=J5(Ct),t=[];for(let i=0;i<n;i++){const a=`FORJA-${Math.random().toString(36).substring(2,7).toUpperCase()}`,o=mn(Cm(Ct,"vouchers"));e.set(o,{code:a,used:!1,createdAt:He.now()}),t.push(a)}return await e.commit(),t};function HF(){const{currentUser:n}=Er(),e=Cn(),[t,i]=P.useState([]),[a,o]=P.useState([]),[u,h]=P.useState("PENDING"),[d,m]=P.useState(!0),[y,v]=P.useState(10),[E,A]=P.useState(!1),[V,M]=P.useState(""),[N,U]=P.useState(""),[z,B]=P.useState("soldier"),[X,H]=P.useState(!1),[se,I]=P.useState(""),[x,C]=P.useState("");P.useEffect(()=>{const D=xp(n?.email)||n?.profile?.role==="admin";(!n||!D)&&e("/home")},[n,e]),P.useEffect(()=>{m(!0);const D=Pm(Cm(Ct,"users"),de=>{i(de.docs.map(Te=>({id:Te.id,...Te.data()}))),m(!1)},de=>{console.error("ERRO ao sincronizar usurios:",de),m(!1)}),ne=AC(Cm(Ct,"vouchers"),Q5("createdAt","desc")),ce=Pm(ne,de=>{o(de.docs.map(Te=>({id:Te.id,...Te.data()})))},de=>{console.error("ERRO ao sincronizar vouchers:",de)});return()=>{D(),ce()}},[]);const j=async()=>{y<=0||(m(!0),await qF(Number(y)),m(!1))},L=D=>{const ce=` *CONVOCAO PARA A FORJA 2026* 

Soldado, o alistamento oficial foi aberto! 
Sua presena  requisitada para o maior treinamento do ano.

 *Identidade do Front:* https://haniellevi.github.io/ACAMP2026-ANTIGRAVITY/
 *Cdigo de Acesso:* ${D}

Prepare seus equipamentos e apresente-se no QG Digital! `;navigator.clipboard.writeText(ce),alert(`Convite Militar para o voucher ${D} copiado para a rea de transferncia!`)},q=async D=>{window.confirm("Confirma a aprovao deste soldado?")&&await m2(D)},O=async D=>{window.confirm("REJEITAR e EXCLUIR este alistamento?")&&await p2(D)},we=async D=>{if(D.preventDefault(),I(""),C(""),!V.trim()||!N.trim()){I("Preencha nome e PIN.");return}if(N.length<4){I("PIN deve ter pelo menos 4 dgitos.");return}H(!0);const ne=await g2(V.trim(),N,z);H(!1),ne.success?(C(` ${V} cadastrado com sucesso!`),M(""),U(""),B("soldier"),setTimeout(()=>{C(""),A(!1)},2e3)):I(ne.error||"Erro ao criar usurio.")},Oe=async D=>{const ne=D.role==="admin"?"soldier":"admin",ce=ne==="admin"?"PROMOVER a Admin":"REBAIXAR a Soldado";window.confirm(`${ce}: ${D.nomeGuerra}?`)&&await y2(D.id,ne)},ee=async D=>{if(D.id===n.uid){alert("Voc no pode deletar a si mesmo!");return}window.confirm(`EXCLUIR permanentemente: ${D.nomeGuerra}? Esta ao no pode ser desfeita!`)&&await RC(mn(Ct,"users",D.id))},oe=t.filter(D=>D.status==="pending"),me=t.filter(D=>D.status==="approved"||D.role==="admin"),Re={width:"100%",background:"rgba(0,0,0,0.3)",border:"1px solid var(--color-wood-dark)",borderRadius:"4px",padding:"10px",color:"white",fontSize:"1rem",boxSizing:"border-box"},Pe={fontSize:"0.7rem",color:"var(--color-gold)",display:"block",marginBottom:"5px",textTransform:"uppercase",letterSpacing:"1px"};return S.jsxs("div",{style:{padding:"1rem",maxWidth:"800px",margin:"0 auto",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(yE,{size:40,color:"var(--color-fire)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"CENTRO DE COMANDO (ADMIN)"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"Gerencie a logstica da Forja 2026"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",overflowX:"auto",padding:"5px"},children:[S.jsxs(Qe,{variant:u==="PENDING"?"primary":"secondary",onClick:()=>h("PENDING"),style:{flex:1,minWidth:"120px",position:"relative"},children:[S.jsx(yF,{size:16,style:{marginRight:"4px"}})," APROVAO",oe.length>0&&S.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center"},children:oe.length})]}),S.jsxs(Qe,{variant:u==="USERS"?"primary":"secondary",onClick:()=>h("USERS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(EF,{size:16,style:{marginRight:"4px"}})," SOLDADOS"]}),S.jsxs(Qe,{variant:u==="VOUCHERS"?"primary":"secondary",onClick:()=>h("VOUCHERS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(cF,{size:16,style:{marginRight:"4px"}})," VOUCHERS"]}),S.jsxs(Qe,{variant:u==="ESCALAS"?"primary":"secondary",onClick:()=>h("ESCALAS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(A_,{size:16,style:{marginRight:"4px"}})," ESCALAS"]})]}),d&&S.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Sincronizando com o QG Central..."}),S.jsxs(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[u==="PENDING"&&S.jsxs("div",{children:[S.jsxs("h3",{children:["Aprovaes Pendentes (",oe.length,")"]}),oe.length===0?S.jsx("p",{style:{opacity:.5,fontStyle:"italic"},children:"Nenhum soldado aguardando na portaria."}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:oe.map(D=>S.jsxs(ft,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:"4px solid orange"},children:[S.jsxs("div",{children:[S.jsx("strong",{style:{color:"var(--color-gold)",fontSize:"1.1rem"},children:D.nomeGuerra}),S.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",D.pin," | Criado em: ",new Date(D.createdAt).toLocaleDateString()]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px"},children:[S.jsx("button",{onClick:()=>q(D.id),style:{background:"none",border:"none",cursor:"pointer",color:"#51cf66"},title:"Aprovar",children:S.jsx($m,{size:28})}),S.jsx("button",{onClick:()=>O(D.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ff6b6b"},title:"Rejeitar",children:S.jsx(V8,{size:28})})]})]},D.id))})]}),u==="USERS"&&S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("h3",{style:{margin:0},children:["Peloto (",me.length," soldados)"]}),S.jsxs(Qe,{onClick:()=>A(!E),variant:"primary",style:{display:"flex",alignItems:"center",gap:"5px"},children:[E?S.jsx(AF,{size:16}):S.jsx(w_,{size:16}),E?"FECHAR":"NOVO SOLDADO"]})]}),S.jsx(Hh,{children:E&&S.jsx(ht.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},children:S.jsxs(ft,{style:{marginBottom:"1.5rem",border:"1px solid var(--color-gold)",padding:"1.2rem"},children:[S.jsxs("h4",{style:{color:"var(--color-gold)",margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx(w_,{size:18})," CADASTRAR NOVO SOLDADO"]}),S.jsx("form",{onSubmit:we,children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{children:[S.jsx("label",{style:Pe,children:"NOME DE GUERRA"}),S.jsx("input",{type:"text",value:V,onChange:D=>M(D.target.value),placeholder:"Ex: Recruta Silva",style:Re,required:!0})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:Pe,children:"PIN (4+ dgitos)"}),S.jsx("input",{type:"text",value:N,onChange:D=>U(D.target.value.replace(/\D/g,"")),placeholder:"1234",maxLength:6,style:Re,required:!0})]}),S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:Pe,children:"PATENTE"}),S.jsxs("select",{value:z,onChange:D=>B(D.target.value),style:{...Re,cursor:"pointer"},children:[S.jsx("option",{value:"soldier",children:" Soldado"}),S.jsx("option",{value:"admin",children:" Admin"})]})]})]}),se&&S.jsxs("div",{style:{color:"#ff6b6b",fontSize:"0.85rem",padding:"8px",background:"rgba(255,107,107,0.1)",borderRadius:"4px"},children:[" ",se]}),x&&S.jsx("div",{style:{color:"#51cf66",fontSize:"0.85rem",padding:"8px",background:"rgba(81,207,102,0.1)",borderRadius:"4px"},children:x}),S.jsx(Qe,{type:"submit",variant:"primary",fullWidth:!0,disabled:X,children:X?"CADASTRANDO...":" ALISTAR SOLDADO"})]})})]})})}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:me.map(D=>S.jsxs(ft,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:D.role==="admin"?"4px solid var(--color-gold)":"4px solid var(--color-sage-green)"},children:[S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[S.jsx("strong",{style:{color:D.role==="admin"?"var(--color-gold)":"var(--text-main)"},children:D.nomeGuerra}),D.role==="admin"&&S.jsx(_x,{size:14,color:"var(--color-gold)",title:"Admin"})]}),S.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",D.pin," | ",D.role==="admin"?" Admin":" Soldado",D.createdByAdmin&&" |  Cadastro Admin"]})]}),S.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[S.jsxs("button",{onClick:()=>Oe(D),style:{background:"none",border:"1px solid",borderColor:D.role==="admin"?"var(--color-sage-green)":"var(--color-gold)",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",color:D.role==="admin"?"var(--color-sage-green)":"var(--color-gold)",fontSize:"0.65rem",display:"flex",alignItems:"center",gap:"4px"},title:D.role==="admin"?"Rebaixar a Soldado":"Promover a Admin",children:[S.jsx(_x,{size:12}),D.role==="admin"?"REBAIXAR":"PROMOVER"]}),S.jsx("button",{onClick:()=>ee(D),style:{background:"none",border:"none",cursor:"pointer",color:"#ff6b6b",opacity:D.id===n?.uid?.3:1},title:"Excluir Soldado",disabled:D.id===n?.uid,children:S.jsx(dF,{size:18})})]})]},D.id))})]}),u==="VOUCHERS"&&S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem",gap:"10px"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:Pe,children:"QUANTIDADE PARA GERAR"}),S.jsx("input",{type:"number",value:y,onChange:D=>v(D.target.value),style:Re})]}),S.jsxs(Qe,{onClick:j,variant:"primary",style:{height:"45px"},children:[S.jsx(Y8,{size:20})," GERAR VOUCHERS"]})]}),S.jsxs("h3",{children:["Vouchers no Sistema (",a.length,")"]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:a.map(D=>S.jsxs(ft,{style:{padding:"1rem",textAlign:"center",background:D.used?"rgba(0,0,0,0.2)":"rgba(197, 157, 95, 0.1)",border:D.used?"1px solid #444":"1px solid var(--color-gold)",opacity:D.used?.7:1,position:"relative"},children:[S.jsx("code",{style:{fontSize:"1.1rem",color:"var(--color-gold)",display:"block",fontWeight:"bold",marginBottom:"5px"},children:D.code}),S.jsx("div",{style:{padding:"4px",borderRadius:"4px",background:D.used?"rgba(255,0,0,0.1)":"rgba(0,255,0,0.1)",marginBottom:"8px"},children:S.jsx("span",{style:{fontSize:"0.65rem",color:D.used?"#ff6b6b":"#51cf66",fontWeight:"bold"},children:D.used?"utilizado":" disponvel"})}),D.used&&D.usedByName&&S.jsxs("div",{style:{mt:"5px",borderTop:"1px solid rgba(255,255,255,0.1)",pt:"5px"},children:[S.jsx("p",{style:{margin:0,fontSize:"0.65rem",opacity:.6,textTransform:"uppercase"},children:"Soldado:"}),S.jsx("strong",{style:{fontSize:"0.8rem",color:"white"},children:D.usedByName})]}),!D.used&&S.jsxs("button",{onClick:()=>L(D.code),style:{marginTop:"10px",background:"none",border:"1px solid var(--color-gold)",borderRadius:"4px",padding:"5px",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",width:"100%",fontSize:"0.7rem"},children:[S.jsx(sF,{size:12})," ENVIAR CONVITE"]})]},D.id))})]}),u==="ESCALAS"&&S.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[S.jsx(A_,{size:48,opacity:.3,style:{marginBottom:"1rem"}}),S.jsx("h3",{children:"Gerenciamento de Escalas"}),S.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7},children:["O algoritmo est pronto para distribuir ",t.length," soldados."]}),S.jsx(Qe,{style:{marginTop:"1rem"},children:"GERAR DISTRIBUIO AUTOMTICA"})]})]},u),S.jsx("div",{style:{marginTop:"2rem"},children:S.jsx(Qe,{onClick:()=>e("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function GF(){const[n,e]=P.useState([]),[t,i]=P.useState(!0),a=Cn();return P.useEffect(()=>{(async()=>{try{const u=AC(Cm(Ct,"users"),$5(50)),m=(await X5(u)).docs.map(y=>({id:y.id,...y.data(),score:(y.data().selos?.length||0)*100})).sort((y,v)=>v.score-y.score);e(m)}catch(u){console.error("Erro ao buscar ranking:",u)}i(!1)})()},[]),S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(vE,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"RANKING DE PRONTIDO"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"HONRA MILITAR NO FRONT"})]}),t?S.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Calculando mritos..."}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map((o,u)=>S.jsx(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},children:S.jsxs(ft,{style:{display:"flex",alignItems:"center",gap:"1rem",borderLeft:u<3?"4px solid var(--color-gold)":"2px solid var(--color-wood-light)"},children:[S.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:u===0?"var(--color-gold)":u===1?"#bdc3c7":u===2?"#cd7f32":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:u>2?"1px solid var(--color-wood-light)":"none",color:u<3?"var(--color-wood-dark)":"inherit"},children:u+1}),S.jsxs("div",{style:{flex:1},children:[S.jsx("strong",{style:{display:"block",color:"var(--color-gold)"},children:o.nomeGuerra}),S.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:S.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6},children:[o.selos?.length||0," SELOS CONQUISTADOS"]})})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-gold)"},children:o.score}),S.jsx("div",{style:{fontSize:"0.5rem",opacity:.5},children:"PTOS"})]})]})},o.id))}),S.jsx("div",{style:{marginTop:"2rem"},children:S.jsx(Qe,{onClick:()=>a("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}const KF=[{id:1,text:"Quando algo que eu quero conflita com o que Deus pede, eu:",category:"Renncia",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{id:2,text:"Minha vida de orao e devocional pessoal :",category:"Renncia",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{id:3,text:"Meu compromisso com a igreja local :",category:"Renncia",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{id:4,text:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",category:"Mente",opts:["Ignoro ou descarto como 'radical demais'","Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{id:5,text:"Minha mentalidade em relao  igreja  mais de:",category:"Mente",opts:["'O que a igreja faz por mim?' (consumidor)","'Eu vou quando me convm' (visitante)","Estou disposto a contribuir (participante)","'O que eu posso fazer pelo Reino?' (discpulo)"]},{id:6,text:"Em relao  renovao da mente (mudar padres de pensamento):",category:"Mente",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{id:7,text:"Meu envolvimento com um pequeno grupo ou clula :",category:"Comunho",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{id:8,text:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",category:"Comunho",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratica transparncia e vulnerabilidade na comunidade"]},{id:9,text:"Sobre construir relacionamentos de discipulado (mentoria):",category:"Comunho",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{id:10,text:"Quando a liderana da igreja toma uma deciso com a qual discordo:",category:"Honra",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{id:11,text:"Em relao  honra e reconhecimento dos meus lderes:",category:"Honra",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{id:12,text:"Minha postura em relao  autoridade (pais, chefes, lderes):",category:"Honra",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o princpio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{id:13,text:"Em relao ao voluntariado na igreja, eu:",category:"Servio",opts:["No sirvo em nenhuma rea","Sirvo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{id:14,text:"Eu conheo meus dons espirituais e como us-los?",category:"Servio",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{id:15,text:"Sobre evangelismo e compartilhar minha f:",category:"Servio",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]}],QF=[{id:1,text:"Quando vejo uma necessidade no atendida na igreja ou na sociedade, eu:",category:"Apstolo",opts:["Espero que algum resolva","Comento sobre o problema mas no ajo","Penso em solues mas raramente executo","Sinto uma compulso de iniciar algo novo para resolver"]},{id:2,text:"Quando trabalho em equipe, meu papel natural :",category:"Apstolo",opts:["Sigo o que os outros decidem","Contribuo com ideias quando pedem","Organizo e ajudo na execuo","Lano a viso e mobilizo as pessoas para a ao"]},{id:3,text:"Quando penso no futuro da igreja e do Reino, eu:",category:"Apstolo",opts:["No costumo pensar nisso","Espero que Deus cuide dos detalhes","Tenho algumas ideias do que poderia ser feito","Enxergo claramente o que Deus quer fazer e trabalho para isso acontecer"]},{id:4,text:"Quando vejo injustia ou pecado sendo tolerado na comunidade, eu:",category:"Profeta",opts:["Finjo que no vi","Fico incomodado mas no falo nada","Converso com algum de confiana sobre","Sinto uma urgncia de confrontar com amor, mesmo que seja difcil"]},{id:5,text:"Em relao a ouvir a voz de Deus e receber direo espiritual:",category:"Profeta",opts:["Nunca tive essa experincia","s vezes sinto algo mas no tenho certeza","Busco direo e j tive confirmaes","Tenho sensibilidade clara ao Esprito e frequentemente recebo direo para outros"]},{id:6,text:"Sobre falar verdades difceis para pessoas que amo:",category:"Profeta",opts:["Evito confronto a todo custo","Falo s se for muito grave","Falo com cuidado quando Deus pede","Tenho coragem de falar a verdade em amor, mesmo sabendo que pode custar a amizade"]},{id:7,text:"Quando conheo algum que no  cristo, meu primeiro instinto :",category:"Evangelista",opts:["No penso em falar de Jesus","Fico desconfortvel se o assunto surgir","Espero uma oportunidade natural para falar","Busco construir um relacionamento estratgico para compartilhar o Evangelho"]},{id:8,text:"Quando ouo a histria de vida de algum distante de Deus:",category:"Evangelista",opts:["No me afeta muito","Sinto pena mas no sei o que fazer","Oro por essa pessoa","Meu corao se parte e eu fao qualquer coisa para apresentar Jesus a ela"]},{id:9,text:"Sobre compartilhar meu testemunho pessoal:",category:"Evangelista",opts:["Tenho vergonha de falar da minha histria","Falo se algum perguntar","Compartilho quando sinto que  apropriado","Uso minha histria como ferramenta poderosa e a adapto para cada ouvinte"]},{id:10,text:"Quando percebo que algum est passando por dificuldade emocional:",category:"Pastor",opts:["Geralmente nem percebo","Percebo mas no sei o que fazer","Mando uma mensagem ou oro","Vou at a pessoa, ouo com pacincia e caminho junto no processo"]},{id:11,text:"Quando h um conflito entre pessoas na comunidade:",category:"Pastor",opts:["Fujo de conflito","Fico neutro e no me envolvo","Tento mediar se me pedirem","Busco ativamente a reconciliao, cuidando de cada parte com amor"]},{id:12,text:"Minha reao quando algum da comunidade se afasta da f:",category:"Pastor",opts:["No me afeta muito","Lamento mas sigo em frente","Oro pela pessoa  distncia","Vou atrs, sem julgamento, e fao o que for preciso para traz-la de volta"]},{id:13,text:"Quando estudo a Bblia, minha abordagem :",category:"Mestre",opts:["Leio rapidamente sem aprofundar","Leio e reflito superficialmente","Pesquiso o contexto e busco entender melhor","Estudo com ferramentas (comentrios, grego/hebraico, contexto histrico) e amo cada detalhe"]},{id:14,text:"Quando algum faz uma pergunta teolgica ou doutrinria:",category:"Mestre",opts:["No sei responder e no me interessa muito","Dou minha opinio pessoal","Busco na Bblia antes de responder","Amo pesquisar profundamente e explicar de forma clara e fundamentada"]},{id:15,text:"Em relao a tornar conceitos complexos compreensveis:",category:"Mestre",opts:["Tenho dificuldade em explicar coisas","Explico de forma razovel","Consigo simplificar e usar boas ilustraes","Tenho um dom natural de pegar algo profundo e torn-lo prtico e inesquecvel"]}];function $F(){const{currentUser:n}=Er(),e=Cn(),[t,i]=P.useState(null),[a,o]=P.useState({}),[u,h]=P.useState(0),[d,m]=P.useState(!1),[y,v]=P.useState(!1),E=t==="MATURIDADE"?KF:QF,A=(U,z)=>{o(B=>({...B,[U]:z})),u<E.length-1&&setTimeout(()=>h(u+1),300)},V=async()=>{if(Object.keys(a).length<E.length)return;v(!0);const U={tipo:t,respostas:a,data:new Date().toISOString(),userId:n.uid};try{await lV(n.uid,U),m(!0)}catch(z){console.error("Erro ao salvar:",z)}v(!1)};if(d)return S.jsx("div",{className:"page-container",style:{padding:"20px",textAlign:"center"},children:S.jsxs(ft,{children:[S.jsx($m,{size:64,color:"var(--color-gold)",style:{margin:"0 auto 20px"}}),S.jsx("h2",{style:{color:"var(--color-gold)"},children:"MISSO CUMPRIDA!"}),S.jsx("p",{children:"Seu diagnstico foi enviado para o Grande Comando."}),S.jsx(Qe,{onClick:()=>e("/home"),style:{marginTop:"20px"},children:"VOLTAR AO QG"})]})});if(!t)return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>e("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"FERRAMENTAS"})]}),S.jsxs("div",{style:{display:"grid",gap:"20px"},children:[S.jsxs(ft,{onClick:()=>i("MATURIDADE"),interactive:!0,children:[S.jsx("h3",{style:{color:"var(--color-gold)"},children:"PERFIL DE MATURIDADE"}),S.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Avalie sua fibra espiritual e emocional para o combate."}),S.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",S.jsx(vx,{size:18})]})]}),S.jsxs(ft,{onClick:()=>i("MINISTERIAL"),interactive:!0,children:[S.jsx("h3",{style:{color:"var(--color-gold)"},children:"DESCOBRINDO MEU MINISTRIO"}),S.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Identifique seu chamado nos 5 ministrios (Efsios 4:11)."}),S.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",S.jsx(vx,{size:18})]})]})]})]});const M=E[u],N=(u+1)/E.length*100;return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>i(null),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsxs("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"var(--color-gold)"},children:["QUESTO ",u+1," DE ",E.length]})]}),S.jsx("div",{style:{height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",marginBottom:"30px"},children:S.jsx(ht.div,{initial:{width:0},animate:{width:`${N}%`},style:{height:"100%",background:"var(--color-gold)",borderRadius:"2px"}})}),S.jsx(Hh,{mode:"wait",children:S.jsx(ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:S.jsx(ft,{style:{padding:"30px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},children:S.jsx("h2",{style:{fontSize:"1.4rem",textAlign:"center",marginBottom:"0"},children:M.text})})},u)}),S.jsx("div",{style:{display:"grid",gap:"12px",marginTop:"30px"},children:M.opts.map((U,z)=>{const B=z+1;return S.jsx("button",{onClick:()=>A(M.id,B),style:{background:a[M.id]===B?"var(--color-gold)":"var(--bg-card)",border:`2px solid ${a[M.id]===B?"var(--color-gold)":"var(--color-wood-dark)"}`,color:a[M.id]===B?"var(--color-dark-earth)":"var(--color-gold)",padding:"15px 20px",borderRadius:"var(--radius-rustic)",fontWeight:"bold",fontSize:"1rem",textAlign:"left",cursor:"pointer",transition:"all 0.2s",boxShadow:"var(--shadow-rustic)",lineSize:"1.2"},children:U},B)})}),u===E.length-1&&a[M.id]&&S.jsx(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{marginTop:"40px"},children:S.jsxs(Qe,{onClick:V,fullWidth:!0,loading:y,children:["ENVIAR RELATRIO ",S.jsx(tF,{size:20,style:{marginLeft:"10px"}})]})})]})}function YF(){const n=Cn(),e=[{title:"HONRA E RESPEITO",desc:"Honrar a liderana e respeitar cada soldado de Cristo no campo.",icon:S.jsx(lF,{size:28})},{title:"PONTUALIDADE",desc:"A alvorada e os cultos no esperam. Esteja pronto 5 min antes.",icon:S.jsx(iV,{size:28})},{title:"DISCIPLINA",desc:"Celulares apenas para o app e anotaes nos momentos permitidos.",icon:S.jsx(mF,{size:28})},{title:"LIMPEZA (ZELO)",desc:"Mantenha sua barraca e reas comuns impecveis. O lixo tem lugar certo.",icon:S.jsx(x8,{size:28})},{title:"CONSUMO CONSCIENTE",desc:"gua e comida so preciosos. Evite desperdcios.",icon:S.jsx(SF,{size:28})},{title:"BANHOS RPIDOS",desc:"Respeite o tempo do seu irmo. 5 a 10 minutos no mximo.",icon:S.jsx(N8,{size:28})},{title:"SILNCIO",desc:"Aps o 'Apagar Luzes', o silncio  absoluto para o descanso da tropa.",icon:S.jsx(L8,{size:28})}];return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"CDIGO DE CONDUTA"})]}),S.jsx(ft,{style:{marginBottom:"20px",border:"1px dashed var(--color-fire)"},children:S.jsxs("p",{style:{fontSize:"0.9rem",fontStyle:"italic",textAlign:"center",margin:0},children:['"Ningum que milita se embaraa com negcios desta vida, a fim de agradar quele que o alistou para a guerra." ',S.jsx("br",{}),S.jsx("strong",{children:"2 Timteo 2:4"})]})}),S.jsx("div",{style:{display:"grid",gap:"15px"},children:e.map((t,i)=>S.jsx(ht.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},children:S.jsxs(ft,{style:{display:"flex",gap:"15px",alignItems:"center",padding:"15px"},children:[S.jsx("div",{style:{color:"var(--color-gold)",background:"var(--color-wood-dark)",padding:"10px",borderRadius:"8px"},children:t.icon}),S.jsxs("div",{children:[S.jsx("h4",{style:{margin:0,color:"var(--color-gold)",letterSpacing:"1px"},children:t.title}),S.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.85rem",opacity:.8},children:t.desc})]})]})},i))}),S.jsxs(ft,{style:{marginTop:"25px",background:"var(--color-wood-dark)",textAlign:"center"},children:[S.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:"INFRAES"}),S.jsx("p",{style:{fontSize:"0.8rem",margin:"5px 0 0",opacity:.7},children:"O descumprimento das regras resultar em perda de pontos no ranking do peloto."})]})]})}function WF(){const n=Cn(),[e,t]=P.useState(new Date),a=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][e.getDay()],[o,u]=P.useState(Ks.some(d=>d.dia===a)?a:Ks[0].dia);P.useEffect(()=>{const d=setInterval(()=>t(new Date),6e4);return()=>clearInterval(d)},[]);const h=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"PROGRAMAO"})]}),S.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px",scrollbarWidth:"none"},children:Ks.map(d=>S.jsx(Qe,{variant:o===d.dia?"primary":"secondary",onClick:()=>u(d.dia),style:{minWidth:"100px",border:o===d.dia?"2px solid var(--color-gold)":"1px solid var(--color-wood-dark)"},children:d.dia.toUpperCase()},d.dia))}),Ks.filter(d=>d.dia===o).map((d,m)=>{const v=["Sbado","Domingo","Segunda","Tera"].indexOf(d.dia),E=e.getDay(),A=E===6?0:E===0?1:E===1?2:E===2?3:-1,V=A>v,M=A===v;return S.jsxs("div",{style:{marginBottom:"30px"},children:[S.jsxs("h2",{style:{color:M?"var(--color-fire)":"var(--color-gold)",fontSize:"1.2rem",borderBottom:"1px solid var(--color-wood-dark)",paddingBottom:"5px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(A_,{size:20}),d.dia.toUpperCase()," ",M&&S.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-fire)",color:"white",padding:"2px 8px",borderRadius:"10px"},children:"HOJE"})]}),S.jsx("div",{style:{display:"grid",gap:"10px"},children:d.eventos.map((N,U)=>{const z=d.eventos[U+1],B=M&&h>=N.hora&&(!z||h<z.hora),X=V||M&&h>(z?z.hora:N.hora);return S.jsx(ht.div,{whileHover:{scale:1.01},children:S.jsxs(ft,{style:{padding:"12px 15px",border:B?"2px solid var(--color-fire)":X?"1px solid #27ae60":"1px solid var(--color-wood-dark)",background:B?"rgba(211, 84, 0, 0.1)":X?"rgba(39, 174, 96, 0.05)":"var(--bg-card)",position:"relative",overflow:"hidden",opacity:X?.8:1},children:[B&&S.jsx(ht.div,{animate:{opacity:[.3,.6,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"var(--color-fire)"}}),X&&!B&&S.jsx("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"#27ae60"}}),S.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",minWidth:"60px",color:B?"var(--color-fire)":X?"#27ae60":"var(--text-main)",animation:B?"blink 2s infinite":"none"},children:N.hora}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:B?"var(--color-fire-glow)":X?"#2ecc71":"var(--color-gold)"},children:N.nome}),X&&!B&&S.jsx("span",{style:{fontSize:"0.6rem",color:"#2ecc71",fontWeight:"bold"},children:"CONCLUDO"})]}),S.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:N.desc})]})]})]})},U)})})]},m)}),S.jsx("style",{children:`
                @keyframes blink {
                    0% { opacity: 1; }
                    50% { opacity: 0.4; }
                    100% { opacity: 1; }
                }
            `})]})}const Di=({children:n})=>{const{currentUser:e,loading:t}=Er();return t?S.jsx("div",{style:{color:"#d35400",textAlign:"center",padding:"2rem"},children:"Carregando QG..."}):e?e.profile?.status==="pending"?S.jsx(um,{to:"/pending"}):n:S.jsx(um,{to:"/"})},XF=({children:n})=>{const{currentUser:e,loading:t}=Er();return t?S.jsx("div",{children:"..."}):e?e.profile?.status==="approved"||e.profile?.role==="admin"?S.jsx(um,{to:"/home"}):n:S.jsx(um,{to:"/"})};function JF(){return S.jsx(vM,{basename:"/ACAMP2026-ANTIGRAVITY/",children:S.jsx(f6,{children:S.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--bg-main)",color:"var(--text-main)",fontFamily:"var(--font-body)"},children:S.jsxs($P,{children:[S.jsx(Ln,{path:"/",element:S.jsx(xF,{})}),S.jsx(Ln,{path:"/pending",element:S.jsx(XF,{children:S.jsx(RF,{})})}),S.jsx(Ln,{path:"/home",element:S.jsx(Di,{children:S.jsx(IF,{})})}),S.jsx(Ln,{path:"/passaporte",element:S.jsx(Di,{children:S.jsx(CF,{})})}),S.jsx(Ln,{path:"/sermoes",element:S.jsx(Di,{children:S.jsx(DF,{})})}),S.jsx(Ln,{path:"/sermoes/:id",element:S.jsx(Di,{children:S.jsx(MF,{})})}),S.jsx(Ln,{path:"/escalas",element:S.jsx(Di,{children:S.jsx(kF,{})})}),S.jsx(Ln,{path:"/ranking",element:S.jsx(Di,{children:S.jsx(GF,{})})}),S.jsx(Ln,{path:"/diagnostico",element:S.jsx(Di,{children:S.jsx(FF,{})})}),S.jsx(Ln,{path:"/ferramentas",element:S.jsx(Di,{children:S.jsx($F,{})})}),S.jsx(Ln,{path:"/regras",element:S.jsx(Di,{children:S.jsx(YF,{})})}),S.jsx(Ln,{path:"/programacao",element:S.jsx(Di,{children:S.jsx(WF,{})})}),S.jsx(Ln,{path:"/admin",element:S.jsx(Di,{children:S.jsx(HF,{})})})]})})})})}WO.createRoot(document.getElementById("root")).render(S.jsx(P.StrictMode,{children:S.jsx(JF,{})}));
