(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xy={exports:{}},vc={};var L1;function NO(){if(L1)return vc;L1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return vc.Fragment=e,vc.jsx=t,vc.jsxs=t,vc}var j1;function kO(){return j1||(j1=1,xy.exports=NO()),xy.exports}var S=kO(),Ry={exports:{}},De={};var U1;function LO(){if(U1)return De;U1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function U(B,re,he){this.props=B,this.context=re,this.refs=N,this.updater=he||D}U.prototype.isReactComponent={},U.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},U.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=U.prototype;function z(B,re,he){this.props=B,this.context=re,this.refs=N,this.updater=he||D}var X=z.prototype=new P;X.constructor=z,M(X,U.prototype),X.isPureReactComponent=!0;var H=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(B,re,he){var me=he.ref;return{$$typeof:n,type:B,key:re,ref:me!==void 0?me:null,props:he}}function j(B,re){return C(B.type,re,B.props)}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function q(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return re[he]})}var V=/\/+/g;function xe(B,re){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):re.toString(36)}function Me(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ie,ie):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ee(B,re,he,me,we){var Re=typeof B;(Re==="undefined"||Re==="boolean")&&(B=null);var Te=!1;if(B===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(B.$$typeof){case n:case e:Te=!0;break;case y:return Te=B._init,ee(Te(B._payload),re,he,me,we)}}if(Te)return we=we(B),Te=me===""?"."+xe(B,0):me,H(we)?(he="",Te!=null&&(he=Te.replace(V,"$&/")+"/"),ee(we,re,he,"",function(Ui){return Ui})):we!=null&&(L(we)&&(we=j(we,he+(we.key==null||B&&B.key===we.key?"":(""+we.key).replace(V,"$&/")+"/")+Te)),re.push(we)),1;Te=0;var at=me===""?".":me+":";if(H(B))for(var et=0;et<B.length;et++)me=B[et],Re=at+xe(me,et),Te+=ee(me,re,he,Re,we);else if(et=A(B),typeof et=="function")for(B=et.call(B),et=0;!(me=B.next()).done;)me=me.value,Re=at+xe(me,et++),Te+=ee(me,re,he,Re,we);else if(Re==="object"){if(typeof B.then=="function")return ee(Me(B),re,he,me,we);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Te}function oe(B,re,he){if(B==null)return B;var me=[],we=0;return ee(B,me,"","",function(Re){return re.call(he,Re,we++)}),me}function fe(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var Ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Le={map:oe,forEach:function(B,re,he){oe(B,function(){re.apply(this,arguments)},he)},count:function(B){var re=0;return oe(B,function(){re++}),re},toArray:function(B){return oe(B,function(re){return re})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return De.Activity=v,De.Children=Le,De.Component=U,De.Fragment=t,De.Profiler=a,De.PureComponent=z,De.StrictMode=i,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,De.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},De.cache=function(B){return function(){return B.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(B,re,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=M({},B.props),we=B.key;if(re!=null)for(Re in re.key!==void 0&&(we=""+re.key),re)!x.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(me[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)me.children=he;else if(1<Re){for(var Te=Array(Re),at=0;at<Re;at++)Te[at]=arguments[at+2];me.children=Te}return C(B.type,we,me)},De.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},De.createElement=function(B,re,he){var me,we={},Re=null;if(re!=null)for(me in re.key!==void 0&&(Re=""+re.key),re)x.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=re[me]);var Te=arguments.length-2;if(Te===1)we.children=he;else if(1<Te){for(var at=Array(Te),et=0;et<Te;et++)at[et]=arguments[et+2];we.children=at}if(B&&B.defaultProps)for(me in Te=B.defaultProps,Te)we[me]===void 0&&(we[me]=Te[me]);return C(B,Re,we)},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:h,render:B}},De.isValidElement=L,De.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:fe}},De.memo=function(B,re){return{$$typeof:m,type:B,compare:re===void 0?null:re}},De.startTransition=function(B){var re=I.T,he={};I.T=he;try{var me=B(),we=I.S;we!==null&&we(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ie,Ve)}catch(Re){Ve(Re)}finally{re!==null&&he.types!==null&&(re.types=he.types),I.T=re}},De.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},De.use=function(B){return I.H.use(B)},De.useActionState=function(B,re,he){return I.H.useActionState(B,re,he)},De.useCallback=function(B,re){return I.H.useCallback(B,re)},De.useContext=function(B){return I.H.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B,re){return I.H.useDeferredValue(B,re)},De.useEffect=function(B,re){return I.H.useEffect(B,re)},De.useEffectEvent=function(B){return I.H.useEffectEvent(B)},De.useId=function(){return I.H.useId()},De.useImperativeHandle=function(B,re,he){return I.H.useImperativeHandle(B,re,he)},De.useInsertionEffect=function(B,re){return I.H.useInsertionEffect(B,re)},De.useLayoutEffect=function(B,re){return I.H.useLayoutEffect(B,re)},De.useMemo=function(B,re){return I.H.useMemo(B,re)},De.useOptimistic=function(B,re){return I.H.useOptimistic(B,re)},De.useReducer=function(B,re,he){return I.H.useReducer(B,re,he)},De.useRef=function(B){return I.H.useRef(B)},De.useState=function(B){return I.H.useState(B)},De.useSyncExternalStore=function(B,re,he){return I.H.useSyncExternalStore(B,re,he)},De.useTransition=function(){return I.H.useTransition()},De.version="19.2.4",De}var z1;function A_(){return z1||(z1=1,Ry.exports=LO()),Ry.exports}var O=A_(),Iy={exports:{}},_c={},Cy={exports:{}},Dy={};var B1;function jO(){return B1||(B1=1,(function(n){function e(ee,oe){var fe=ee.length;ee.push(oe);e:for(;0<fe;){var Ve=fe-1>>>1,Le=ee[Ve];if(0<a(Le,oe))ee[Ve]=oe,ee[fe]=Le,fe=Ve;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var oe=ee[0],fe=ee.pop();if(fe!==oe){ee[0]=fe;e:for(var Ve=0,Le=ee.length,B=Le>>>1;Ve<B;){var re=2*(Ve+1)-1,he=ee[re],me=re+1,we=ee[me];if(0>a(he,fe))me<Le&&0>a(we,he)?(ee[Ve]=we,ee[me]=fe,Ve=me):(ee[Ve]=he,ee[re]=fe,Ve=re);else if(me<Le&&0>a(we,fe))ee[Ve]=we,ee[me]=fe,Ve=me;else break e}}return oe}function a(ee,oe){var fe=ee.sortIndex-oe.sortIndex;return fe!==0?fe:ee.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,E=3,A=!1,D=!1,M=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var oe=t(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=ee)i(m),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=t(m)}}function H(ee){if(M=!1,X(ee),!D)if(t(d)!==null)D=!0,ie||(ie=!0,q());else{var oe=t(m);oe!==null&&Me(H,oe.startTime-ee)}}var ie=!1,I=-1,x=5,C=-1;function j(){return N?!0:!(n.unstable_now()-C<x)}function L(){if(N=!1,ie){var ee=n.unstable_now();C=ee;var oe=!0;try{e:{D=!1,M&&(M=!1,P(I),I=-1),A=!0;var fe=E;try{t:{for(X(ee),v=t(d);v!==null&&!(v.expirationTime>ee&&j());){var Ve=v.callback;if(typeof Ve=="function"){v.callback=null,E=v.priorityLevel;var Le=Ve(v.expirationTime<=ee);if(ee=n.unstable_now(),typeof Le=="function"){v.callback=Le,X(ee),oe=!0;break t}v===t(d)&&i(d),X(ee)}else i(d);v=t(d)}if(v!==null)oe=!0;else{var B=t(m);B!==null&&Me(H,B.startTime-ee),oe=!1}}break e}finally{v=null,E=fe,A=!1}oe=void 0}}finally{oe?q():ie=!1}}}var q;if(typeof z=="function")q=function(){z(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xe=V.port2;V.port1.onmessage=L,q=function(){xe.postMessage(null)}}else q=function(){U(L,0)};function Me(ee,oe){I=U(function(){ee(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var fe=E;E=oe;try{return ee()}finally{E=fe}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=E;E=ee;try{return oe()}finally{E=fe}},n.unstable_scheduleCallback=function(ee,oe,fe){var Ve=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,ee){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=fe+Le,ee={id:y++,callback:oe,priorityLevel:ee,startTime:fe,expirationTime:Le,sortIndex:-1},fe>Ve?(ee.sortIndex=fe,e(m,ee),t(d)===null&&ee===t(m)&&(M?(P(I),I=-1):M=!0,Me(H,fe-Ve))):(ee.sortIndex=Le,e(d,ee),D||A||(D=!0,ie||(ie=!0,q()))),ee},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ee){var oe=E;return function(){var fe=E;E=oe;try{return ee.apply(this,arguments)}finally{E=fe}}}})(Dy)),Dy}var F1;function UO(){return F1||(F1=1,Cy.exports=jO()),Cy.exports}var Vy={exports:{}},mn={};var q1;function zO(){if(q1)return mn;q1=1;var n=A_();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},mn.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},mn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},mn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},mn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},mn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},mn.requestFormReset=function(d){i.d.r(d)},mn.unstable_batchedUpdates=function(d,m){return d(m)},mn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var H1;function BO(){if(H1)return Vy.exports;H1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vy.exports=zO(),Vy.exports}var G1;function FO(){if(G1)return _c;G1=1;var n=UO(),e=A_(),t=BO();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),r;if(g===c)return d(p),s;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,w=p.child;w;){if(w===l){T=!0,l=p,c=g;break}if(w===c){T=!0,c=p,l=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===l){T=!0,l=g,c=p;break}if(w===c){T=!0,c=g,l=p;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case ie:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case z:return r.displayName||"Context";case P:return(r._context.displayName||"Context")+".Consumer";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:xe(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return xe(r(s))}catch{}}return null}var Me=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],Le=-1;function B(r){return{current:r}}function re(r){0>Le||(r.current=Ve[Le],Ve[Le]=null,Le--)}function he(r,s){Le++,Ve[Le]=r.current,r.current=s}var me=B(null),we=B(null),Re=B(null),Te=B(null);function at(r,s){switch(he(Re,s),he(we,r),he(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?a1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=a1(s),r=o1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(me),he(me,r)}function et(){re(me),re(we),re(Re)}function Ui(r){r.memoizedState!==null&&he(Te,r);var s=me.current,l=o1(s,r.type);s!==l&&(he(we,r),he(me,l))}function Ao(r){we.current===r&&(re(me),re(we)),Te.current===r&&(re(Te),mc._currentValue=fe)}var wo,xo;function zi(r){if(wo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);wo=s&&s[1]||"",xo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+r+xo}var mu=!1;function fa(r,s){if(!r||mu)return"";mu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){W=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var k=T.split(`
`),Y=w.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===Y.length)for(c=k.length-1,p=Y.length-1;1<=c&&0<=p&&k[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==Y[p]){var ne=`
`+k[c].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=c&&0<=p);break}}}finally{mu=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?zi(l):""}function pu(r,s){switch(r.tag){case 26:case 27:case 5:return zi(r.type);case 16:return zi("Lazy");case 13:return r.child!==s&&s!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return fa(r.type,!1);case 11:return fa(r.type.render,!1);case 1:return fa(r.type,!0);case 31:return zi("Activity");default:return""}}function gu(r){try{var s="",l=null;do s+=pu(r,l),l=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mt=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,ts=n.unstable_cancelCallback,Ip=n.unstable_shouldYield,Gh=n.unstable_requestPaint,En=n.unstable_now,ma=n.unstable_getCurrentPriorityLevel,yu=n.unstable_ImmediatePriority,vu=n.unstable_UserBlockingPriority,ns=n.unstable_NormalPriority,Cp=n.unstable_LowPriority,Kh=n.unstable_IdlePriority,Qh=n.log,$h=n.unstable_setDisableYieldValue,yi=null,rn=null;function Xn(r){if(typeof Qh=="function"&&$h(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(yi,r)}catch{}}var Ct=Math.clz32?Math.clz32:Wh,Yh=Math.log,Ro=Math.LN2;function Wh(r){return r>>>=0,r===0?32:31-(Yh(r)/Ro|0)|0}var Bi=256,pa=262144,Nt=4194304;function Fi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qi(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?p=Fi(c):(T&=w,T!==0?p=Fi(T):l||(l=w&~r,l!==0&&(p=Fi(l))))):(w=c&~g,w!==0?p=Fi(w):T!==0?p=Fi(T):l||(l=c&~r,l!==0&&(p=Fi(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function vi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Dp(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(){var r=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),r}function Hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ga(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Vp(r,s,l,c,p,g){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var w=r.entanglements,k=r.expirationTimes,Y=r.hiddenUpdates;for(l=T&~l;0<l;){var ne=31-Ct(l),ae=1<<ne;w[ne]=0,k[ne]=-1;var W=Y[ne];if(W!==null)for(Y[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}l&=~ae}c!==0&&ya(r,c,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ya(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ct(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function _u(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Ct(l),p=1<<c;p&s|r[c]&s&&(r[c]|=s),l&=~p}}function Eu(r,s){var l=s&-s;return l=(l&42)!==0?1:va(l),(l&(r.suspendedLanes|s))!==0?0:l}function va(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Tr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Jh(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:D1(r.type))}function _i(r,s){var l=oe.p;try{return oe.p=r,s()}finally{oe.p=l}}var Ei=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ei,Jt="__reactProps$"+Ei,Gi="__reactContainer$"+Ei,Io="__reactEvents$"+Ei,Op="__reactListeners$"+Ei,Zh="__reactHandles$"+Ei,ed="__reactResources$"+Ei,Ki="__reactMarker$"+Ei;function Co(r){delete r[kt],delete r[Jt],delete r[Io],delete r[Op],delete r[Zh]}function Qi(r){var s=r[kt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Gi]||l[kt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=m1(r);r!==null;){if(l=r[kt])return l;r=m1(r)}return s}r=l,l=r.parentNode}return null}function Jn(r){if(r=r[kt]||r[Gi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function jn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function $i(r){var s=r[ed];return s||(s=r[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[Ki]=!0}var Tu=new Set,Su={};function Yi(r,s){Wi(r,s),Wi(r+"Capture",s)}function Wi(r,s){for(Su[r]=s,r=0;r<s.length;r++)Tu.add(s[r])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},wu={};function td(r){return Mt.call(wu,r)?!0:Mt.call(Au,r)?!1:bu.test(r)?wu[r]=!0:(Au[r]=!0,!1)}function Do(r,s,l){if(td(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Un(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function jt(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}function Zt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function is(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xu(r,s,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function tt(r){if(!r._valueTracker){var s=is(r)?"checked":"value";r._valueTracker=xu(r,s,""+r[s])}}function _a(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=is(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Xi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ea=/[\n"\\]/g;function Cn(r){return r.replace(Ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vo(r,s,l,c,p,g,T,w){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Zt(s)):r.value!==""+Zt(s)&&(r.value=""+Zt(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Ru(r,T,Zt(s)):l!=null?Ru(r,T,Zt(l)):c!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+Zt(w):r.removeAttribute("name")}function nd(r,s,l,c,p,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){tt(r);return}l=l!=null?""+Zt(l):"",s=s!=null?""+Zt(s):l,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),tt(r)}function Ru(r,s,l){s==="number"&&Xi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function rs(r,s,l,c){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Zt(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function id(r,s,l){if(s!=null&&(s=""+Zt(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Zt(l):""}function ss(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(Me(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Zt(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),tt(r)}function Dn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var rd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||rd.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Cu(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Iu(r,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Iu(r,g,s[g])}function Oo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(r){return as.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ti(){}var Du=null;function Zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var os=null,Ji=null;function Ta(r){var s=Jn(r);if(s&&(r=s.stateNode)){var l=r[Jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Vo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var p=c[Jt]||null;if(!p)throw Error(i(90));Vo(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&_a(c)}break e;case"textarea":id(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&rs(r,!!l.multiple,s,!1)}}}var Mo=!1;function ls(r,s,l){if(Mo)return r(s,l);Mo=!0;try{var c=r(s);return c}finally{if(Mo=!1,(os!==null||Ji!==null)&&(Jd(),os&&(s=os,r=Ji,Ji=os=null,Ta(s),r)))for(s=0;s<r.length;s++)Ta(r[s])}}function Si(r,s){var l=r.stateNode;if(l===null)return null;var c=l[Jt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(ei)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Sa=!1}var Zi=null,Vu=null,ba=null;function Ou(){if(ba)return ba;var r,s=Vu,l=s.length,c,p="value"in Zi?Zi.value:Zi.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&s[l-c]===p[g-c];c++);return ba=p.slice(r,1<c?1-c:void 0)}function Aa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Sr(){return!0}function bi(){return!1}function sn(r){function s(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(l=r[w],this[w]=l?l(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sr:bi,this.isPropagationStopped=bi,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=sn(br),us=v({},br,{view:0,detail:0}),Pu=sn(us),cs,No,tr,ko=v({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==tr&&(tr&&r.type==="mousemove"?(cs=r.screenX-tr.screenX,No=r.screenY-tr.screenY):No=cs=0,tr=r),cs)},movementY:function(r){return"movementY"in r?r.movementY:No}}),Mu=sn(ko),wa=v({},ko,{dataTransfer:0}),ad=sn(wa),od=v({},us,{relatedTarget:0}),xa=sn(od),Nu=v({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),ld=sn(Nu),Lo=v({},br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ud=sn(Lo),cd=v({},br,{data:0}),nr=sn(cd),hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function md(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fd[r])?!!s[r]:!1}function hs(){return md}var Tn=v({},us,{key:function(r){if(r.key){var s=hd[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Aa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(r){return r.type==="keypress"?Aa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Aa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),pd=sn(Tn),gd=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=sn(gd),f=v({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),_=sn(f),b=v({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=sn(b),Q=v({},ko,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=sn(Q),ce=v({},br,{newState:0,oldState:0}),Oe=sn(ce),Dt=[9,13,27,32],Xe=ei&&"CompositionEvent"in window,yt=null;ei&&"documentMode"in document&&(yt=document.documentMode);var ti=ei&&"TextEvent"in window&&!yt,ir=ei&&(!Xe||yt&&8<yt&&11>=yt),Ai=" ",wi=!1;function Ra(r,s){switch(r){case"keyup":return Dt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Uo=!1;function rV(r,s){switch(r){case"compositionend":return jo(s);case"keypress":return s.which!==32?null:(wi=!0,Ai);case"textInput":return r=s.data,r===Ai&&wi?null:r;default:return null}}function sV(r,s){if(Uo)return r==="compositionend"||!Xe&&Ra(r,s)?(r=Ou(),ba=Vu=Zi=null,Uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ir&&s.locale!=="ko"?null:s.data;default:return null}}var aV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yE(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!aV[r.type]:s==="textarea"}function vE(r,s,l,c){os?Ji?Ji.push(c):Ji=[c]:os=c,s=af(s,"onChange"),0<s.length&&(l=new er("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var ku=null,Lu=null;function oV(r){e1(r,0)}function yd(r){var s=jn(r);if(_a(s))return r}function _E(r,s){if(r==="change")return s}var EE=!1;if(ei){var Pp;if(ei){var Mp="oninput"in document;if(!Mp){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),Mp=typeof TE.oninput=="function"}Pp=Mp}else Pp=!1;EE=Pp&&(!document.documentMode||9<document.documentMode)}function SE(){ku&&(ku.detachEvent("onpropertychange",bE),Lu=ku=null)}function bE(r){if(r.propertyName==="value"&&yd(Lu)){var s=[];vE(s,Lu,r,Zn(r)),ls(oV,s)}}function lV(r,s,l){r==="focusin"?(SE(),ku=s,Lu=l,ku.attachEvent("onpropertychange",bE)):r==="focusout"&&SE()}function uV(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yd(Lu)}function cV(r,s){if(r==="click")return yd(s)}function hV(r,s){if(r==="input"||r==="change")return yd(s)}function dV(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:dV;function ju(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Mt.call(s,p)||!zn(r[p],s[p]))return!1}return!0}function AE(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wE(r,s){var l=AE(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=AE(l)}}function xE(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?xE(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function RE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xi(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Xi(r.document)}return s}function Np(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var fV=ei&&"documentMode"in document&&11>=document.documentMode,zo=null,kp=null,Uu=null,Lp=!1;function IE(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Lp||zo==null||zo!==Xi(c)||(c=zo,"selectionStart"in c&&Np(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uu&&ju(Uu,c)||(Uu=c,c=af(kp,"onSelect"),0<c.length&&(s=new er("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=zo)))}function Ia(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},jp={},CE={};ei&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Ca(r){if(jp[r])return jp[r];if(!Bo[r])return r;var s=Bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in CE)return jp[r]=s[l];return r}var DE=Ca("animationend"),VE=Ca("animationiteration"),OE=Ca("animationstart"),mV=Ca("transitionrun"),pV=Ca("transitionstart"),gV=Ca("transitioncancel"),PE=Ca("transitionend"),ME=new Map,Up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Up.push("scrollEnd");function xi(r,s){ME.set(r,s),Yi(s,[r])}var vd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ni=[],Fo=0,zp=0;function _d(){for(var r=Fo,s=zp=Fo=0;s<r;){var l=ni[s];ni[s++]=null;var c=ni[s];ni[s++]=null;var p=ni[s];ni[s++]=null;var g=ni[s];if(ni[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&NE(l,p,g)}}function Ed(r,s,l,c){ni[Fo++]=r,ni[Fo++]=s,ni[Fo++]=l,ni[Fo++]=c,zp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Bp(r,s,l,c){return Ed(r,s,l,c),Td(r)}function Da(r,s){return Ed(r,null,null,s),Td(r)}function NE(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=r.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&s!==null&&(p=31-Ct(l),r=g.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function Td(r){if(50<oc)throw oc=0,Wg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var qo={};function yV(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,s,l,c){return new yV(r,s,l,c)}function Fp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wr(r,s){var l=r.alternate;return l===null?(l=Bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function kE(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Sd(r,s,l,c,p,g){var T=0;if(c=r,typeof r=="function")Fp(r)&&(T=1);else if(typeof r=="string")T=SO(r,l,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Bn(31,l,s,p),r.elementType=C,r.lanes=g,r;case M:return Va(l.children,p,g,s);case N:T=8,p|=24;break;case U:return r=Bn(12,l,s,p|2),r.elementType=U,r.lanes=g,r;case H:return r=Bn(13,l,s,p),r.elementType=H,r.lanes=g,r;case ie:return r=Bn(19,l,s,p),r.elementType=ie,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:T=10;break e;case P:T=9;break e;case X:T=11;break e;case I:T=14;break e;case x:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Bn(T,l,s,p),s.elementType=r,s.type=c,s.lanes=g,s}function Va(r,s,l,c){return r=Bn(7,r,c,s),r.lanes=l,r}function qp(r,s,l){return r=Bn(6,r,null,s),r.lanes=l,r}function LE(r){var s=Bn(18,null,null,0);return s.stateNode=r,s}function Hp(r,s,l){return s=Bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var jE=new WeakMap;function ii(r,s){if(typeof r=="object"&&r!==null){var l=jE.get(r);return l!==void 0?l:(s={value:r,source:s,stack:gu(s)},jE.set(r,s),s)}return{value:r,source:s,stack:gu(s)}}var Ho=[],Go=0,bd=null,zu=0,ri=[],si=0,ds=null,rr=1,sr="";function xr(r,s){Ho[Go++]=zu,Ho[Go++]=bd,bd=r,zu=s}function UE(r,s,l){ri[si++]=rr,ri[si++]=sr,ri[si++]=ds,ds=r;var c=rr;r=sr;var p=32-Ct(c)-1;c&=~(1<<p),l+=1;var g=32-Ct(s)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,rr=1<<32-Ct(s)+p|l<<p|c,sr=g+r}else rr=1<<g|l<<p|c,sr=r}function Gp(r){r.return!==null&&(xr(r,1),UE(r,1,0))}function Kp(r){for(;r===bd;)bd=Ho[--Go],Ho[Go]=null,zu=Ho[--Go],Ho[Go]=null;for(;r===ds;)ds=ri[--si],ri[si]=null,sr=ri[--si],ri[si]=null,rr=ri[--si],ri[si]=null}function zE(r,s){ri[si++]=rr,ri[si++]=sr,ri[si++]=ds,rr=s.id,sr=s.overflow,ds=r}var an=null,mt=null,He=!1,fs=null,ai=!1,Qp=Error(i(519));function ms(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bu(ii(s,r)),Qp}function BE(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[kt]=r,s[Jt]=c,l){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(l=0;l<uc.length;l++)Ue(uc[l],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),nd(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),ss(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||r1(s.textContent,l)?(c.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),c.onScroll!=null&&Ue("scroll",s),c.onScrollEnd!=null&&Ue("scrollend",s),c.onClick!=null&&(s.onclick=Ti),s=!0):s=!1,s||ms(r,!0)}function FE(r){for(an=r.return;an;)switch(an.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:an=an.return}}function Ko(r){if(r!==an)return!1;if(!He)return FE(r),He=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||hy(r.type,r.memoizedProps)),l=!l),l&&mt&&ms(r),FE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=f1(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));mt=f1(r)}else s===27?(s=mt,Is(r.type)?(r=gy,gy=null,mt=r):mt=s):mt=an?li(r.stateNode.nextSibling):null;return!0}function Oa(){mt=an=null,He=!1}function $p(){var r=fs;return r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r),fs=null),r}function Bu(r){fs===null?fs=[r]:fs.push(r)}var Yp=B(null),Pa=null,Rr=null;function ps(r,s,l){he(Yp,s._currentValue),s._currentValue=l}function Ir(r){r._currentValue=Yp.current,re(Yp)}function Wp(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Xp(r,s,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=p;for(var k=0;k<s.length;k++)if(w.context===s[k]){g.lanes|=l,w=g.alternate,w!==null&&(w.lanes|=l),Wp(g.return,l,r),c||(T=null);break e}g=w.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),Wp(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Qo(r,s,l,c){r=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=p.type;zn(p.pendingProps.value,T.value)||(r!==null?r.push(w):r=[w])}}else if(p===Te.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(mc):r=[mc])}p=p.return}r!==null&&Xp(s,r,l,c),s.flags|=262144}function Ad(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ma(r){Pa=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function on(r){return qE(Pa,r)}function wd(r,s){return Pa===null&&Ma(r),qE(r,s)}function qE(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Rr=Rr.next=s;return l}var vV=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},_V=n.unstable_scheduleCallback,EV=n.unstable_NormalPriority,Ut={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jp(){return{controller:new vV,data:new Map,refCount:0}}function Fu(r){r.refCount--,r.refCount===0&&_V(EV,function(){r.controller.abort()})}var qu=null,Zp=0,$o=0,Yo=null;function TV(r,s){if(qu===null){var l=qu=[];Zp=0,$o=ny(),Yo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Zp++,s.then(HE,HE),s}function HE(){if(--Zp===0&&qu!==null){Yo!==null&&(Yo.status="fulfilled");var r=qu;qu=null,$o=0,Yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function SV(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var GE=ee.S;ee.S=function(r,s){IS=En(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&TV(r,s),GE!==null&&GE(r,s)};var Na=B(null);function eg(){var r=Na.current;return r!==null?r:ht.pooledCache}function xd(r,s){s===null?he(Na,Na.current):he(Na,s.pool)}function KE(){var r=eg();return r===null?null:{parent:Ut._currentValue,pool:r}}var Wo=Error(i(460)),tg=Error(i(474)),Rd=Error(i(542)),Id={then:function(){}};function QE(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $E(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Ti,Ti),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,WE(r),r;default:if(typeof s.status=="string")s.then(Ti,Ti);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,WE(r),r}throw La=s,Wo}}function ka(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(La=l,Wo):l}}var La=null;function YE(){if(La===null)throw Error(i(459));var r=La;return La=null,r}function WE(r){if(r===Wo||r===Rd)throw Error(i(483))}var Xo=null,Hu=0;function Cd(r){var s=Hu;return Hu+=1,Xo===null&&(Xo=[]),$E(Xo,r,s)}function Gu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Dd(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function XE(r){function s(G,F){if(r){var $=G.deletions;$===null?(G.deletions=[F],G.flags|=16):$.push(F)}}function l(G,F){if(!r)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=wr(G,F),G.index=0,G.sibling=null,G}function g(G,F,$){return G.index=$,r?($=G.alternate,$!==null?($=$.index,$<F?(G.flags|=67108866,F):$):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function w(G,F,$,se){return F===null||F.tag!==6?(F=qp($,G.mode,se),F.return=G,F):(F=p(F,$),F.return=G,F)}function k(G,F,$,se){var Ee=$.type;return Ee===M?ne(G,F,$.props.children,se,$.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ka(Ee)===F.type)?(F=p(F,$.props),Gu(F,$),F.return=G,F):(F=Sd($.type,$.key,$.props,null,G.mode,se),Gu(F,$),F.return=G,F)}function Y(G,F,$,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Hp($,G.mode,se),F.return=G,F):(F=p(F,$.children||[]),F.return=G,F)}function ne(G,F,$,se,Ee){return F===null||F.tag!==7?(F=Va($,G.mode,se,Ee),F.return=G,F):(F=p(F,$),F.return=G,F)}function ae(G,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=qp(""+F,G.mode,$),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return $=Sd(F.type,F.key,F.props,null,G.mode,$),Gu($,F),$.return=G,$;case D:return F=Hp(F,G.mode,$),F.return=G,F;case x:return F=ka(F),ae(G,F,$)}if(Me(F)||q(F))return F=Va(F,G.mode,$,null),F.return=G,F;if(typeof F.then=="function")return ae(G,Cd(F),$);if(F.$$typeof===z)return ae(G,wd(G,F),$);Dd(G,F)}return null}function W(G,F,$,se){var Ee=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:w(G,F,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===Ee?k(G,F,$,se):null;case D:return $.key===Ee?Y(G,F,$,se):null;case x:return $=ka($),W(G,F,$,se)}if(Me($)||q($))return Ee!==null?null:ne(G,F,$,se,null);if(typeof $.then=="function")return W(G,F,Cd($),se);if($.$$typeof===z)return W(G,F,wd(G,$),se);Dd(G,$)}return null}function Z(G,F,$,se,Ee){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get($)||null,w(F,G,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return G=G.get(se.key===null?$:se.key)||null,k(F,G,se,Ee);case D:return G=G.get(se.key===null?$:se.key)||null,Y(F,G,se,Ee);case x:return se=ka(se),Z(G,F,$,se,Ee)}if(Me(se)||q(se))return G=G.get($)||null,ne(F,G,se,Ee,null);if(typeof se.then=="function")return Z(G,F,$,Cd(se),Ee);if(se.$$typeof===z)return Z(G,F,$,wd(F,se),Ee);Dd(F,se)}return null}function pe(G,F,$,se){for(var Ee=null,Ye=null,ve=F,Ne=F=0,Be=null;ve!==null&&Ne<$.length;Ne++){ve.index>Ne?(Be=ve,ve=null):Be=ve.sibling;var We=W(G,ve,$[Ne],se);if(We===null){ve===null&&(ve=Be);break}r&&ve&&We.alternate===null&&s(G,ve),F=g(We,F,Ne),Ye===null?Ee=We:Ye.sibling=We,Ye=We,ve=Be}if(Ne===$.length)return l(G,ve),He&&xr(G,Ne),Ee;if(ve===null){for(;Ne<$.length;Ne++)ve=ae(G,$[Ne],se),ve!==null&&(F=g(ve,F,Ne),Ye===null?Ee=ve:Ye.sibling=ve,Ye=ve);return He&&xr(G,Ne),Ee}for(ve=c(ve);Ne<$.length;Ne++)Be=Z(ve,G,Ne,$[Ne],se),Be!==null&&(r&&Be.alternate!==null&&ve.delete(Be.key===null?Ne:Be.key),F=g(Be,F,Ne),Ye===null?Ee=Be:Ye.sibling=Be,Ye=Be);return r&&ve.forEach(function(Ps){return s(G,Ps)}),He&&xr(G,Ne),Ee}function be(G,F,$,se){if($==null)throw Error(i(151));for(var Ee=null,Ye=null,ve=F,Ne=F=0,Be=null,We=$.next();ve!==null&&!We.done;Ne++,We=$.next()){ve.index>Ne?(Be=ve,ve=null):Be=ve.sibling;var Ps=W(G,ve,We.value,se);if(Ps===null){ve===null&&(ve=Be);break}r&&ve&&Ps.alternate===null&&s(G,ve),F=g(Ps,F,Ne),Ye===null?Ee=Ps:Ye.sibling=Ps,Ye=Ps,ve=Be}if(We.done)return l(G,ve),He&&xr(G,Ne),Ee;if(ve===null){for(;!We.done;Ne++,We=$.next())We=ae(G,We.value,se),We!==null&&(F=g(We,F,Ne),Ye===null?Ee=We:Ye.sibling=We,Ye=We);return He&&xr(G,Ne),Ee}for(ve=c(ve);!We.done;Ne++,We=$.next())We=Z(ve,G,Ne,We.value,se),We!==null&&(r&&We.alternate!==null&&ve.delete(We.key===null?Ne:We.key),F=g(We,F,Ne),Ye===null?Ee=We:Ye.sibling=We,Ye=We);return r&&ve.forEach(function(PO){return s(G,PO)}),He&&xr(G,Ne),Ee}function ct(G,F,$,se){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var Ee=$.key;F!==null;){if(F.key===Ee){if(Ee=$.type,Ee===M){if(F.tag===7){l(G,F.sibling),se=p(F,$.props.children),se.return=G,G=se;break e}}else if(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&ka(Ee)===F.type){l(G,F.sibling),se=p(F,$.props),Gu(se,$),se.return=G,G=se;break e}l(G,F);break}else s(G,F);F=F.sibling}$.type===M?(se=Va($.props.children,G.mode,se,$.key),se.return=G,G=se):(se=Sd($.type,$.key,$.props,null,G.mode,se),Gu(se,$),se.return=G,G=se)}return T(G);case D:e:{for(Ee=$.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){l(G,F.sibling),se=p(F,$.children||[]),se.return=G,G=se;break e}else{l(G,F);break}else s(G,F);F=F.sibling}se=Hp($,G.mode,se),se.return=G,G=se}return T(G);case x:return $=ka($),ct(G,F,$,se)}if(Me($))return pe(G,F,$,se);if(q($)){if(Ee=q($),typeof Ee!="function")throw Error(i(150));return $=Ee.call($),be(G,F,$,se)}if(typeof $.then=="function")return ct(G,F,Cd($),se);if($.$$typeof===z)return ct(G,F,wd(G,$),se);Dd(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(l(G,F.sibling),se=p(F,$),se.return=G,G=se):(l(G,F),se=qp($,G.mode,se),se.return=G,G=se),T(G)):l(G,F)}return function(G,F,$,se){try{Hu=0;var Ee=ct(G,F,$,se);return Xo=null,Ee}catch(ve){if(ve===Wo||ve===Rd)throw ve;var Ye=Bn(29,ve,null,G.mode);return Ye.lanes=se,Ye.return=G,Ye}}}var ja=XE(!0),JE=XE(!1),gs=!1;function ng(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ys(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vs(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Td(r),NE(r,null,l),s}return Ed(r,c,s,l),Td(r)}function Ku(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,_u(r,l)}}function rg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var sg=!1;function Qu(){if(sg){var r=Yo;if(r!==null)throw r}}function $u(r,s,l,c){sg=!1;var p=r.updateQueue;gs=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var k=w,Y=k.next;k.next=null,T===null?g=Y:T.next=Y,T=k;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==T&&(w===null?ne.firstBaseUpdate=Y:w.next=Y,ne.lastBaseUpdate=k))}if(g!==null){var ae=p.baseState;T=0,ne=Y=k=null,w=g;do{var W=w.lane&-536870913,Z=W!==w.lane;if(Z?(ze&W)===W:(c&W)===W){W!==0&&W===$o&&(sg=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=r,be=w;W=s;var ct=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ae=pe.call(ct,ae,W);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,W=typeof pe=="function"?pe.call(ct,ae,W):pe,W==null)break e;ae=v({},ae,W);break e;case 2:gs=!0}}W=w.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(Y=ne=Z,k=ae):ne=ne.next=Z,T|=W;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ne===null&&(k=ae),p.baseState=k,p.firstBaseUpdate=Y,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),bs|=T,r.lanes=T,r.memoizedState=ae}}function ZE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function eT(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ZE(l[r],s)}var Jo=B(null),Vd=B(0);function tT(r,s){r=Lr,he(Vd,r),he(Jo,s),Lr=r|s.baseLanes}function ag(){he(Vd,Lr),he(Jo,Jo.current)}function og(){Lr=Vd.current,re(Jo),re(Vd)}var Fn=B(null),oi=null;function _s(r){var s=r.alternate;he(Vt,Vt.current&1),he(Fn,r),oi===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(oi=r)}function lg(r){he(Vt,Vt.current),he(Fn,r),oi===null&&(oi=r)}function nT(r){r.tag===22?(he(Vt,Vt.current),he(Fn,r),oi===null&&(oi=r)):Es()}function Es(){he(Vt,Vt.current),he(Fn,Fn.current)}function qn(r){re(Fn),oi===r&&(oi=null),re(Vt)}var Vt=B(0);function Od(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||my(l)||py(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cr=0,Pe=null,lt=null,zt=null,Pd=!1,Zo=!1,Ua=!1,Md=0,Yu=0,el=null,bV=0;function At(){throw Error(i(321))}function ug(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zn(r[l],s[l]))return!1;return!0}function cg(r,s,l,c,p,g){return Cr=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=r===null||r.memoizedState===null?UT:wg,Ua=!1,g=l(c,p),Ua=!1,Zo&&(g=rT(s,l,c,p)),iT(r),g}function iT(r){ee.H=Ju;var s=lt!==null&&lt.next!==null;if(Cr=0,zt=lt=Pe=null,Pd=!1,Yu=0,el=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&Ad(r)&&(Bt=!0))}function rT(r,s,l,c){Pe=r;var p=0;do{if(Zo&&(el=null),Yu=0,Zo=!1,25<=p)throw Error(i(301));if(p+=1,zt=lt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=zT,g=s(l,c)}while(Zo);return g}function AV(){var r=ee.H,s=r.useState()[0];return s=typeof s.then=="function"?Wu(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function hg(){var r=Md!==0;return Md=0,r}function dg(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function fg(r){if(Pd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pd=!1}Cr=0,zt=lt=Pe=null,Zo=!1,Yu=Md=0,el=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Pe.memoizedState=zt=r:zt=zt.next=r,zt}function Ot(){if(lt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=zt===null?Pe.memoizedState:zt.next;if(s!==null)zt=s,lt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},zt===null?Pe.memoizedState=zt=r:zt=zt.next=r}return zt}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(r){var s=Yu;return Yu+=1,el===null&&(el=[]),r=$E(el,r,s),s=Pe,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?UT:wg),r}function kd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wu(r);if(r.$$typeof===z)return on(r)}throw Error(i(438,String(r)))}function mg(r){var s=null,l=Pe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nd(),Pe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=j;return s.index++,l}function Dr(r,s){return typeof s=="function"?s(r):s}function Ld(r){var s=Ot();return pg(s,lt,r)}function pg(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,c.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{s=p.next;var w=T=null,k=null,Y=s,ne=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(ze&ae)===ae:(Cr&ae)===ae){var W=Y.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===$o&&(ne=!0);else if((Cr&W)===W){Y=Y.next,W===$o&&(ne=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=ae,T=g):k=k.next=ae,Pe.lanes|=W,bs|=W;ae=Y.action,Ua&&l(g,ae),g=Y.hasEagerState?Y.eagerState:l(g,ae)}else W={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=W,T=g):k=k.next=W,Pe.lanes|=ae,bs|=ae;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?T=g:k.next=w,!zn(g,r.memoizedState)&&(Bt=!0,ne&&(l=Yo,l!==null)))throw l;r.memoizedState=g,r.baseState=T,r.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function gg(r){var s=Ot(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=r(g,T.action),T=T.next;while(T!==p);zn(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function sT(r,s,l){var c=Pe,p=Ot(),g=He;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!zn((lt||p).memoizedState,l);if(T&&(p.memoizedState=l,Bt=!0),p=p.queue,_g(lT.bind(null,c,p,r),[r]),p.getSnapshot!==s||T||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,tl(9,{destroy:void 0},oT.bind(null,c,p,l,s),null),ht===null)throw Error(i(349));g||(Cr&127)!==0||aT(c,s,l)}return l}function aT(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Pe.updateQueue,s===null?(s=Nd(),Pe.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function oT(r,s,l,c){s.value=l,s.getSnapshot=c,uT(s)&&cT(r)}function lT(r,s,l){return l(function(){uT(s)&&cT(r)})}function uT(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zn(r,l)}catch{return!0}}function cT(r){var s=Da(r,2);s!==null&&Nn(s,r,2)}function yg(r){var s=Sn();if(typeof r=="function"){var l=r;if(r=l(),Ua){Xn(!0);try{l()}finally{Xn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},s}function hT(r,s,l,c){return r.baseState=l,pg(r,lt,typeof c=="function"?c:Dr)}function wV(r,s,l,c,p){if(zd(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};ee.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,dT(s,g)):(g.next=l.next,s.pending=l.next=g)}}function dT(r,s){var l=s.action,c=s.payload,p=r.state;if(s.isTransition){var g=ee.T,T={};ee.T=T;try{var w=l(p,c),k=ee.S;k!==null&&k(T,w),fT(r,s,w)}catch(Y){vg(r,s,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),ee.T=g}}else try{g=l(p,c),fT(r,s,g)}catch(Y){vg(r,s,Y)}}function fT(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){mT(r,s,c)},function(c){return vg(r,s,c)}):mT(r,s,l)}function mT(r,s,l){s.status="fulfilled",s.value=l,pT(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,dT(r,l)))}function vg(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,pT(s),s=s.next;while(s!==c)}r.action=null}function pT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function gT(r,s){return s}function yT(r,s){if(He){var l=ht.formState;if(l!==null){e:{var c=Pe;if(He){if(mt){t:{for(var p=mt,g=ai;p.nodeType!==8;){if(!g){p=null;break t}if(p=li(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){mt=li(p.nextSibling),c=p.data==="F!";break e}}ms(c)}c=!1}c&&(s=l[0])}}return l=Sn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gT,lastRenderedState:s},l.queue=c,l=kT.bind(null,Pe,c),c.dispatch=l,c=yg(!1),g=Ag.bind(null,Pe,!1,c.queue),c=Sn(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,l=wV.bind(null,Pe,p,g,l),p.dispatch=l,c.memoizedState=r,[s,l,!1]}function vT(r){var s=Ot();return _T(s,lt,r)}function _T(r,s,l){if(s=pg(r,s,gT)[0],r=Ld(Dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Wu(s)}catch(T){throw T===Wo?Rd:T}else c=s;s=Ot();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Pe.flags|=2048,tl(9,{destroy:void 0},xV.bind(null,p,l),null)),[c,g,r]}function xV(r,s){r.action=s}function ET(r){var s=Ot(),l=lt;if(l!==null)return _T(s,l,r);Ot(),s=s.memoizedState,l=Ot();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function tl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Nd(),Pe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function TT(){return Ot().memoizedState}function jd(r,s,l,c){var p=Sn();Pe.flags|=r,p.memoizedState=tl(1|s,{destroy:void 0},l,c===void 0?null:c)}function Ud(r,s,l,c){var p=Ot();c=c===void 0?null:c;var g=p.memoizedState.inst;lt!==null&&c!==null&&ug(c,lt.memoizedState.deps)?p.memoizedState=tl(s,g,l,c):(Pe.flags|=r,p.memoizedState=tl(1|s,g,l,c))}function ST(r,s){jd(8390656,8,r,s)}function _g(r,s){Ud(2048,8,r,s)}function RV(r){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Nd(),Pe.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function bT(r){var s=Ot().memoizedState;return RV({ref:s,nextImpl:r}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function AT(r,s){return Ud(4,2,r,s)}function wT(r,s){return Ud(4,4,r,s)}function xT(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function RT(r,s,l){l=l!=null?l.concat([r]):null,Ud(4,4,xT.bind(null,s,r),l)}function Eg(){}function IT(r,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&ug(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function CT(r,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&ug(s,c[1]))return c[0];if(c=r(),Ua){Xn(!0);try{r()}finally{Xn(!1)}}return l.memoizedState=[c,s],c}function Tg(r,s,l){return l===void 0||(Cr&1073741824)!==0&&(ze&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=DS(),Pe.lanes|=r,bs|=r,l)}function DT(r,s,l,c){return zn(l,s)?l:Jo.current!==null?(r=Tg(r,l,c),zn(r,s)||(Bt=!0),r):(Cr&42)===0||(Cr&1073741824)!==0&&(ze&261930)===0?(Bt=!0,r.memoizedState=l):(r=DS(),Pe.lanes|=r,bs|=r,s)}function VT(r,s,l,c,p){var g=oe.p;oe.p=g!==0&&8>g?g:8;var T=ee.T,w={};ee.T=w,Ag(r,!1,s,l);try{var k=p(),Y=ee.S;if(Y!==null&&Y(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ne=SV(k,c);Xu(r,s,ne,Kn(r))}else Xu(r,s,c,Kn(r))}catch(ae){Xu(r,s,{then:function(){},status:"rejected",reason:ae},Kn())}finally{oe.p=g,T!==null&&w.types!==null&&(T.types=w.types),ee.T=T}}function IV(){}function Sg(r,s,l,c){if(r.tag!==5)throw Error(i(476));var p=OT(r).queue;VT(r,p,s,fe,l===null?IV:function(){return PT(r),l(c)})}function OT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:fe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function PT(r){var s=OT(r);s.next===null&&(s=r.alternate.memoizedState),Xu(r,s.next.queue,{},Kn())}function bg(){return on(mc)}function MT(){return Ot().memoizedState}function NT(){return Ot().memoizedState}function CV(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Kn();r=ys(l);var c=vs(s,r,l);c!==null&&(Nn(c,s,l),Ku(c,s,l)),s={cache:Jp()},r.payload=s;return}s=s.return}}function DV(r,s,l){var c=Kn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zd(r)?LT(s,l):(l=Bp(r,s,l,c),l!==null&&(Nn(l,r,c),jT(l,s,c)))}function kT(r,s,l){var c=Kn();Xu(r,s,l,c)}function Xu(r,s,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(zd(r))LT(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,l);if(p.hasEagerState=!0,p.eagerState=w,zn(w,T))return Ed(r,s,p,0),ht===null&&_d(),!1}catch{}if(l=Bp(r,s,p,c),l!==null)return Nn(l,r,c),jT(l,s,c),!0}return!1}function Ag(r,s,l,c){if(c={lane:2,revertLane:ny(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zd(r)){if(s)throw Error(i(479))}else s=Bp(r,l,c,2),s!==null&&Nn(s,r,2)}function zd(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function LT(r,s){Zo=Pd=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function jT(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,_u(r,l)}}var Ju={readContext:on,use:kd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ju.useEffectEvent=At;var UT={readContext:on,use:kd,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:on,useEffect:ST,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,jd(4194308,4,xT.bind(null,s,r),l)},useLayoutEffect:function(r,s){return jd(4194308,4,r,s)},useInsertionEffect:function(r,s){jd(4,2,r,s)},useMemo:function(r,s){var l=Sn();s=s===void 0?null:s;var c=r();if(Ua){Xn(!0);try{r()}finally{Xn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=Sn();if(l!==void 0){var p=l(s);if(Ua){Xn(!0);try{l(s)}finally{Xn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=DV.bind(null,Pe,r),[c.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=yg(r);var s=r.queue,l=kT.bind(null,Pe,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Eg,useDeferredValue:function(r,s){var l=Sn();return Tg(l,r,s)},useTransition:function(){var r=yg(!1);return r=VT.bind(null,Pe,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=Pe,p=Sn();if(He){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),ht===null)throw Error(i(349));(ze&127)!==0||aT(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,ST(lT.bind(null,c,g,r),[r]),c.flags|=2048,tl(9,{destroy:void 0},oT.bind(null,c,g,l,s),null),l},useId:function(){var r=Sn(),s=ht.identifierPrefix;if(He){var l=sr,c=rr;l=(c&~(1<<32-Ct(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Md++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=bV++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:bg,useFormState:yT,useActionState:yT,useOptimistic:function(r){var s=Sn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ag.bind(null,Pe,!0,l),l.dispatch=s,[r,s]},useMemoCache:mg,useCacheRefresh:function(){return Sn().memoizedState=CV.bind(null,Pe)},useEffectEvent:function(r){var s=Sn(),l={impl:r};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},wg={readContext:on,use:kd,useCallback:IT,useContext:on,useEffect:_g,useImperativeHandle:RT,useInsertionEffect:AT,useLayoutEffect:wT,useMemo:CT,useReducer:Ld,useRef:TT,useState:function(){return Ld(Dr)},useDebugValue:Eg,useDeferredValue:function(r,s){var l=Ot();return DT(l,lt.memoizedState,r,s)},useTransition:function(){var r=Ld(Dr)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:Wu(r),s]},useSyncExternalStore:sT,useId:MT,useHostTransitionStatus:bg,useFormState:vT,useActionState:vT,useOptimistic:function(r,s){var l=Ot();return hT(l,lt,r,s)},useMemoCache:mg,useCacheRefresh:NT};wg.useEffectEvent=bT;var zT={readContext:on,use:kd,useCallback:IT,useContext:on,useEffect:_g,useImperativeHandle:RT,useInsertionEffect:AT,useLayoutEffect:wT,useMemo:CT,useReducer:gg,useRef:TT,useState:function(){return gg(Dr)},useDebugValue:Eg,useDeferredValue:function(r,s){var l=Ot();return lt===null?Tg(l,r,s):DT(l,lt.memoizedState,r,s)},useTransition:function(){var r=gg(Dr)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:Wu(r),s]},useSyncExternalStore:sT,useId:MT,useHostTransitionStatus:bg,useFormState:ET,useActionState:ET,useOptimistic:function(r,s){var l=Ot();return lt!==null?hT(l,lt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:mg,useCacheRefresh:NT};zT.useEffectEvent=bT;function xg(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Rg={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=Kn(),p=ys(c);p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,c),s!==null&&(Nn(s,r,c),Ku(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=Kn(),p=ys(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,c),s!==null&&(Nn(s,r,c),Ku(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Kn(),c=ys(l);c.tag=2,s!=null&&(c.callback=s),s=vs(r,c,l),s!==null&&(Nn(s,r,l),Ku(s,r,l))}};function BT(r,s,l,c,p,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!ju(l,c)||!ju(p,g):!0}function FT(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Rg.enqueueReplaceState(s,s.state,null)}function za(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function qT(r){vd(r)}function HT(r){console.error(r)}function GT(r){vd(r)}function Bd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function KT(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ig(r,s,l){return l=ys(l),l.tag=3,l.payload={element:null},l.callback=function(){Bd(r,s)},l}function QT(r){return r=ys(r),r.tag=3,r}function $T(r,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;r.payload=function(){return p(g)},r.callback=function(){KT(s,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){KT(s,l,c),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function VV(r,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Qo(s,l,p,!0),l=Fn.current,l!==null){switch(l.tag){case 31:case 13:return oi===null?Zd():l.alternate===null&&wt===0&&(wt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Id?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Zg(r,c,p)),!1;case 22:return l.flags|=65536,c===Id?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Zg(r,c,p)),!1}throw Error(i(435,l.tag))}return Zg(r,c,p),Zd(),!1}if(He)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Qp&&(r=Error(i(422),{cause:c}),Bu(ii(r,l)))):(c!==Qp&&(s=Error(i(423),{cause:c}),Bu(ii(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=ii(c,l),p=Ig(r.stateNode,c,p),rg(r,p),wt!==4&&(wt=2)),!1;var g=Error(i(520),{cause:c});if(g=ii(g,l),ac===null?ac=[g]:ac.push(g),wt!==4&&(wt=2),s===null)return!0;c=ii(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Ig(l.stateNode,c,r),rg(l,r),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(As===null||!As.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=QT(p),$T(p,r,l,c),rg(l,p),!1}l=l.return}while(l!==null);return!1}var Cg=Error(i(461)),Bt=!1;function ln(r,s,l,c){s.child=r===null?JE(s,null,l,c):ja(s,r.child,l,c)}function YT(r,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Ma(s),c=cg(r,s,l,T,g,p),w=hg(),r!==null&&!Bt?(dg(r,s,p),Vr(r,s,p)):(He&&w&&Gp(s),s.flags|=1,ln(r,s,c,p),s.child)}function WT(r,s,l,c,p){if(r===null){var g=l.type;return typeof g=="function"&&!Fp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,XT(r,s,g,c,p)):(r=Sd(l.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Lg(r,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:ju,l(T,c)&&r.ref===s.ref)return Vr(r,s,p)}return s.flags|=1,r=wr(g,c),r.ref=s.ref,r.return=s,s.child=r}function XT(r,s,l,c,p){if(r!==null){var g=r.memoizedProps;if(ju(g,c)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=c=g,Lg(r,p))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,Vr(r,s,p)}return Dg(r,s,l,c,p)}function JT(r,s,l,c){var p=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(c=s.child=r.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return ZT(r,s,g,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xd(s,g!==null?g.cachePool:null),g!==null?tT(s,g):ag(),nT(s);else return c=s.lanes=536870912,ZT(r,s,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(xd(s,g.cachePool),tT(s,g),Es(),s.memoizedState=null):(r!==null&&xd(s,null),ag(),Es());return ln(r,s,p,l),s.child}function Zu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ZT(r,s,l,c,p){var g=eg();return g=g===null?null:{parent:Ut._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},r!==null&&xd(s,null),ag(),nT(s),r!==null&&Qo(r,s,c,!0),s.childLanes=p,null}function Fd(r,s){return s=Hd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function eS(r,s,l){return ja(s,r.child,null,l),r=Fd(s,s.pendingProps),r.flags|=2,qn(s),s.memoizedState=null,r}function OV(r,s,l){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(He){if(c.mode==="hidden")return r=Fd(s,c),s.lanes=536870912,Zu(null,r);if(lg(s),(r=mt)?(r=d1(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=LE(r),l.return=s,s.child=l,an=s,mt=null)):r=null,r===null)throw ms(s);return s.lanes=536870912,null}return Fd(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(lg(s),p)if(s.flags&256)s.flags&=-257,s=eS(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Bt||Qo(r,s,l,!1),p=(l&r.childLanes)!==0,Bt||p){if(c=ht,c!==null&&(T=Eu(c,l),T!==0&&T!==g.retryLane))throw g.retryLane=T,Da(r,T),Nn(c,r,T),Cg;Zd(),s=eS(r,s,l)}else r=g.treeContext,mt=li(T.nextSibling),an=s,He=!0,fs=null,ai=!1,r!==null&&zE(s,r),s=Fd(s,c),s.flags|=4096;return s}return r=wr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function qd(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Dg(r,s,l,c,p){return Ma(s),l=cg(r,s,l,c,void 0,p),c=hg(),r!==null&&!Bt?(dg(r,s,p),Vr(r,s,p)):(He&&c&&Gp(s),s.flags|=1,ln(r,s,l,p),s.child)}function tS(r,s,l,c,p,g){return Ma(s),s.updateQueue=null,l=rT(s,c,l,p),iT(r),c=hg(),r!==null&&!Bt?(dg(r,s,g),Vr(r,s,g)):(He&&c&&Gp(s),s.flags|=1,ln(r,s,l,g),s.child)}function nS(r,s,l,c,p){if(Ma(s),s.stateNode===null){var g=qo,T=l.contextType;typeof T=="object"&&T!==null&&(g=on(T)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rg,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},ng(s),T=l.contextType,g.context=typeof T=="object"&&T!==null?on(T):qo,g.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(xg(s,l,T,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Rg.enqueueReplaceState(g,g.state,null),$u(s,c,g,p),Qu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,k=za(l,w);g.props=k;var Y=g.context,ne=l.contextType;T=qo,typeof ne=="object"&&ne!==null&&(T=on(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==T)&&FT(s,g,c,T),gs=!1;var W=s.memoizedState;g.state=W,$u(s,c,g,p),Qu(),Y=s.memoizedState,w||W!==Y||gs?(typeof ae=="function"&&(xg(s,l,ae,c),Y=s.memoizedState),(k=gs||BT(s,l,k,c,W,Y,T))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Y),g.props=c,g.state=Y,g.context=T,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,ig(r,s),T=s.memoizedProps,ne=za(l,T),g.props=ne,ae=s.pendingProps,W=g.context,Y=l.contextType,k=qo,typeof Y=="object"&&Y!==null&&(k=on(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ae||W!==k)&&FT(s,g,c,k),gs=!1,W=s.memoizedState,g.state=W,$u(s,c,g,p),Qu();var Z=s.memoizedState;T!==ae||W!==Z||gs||r!==null&&r.dependencies!==null&&Ad(r.dependencies)?(typeof w=="function"&&(xg(s,l,w,c),Z=s.memoizedState),(ne=gs||BT(s,l,ne,c,W,Z,k)||r!==null&&r.dependencies!==null&&Ad(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),g.props=c,g.state=Z,g.context=k,c=ne):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,qd(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=ja(s,r.child,null,p),s.child=ja(s,null,l,p)):ln(r,s,l,p),s.memoizedState=g.state,r=s.child):r=Vr(r,s,p),r}function iS(r,s,l,c){return Oa(),s.flags|=256,ln(r,s,l,c),s.child}var Vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Og(r){return{baseLanes:r,cachePool:KE()}}function Pg(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Gn),r}function rS(r,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(He){if(p?_s(s):Es(),(r=mt)?(r=d1(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=LE(r),l.return=s,s.child=l,an=s,mt=null)):r=null,r===null)throw ms(s);return py(r)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,p?(Es(),p=s.mode,w=Hd({mode:"hidden",children:w},p),c=Va(c,p,l,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Og(l),c.childLanes=Pg(r,T,l),s.memoizedState=Vg,Zu(null,c)):(_s(s),Mg(s,w))}var k=r.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(g)s.flags&256?(_s(s),s.flags&=-257,s=Ng(r,s,l)):s.memoizedState!==null?(Es(),s.child=r.child,s.flags|=128,s=null):(Es(),w=c.fallback,p=s.mode,c=Hd({mode:"visible",children:c.children},p),w=Va(w,p,l,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,ja(s,r.child,null,l),c=s.child,c.memoizedState=Og(l),c.childLanes=Pg(r,T,l),s.memoizedState=Vg,s=Zu(null,c));else if(_s(s),py(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Bu({value:c,source:null,stack:null}),s=Ng(r,s,l)}else if(Bt||Qo(r,s,l,!1),T=(l&r.childLanes)!==0,Bt||T){if(T=ht,T!==null&&(c=Eu(T,l),c!==0&&c!==k.retryLane))throw k.retryLane=c,Da(r,c),Nn(T,r,c),Cg;my(w)||Zd(),s=Ng(r,s,l)}else my(w)?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,mt=li(w.nextSibling),an=s,He=!0,fs=null,ai=!1,r!==null&&zE(s,r),s=Mg(s,c.children),s.flags|=4096);return s}return p?(Es(),w=c.fallback,p=s.mode,k=r.child,Y=k.sibling,c=wr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Y!==null?w=wr(Y,w):(w=Va(w,p,l,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,Zu(null,c),c=s.child,w=r.child.memoizedState,w===null?w=Og(l):(p=w.cachePool,p!==null?(k=Ut._currentValue,p=p.parent!==k?{parent:k,pool:k}:p):p=KE(),w={baseLanes:w.baseLanes|l,cachePool:p}),c.memoizedState=w,c.childLanes=Pg(r,T,l),s.memoizedState=Vg,Zu(r.child,c)):(_s(s),l=r.child,r=l.sibling,l=wr(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Mg(r,s){return s=Hd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Hd(r,s){return r=Bn(22,r,null,s),r.lanes=0,r}function Ng(r,s,l){return ja(s,r.child,null,l),r=Mg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function sS(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Wp(r.return,s,l)}function kg(r,s,l,c,p,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=p,T.treeForkCount=g)}function aS(r,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=Vt.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,he(Vt,T),ln(r,s,c,l),c=He?zu:0,!w&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sS(r,l,s);else if(r.tag===19)sS(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Od(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),kg(s,!1,p,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Od(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}kg(s,!0,l,null,g,c);break;case"together":kg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Vr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Qo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=wr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Lg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ad(r)))}function PV(r,s,l){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),ps(s,Ut,r.memoizedState.cache),Oa();break;case 27:case 5:Ui(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lg(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(s),s.flags|=128,null):(l&s.child.childLanes)!==0?rS(r,s,l):(_s(s),r=Vr(r,s,l),r!==null?r.sibling:null);_s(s);break;case 19:var p=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Qo(r,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return aS(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),he(Vt,Vt.current),c)break;return null;case 22:return s.lanes=0,JT(r,s,l,s.pendingProps);case 24:ps(s,Ut,r.memoizedState.cache)}return Vr(r,s,l)}function oS(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Lg(r,l)&&(s.flags&128)===0)return Bt=!1,PV(r,s,l);Bt=(r.flags&131072)!==0}else Bt=!1,He&&(s.flags&1048576)!==0&&UE(s,zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=ka(s.elementType),s.type=r,typeof r=="function")Fp(r)?(c=za(r,c),s.tag=1,s=nS(null,s,r,c,l)):(s.tag=0,s=Dg(null,s,r,c,l));else{if(r!=null){var p=r.$$typeof;if(p===X){s.tag=11,s=YT(null,s,r,c,l);break e}else if(p===I){s.tag=14,s=WT(null,s,r,c,l);break e}}throw s=xe(r)||r,Error(i(306,s,""))}}return s;case 0:return Dg(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=za(c,s.pendingProps),nS(r,s,c,p,l);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,ig(r,s),$u(s,c,null,l);var T=s.memoizedState;if(c=T.cache,ps(s,Ut,c),c!==g.cache&&Xp(s,[Ut],l,!0),Qu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=iS(r,s,c,l);break e}else if(c!==p){p=ii(Error(i(424)),s),Bu(p),s=iS(r,s,c,l);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,mt=li(r.firstChild),an=s,He=!0,fs=null,ai=!0,l=JE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oa(),c===p){s=Vr(r,s,l);break e}ln(r,s,c,l)}s=s.child}return s;case 26:return qd(r,s),r===null?(l=v1(s.type,null,s.pendingProps,null))?s.memoizedState=l:He||(l=s.type,r=s.pendingProps,c=of(Re.current).createElement(l),c[kt]=s,c[Jt]=r,un(c,l,r),Lt(c),s.stateNode=c):s.memoizedState=v1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ui(s),r===null&&He&&(c=s.stateNode=p1(s.type,s.pendingProps,Re.current),an=s,ai=!0,p=mt,Is(s.type)?(gy=p,mt=li(c.firstChild)):mt=p),ln(r,s,s.pendingProps.children,l),qd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&He&&((p=c=mt)&&(c=uO(c,s.type,s.pendingProps,ai),c!==null?(s.stateNode=c,an=s,mt=li(c.firstChild),ai=!1,p=!0):p=!1),p||ms(s)),Ui(s),p=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,hy(p,g)?c=null:T!==null&&hy(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=cg(r,s,AV,null,null,l),mc._currentValue=p),qd(r,s),ln(r,s,c,l),s.child;case 6:return r===null&&He&&((r=l=mt)&&(l=cO(l,s.pendingProps,ai),l!==null?(s.stateNode=l,an=s,mt=null,r=!0):r=!1),r||ms(s)),null;case 13:return rS(r,s,l);case 4:return at(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ja(s,null,c,l):ln(r,s,c,l),s.child;case 11:return YT(r,s,s.type,s.pendingProps,l);case 7:return ln(r,s,s.pendingProps,l),s.child;case 8:return ln(r,s,s.pendingProps.children,l),s.child;case 12:return ln(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ps(s,s.type,c.value),ln(r,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ma(s),p=on(p),c=c(p),s.flags|=1,ln(r,s,c,l),s.child;case 14:return WT(r,s,s.type,s.pendingProps,l);case 15:return XT(r,s,s.type,s.pendingProps,l);case 19:return aS(r,s,l);case 31:return OV(r,s,l);case 22:return JT(r,s,l,s.pendingProps);case 24:return Ma(s),c=on(Ut),r===null?(p=eg(),p===null&&(p=ht,g=Jp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},ng(s),ps(s,Ut,p)):((r.lanes&l)!==0&&(ig(r,s),$u(s,null,null,l),Qu()),p=r.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ps(s,Ut,c)):(c=g.cache,ps(s,Ut,c),c!==p.cache&&Xp(s,[Ut],l,!0))),ln(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Or(r){r.flags|=4}function jg(r,s,l,c,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(MS())r.flags|=8192;else throw La=Id,tg}else r.flags&=-16777217}function lS(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!b1(s))if(MS())r.flags|=8192;else throw La=Id,tg}function Gd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Xh():536870912,r.lanes|=s,sl|=s)}function ec(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function MV(r,s,l){var c=s.pendingProps;switch(Kp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ir(Ut),et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ko(s)?Or(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$p())),pt(s),null;case 26:var p=s.type,g=s.memoizedState;return r===null?(Or(s),g!==null?(pt(s),lS(s,g)):(pt(s),jg(s,p,null,c,l))):g?g!==r.memoizedState?(Or(s),pt(s),lS(s,g)):(pt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Or(s),pt(s),jg(s,p,r,c,l)),null;case 27:if(Ao(s),l=Re.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=me.current,Ko(s)?BE(s):(r=p1(p,c,l),s.stateNode=r,Or(s))}return pt(s),null;case 5:if(Ao(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(g=me.current,Ko(s))BE(s);else{var T=of(Re.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[kt]=s,g[Jt]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(un(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Or(s)}}return pt(s),jg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Or(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,Ko(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,p=an,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[kt]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||r1(r.nodeValue,l)),r||ms(s,!0)}else r=of(r).createTextNode(c),r[kt]=s,s.stateNode=r}return pt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(c=Ko(s),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[kt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),r=!1}else l=$p(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return pt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ko(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[kt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),p=!1}else p=$p(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),Gd(s,s.updateQueue),pt(s),null);case 4:return et(),r===null&&ay(s.stateNode.containerInfo),pt(s),null;case 10:return Ir(s.type),pt(s),null;case 19:if(re(Vt),c=s.memoizedState,c===null)return pt(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)ec(c,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Od(r),g!==null){for(s.flags|=128,ec(c,!1),r=g.updateQueue,s.updateQueue=r,Gd(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)kE(l,r),l=l.sibling;return he(Vt,Vt.current&1|2),He&&xr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&En()>Wd&&(s.flags|=128,p=!0,ec(c,!1),s.lanes=4194304)}else{if(!p)if(r=Od(g),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Gd(s,r),ec(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!He)return pt(s),null}else 2*En()-c.renderingStartTime>Wd&&l!==536870912&&(s.flags|=128,p=!0,ec(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=En(),r.sibling=null,l=Vt.current,he(Vt,p?l&1|2:l&1),He&&xr(s,c.treeForkCount),r):(pt(s),null);case 22:case 23:return qn(s),og(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),l=s.updateQueue,l!==null&&Gd(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&re(Na),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ir(Ut),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function NV(r,s){switch(Kp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ir(Ut),et(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ao(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(i(340));Oa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(qn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Oa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return re(Vt),null;case 4:return et(),null;case 10:return Ir(s.type),null;case 22:case 23:return qn(s),og(),r!==null&&re(Na),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ir(Ut),null;case 25:return null;default:return null}}function uS(r,s){switch(Kp(s),s.tag){case 3:Ir(Ut),et();break;case 26:case 27:case 5:Ao(s);break;case 4:et();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:re(Vt);break;case 10:Ir(s.type);break;case 22:case 23:qn(s),og(),r!==null&&re(Na);break;case 24:Ir(Ut)}}function tc(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(w){it(s,s.return,w)}}function Ts(r,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&r)===r){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,p=s;var k=l,Y=w;try{Y()}catch(ne){it(p,k,ne)}}}c=c.next}while(c!==g)}}catch(ne){it(s,s.return,ne)}}function cS(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{eT(s,l)}catch(c){it(r,r.return,c)}}}function hS(r,s,l){l.props=za(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){it(r,s,c)}}function nc(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){it(r,s,p)}}function ar(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){it(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){it(r,s,p)}else l.current=null}function dS(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){it(r,r.return,p)}}function Ug(r,s,l){try{var c=r.stateNode;iO(c,r.type,l,s),c[Jt]=s}catch(p){it(r,r.return,p)}}function fS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Is(r.type)||r.tag===4}function zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Is(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bg(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ti));else if(c!==4&&(c===27&&Is(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Bg(r,s,l),r=r.sibling;r!==null;)Bg(r,s,l),r=r.sibling}function Kd(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&Is(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}function mS(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);un(s,c,l),s[kt]=r,s[Jt]=l}catch(g){it(r,r.return,g)}}var Pr=!1,Ft=!1,Fg=!1,pS=typeof WeakSet=="function"?WeakSet:Set,en=null;function kV(r,s){if(r=r.containerInfo,uy=mf,r=RE(r),Np(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,w=-1,k=-1,Y=0,ne=0,ae=r,W=null;t:for(;;){for(var Z;ae!==l||p!==0&&ae.nodeType!==3||(w=T+p),ae!==g||c!==0&&ae.nodeType!==3||(k=T+c),ae.nodeType===3&&(T+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===r)break t;if(W===l&&++Y===p&&(w=T),W===g&&++ne===c&&(k=T),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}l=w===-1||k===-1?null:{start:w,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(cy={focusedElem:r,selectionRange:l},mf=!1,en=s;en!==null;)if(s=en,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,en=r;else for(;en!==null;){switch(s=en,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var pe=za(l.type,p);r=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(be){it(l,l.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)fy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,en=r;break}en=s.return}}function gS(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Nr(r,l),c&4&&tc(5,l);break;case 1:if(Nr(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){it(l,l.return,T)}else{var p=za(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){it(l,l.return,T)}}c&64&&cS(l),c&512&&nc(l,l.return);break;case 3:if(Nr(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{eT(r,s)}catch(T){it(l,l.return,T)}}break;case 27:s===null&&c&4&&mS(l);case 26:case 5:Nr(r,l),s===null&&c&4&&dS(l),c&512&&nc(l,l.return);break;case 12:Nr(r,l);break;case 31:Nr(r,l),c&4&&_S(r,l);break;case 13:Nr(r,l),c&4&&ES(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=GV.bind(null,l),hO(r,l))));break;case 22:if(c=l.memoizedState!==null||Pr,!c){s=s!==null&&s.memoizedState!==null||Ft,p=Pr;var g=Ft;Pr=c,(Ft=s)&&!g?kr(r,l,(l.subtreeFlags&8772)!==0):Nr(r,l),Pr=p,Ft=g}break;case 30:break;default:Nr(r,l)}}function yS(r){var s=r.alternate;s!==null&&(r.alternate=null,yS(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Co(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Vn=!1;function Mr(r,s,l){for(l=l.child;l!==null;)vS(r,s,l),l=l.sibling}function vS(r,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 26:Ft||ar(l,s),Mr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||ar(l,s);var c=vt,p=Vn;Is(l.type)&&(vt=l.stateNode,Vn=!1),Mr(r,s,l),hc(l.stateNode),vt=c,Vn=p;break;case 5:Ft||ar(l,s);case 6:if(c=vt,p=Vn,vt=null,Mr(r,s,l),vt=c,Vn=p,vt!==null)if(Vn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){it(l,s,g)}else try{vt.removeChild(l.stateNode)}catch(g){it(l,s,g)}break;case 18:vt!==null&&(Vn?(r=vt,c1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),fl(r)):c1(vt,l.stateNode));break;case 4:c=vt,p=Vn,vt=l.stateNode.containerInfo,Vn=!0,Mr(r,s,l),vt=c,Vn=p;break;case 0:case 11:case 14:case 15:Ts(2,l,s),Ft||Ts(4,l,s),Mr(r,s,l);break;case 1:Ft||(ar(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&hS(l,s,c)),Mr(r,s,l);break;case 21:Mr(r,s,l);break;case 22:Ft=(c=Ft)||l.memoizedState!==null,Mr(r,s,l),Ft=c;break;default:Mr(r,s,l)}}function _S(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{fl(r)}catch(l){it(s,s.return,l)}}}function ES(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fl(r)}catch(l){it(s,s.return,l)}}function LV(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new pS),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new pS),s;default:throw Error(i(435,r.tag))}}function Qd(r,s){var l=LV(r);s.forEach(function(c){if(!l.has(c)){l.add(c);var p=KV.bind(null,r,c);c.then(p,p)}})}function On(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=r,T=s,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(Is(w.type)){vt=w.stateNode,Vn=!1;break e}break;case 5:vt=w.stateNode,Vn=!1;break e;case 3:case 4:vt=w.stateNode.containerInfo,Vn=!0;break e}w=w.return}if(vt===null)throw Error(i(160));vS(g,T,p),vt=null,Vn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)TS(s,r),s=s.sibling}var Ri=null;function TS(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(s,r),Pn(r),c&4&&(Ts(3,r,r.return),tc(3,r),Ts(5,r,r.return));break;case 1:On(s,r),Pn(r),c&512&&(Ft||l===null||ar(l,l.return)),c&64&&Pr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ri;if(On(s,r),Pn(r),c&512&&(Ft||l===null||ar(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ki]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),un(g,c,l),g[kt]=r,Lt(g),c=g;break e;case"link":var T=T1("link","href",p).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break t}}g=p.createElement(c),un(g,c,l),p.head.appendChild(g);break;case"meta":if(T=T1("meta","content",p).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break t}}g=p.createElement(c),un(g,c,l),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[kt]=r,Lt(g),c=g}r.stateNode=c}else S1(p,r.type,r.stateNode);else r.stateNode=E1(p,c,r.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?S1(p,r.type,r.stateNode):E1(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Ug(r,r.memoizedProps,l.memoizedProps)}break;case 27:On(s,r),Pn(r),c&512&&(Ft||l===null||ar(l,l.return)),l!==null&&c&4&&Ug(r,r.memoizedProps,l.memoizedProps);break;case 5:if(On(s,r),Pn(r),c&512&&(Ft||l===null||ar(l,l.return)),r.flags&32){p=r.stateNode;try{Dn(p,"")}catch(pe){it(r,r.return,pe)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,Ug(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Fg=!0);break;case 6:if(On(s,r),Pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(pe){it(r,r.return,pe)}}break;case 3:if(cf=null,p=Ri,Ri=lf(s.containerInfo),On(s,r),Ri=p,Pn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{fl(s.containerInfo)}catch(pe){it(r,r.return,pe)}Fg&&(Fg=!1,SS(r));break;case 4:c=Ri,Ri=lf(r.stateNode.containerInfo),On(s,r),Pn(r),Ri=c;break;case 12:On(s,r),Pn(r);break;case 31:On(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qd(r,c)));break;case 13:On(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yd=En()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qd(r,c)));break;case 22:p=r.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=Pr,ne=Ft;if(Pr=Y||p,Ft=ne||k,On(s,r),Ft=ne,Pr=Y,Pn(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||k||Pr||Ft||Ba(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(g=k.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=k.stateNode;var ae=k.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){it(k,k.return,pe)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(pe){it(k,k.return,pe)}}}else if(s.tag===18){if(l===null){k=s;try{var Z=k.stateNode;p?h1(Z,!0):h1(k.stateNode,!1)}catch(pe){it(k,k.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qd(r,l))));break;case 19:On(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qd(r,c)));break;case 30:break;case 21:break;default:On(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(fS(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=zg(r);Kd(r,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Dn(T,""),l.flags&=-33);var w=zg(r);Kd(r,w,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=zg(r);Bg(r,Y,k);break;default:throw Error(i(161))}}catch(ne){it(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function SS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;SS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Nr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gS(r,s.alternate,s),s=s.sibling}function Ba(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),Ba(s);break;case 1:ar(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&hS(s,s.return,l),Ba(s);break;case 27:hc(s.stateNode);case 26:case 5:ar(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}r=r.sibling}}function kr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:kr(p,g,l),tc(4,g);break;case 1:if(kr(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){it(c,c.return,Y)}if(c=g,p=c.updateQueue,p!==null){var w=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)ZE(k[p],w)}catch(Y){it(c,c.return,Y)}}l&&T&64&&cS(g),nc(g,g.return);break;case 27:mS(g);case 26:case 5:kr(p,g,l),l&&c===null&&T&4&&dS(g),nc(g,g.return);break;case 12:kr(p,g,l);break;case 31:kr(p,g,l),l&&T&4&&_S(p,g);break;case 13:kr(p,g,l),l&&T&4&&ES(p,g);break;case 22:g.memoizedState===null&&kr(p,g,l),nc(g,g.return);break;case 30:break;default:kr(p,g,l)}s=s.sibling}}function qg(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Fu(l))}function Hg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Fu(r))}function Ii(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bS(r,s,l,c),s=s.sibling}function bS(r,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(r,s,l,c),p&2048&&tc(9,s);break;case 1:Ii(r,s,l,c);break;case 3:Ii(r,s,l,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Fu(r)));break;case 12:if(p&2048){Ii(r,s,l,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){it(s,s.return,k)}}else Ii(r,s,l,c);break;case 31:Ii(r,s,l,c);break;case 13:Ii(r,s,l,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Ii(r,s,l,c):ic(r,s):g._visibility&2?Ii(r,s,l,c):(g._visibility|=2,nl(r,s,l,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&qg(T,s);break;case 24:Ii(r,s,l,c),p&2048&&Hg(s.alternate,s);break;default:Ii(r,s,l,c)}}function nl(r,s,l,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,w=l,k=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:nl(g,T,w,k,p),tc(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&2?nl(g,T,w,k,p):ic(g,T):(ne._visibility|=2,nl(g,T,w,k,p)),p&&Y&2048&&qg(T.alternate,T);break;case 24:nl(g,T,w,k,p),p&&Y&2048&&Hg(T.alternate,T);break;default:nl(g,T,w,k,p)}s=s.sibling}}function ic(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,p=c.flags;switch(c.tag){case 22:ic(l,c),p&2048&&qg(c.alternate,c);break;case 24:ic(l,c),p&2048&&Hg(c.alternate,c);break;default:ic(l,c)}s=s.sibling}}var rc=8192;function il(r,s,l){if(r.subtreeFlags&rc)for(r=r.child;r!==null;)AS(r,s,l),r=r.sibling}function AS(r,s,l){switch(r.tag){case 26:il(r,s,l),r.flags&rc&&r.memoizedState!==null&&bO(l,Ri,r.memoizedState,r.memoizedProps);break;case 5:il(r,s,l);break;case 3:case 4:var c=Ri;Ri=lf(r.stateNode.containerInfo),il(r,s,l),Ri=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=rc,rc=16777216,il(r,s,l),rc=c):il(r,s,l));break;default:il(r,s,l)}}function wS(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function sc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];en=c,RS(c,r)}wS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xS(r),r=r.sibling}function xS(r){switch(r.tag){case 0:case 11:case 15:sc(r),r.flags&2048&&Ts(9,r,r.return);break;case 3:sc(r);break;case 12:sc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,$d(r)):sc(r);break;default:sc(r)}}function $d(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];en=c,RS(c,r)}wS(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),$d(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,$d(s));break;default:$d(s)}r=r.sibling}}function RS(r,s){for(;en!==null;){var l=en;switch(l.tag){case 0:case 11:case 15:Ts(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,en=c;else e:for(l=r;en!==null;){c=en;var p=c.sibling,g=c.return;if(yS(c),c===l){en=null;break e}if(p!==null){p.return=g,en=p;break e}en=g}}}var jV={getCacheForType:function(r){var s=on(Ut),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return on(Ut).controller.signal}},UV=typeof WeakMap=="function"?WeakMap:Map,Je=0,ht=null,je=null,ze=0,nt=0,Hn=null,Ss=!1,rl=!1,Gg=!1,Lr=0,wt=0,bs=0,Fa=0,Kg=0,Gn=0,sl=0,ac=null,Mn=null,Qg=!1,Yd=0,IS=0,Wd=1/0,Xd=null,As=null,$t=0,ws=null,al=null,jr=0,$g=0,Yg=null,CS=null,oc=0,Wg=null;function Kn(){return(Je&2)!==0&&ze!==0?ze&-ze:ee.T!==null?ny():Jh()}function DS(){if(Gn===0)if((ze&536870912)===0||He){var r=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Gn=r}else Gn=536870912;return r=Fn.current,r!==null&&(r.flags|=32),Gn}function Nn(r,s,l){(r===ht&&(nt===2||nt===9)||r.cancelPendingCommit!==null)&&(ol(r,0),xs(r,ze,Gn,!1)),ga(r,l),((Je&2)===0||r!==ht)&&(r===ht&&((Je&2)===0&&(Fa|=l),wt===4&&xs(r,ze,Gn,!1)),or(r))}function VS(r,s,l){if((Je&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&r.expiredLanes)===0||vi(r,s),p=c?FV(r,s):Jg(r,s,!0),g=c;do{if(p===0){rl&&!c&&xs(r,s,0,!1);break}else{if(l=r.current.alternate,g&&!zV(l)){p=Jg(r,s,!1),g=!1;continue}if(p===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var w=r;p=ac;var k=w.current.memoizedState.isDehydrated;if(k&&(ol(w,T).flags|=256),T=Jg(w,T,!1),T!==2){if(Gg&&!k){w.errorRecoveryDisabledLanes|=g,Fa|=g,p=4;break e}g=Mn,Mn=p,g!==null&&(Mn===null?Mn=g:Mn.push.apply(Mn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){ol(r,0),xs(r,s,0,!0);break}e:{switch(c=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:xs(c,s,Gn,!Ss);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Yd+300-En(),10<p)){if(xs(c,s,Gn,!Ss),qi(c,0,!0)!==0)break e;jr=s,c.timeoutHandle=l1(OS.bind(null,c,l,Mn,Xd,Qg,s,Gn,Fa,sl,Ss,g,"Throttled",-0,0),p);break e}OS(c,l,Mn,Xd,Qg,s,Gn,Fa,sl,Ss,g,null,-0,0)}}break}while(!0);or(r)}function OS(r,s,l,c,p,g,T,w,k,Y,ne,ae,W,Z){if(r.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},AS(s,g,ae);var pe=(g&62914560)===g?Yd-En():(g&4194048)===g?IS-En():0;if(pe=AO(ae,pe),pe!==null){jr=g,r.cancelPendingCommit=pe(zS.bind(null,r,s,g,l,c,p,T,w,k,ne,ae,null,W,Z)),xs(r,g,T,!Y);return}}zS(r,s,g,l,c,p,T,w,k)}function zV(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!zn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xs(r,s,l,c){s&=~Kg,s&=~Fa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var g=31-Ct(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&ya(r,l,s)}function Jd(){return(Je&6)===0?(lc(0),!1):!0}function Xg(){if(je!==null){if(nt===0)var r=je.return;else r=je,Rr=Pa=null,fg(r),Xo=null,Hu=0,r=je;for(;r!==null;)uS(r.alternate,r),r=r.return;je=null}}function ol(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,aO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),jr=0,Xg(),ht=r,je=l=wr(r.current,null),ze=s,nt=0,Hn=null,Ss=!1,rl=vi(r,s),Gg=!1,sl=Gn=Kg=Fa=bs=wt=0,Mn=ac=null,Qg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-Ct(c),g=1<<p;s|=r[p],c&=~g}return Lr=s,_d(),l}function PS(r,s){Pe=null,ee.H=Ju,s===Wo||s===Rd?(s=YE(),nt=3):s===tg?(s=YE(),nt=4):nt=s===Cg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,je===null&&(wt=1,Bd(r,ii(s,r.current)))}function MS(){var r=Fn.current;return r===null?!0:(ze&4194048)===ze?oi===null:(ze&62914560)===ze||(ze&536870912)!==0?r===oi:!1}function NS(){var r=ee.H;return ee.H=Ju,r===null?Ju:r}function kS(){var r=ee.A;return ee.A=jV,r}function Zd(){wt=4,Ss||(ze&4194048)!==ze&&Fn.current!==null||(rl=!0),(bs&134217727)===0&&(Fa&134217727)===0||ht===null||xs(ht,ze,Gn,!1)}function Jg(r,s,l){var c=Je;Je|=2;var p=NS(),g=kS();(ht!==r||ze!==s)&&(Xd=null,ol(r,s)),s=!1;var T=wt;e:do try{if(nt!==0&&je!==null){var w=je,k=Hn;switch(nt){case 8:Xg(),T=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var Y=nt;if(nt=0,Hn=null,ll(r,w,k,Y),l&&rl){T=0;break e}break;default:Y=nt,nt=0,Hn=null,ll(r,w,k,Y)}}BV(),T=wt;break}catch(ne){PS(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Rr=Pa=null,Je=c,ee.H=p,ee.A=g,je===null&&(ht=null,ze=0,_d()),T}function BV(){for(;je!==null;)LS(je)}function FV(r,s){var l=Je;Je|=2;var c=NS(),p=kS();ht!==r||ze!==s?(Xd=null,Wd=En()+500,ol(r,s)):rl=vi(r,s);e:do try{if(nt!==0&&je!==null){s=je;var g=Hn;t:switch(nt){case 1:nt=0,Hn=null,ll(r,s,g,1);break;case 2:case 9:if(QE(g)){nt=0,Hn=null,jS(s);break}s=function(){nt!==2&&nt!==9||ht!==r||(nt=7),or(r)},g.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:QE(g)?(nt=0,Hn=null,jS(s)):(nt=0,Hn=null,ll(r,s,g,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var w=je;if(T?b1(T):w.stateNode.complete){nt=0,Hn=null;var k=w.sibling;if(k!==null)je=k;else{var Y=w.return;Y!==null?(je=Y,ef(Y)):je=null}break t}}nt=0,Hn=null,ll(r,s,g,5);break;case 6:nt=0,Hn=null,ll(r,s,g,6);break;case 8:Xg(),wt=6;break e;default:throw Error(i(462))}}qV();break}catch(ne){PS(r,ne)}while(!0);return Rr=Pa=null,ee.H=c,ee.A=p,Je=l,je!==null?0:(ht=null,ze=0,_d(),wt)}function qV(){for(;je!==null&&!Ip();)LS(je)}function LS(r){var s=oS(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,s===null?ef(r):je=s}function jS(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=tS(l,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=tS(l,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:fg(s);default:uS(l,s),s=je=kE(s,Lr),s=oS(l,s,Lr)}r.memoizedProps=r.pendingProps,s===null?ef(r):je=s}function ll(r,s,l,c){Rr=Pa=null,fg(s),Xo=null,Hu=0;var p=s.return;try{if(VV(r,p,s,l,ze)){wt=1,Bd(r,ii(l,r.current)),je=null;return}}catch(g){if(p!==null)throw je=p,g;wt=1,Bd(r,ii(l,r.current)),je=null;return}s.flags&32768?(He||c===1?r=!0:rl||(ze&536870912)!==0?r=!1:(Ss=r=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),US(s,r)):ef(s)}function ef(r){var s=r;do{if((s.flags&32768)!==0){US(s,Ss);return}r=s.return;var l=MV(s.alternate,s,Lr);if(l!==null){je=l;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);wt===0&&(wt=5)}function US(r,s){do{var l=NV(r.alternate,r);if(l!==null){l.flags&=32767,je=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=l}while(r!==null);wt=6,je=null}function zS(r,s,l,c,p,g,T,w,k){r.cancelPendingCommit=null;do tf();while($t!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=zp,Vp(r,l,g,T,w,k),r===ht&&(je=ht=null,ze=0),al=s,ws=r,jr=l,$g=g,Yg=p,CS=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,QV(ns,function(){return GS(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=oe.p,oe.p=2,T=Je,Je|=4;try{kV(r,s,l)}finally{Je=T,oe.p=p,ee.T=c}}$t=1,BS(),FS(),qS()}}function BS(){if($t===1){$t=0;var r=ws,s=al,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=oe.p;oe.p=2;var p=Je;Je|=4;try{TS(s,r);var g=cy,T=RE(r.containerInfo),w=g.focusedElem,k=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&xE(w.ownerDocument.documentElement,w)){if(k!==null&&Np(w)){var Y=k.start,ne=k.end;if(ne===void 0&&(ne=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(ne,w.value.length);else{var ae=w.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),pe=w.textContent.length,be=Math.min(k.start,pe),ct=k.end===void 0?be:Math.min(k.end,pe);!Z.extend&&be>ct&&(T=ct,ct=be,be=T);var G=wE(w,be),F=wE(w,ct);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=ae.createRange();$.setStart(G.node,G.offset),Z.removeAllRanges(),be>ct?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(ae=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var se=ae[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}mf=!!uy,cy=uy=null}finally{Je=p,oe.p=c,ee.T=l}}r.current=s,$t=2}}function FS(){if($t===2){$t=0;var r=ws,s=al,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=oe.p;oe.p=2;var p=Je;Je|=4;try{gS(r,s.alternate,s)}finally{Je=p,oe.p=c,ee.T=l}}$t=3}}function qS(){if($t===4||$t===3){$t=0,Gh();var r=ws,s=al,l=jr,c=CS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,al=ws=null,HS(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(As=null),Tr(l),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ee.T,p=oe.p,oe.p=2,ee.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var w=c[T];g(w.value,{componentStack:w.stack})}}finally{ee.T=s,oe.p=p}}(jr&3)!==0&&tf(),or(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===Wg?oc++:(oc=0,Wg=r):oc=0,lc(0)}}function HS(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Fu(s)))}function tf(){return BS(),FS(),qS(),GS()}function GS(){if($t!==5)return!1;var r=ws,s=$g;$g=0;var l=Tr(jr),c=ee.T,p=oe.p;try{oe.p=32>l?32:l,ee.T=null,l=Yg,Yg=null;var g=ws,T=jr;if($t=0,al=ws=null,jr=0,(Je&6)!==0)throw Error(i(331));var w=Je;if(Je|=4,xS(g.current),bS(g,g.current,T,l),Je=w,lc(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(yi,g)}catch{}return!0}finally{oe.p=p,ee.T=c,HS(r,s)}}function KS(r,s,l){s=ii(l,s),s=Ig(r.stateNode,s,2),r=vs(r,s,2),r!==null&&(ga(r,2),or(r))}function it(r,s,l){if(r.tag===3)KS(r,r,l);else for(;s!==null;){if(s.tag===3){KS(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(As===null||!As.has(c))){r=ii(l,r),l=QT(2),c=vs(s,l,2),c!==null&&($T(l,c,s,r),ga(c,2),or(c));break}}s=s.return}}function Zg(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new UV;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Gg=!0,p.add(l),r=HV.bind(null,r,s,l),s.then(r,r))}function HV(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ht===r&&(ze&l)===l&&(wt===4||wt===3&&(ze&62914560)===ze&&300>En()-Yd?(Je&2)===0&&ol(r,0):Kg|=l,sl===ze&&(sl=0)),or(r)}function QS(r,s){s===0&&(s=Xh()),r=Da(r,s),r!==null&&(ga(r,s),or(r))}function GV(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),QS(r,l)}function KV(r,s){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),QS(r,l)}function QV(r,s){return Qt(r,s)}var nf=null,ul=null,ey=!1,rf=!1,ty=!1,Rs=0;function or(r){r!==ul&&r.next===null&&(ul===null?nf=ul=r:ul=ul.next=r),rf=!0,ey||(ey=!0,YV())}function lc(r,s){if(!ty&&rf){ty=!0;do for(var l=!1,c=nf;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-Ct(42|r)+1)-1,g&=p&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,XS(c,g))}else g=ze,g=qi(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||vi(c,g)||(l=!0,XS(c,g));c=c.next}while(l);ty=!1}}function $V(){$S()}function $S(){rf=ey=!1;var r=0;Rs!==0&&sO()&&(r=Rs);for(var s=En(),l=null,c=nf;c!==null;){var p=c.next,g=YS(c,s);g===0?(c.next=null,l===null?nf=p:l.next=p,p===null&&(ul=l)):(l=c,(r!==0||(g&3)!==0)&&(rf=!0)),c=p}$t!==0&&$t!==5||lc(r),Rs!==0&&(Rs=0)}function YS(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-Ct(g),w=1<<T,k=p[T];k===-1?((w&l)===0||(w&c)!==0)&&(p[T]=Dp(w,s)):k<=s&&(r.expiredLanes|=w),g&=~w}if(s=ht,l=ze,l=qi(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(nt===2||nt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ts(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||vi(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&ts(c),Tr(l)){case 2:case 8:l=vu;break;case 32:l=ns;break;case 268435456:l=Kh;break;default:l=ns}return c=WS.bind(null,r),l=Qt(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&ts(c),r.callbackPriority=2,r.callbackNode=null,2}function WS(r,s){if($t!==0&&$t!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(tf()&&r.callbackNode!==l)return null;var c=ze;return c=qi(r,r===ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(VS(r,c,s),YS(r,En()),r.callbackNode!=null&&r.callbackNode===l?WS.bind(null,r):null)}function XS(r,s){if(tf())return null;VS(r,s,!0)}function YV(){oO(function(){(Je&6)!==0?Qt(yu,$V):$S()})}function ny(){if(Rs===0){var r=$o;r===0&&(r=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Rs=r}return Rs}function JS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Po(""+r)}function ZS(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function WV(r,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=JS((p[Jt]||null).action),T=c.submitter;T&&(s=(s=T[Jt]||null)?JS(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new er("action","action",null,c,p);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rs!==0){var k=T?ZS(p,T):new FormData(p);Sg(l,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(w.preventDefault(),k=T?ZS(p,T):new FormData(p),Sg(l,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var iy=0;iy<Up.length;iy++){var ry=Up[iy],XV=ry.toLowerCase(),JV=ry[0].toUpperCase()+ry.slice(1);xi(XV,"on"+JV)}xi(DE,"onAnimationEnd"),xi(VE,"onAnimationIteration"),xi(OE,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(mV,"onTransitionRun"),xi(pV,"onTransitionStart"),xi(gV,"onTransitionCancel"),xi(PE,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function e1(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var w=c[T],k=w.instance,Y=w.currentTarget;if(w=w.listener,k!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=Y;try{g(p)}catch(ne){vd(ne)}p.currentTarget=null,g=k}else for(T=0;T<c.length;T++){if(w=c[T],k=w.instance,Y=w.currentTarget,w=w.listener,k!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=Y;try{g(p)}catch(ne){vd(ne)}p.currentTarget=null,g=k}}}}function Ue(r,s){var l=s[Io];l===void 0&&(l=s[Io]=new Set);var c=r+"__bubble";l.has(c)||(t1(s,r,2,!1),l.add(c))}function sy(r,s,l){var c=0;s&&(c|=4),t1(l,r,c,s)}var sf="_reactListening"+Math.random().toString(36).slice(2);function ay(r){if(!r[sf]){r[sf]=!0,Tu.forEach(function(l){l!=="selectionchange"&&(ZV.has(l)||sy(l,!1,r),sy(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[sf]||(s[sf]=!0,sy("selectionchange",!1,s))}}function t1(r,s,l,c){switch(D1(s)){case 2:var p=RO;break;case 8:p=IO;break;default:p=Ty}l=p.bind(null,s,l,r),p=void 0,!Sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function oy(r,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===p)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;w!==null;){if(T=Qi(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=g=T;continue e}w=w.parentNode}}c=c.return}ls(function(){var Y=g,ne=Zn(l),ae=[];e:{var W=ME.get(r);if(W!==void 0){var Z=er,pe=r;switch(r){case"keypress":if(Aa(l)===0)break e;case"keydown":case"keyup":Z=pd;break;case"focusin":pe="focus",Z=xa;break;case"focusout":pe="blur",Z=xa;break;case"beforeblur":case"afterblur":Z=xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case DE:case VE:case OE:Z=ld;break;case PE:Z=R;break;case"scroll":case"scrollend":Z=Pu;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ar;break;case"toggle":case"beforetoggle":Z=Oe}var be=(s&4)!==0,ct=!be&&(r==="scroll"||r==="scrollend"),G=be?W!==null?W+"Capture":null:W;be=[];for(var F=Y,$;F!==null;){var se=F;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||G===null||(se=Si(F,G),se!=null&&be.push(cc(F,se,$))),ct)break;F=F.return}0<be.length&&(W=new Z(W,pe,null,l,ne),ae.push({event:W,listeners:be}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&l!==Du&&(pe=l.relatedTarget||l.fromElement)&&(Qi(pe)||pe[Gi]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(pe=l.relatedTarget||l.toElement,Z=Y,pe=pe?Qi(pe):null,pe!==null&&(ct=o(pe),be=pe.tag,pe!==ct||be!==5&&be!==27&&be!==6)&&(pe=null)):(Z=null,pe=Y),Z!==pe)){if(be=Mu,se="onMouseLeave",G="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(be=Ar,se="onPointerLeave",G="onPointerEnter",F="pointer"),ct=Z==null?W:jn(Z),$=pe==null?W:jn(pe),W=new be(se,F+"leave",Z,l,ne),W.target=ct,W.relatedTarget=$,se=null,Qi(ne)===Y&&(be=new be(G,F+"enter",pe,l,ne),be.target=$,be.relatedTarget=ct,se=be),ct=se,Z&&pe)t:{for(be=eO,G=Z,F=pe,$=0,se=G;se;se=be(se))$++;se=0;for(var Ee=F;Ee;Ee=be(Ee))se++;for(;0<$-se;)G=be(G),$--;for(;0<se-$;)F=be(F),se--;for(;$--;){if(G===F||F!==null&&G===F.alternate){be=G;break t}G=be(G),F=be(F)}be=null}else be=null;Z!==null&&n1(ae,W,Z,be,!1),pe!==null&&ct!==null&&n1(ae,ct,pe,be,!0)}}e:{if(W=Y?jn(Y):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Ye=_E;else if(yE(W))if(EE)Ye=hV;else{Ye=uV;var ve=lV}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Oo(Y.elementType)&&(Ye=_E):Ye=cV;if(Ye&&(Ye=Ye(r,Y))){vE(ae,Ye,l,ne);break e}ve&&ve(r,W,Y),r==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Ru(W,"number",W.value)}switch(ve=Y?jn(Y):window,r){case"focusin":(yE(ve)||ve.contentEditable==="true")&&(zo=ve,kp=Y,Uu=null);break;case"focusout":Uu=kp=zo=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,IE(ae,l,ne);break;case"selectionchange":if(fV)break;case"keydown":case"keyup":IE(ae,l,ne)}var Ne;if(Xe)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Uo?Ra(r,l)&&(Be="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(ir&&l.locale!=="ko"&&(Uo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Uo&&(Ne=Ou()):(Zi=ne,Vu="value"in Zi?Zi.value:Zi.textContent,Uo=!0)),ve=af(Y,Be),0<ve.length&&(Be=new nr(Be,r,null,l,ne),ae.push({event:Be,listeners:ve}),Ne?Be.data=Ne:(Ne=jo(l),Ne!==null&&(Be.data=Ne)))),(Ne=ti?rV(r,l):sV(r,l))&&(Be=af(Y,"onBeforeInput"),0<Be.length&&(ve=new nr("onBeforeInput","beforeinput",null,l,ne),ae.push({event:ve,listeners:Be}),ve.data=Ne)),WV(ae,r,Y,l,ne)}e1(ae,s)})}function cc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function af(r,s){for(var l=s+"Capture",c=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Si(r,l),p!=null&&c.unshift(cc(r,p,g)),p=Si(r,s),p!=null&&c.push(cc(r,p,g))),r.tag===3)return c;r=r.return}return[]}function eO(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function n1(r,s,l,c,p){for(var g=s._reactName,T=[];l!==null&&l!==c;){var w=l,k=w.alternate,Y=w.stateNode;if(w=w.tag,k!==null&&k===c)break;w!==5&&w!==26&&w!==27||Y===null||(k=Y,p?(Y=Si(l,g),Y!=null&&T.unshift(cc(l,Y,k))):p||(Y=Si(l,g),Y!=null&&T.push(cc(l,Y,k)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var tO=/\r\n?/g,nO=/\u0000|\uFFFD/g;function i1(r){return(typeof r=="string"?r:""+r).replace(tO,`
`).replace(nO,"")}function r1(r,s){return s=i1(s),i1(r)===s}function ut(r,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Dn(r,""+c);break;case"className":Un(r,"class",c);break;case"tabIndex":Un(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(r,l,c);break;case"style":Cu(r,c,g);break;case"data":if(s!=="object"){Un(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Po(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ut(r,s,"name",p.name,p,null),ut(r,s,"formEncType",p.formEncType,p,null),ut(r,s,"formMethod",p.formMethod,p,null),ut(r,s,"formTarget",p.formTarget,p,null)):(ut(r,s,"encType",p.encType,p,null),ut(r,s,"method",p.method,p,null),ut(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Po(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Ti);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Po(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Do(r,"popover",c);break;case"xlinkActuate":jt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Do(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sd.get(l)||l,Do(r,l,c))}}function ly(r,s,l,c,p,g){switch(l){case"style":Cu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&Dn(r,""+c);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Su.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=r[Jt]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Do(r,l,c)}}}function un(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,g,T,l,null)}}p&&ut(r,s,"srcSet",l.srcSet,l,null),c&&ut(r,s,"src",l.src,l,null);return;case"input":Ue("invalid",r);var w=g=T=p=null,k=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":p=ne;break;case"type":T=ne;break;case"checked":k=ne;break;case"defaultChecked":Y=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ut(r,s,c,ne,l,null)}}nd(r,g,w,k,Y,T,p,!1);return;case"select":Ue("invalid",r),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(w=l[p],w!=null))switch(p){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:ut(r,s,p,w,l,null)}s=g,l=T,r.multiple=!!c,s!=null?rs(r,!!c,s,!1):l!=null&&rs(r,!!c,l,!0);return;case"textarea":Ue("invalid",r),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":p=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ut(r,s,T,w,l,null)}ss(r,c,p,g);return;case"option":for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null)&&(k==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(r,s,k,c,l,null));return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(c=0;c<uc.length;c++)Ue(uc[c],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,Y,c,l,null)}return;default:if(Oo(s)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&ly(r,s,ne,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&ut(r,s,w,c,l,null))}function iO(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,w=null,k=null,Y=null,ne=null;for(Z in l){var ae=l[Z];if(l.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=ae;default:c.hasOwnProperty(Z)||ut(r,s,Z,null,c,ae)}}for(var W in c){var Z=c[W];if(ae=l[W],c.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":g=Z;break;case"name":p=Z;break;case"checked":Y=Z;break;case"defaultChecked":ne=Z;break;case"value":T=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ae&&ut(r,s,W,Z,c,ae)}}Vo(r,T,w,k,Y,ne,g,p);return;case"select":Z=T=w=W=null;for(g in l)if(k=l[g],l.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Z=k;default:c.hasOwnProperty(g)||ut(r,s,g,null,c,k)}for(p in c)if(g=c[p],k=l[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":W=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==k&&ut(r,s,p,g,c,k)}s=w,l=T,c=Z,W!=null?rs(r,!!l,W,!1):!!c!=!!l&&(s!=null?rs(r,!!l,s,!0):rs(r,!!l,l?[]:"",!1));return;case"textarea":Z=W=null;for(w in l)if(p=l[w],l.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(r,s,w,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":W=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&ut(r,s,T,p,c,g)}id(r,W,Z);return;case"option":for(var pe in l)W=l[pe],l.hasOwnProperty(pe)&&W!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?r.selected=!1:ut(r,s,pe,null,c,W));for(k in c)W=c[k],Z=l[k],c.hasOwnProperty(k)&&W!==Z&&(W!=null||Z!=null)&&(k==="selected"?r.selected=W&&typeof W!="function"&&typeof W!="symbol":ut(r,s,k,W,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)W=l[be],l.hasOwnProperty(be)&&W!=null&&!c.hasOwnProperty(be)&&ut(r,s,be,null,c,W);for(Y in c)if(W=c[Y],Z=l[Y],c.hasOwnProperty(Y)&&W!==Z&&(W!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:ut(r,s,Y,W,c,Z)}return;default:if(Oo(s)){for(var ct in l)W=l[ct],l.hasOwnProperty(ct)&&W!==void 0&&!c.hasOwnProperty(ct)&&ly(r,s,ct,void 0,c,W);for(ne in c)W=c[ne],Z=l[ne],!c.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||ly(r,s,ne,W,c,Z);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&ut(r,s,G,null,c,W);for(ae in c)W=c[ae],Z=l[ae],!c.hasOwnProperty(ae)||W===Z||W==null&&Z==null||ut(r,s,ae,W,c,Z)}function s1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rO(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],g=p.transferSize,T=p.initiatorType,w=p.duration;if(g&&w&&s1(T)){for(T=0,w=p.responseEnd,c+=1;c<l.length;c++){var k=l[c],Y=k.startTime;if(Y>w)break;var ne=k.transferSize,ae=k.initiatorType;ne&&s1(ae)&&(k=k.responseEnd,T+=ne*(k<w?1:(w-Y)/(k-Y)))}if(--c,s+=8*(g+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var uy=null,cy=null;function of(r){return r.nodeType===9?r:r.ownerDocument}function a1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function hy(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dy=null;function sO(){var r=window.event;return r&&r.type==="popstate"?r===dy?!1:(dy=r,!0):(dy=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,aO=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(r){return u1.resolve(null).then(r).catch(lO)}:l1;function lO(r){setTimeout(function(){throw r})}function Is(r){return r==="head"}function c1(r,s){var l=s,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(p),fl(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")hc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,hc(l);for(var g=l.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ki]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=T}}else l==="body"&&hc(r.ownerDocument.body);l=p}while(l);fl(s)}function h1(r,s){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function fy(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fy(l),Co(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function uO(r,s,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function cO(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=li(r.nextSibling),r===null))return null;return r}function d1(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=li(r.nextSibling),r===null))return null;return r}function my(r){return r.data==="$?"||r.data==="$~"}function py(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function hO(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function li(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var gy=null;function f1(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return li(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function m1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function p1(r,s,l){switch(s=of(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function hc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Co(r)}var ui=new Map,g1=new Set;function lf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ur=oe.d;oe.d={f:dO,r:fO,D:mO,C:pO,L:gO,m:yO,X:_O,S:vO,M:EO};function dO(){var r=Ur.f(),s=Jd();return r||s}function fO(r){var s=Jn(r);s!==null&&s.tag===5&&s.type==="form"?PT(s):Ur.r(r)}var cl=typeof document>"u"?null:document;function y1(r,s,l){var c=cl;if(c&&typeof s=="string"&&s){var p=Cn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),g1.has(p)||(g1.add(p),r={rel:r,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),un(s,"link",r),Lt(s),c.head.appendChild(s)))}}function mO(r){Ur.D(r),y1("dns-prefetch",r,null)}function pO(r,s){Ur.C(r,s),y1("preconnect",r,s)}function gO(r,s,l){Ur.L(r,s,l);var c=cl;if(c&&r&&s){var p='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Cn(l.imageSizes)+'"]')):p+='[href="'+Cn(r)+'"]';var g=p;switch(s){case"style":g=hl(r);break;case"script":g=dl(r)}ui.has(g)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),ui.set(g,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(dc(g))||s==="script"&&c.querySelector(fc(g))||(s=c.createElement("link"),un(s,"link",r),Lt(s),c.head.appendChild(s)))}}function yO(r,s){Ur.m(r,s);var l=cl;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(r)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=dl(r)}if(!ui.has(g)&&(r=v({rel:"modulepreload",href:r},s),ui.set(g,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fc(g)))return}c=l.createElement("link"),un(c,"link",r),Lt(c),l.head.appendChild(c)}}}function vO(r,s,l){Ur.S(r,s,l);var c=cl;if(c&&r){var p=$i(c).hoistableStyles,g=hl(r);s=s||"default";var T=p.get(g);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(dc(g)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=ui.get(g))&&yy(r,l);var k=T=c.createElement("link");Lt(k),un(k,"link",r),k._p=new Promise(function(Y,ne){k.onload=Y,k.onerror=ne}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,uf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:w},p.set(g,T)}}}function _O(r,s){Ur.X(r,s);var l=cl;if(l&&r){var c=$i(l).hoistableScripts,p=dl(r),g=c.get(p);g||(g=l.querySelector(fc(p)),g||(r=v({src:r,async:!0},s),(s=ui.get(p))&&vy(r,s),g=l.createElement("script"),Lt(g),un(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function EO(r,s){Ur.M(r,s);var l=cl;if(l&&r){var c=$i(l).hoistableScripts,p=dl(r),g=c.get(p);g||(g=l.querySelector(fc(p)),g||(r=v({src:r,async:!0,type:"module"},s),(s=ui.get(p))&&vy(r,s),g=l.createElement("script"),Lt(g),un(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function v1(r,s,l,c){var p=(p=Re.current)?lf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hl(l.href),l=$i(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hl(l.href);var g=$i(p).hoistableStyles,T=g.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=p.querySelector(dc(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ui.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(r,l),g||TO(p,r,l,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dl(l),l=$i(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function hl(r){return'href="'+Cn(r)+'"'}function dc(r){return'link[rel="stylesheet"]['+r+"]"}function _1(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function TO(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),un(s,"link",l),Lt(s),r.head.appendChild(s))}function dl(r){return'[src="'+Cn(r)+'"]'}function fc(r){return"script[async]"+r}function E1(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(c)return s.instance=c,Lt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Lt(c),un(c,"style",p),uf(c,l.precedence,r),s.instance=c;case"stylesheet":p=hl(l.href);var g=r.querySelector(dc(p));if(g)return s.state.loading|=4,s.instance=g,Lt(g),g;c=_1(l),(p=ui.get(p))&&yy(c,p),g=(r.ownerDocument||r).createElement("link"),Lt(g);var T=g;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),un(g,"link",c),s.state.loading|=4,uf(g,l.precedence,r),s.instance=g;case"script":return g=dl(l.src),(p=r.querySelector(fc(g)))?(s.instance=p,Lt(p),p):(c=l,(p=ui.get(g))&&(c=v({},l),vy(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Lt(p),un(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,uf(c,l.precedence,r));return s.instance}function uf(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===s)g=w;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function yy(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function vy(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var cf=null;function T1(r,s,l){if(cf===null){var c=new Map,p=cf=new Map;p.set(l,c)}else p=cf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var g=l[p];if(!(g[Ki]||g[kt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var w=c.get(T);w?w.push(g):c.set(T,[g])}}return c}function S1(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function SO(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function b1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function bO(r,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=hl(c.href),g=s.querySelector(dc(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=hf.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=g,Lt(g);return}g=s.ownerDocument||s,c=_1(c),(p=ui.get(p))&&yy(c,p),g=g.createElement("link"),Lt(g);var T=g;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),un(g,"link",c),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=hf.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var _y=0;function AO(r,s){return r.stylesheets&&r.count===0&&ff(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&ff(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&_y===0&&(_y=62500*rO());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ff(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>_y?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var df=null;function ff(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,df=new Map,s.forEach(wO,r),df=null,hf.call(r))}function wO(r,s){if(!(s.state.loading&4)){var l=df.get(r);if(l)var c=l.get(null);else{l=new Map,df.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=hf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var mc={$$typeof:z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function xO(r,s,l,c,p,g,T,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function A1(r,s,l,c,p,g,T,w,k,Y,ne,ae){return r=new xO(r,s,l,T,k,Y,ne,ae,w),s=1,g===!0&&(s|=24),g=Bn(3,null,null,s),r.current=g,g.stateNode=r,s=Jp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},ng(g),r}function w1(r){return r?(r=qo,r):qo}function x1(r,s,l,c,p,g){p=w1(p),c.context===null?c.context=p:c.pendingContext=p,c=ys(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=vs(r,c,s),l!==null&&(Nn(l,r,s),Ku(l,r,s))}function R1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ey(r,s){R1(r,s),(r=r.alternate)&&R1(r,s)}function I1(r){if(r.tag===13||r.tag===31){var s=Da(r,67108864);s!==null&&Nn(s,r,67108864),Ey(r,67108864)}}function C1(r){if(r.tag===13||r.tag===31){var s=Kn();s=va(s);var l=Da(r,s);l!==null&&Nn(l,r,s),Ey(r,s)}}var mf=!0;function RO(r,s,l,c){var p=ee.T;ee.T=null;var g=oe.p;try{oe.p=2,Ty(r,s,l,c)}finally{oe.p=g,ee.T=p}}function IO(r,s,l,c){var p=ee.T;ee.T=null;var g=oe.p;try{oe.p=8,Ty(r,s,l,c)}finally{oe.p=g,ee.T=p}}function Ty(r,s,l,c){if(mf){var p=Sy(c);if(p===null)oy(r,s,c,pf,l),V1(r,c);else if(DO(p,r,s,l,c))c.stopPropagation();else if(V1(r,c),s&4&&-1<CO.indexOf(r)){for(;p!==null;){var g=Jn(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Fi(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-Ct(T);w.entanglements[1]|=k,T&=~k}or(g),(Je&6)===0&&(Wd=En()+500,lc(0))}}break;case 31:case 13:w=Da(g,2),w!==null&&Nn(w,g,2),Jd(),Ey(g,2)}if(g=Sy(c),g===null&&oy(r,s,c,pf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else oy(r,s,c,null,l)}}function Sy(r){return r=Zn(r),by(r)}var pf=null;function by(r){if(pf=null,r=Qi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return pf=r,null}function D1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case yu:return 2;case vu:return 8;case ns:case Cp:return 32;case Kh:return 268435456;default:return 32}default:return 32}}var Ay=!1,Cs=null,Ds=null,Vs=null,pc=new Map,gc=new Map,Os=[],CO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(r,s){switch(r){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":pc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(s.pointerId)}}function yc(r,s,l,c,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Jn(s),s!==null&&I1(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function DO(r,s,l,c,p){switch(s){case"focusin":return Cs=yc(Cs,r,s,l,c,p),!0;case"dragenter":return Ds=yc(Ds,r,s,l,c,p),!0;case"mouseover":return Vs=yc(Vs,r,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return pc.set(g,yc(pc.get(g)||null,r,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,gc.set(g,yc(gc.get(g)||null,r,s,l,c,p)),!0}return!1}function O1(r){var s=Qi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,_i(r.priority,function(){C1(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,_i(r.priority,function(){C1(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Sy(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Du=c,l.target.dispatchEvent(c),Du=null}else return s=Jn(l),s!==null&&I1(s),r.blockedOn=l,!1;s.shift()}return!0}function P1(r,s,l){gf(r)&&l.delete(s)}function VO(){Ay=!1,Cs!==null&&gf(Cs)&&(Cs=null),Ds!==null&&gf(Ds)&&(Ds=null),Vs!==null&&gf(Vs)&&(Vs=null),pc.forEach(P1),gc.forEach(P1)}function yf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ay||(Ay=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VO)))}var vf=null;function M1(r){vf!==r&&(vf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vf===r&&(vf=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(by(c||l)===null)continue;break}var g=Jn(l);g!==null&&(r.splice(s,3),s-=3,Sg(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function fl(r){function s(k){return yf(k,r)}Cs!==null&&yf(Cs,r),Ds!==null&&yf(Ds,r),Vs!==null&&yf(Vs,r),pc.forEach(s),gc.forEach(s);for(var l=0;l<Os.length;l++){var c=Os[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Os.length&&(l=Os[0],l.blockedOn===null);)O1(l),l.blockedOn===null&&Os.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Jt]||null;if(typeof g=="function")T||M1(l);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Jt]||null)w=T.formAction;else if(by(p)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),M1(l)}}}function N1(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function wy(r){this._internalRoot=r}_f.prototype.render=wy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=Kn();x1(l,c,r,s,null,null)},_f.prototype.unmount=wy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;x1(r.current,2,null,r,null,null),Jd(),s[Gi]=null}};function _f(r){this._internalRoot=r}_f.prototype.unstable_scheduleHydration=function(r){if(r){var s=Jh();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Os.length&&s!==0&&s<Os[l].priority;l++);Os.splice(l,0,r),l===0&&O1(r)}};var k1=e.version;if(k1!=="19.2.4")throw Error(i(527,k1,"19.2.4"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var OO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{yi=Ef.inject(OO),rn=Ef}catch{}}return _c.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",p=qT,g=HT,T=GT;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=A1(r,1,!1,null,null,l,c,null,p,g,T,N1),r[Gi]=s.current,ay(r),new wy(s)},_c.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,p="",g=qT,T=HT,w=GT,k=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),s=A1(r,1,!0,s,l??null,c,p,k,g,T,w,N1),s.context=w1(null),l=s.current,c=Kn(),c=va(c),p=ys(c),p.callback=null,vs(l,p,c),l=c,s.current.lanes=l,ga(s,l),or(s),r[Gi]=s.current,ay(r),new _f(s)},_c.version="19.2.4",_c}var K1;function qO(){if(K1)return Iy.exports;K1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Iy.exports=FO(),Iy.exports}var HO=qO();var Q1="popstate";function GO(n={}){function e(i,a){let{pathname:o,search:u,hash:h}=i.location;return gv("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Xc(a)}return QO(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KO(){return Math.random().toString(36).substring(2,10)}function $1(n,e){return{usr:n.state,key:n.key,idx:e}}function gv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eu(e):e,state:t,key:e&&e.key||i||KO()}}function Xc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function QO(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),U=N==null?null:N-m;m=N,d&&d({action:h,location:M.location,delta:U})}function E(N,U){h="PUSH";let P=gv(M.location,N,U);m=y()+1;let z=$1(P,m),X=M.createHref(P);try{u.pushState(z,"",X)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(X)}o&&d&&d({action:h,location:M.location,delta:1})}function A(N,U){h="REPLACE";let P=gv(M.location,N,U);m=y();let z=$1(P,m),X=M.createHref(P);u.replaceState(z,"",X),o&&d&&d({action:h,location:M.location,delta:0})}function D(N){return $O(N)}let M={get action(){return h},get location(){return n(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Q1,v),d=N,()=>{a.removeEventListener(Q1,v),d=null}},createHref(N){return e(a,N)},createURL:D,encodeLocation(N){let U=D(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:A,go(N){return u.go(N)}};return M}function $O(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Tx(n,e,t="/"){return YO(n,e,t,!1)}function YO(n,e,t,i){let a=typeof e=="string"?eu(e):e,o=Gr(a.pathname||"/",t);if(o==null)return null;let u=Sx(n);WO(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=oP(o);h=sP(u[d],m,i)}return h}function Sx(n,e=[],t=[],i="",a=!1){let o=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;Et(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=qr([i,y.relativePath]),E=t.concat(y);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Sx(u.children,e,E,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:iP(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of bx(u.path))o(u,h,!0,d)}),e}function bx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=bx(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function WO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var XO=/^:[\w-]+$/,JO=3,ZO=2,eP=1,tP=10,nP=-2,Y1=n=>n==="*";function iP(n,e){let t=n.split("/"),i=t.length;return t.some(Y1)&&(i+=nP),e&&(i+=ZO),t.filter(a=>!Y1(a)).reduce((a,o)=>a+(XO.test(o)?JO:o===""?eP:tP),i)}function rP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function sP(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=om({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),E=d.route;if(!v&&m&&t&&!i[i.length-1].route.index&&(v=om({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:qr([o,v.pathname]),pathnameBase:hP(qr([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=qr([o,v.pathnameBase]))}return u}function om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aP(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let D=h[E]||"";u=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[E];return v&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function aP(n,e=!1,t=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function oP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function uP(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?eu(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=W1(t.substring(1),"/"):o=W1(t,e)):o=e,{pathname:o,search:dP(i),hash:fP(a)}}function W1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Oy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function w_(n){let e=cP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function x_(n,e,t,i=!1){let a;typeof n=="string"?a=eu(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),Oy("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Oy("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Oy("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?e[v]:"/"}let d=uP(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),hP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,mP=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function gP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wx(n,e){let t=n;if(typeof t!="string"||!lP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(Ax)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Gr(u.pathname,e);u.origin===o.origin&&h!=null?t=h+u.search+u.hash:a=!0}catch{ki(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xx=["POST","PUT","PATCH","DELETE"];new Set(xx);var yP=["GET",...xx];new Set(yP);var tu=O.createContext(null);tu.displayName="DataRouter";var Km=O.createContext(null);Km.displayName="DataRouterState";var vP=O.createContext(!1),Rx=O.createContext({isTransitioning:!1});Rx.displayName="ViewTransition";var _P=O.createContext(new Map);_P.displayName="Fetchers";var EP=O.createContext(null);EP.displayName="Await";var Wn=O.createContext(null);Wn.displayName="Navigation";var Sh=O.createContext(null);Sh.displayName="Location";var ji=O.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var R_=O.createContext(null);R_.displayName="RouteError";var Ix="REACT_ROUTER_ERROR",TP="REDIRECT",SP="ROUTE_ERROR_RESPONSE";function bP(n){if(n.startsWith(`${Ix}:${TP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function AP(n){if(n.startsWith(`${Ix}:${SP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new mP(e.status,e.statusText,e.data)}catch{}}function wP(n,{relative:e}={}){Et(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Wn),{hash:a,pathname:o,search:u}=bh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:qr([t,o])),i.createHref({pathname:h,search:u,hash:a})}function nu(){return O.useContext(Sh)!=null}function oa(){return Et(nu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Sh).location}var Cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dx(n){O.useContext(Wn).static||O.useLayoutEffect(n)}function In(){let{isDataRoute:n}=O.useContext(ji);return n?UP():xP()}function xP(){Et(nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(tu),{basename:e,navigator:t}=O.useContext(Wn),{matches:i}=O.useContext(ji),{pathname:a}=oa(),o=JSON.stringify(w_(i)),u=O.useRef(!1);return Dx(()=>{u.current=!0}),O.useCallback((d,m={})=>{if(ki(u.current,Cx),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=x_(d,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qr([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,n])}O.createContext(null);function RP(){let{matches:n}=O.useContext(ji),e=n[n.length-1];return e?e.params:{}}function bh(n,{relative:e}={}){let{matches:t}=O.useContext(ji),{pathname:i}=oa(),a=JSON.stringify(w_(t));return O.useMemo(()=>x_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function IP(n,e){return Vx(n,e)}function Vx(n,e,t,i,a){Et(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(Wn),{matches:u}=O.useContext(ji),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let P=v&&v.path||"";Px(m,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let E=oa(),A;if(e){let P=typeof e=="string"?eu(e):e;Et(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),A=P}else A=E;let D=A.pathname||"/",M=D;if(y!=="/"){let P=y.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=Tx(n,{pathname:M});ki(v||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ki(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=PP(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:qr([y,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:qr([y,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,t,i,a);return e&&U?O.createElement(Sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function CP(){let n=jP(),e=pP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:a},t):null,u)}var DP=O.createElement(CP,null),Ox=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=AP(n.digest);t&&(n=t)}let e=n!==void 0?O.createElement(ji.Provider,{value:this.props.routeContext},O.createElement(R_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?O.createElement(VP,{error:n},e):e}};Ox.contextType=vP;var Py=new WeakMap;function VP({children:n,error:e}){let{basename:t}=O.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=bP(e.digest);if(i){let a=Py.get(e);if(a)throw a;let o=wx(i.location,t);if(Ax&&!Py.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Py.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function OP({routeContext:n,match:e,children:t}){let i=O.useContext(tu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ji.Provider,{value:n},t)}function PP(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let y=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:E,errors:A}=t,D=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=t&&i?(y,v)=>{i(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:gP(t.matches),errorInfo:v})}:void 0;return o.reduceRight((y,v,E)=>{let A,D=!1,M=null,N=null;t&&(A=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||DP,h&&(d<0&&E===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,N=null):d===E&&(D=!0,N=v.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,E+1)),P=()=>{let z;return A?z=M:D?z=N:v.route.Component?z=O.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=y,O.createElement(OP,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:t!=null},children:z})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?O.createElement(Ox,{location:t.location,revalidation:t.revalidation,component:M,error:A,children:P(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:m}):P()},null)}function I_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MP(n){let e=O.useContext(tu);return Et(e,I_(n)),e}function NP(n){let e=O.useContext(Km);return Et(e,I_(n)),e}function kP(n){let e=O.useContext(ji);return Et(e,I_(n)),e}function C_(n){let e=kP(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LP(){return C_("useRouteId")}function jP(){let n=O.useContext(R_),e=NP("useRouteError"),t=C_("useRouteError");return n!==void 0?n:e.errors?.[t]}function UP(){let{router:n}=MP("useNavigate"),e=C_("useNavigate"),t=O.useRef(!1);return Dx(()=>{t.current=!0}),O.useCallback(async(a,o={})=>{ki(t.current,Cx),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var X1={};function Px(n,e,t){!e&&!X1[n]&&(X1[n]=!0,ki(!1,t))}O.memo(zP);function zP({routes:n,future:e,state:t,onError:i}){return Vx(n,void 0,t,i,e)}function lm({to:n,replace:e,state:t,relative:i}){Et(nu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Wn);ki(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(ji),{pathname:u}=oa(),h=In(),d=x_(n,w_(o),u,i==="path"),m=JSON.stringify(d);return O.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function kn(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Et(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof t=="string"&&(t=eu(t));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:A="default"}=t,D=O.useMemo(()=>{let M=Gr(m,h);return M==null?null:{location:{pathname:M,search:y,hash:v,state:E,key:A},navigationType:i}},[h,m,y,v,E,A,i]);return ki(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(Wn.Provider,{value:d},O.createElement(Sh.Provider,{children:e,value:D}))}function FP({children:n,location:e}){return IP(yv(n),e)}function yv(n,e=[]){let t=[];return O.Children.forEach(n,(i,a)=>{if(!O.isValidElement(i))return;let o=[...e,a];if(i.type===O.Fragment){t.push.apply(t,yv(i.props.children,o));return}Et(i.type===kn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=yv(i.props.children,o)),t.push(u)}),t}var Nf="get",kf="application/x-www-form-urlencoded";function Qm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function qP(n){return Qm(n)&&n.tagName.toLowerCase()==="button"}function HP(n){return Qm(n)&&n.tagName.toLowerCase()==="form"}function GP(n){return Qm(n)&&n.tagName.toLowerCase()==="input"}function KP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QP(n,e){return n.button===0&&(!e||e==="_self")&&!KP(n)}var Sf=null;function $P(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var YP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(n){return n!=null&&!YP.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):n}function WP(n,e){let t,i,a,o,u;if(HP(n)){let h=n.getAttribute("action");i=h?Gr(h,e):null,t=n.getAttribute("method")||Nf,a=My(n.getAttribute("enctype"))||kf,o=new FormData(n)}else if(qP(n)||GP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Gr(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Nf,a=My(n.getAttribute("formenctype"))||My(h.getAttribute("enctype"))||kf,o=new FormData(h,n),!$P()){let{name:m,type:y,value:v}=n;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,v)}}else{if(Qm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nf,i=null,a=kf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function XP(n,e,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function JP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eM(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await JP(o,t);return u.links?u.links():[]}return[]}));return rM(i.flat(1).filter(ZP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function J1(n,e,t,i,a,o){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>t[m].pathname!==d.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tM(n,e,{includeHydrateFallback:t}={}){return nM(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function nM(n){return[...new Set(n)]}function iM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function rM(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(iM(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function Mx(){let n=O.useContext(tu);return D_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sM(){let n=O.useContext(Km);return D_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var V_=O.createContext(void 0);V_.displayName="FrameworkContext";function Nx(){let n=O.useContext(V_);return D_(n,"You must render this element inside a <HydratedRouter> element"),n}function aM(n,e){let t=O.useContext(V_),[i,a]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=U=>{U.forEach(P=>{u(P.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),O.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let A=()=>{a(!0)},D=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Ec(h,A),onBlur:Ec(d,D),onMouseEnter:Ec(m,A),onMouseLeave:Ec(y,D),onTouchStart:Ec(v,A)}]:[!1,E,{}]}function Ec(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oM({page:n,...e}){let{router:t}=Mx(),i=O.useMemo(()=>Tx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?O.createElement(uM,{page:n,matches:i,...e}):null}function lM(n){let{manifest:e,routeModules:t}=Nx(),[i,a]=O.useState([]);return O.useEffect(()=>{let o=!1;return eM(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function uM({page:n,matches:e,...t}){let i=oa(),{future:a,manifest:o,routeModules:u}=Nx(),{basename:h}=Mx(),{loaderData:d,matches:m}=sM(),y=O.useMemo(()=>J1(n,e,m,o,i,"data"),[n,e,m,o,i]),v=O.useMemo(()=>J1(n,e,m,o,i,"assets"),[n,e,m,o,i]),E=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,N=!1;if(e.forEach(P=>{let z=o.routes[P.route.id];!z||!z.hasLoader||(!y.some(X=>X.route.id===P.route.id)&&P.route.id in d&&u[P.route.id]?.shouldRevalidate||z.hasClientLoader?N=!0:M.add(P.route.id))}),M.size===0)return[];let U=XP(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&M.size>0&&U.searchParams.set("_routes",e.filter(P=>M.has(P.route.id)).map(P=>P.route.id).join(",")),[U.pathname+U.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,o,y,e,n,u]),A=O.useMemo(()=>tM(v,o),[v,o]),D=lM(v);return O.createElement(O.Fragment,null,E.map(M=>O.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>O.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),D.map(({key:M,link:N})=>O.createElement("link",{key:M,nonce:t.nonce,...N,crossOrigin:N.crossOrigin??t.crossOrigin})))}function cM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hM&&(window.__reactRouterVersion="7.13.0")}catch{}function dM({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=O.useRef();a.current==null&&(a.current=GO({window:i,v5Compat:!0}));let o=a.current,[u,h]=O.useState({action:o.action,location:o.location}),d=O.useCallback(m=>{t===!1?h(m):O.startTransition(()=>h(m))},[t]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(BP,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lx=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},D){let{basename:M,unstable_useTransitions:N}=O.useContext(Wn),U=typeof m=="string"&&kx.test(m),P=wx(m,M);m=P.to;let z=wP(m,{relative:a}),[X,H,ie]=aM(i,A),I=gM(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:N});function x(j){e&&e(j),j.defaultPrevented||I(j)}let C=O.createElement("a",{...A,...ie,href:P.absoluteURL||z,onClick:P.isExternal||o?e:x,ref:cM(D,H),target:d,"data-discover":!U&&t==="render"?"true":void 0});return X&&!U?O.createElement(O.Fragment,null,C,O.createElement(oM,{page:z})):C});Lx.displayName="Link";var fM=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let v=bh(u,{relative:m.relative}),E=oa(),A=O.useContext(Km),{navigator:D,basename:M}=O.useContext(Wn),N=A!=null&&TM(v)&&h===!0,U=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,P=E.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(P=P.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&M&&(z=Gr(z,M)||z);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let H=P===U||!a&&P.startsWith(U)&&P.charAt(X)==="/",ie=z!=null&&(z===U||!a&&z.startsWith(U)&&z.charAt(U.length)==="/"),I={isActive:H,isPending:ie,isTransitioning:N},x=H?e:void 0,C;typeof i=="function"?C=i(I):C=[i,H?"active":null,ie?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(I):o;return O.createElement(Lx,{...m,"aria-current":x,className:C,ref:y,style:j,to:u,viewTransition:h},typeof d=="function"?d(I):d)});fM.displayName="NavLink";var mM=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=Nf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},D)=>{let{unstable_useTransitions:M}=O.useContext(Wn),N=_M(),U=EM(h,{relative:m}),P=u.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&kx.test(h),X=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let ie=H.nativeEvent.submitter,I=ie?.getAttribute("formmethod")||u,x=()=>N(ie||H.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});M&&t!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:D,method:P,action:U,onSubmit:i?d:X,...A,"data-discover":!z&&n==="render"?"true":void 0})});mM.displayName="Form";function pM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(n){let e=O.useContext(tu);return Et(e,pM(n)),e}function gM(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=In(),y=oa(),v=bh(n,{relative:o});return O.useCallback(E=>{if(QP(E,e)){E.preventDefault();let A=t!==void 0?t:Xc(y)===Xc(v),D=()=>m(n,{replace:A,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?O.startTransition(()=>D()):D()}},[y,m,v,t,i,e,n,a,o,u,h,d])}var yM=0,vM=()=>`__${String(++yM)}__`;function _M(){let{router:n}=jx("useSubmit"),{basename:e}=O.useContext(Wn),t=LP(),i=n.fetch,a=n.navigate;return O.useCallback(async(o,u={})=>{let{action:h,method:d,encType:m,formData:y,body:v}=WP(o,e);if(u.navigate===!1){let E=u.fetcherKey||vM();await i(E,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,t])}function EM(n,{relative:e}={}){let{basename:t}=O.useContext(Wn),i=O.useContext(ji);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...bh(n||".",{relative:e})},u=oa();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qr([t,o.pathname])),Xc(o)}function TM(n,{relative:e}={}){let t=O.useContext(Rx);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jx("useViewTransitionState"),a=bh(n,{relative:e});if(!t.isTransitioning)return!1;let o=Gr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Gr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return om(a.pathname,u)!=null||om(a.pathname,o)!=null}const SM="modulepreload",bM=function(n){return"/ACAMP2026-ANTIGRAVITY/"+n},Z1={},Ux=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var u=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(t.map(y=>{if(y=bM(y),y in Z1)return;Z1[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":SM,v||(A.as="script"),A.crossOrigin="",A.href=y,d&&A.setAttribute("nonce",d),document.head.appendChild(A),v)return new Promise((D,M)=>{A.addEventListener("load",D),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},AM=()=>{};var eb={};const zx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},wM=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,A=m&63;d||(A=64,u||(E=64)),i.push(t[y],t[v],t[E],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new xM;const E=o<<2|h>>4;if(i.push(E),m!==64){const A=h<<4&240|m>>2;if(i.push(A),v!==64){const D=m<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RM=function(n){const e=zx(n);return Bx.encodeByteArray(e,!0)},um=function(n){return RM(n).replace(/\./g,"")},Fx=function(n){try{return Bx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IM=()=>qx().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof eb>"u")return;const n=eb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fx(n[1]);return e&&JSON.parse(e)},$m=()=>{try{return AM()||IM()||CM()||DM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hx=n=>$m()?.emulatorHosts?.[n],VM=n=>{const e=Hx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Gx=()=>$m()?.config,Kx=n=>$m()?.[`_${n}`];class OM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function iu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qx(n){return(await fetch(n,{credentials:"include"})).ok}function PM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[um(JSON.stringify(t)),um(JSON.stringify(u)),""].join(".")}const Lc={};function MM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function NM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let tb=!1;function $x(n,e){if(typeof window>"u"||typeof document>"u"||!iu(window.location.host)||Lc[n]===e||Lc[n]||tb)return;Lc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=MM().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{tb=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=NM(i),A=t("text"),D=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),N=document.getElementById(M)||document.createElement("a"),U=t("preprendIcon"),P=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),y(N,M);const X=m();d(P,U),z.append(P,D,N,X),document.body.appendChild(z)}o?(D.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Yx(){const n=$m()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zM(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Wx(){return!Yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xx(){return!Yx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Jx(){try{return typeof indexedDB=="object"}catch{return!1}}function BM(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const FM="FirebaseError";class Xr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=FM,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?qM(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Xr(a,h,i)}}function qM(n,e){return n.replace(HM,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const HM=/\{\$([^}]+)}/g;function GM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(nb(o)&&nb(u)){if(!Zs(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function nb(n){return n!==null&&typeof n=="object"}function wh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ic(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KM(n,e){const t=new QM(n,e);return t.subscribe.bind(t)}class QM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");$M(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ny),a.error===void 0&&(a.error=Ny),a.complete===void 0&&(a.complete=Ny);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $M(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ny(){}function Pt(n){return n&&n._delegate?n._delegate:n}class uo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class YM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OM;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XM(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WM(n){return n===Ka?void 0:n}function XM(n){return n.instantiationMode==="EAGER"}class JM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const ZM={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},eN=Fe.INFO,tN={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=tN[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=eN,this._logHandler=nN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const iN=(n,e)=>e.some(t=>n instanceof t);let ib,rb;function rN(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sN(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,vv=new WeakMap,eR=new WeakMap,ky=new WeakMap,P_=new WeakMap;function aN(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Qs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Zx.set(t,n)}).catch(()=>{}),P_.set(e,n),e}function oN(n){if(vv.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});vv.set(n,e)}let _v={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lN(n){_v=n(_v)}function uN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ly(this),e,...t);return eR.set(i,e.sort?e.sort():[e]),Qs(i)}:sN().includes(n)?function(...e){return n.apply(Ly(this),e),Qs(Zx.get(this))}:function(...e){return Qs(n.apply(Ly(this),e))}}function cN(n){return typeof n=="function"?uN(n):(n instanceof IDBTransaction&&oN(n),iN(n,rN())?new Proxy(n,_v):n)}function Qs(n){if(n instanceof IDBRequest)return aN(n);if(ky.has(n))return ky.get(n);const e=cN(n);return e!==n&&(ky.set(n,e),P_.set(e,n)),e}const Ly=n=>P_.get(n);function hN(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Qs(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Qs(u.result),d.oldVersion,d.newVersion,Qs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const dN=["get","getKey","getAll","getAllKeys","count"],fN=["put","add","delete","clear"],jy=new Map;function sb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jy.get(e))return jy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=fN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||dN.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return jy.set(e,o),o}lN(n=>({...n,get:(e,t,i)=>sb(e,t)||n.get(e,t,i),has:(e,t)=>!!sb(e,t)||n.has(e,t)}));class mN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function pN(n){return n.getComponent()?.type==="VERSION"}const Ev="@firebase/app",ab="0.14.8";const Kr=new O_("@firebase/app"),gN="@firebase/app-compat",yN="@firebase/analytics-compat",vN="@firebase/analytics",_N="@firebase/app-check-compat",EN="@firebase/app-check",TN="@firebase/auth",SN="@firebase/auth-compat",bN="@firebase/database",AN="@firebase/data-connect",wN="@firebase/database-compat",xN="@firebase/functions",RN="@firebase/functions-compat",IN="@firebase/installations",CN="@firebase/installations-compat",DN="@firebase/messaging",VN="@firebase/messaging-compat",ON="@firebase/performance",PN="@firebase/performance-compat",MN="@firebase/remote-config",NN="@firebase/remote-config-compat",kN="@firebase/storage",LN="@firebase/storage-compat",jN="@firebase/firestore",UN="@firebase/ai",zN="@firebase/firestore-compat",BN="firebase",FN="12.9.0";const Tv="[DEFAULT]",qN={[Ev]:"fire-core",[gN]:"fire-core-compat",[vN]:"fire-analytics",[yN]:"fire-analytics-compat",[EN]:"fire-app-check",[_N]:"fire-app-check-compat",[TN]:"fire-auth",[SN]:"fire-auth-compat",[bN]:"fire-rtdb",[AN]:"fire-data-connect",[wN]:"fire-rtdb-compat",[xN]:"fire-fn",[RN]:"fire-fn-compat",[IN]:"fire-iid",[CN]:"fire-iid-compat",[DN]:"fire-fcm",[VN]:"fire-fcm-compat",[ON]:"fire-perf",[PN]:"fire-perf-compat",[MN]:"fire-rc",[NN]:"fire-rc-compat",[kN]:"fire-gcs",[LN]:"fire-gcs-compat",[jN]:"fire-fst",[zN]:"fire-fst-compat",[UN]:"fire-vertex","fire-js":"fire-js",[BN]:"fire-js-all"};const cm=new Map,HN=new Map,Sv=new Map;function ob(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ul(n){const e=n.name;if(Sv.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Sv.set(e,n);for(const t of cm.values())ob(t,n);for(const t of HN.values())ob(t,n);return!0}function M_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ci(n){return n==null?!1:n.settings!==void 0}const GN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new Ah("app","Firebase",GN);class KN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const ru=FN;function tR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Tv,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw $s.create("bad-app-name",{appName:String(a)});if(t||(t=Gx()),!t)throw $s.create("no-options");const o=cm.get(a);if(o){if(Zs(t,o.options)&&Zs(i,o.config))return o;throw $s.create("duplicate-app",{appName:a})}const u=new JM(a);for(const d of Sv.values())u.addComponent(d);const h=new KN(t,i,u);return cm.set(a,h),h}function nR(n=Tv){const e=cm.get(n);if(!e&&n===Tv&&Gx())return tR();if(!e)throw $s.create("no-app",{appName:n});return e}function Ys(n,e,t){let i=qN[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}Ul(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const QN="firebase-heartbeat-database",$N=1,Jc="firebase-heartbeat-store";let Uy=null;function iR(){return Uy||(Uy=hN(QN,$N,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Uy}async function YN(n){try{const t=(await iR()).transaction(Jc),i=await t.objectStore(Jc).get(rR(n));return await t.done,i}catch(e){if(e instanceof Xr)Kr.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function lb(n,e){try{const i=(await iR()).transaction(Jc,"readwrite");await i.objectStore(Jc).put(e,rR(n)),await i.done}catch(t){if(t instanceof Xr)Kr.warn(t.message);else{const i=$s.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(i.message)}}}function rR(n){return`${n.name}!${n.options.appId}`}const WN=1024,XN=30;class JN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ek(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>XN){const a=tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ub(),{heartbeatsToSend:t,unsentEntries:i}=ZN(this._heartbeatsCache.heartbeats),a=um(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Kr.warn(e),""}}}function ub(){return new Date().toISOString().substring(0,10)}function ZN(n,e=WN){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),cb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),cb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jx()?BM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cb(n){return um(JSON.stringify({version:2,heartbeats:n})).length}function tk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function nk(n){Ul(new uo("platform-logger",e=>new mN(e),"PRIVATE")),Ul(new uo("heartbeat",e=>new JN(e),"PRIVATE")),Ys(Ev,ab,n),Ys(Ev,ab,"esm2020"),Ys("fire-js","")}nk("");var ik="firebase",rk="12.9.0";Ys(ik,rk,"app");var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,sR;(function(){var n;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(j,L,q){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return x.prototype[L].apply(j,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,C){C||(C=0);const j=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)j[L]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(L=0;L<16;++L)j[L]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],L=I.g[2];let q=I.g[3],V;V=x+(q^C&(L^q))+j[0]+3614090360&4294967295,x=C+(V<<7&4294967295|V>>>25),V=q+(L^x&(C^L))+j[1]+3905402710&4294967295,q=x+(V<<12&4294967295|V>>>20),V=L+(C^q&(x^C))+j[2]+606105819&4294967295,L=q+(V<<17&4294967295|V>>>15),V=C+(x^L&(q^x))+j[3]+3250441966&4294967295,C=L+(V<<22&4294967295|V>>>10),V=x+(q^C&(L^q))+j[4]+4118548399&4294967295,x=C+(V<<7&4294967295|V>>>25),V=q+(L^x&(C^L))+j[5]+1200080426&4294967295,q=x+(V<<12&4294967295|V>>>20),V=L+(C^q&(x^C))+j[6]+2821735955&4294967295,L=q+(V<<17&4294967295|V>>>15),V=C+(x^L&(q^x))+j[7]+4249261313&4294967295,C=L+(V<<22&4294967295|V>>>10),V=x+(q^C&(L^q))+j[8]+1770035416&4294967295,x=C+(V<<7&4294967295|V>>>25),V=q+(L^x&(C^L))+j[9]+2336552879&4294967295,q=x+(V<<12&4294967295|V>>>20),V=L+(C^q&(x^C))+j[10]+4294925233&4294967295,L=q+(V<<17&4294967295|V>>>15),V=C+(x^L&(q^x))+j[11]+2304563134&4294967295,C=L+(V<<22&4294967295|V>>>10),V=x+(q^C&(L^q))+j[12]+1804603682&4294967295,x=C+(V<<7&4294967295|V>>>25),V=q+(L^x&(C^L))+j[13]+4254626195&4294967295,q=x+(V<<12&4294967295|V>>>20),V=L+(C^q&(x^C))+j[14]+2792965006&4294967295,L=q+(V<<17&4294967295|V>>>15),V=C+(x^L&(q^x))+j[15]+1236535329&4294967295,C=L+(V<<22&4294967295|V>>>10),V=x+(L^q&(C^L))+j[1]+4129170786&4294967295,x=C+(V<<5&4294967295|V>>>27),V=q+(C^L&(x^C))+j[6]+3225465664&4294967295,q=x+(V<<9&4294967295|V>>>23),V=L+(x^C&(q^x))+j[11]+643717713&4294967295,L=q+(V<<14&4294967295|V>>>18),V=C+(q^x&(L^q))+j[0]+3921069994&4294967295,C=L+(V<<20&4294967295|V>>>12),V=x+(L^q&(C^L))+j[5]+3593408605&4294967295,x=C+(V<<5&4294967295|V>>>27),V=q+(C^L&(x^C))+j[10]+38016083&4294967295,q=x+(V<<9&4294967295|V>>>23),V=L+(x^C&(q^x))+j[15]+3634488961&4294967295,L=q+(V<<14&4294967295|V>>>18),V=C+(q^x&(L^q))+j[4]+3889429448&4294967295,C=L+(V<<20&4294967295|V>>>12),V=x+(L^q&(C^L))+j[9]+568446438&4294967295,x=C+(V<<5&4294967295|V>>>27),V=q+(C^L&(x^C))+j[14]+3275163606&4294967295,q=x+(V<<9&4294967295|V>>>23),V=L+(x^C&(q^x))+j[3]+4107603335&4294967295,L=q+(V<<14&4294967295|V>>>18),V=C+(q^x&(L^q))+j[8]+1163531501&4294967295,C=L+(V<<20&4294967295|V>>>12),V=x+(L^q&(C^L))+j[13]+2850285829&4294967295,x=C+(V<<5&4294967295|V>>>27),V=q+(C^L&(x^C))+j[2]+4243563512&4294967295,q=x+(V<<9&4294967295|V>>>23),V=L+(x^C&(q^x))+j[7]+1735328473&4294967295,L=q+(V<<14&4294967295|V>>>18),V=C+(q^x&(L^q))+j[12]+2368359562&4294967295,C=L+(V<<20&4294967295|V>>>12),V=x+(C^L^q)+j[5]+4294588738&4294967295,x=C+(V<<4&4294967295|V>>>28),V=q+(x^C^L)+j[8]+2272392833&4294967295,q=x+(V<<11&4294967295|V>>>21),V=L+(q^x^C)+j[11]+1839030562&4294967295,L=q+(V<<16&4294967295|V>>>16),V=C+(L^q^x)+j[14]+4259657740&4294967295,C=L+(V<<23&4294967295|V>>>9),V=x+(C^L^q)+j[1]+2763975236&4294967295,x=C+(V<<4&4294967295|V>>>28),V=q+(x^C^L)+j[4]+1272893353&4294967295,q=x+(V<<11&4294967295|V>>>21),V=L+(q^x^C)+j[7]+4139469664&4294967295,L=q+(V<<16&4294967295|V>>>16),V=C+(L^q^x)+j[10]+3200236656&4294967295,C=L+(V<<23&4294967295|V>>>9),V=x+(C^L^q)+j[13]+681279174&4294967295,x=C+(V<<4&4294967295|V>>>28),V=q+(x^C^L)+j[0]+3936430074&4294967295,q=x+(V<<11&4294967295|V>>>21),V=L+(q^x^C)+j[3]+3572445317&4294967295,L=q+(V<<16&4294967295|V>>>16),V=C+(L^q^x)+j[6]+76029189&4294967295,C=L+(V<<23&4294967295|V>>>9),V=x+(C^L^q)+j[9]+3654602809&4294967295,x=C+(V<<4&4294967295|V>>>28),V=q+(x^C^L)+j[12]+3873151461&4294967295,q=x+(V<<11&4294967295|V>>>21),V=L+(q^x^C)+j[15]+530742520&4294967295,L=q+(V<<16&4294967295|V>>>16),V=C+(L^q^x)+j[2]+3299628645&4294967295,C=L+(V<<23&4294967295|V>>>9),V=x+(L^(C|~q))+j[0]+4096336452&4294967295,x=C+(V<<6&4294967295|V>>>26),V=q+(C^(x|~L))+j[7]+1126891415&4294967295,q=x+(V<<10&4294967295|V>>>22),V=L+(x^(q|~C))+j[14]+2878612391&4294967295,L=q+(V<<15&4294967295|V>>>17),V=C+(q^(L|~x))+j[5]+4237533241&4294967295,C=L+(V<<21&4294967295|V>>>11),V=x+(L^(C|~q))+j[12]+1700485571&4294967295,x=C+(V<<6&4294967295|V>>>26),V=q+(C^(x|~L))+j[3]+2399980690&4294967295,q=x+(V<<10&4294967295|V>>>22),V=L+(x^(q|~C))+j[10]+4293915773&4294967295,L=q+(V<<15&4294967295|V>>>17),V=C+(q^(L|~x))+j[1]+2240044497&4294967295,C=L+(V<<21&4294967295|V>>>11),V=x+(L^(C|~q))+j[8]+1873313359&4294967295,x=C+(V<<6&4294967295|V>>>26),V=q+(C^(x|~L))+j[15]+4264355552&4294967295,q=x+(V<<10&4294967295|V>>>22),V=L+(x^(q|~C))+j[6]+2734768916&4294967295,L=q+(V<<15&4294967295|V>>>17),V=C+(q^(L|~x))+j[13]+1309151649&4294967295,C=L+(V<<21&4294967295|V>>>11),V=x+(L^(C|~q))+j[4]+4149444226&4294967295,x=C+(V<<6&4294967295|V>>>26),V=q+(C^(x|~L))+j[11]+3174756917&4294967295,q=x+(V<<10&4294967295|V>>>22),V=L+(x^(q|~C))+j[2]+718787259&4294967295,L=q+(V<<15&4294967295|V>>>17),V=C+(q^(L|~x))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+q&4294967295}i.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,j=this.C;let L=this.h,q=0;for(;q<x;){if(L==0)for(;q<=C;)a(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<x;)if(j[L++]=I.charCodeAt(q++),L==this.blockSize){a(this,j),L=0;break}}else for(;q<x;)if(j[L++]=I[q++],L==this.blockSize){a(this,j),L=0;break}}this.h=L,this.o+=x},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)I[x++]=this.g[C]>>>j&255;return I};function o(I,x){var C=h;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function u(I,x){this.h=x;const C=[];let j=!0;for(let L=I.length-1;L>=0;L--){const q=I[L]|0;j&&q==x||(C[L]=q,j=!1)}this.g=C}var h={};function d(I){return-128<=I&&I<128?o(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(m(-I));const x=[];let C=1;for(let j=0;I>=C;j++)x[j]=I/C|0,C*=4294967296;return new u(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return N(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(x,8));let j=v;for(let q=0;q<I.length;q+=8){var L=Math.min(8,I.length-q);const V=parseInt(I.substring(q,q+L),x);L<8?(L=m(Math.pow(x,L)),j=j.j(L).add(m(V))):(j=j.j(C),j=j.add(m(V)))}return j}var v=d(0),E=d(1),A=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-N(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);I+=(j>=0?j:4294967296+j)*x,x*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(M(this))return"-"+N(this).toString(I);const x=m(Math.pow(I,6));var C=this;let j="";for(;;){const L=X(C,x).g;C=U(C,L.j(x));let q=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=L,D(C))return q+j;for(;q.length<6;)q="0"+q;j=q+j}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=U(this,I),M(I)?-1:D(I)?0:1};function N(I){const x=I.g.length,C=[];for(let j=0;j<x;j++)C[j]=~I.g[j];return new u(C,~I.h).add(E)}n.abs=function(){return M(this)?N(this):this},n.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let j=0;for(let L=0;L<=x;L++){let q=j+(this.i(L)&65535)+(I.i(L)&65535),V=(q>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);j=V>>>16,q&=65535,V&=65535,C[L]=V<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(I,x){return I.add(N(x))}n.j=function(I){if(D(this)||D(I))return v;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(this.l(A)<0&&I.l(A)<0)return m(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var j=0;j<2*x;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<I.g.length;L++){const q=this.i(j)>>>16,V=this.i(j)&65535,xe=I.i(L)>>>16,Me=I.i(L)&65535;C[2*j+2*L]+=V*Me,P(C,2*j+2*L),C[2*j+2*L+1]+=q*Me,P(C,2*j+2*L+1),C[2*j+2*L+1]+=V*xe,P(C,2*j+2*L+1),C[2*j+2*L+2]+=q*xe,P(C,2*j+2*L+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new u(C,0)};function P(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function z(I,x){this.g=I,this.h=x}function X(I,x){if(D(x))throw Error("division by zero");if(D(I))return new z(v,v);if(M(I))return x=X(N(I),x),new z(N(x.g),N(x.h));if(M(x))return x=X(I,N(x)),new z(N(x.g),x.h);if(I.g.length>30){if(M(I)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,j=x;j.l(I)<=0;)C=H(C),j=H(j);var L=ie(C,1),q=ie(j,1);for(j=ie(j,2),C=ie(C,2);!D(j);){var V=q.add(j);V.l(I)<=0&&(L=L.add(C),q=V),j=ie(j,1),C=ie(C,1)}return x=U(I,L.j(x)),new z(L,x)}for(L=v;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),q=m(C),V=q.j(x);M(V)||V.l(I)>0;)C-=j,q=m(C),V=q.j(x);D(q)&&(q=E),L=L.add(q),I=U(I,V)}return new z(L,I)}n.B=function(I){return X(this,I).h},n.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)&I.i(j);return new u(C,this.h&I.h)},n.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)|I.i(j);return new u(C,this.h|I.h)},n.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let j=0;j<x;j++)C[j]=this.i(j)^I.i(j);return new u(C,this.h^I.h)};function H(I){const x=I.g.length+1,C=[];for(let j=0;j<x;j++)C[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(C,I.h)}function ie(I,x){const C=x>>5;x%=32;const j=I.g.length-C,L=[];for(let q=0;q<j;q++)L[q]=x>0?I.i(q+C)>>>x|I.i(q+C+1)<<32-x:I.i(q+C);return new u(L,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,sR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ws=u}).apply(typeof hb<"u"?hb:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aR,Dc,oR,Lf,bv,lR,uR,cR;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(f,_){if(_)e:{var b=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in b))break e;b=b[Q]}f=f[f.length-1],R=b[f],_=_(R),_!=R&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&b.push([R,_[R]]);return b}});var o=o||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function m(f,_,b){return m=d,m.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(R,Q,J){for(var ce=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ce[Oe-2]=arguments[Oe];return _.prototype[Q].apply(R,ce)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const b=Array(_);for(let R=0;R<_;R++)b[R]=f[R];return b}return[]}function D(f,_){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var b=typeof Q;if(b=b!="object"?b:Q?Array.isArray(Q)?"array":b:"null",b=="array"||b=="object"&&typeof Q.length=="number"){b=f.length||0;const J=Q.length||0;f.length=b+J;for(let ce=0;ce<J;ce++)f[b+ce]=Q[ce]}else f.push(Q)}}class M{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function U(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,b){const R=z.get();R.set(_,b),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new M(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let H,ie=!1,I=new P,x=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(C)}};function C(){for(var f;f=U();){try{f.h.call(f.g)}catch(b){N(b)}var _=z;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ie=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function xe(f,_){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(xe,L),xe.prototype.init=function(f,_){const b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),ee=0;function oe(f,_,b,R,Q){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!R,this.ha=Q,this.key=++ee,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ve(f,_,b){for(const R in f)_.call(b,f[R],R,f)}function Le(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function B(f){const _={};for(const b in f)_[b]=f[b];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,_){let b,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(b in R)f[b]=R[b];for(let J=0;J<re.length;J++)b=re[J],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,_,b,R,Q){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const ce=Re(f,_,R,Q);return ce>-1?(_=f[ce],b||(_.fa=!1)):(_=new oe(_,this.src,J,!!R,Q),_.fa=b,f.push(_)),_};function we(f,_){const b=_.type;if(b in f.g){var R=f.g[b],Q=Array.prototype.indexOf.call(R,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(R,Q,1),J&&(fe(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Re(f,_,b,R){for(let Q=0;Q<f.length;++Q){const J=f[Q];if(!J.da&&J.listener==_&&J.capture==!!b&&J.ha==R)return Q}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),at={};function et(f,_,b,R,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)et(f,_[J],b,R,Q);return null}return b=gu(b),f&&f[Me]?f.J(_,b,h(R)?!!R.capture:!1,Q):Ui(f,_,b,!1,R,Q)}function Ui(f,_,b,R,Q,J){if(!_)throw Error("Invalid event type");const ce=h(Q)?!!Q.capture:!!Q;let Oe=fa(f);if(Oe||(f[Te]=Oe=new me(f)),b=Oe.add(_,b,R,ce,J),b.proxy)return b;if(R=Ao(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)q||(Q=ce),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),R,Q);else if(f.attachEvent)f.attachEvent(zi(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ao(){function f(b){return _.call(f.src,f.listener,b)}const _=mu;return f}function wo(f,_,b,R,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)wo(f,_[J],b,R,Q);else R=h(R)?!!R.capture:!!R,b=gu(b),f&&f[Me]?(f=f.i,J=String(_).toString(),J in f.g&&(_=f.g[J],b=Re(_,b,R,Q),b>-1&&(fe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[J],f.h--)))):f&&(f=fa(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Re(_,b,R,Q)),(b=f>-1?_[f]:null)&&xo(b))}function xo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Me])we(_.i,f);else{var b=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(b,R,f.capture):_.detachEvent?_.detachEvent(zi(b),R):_.addListener&&_.removeListener&&_.removeListener(R),(b=fa(_))?(we(b,f),b.h==0&&(b.src=null,_[Te]=null)):fe(f)}}}function zi(f){return f in at?at[f]:at[f]="on"+f}function mu(f,_){if(f.da)f=!0;else{_=new xe(_,this);const b=f.listener,R=f.ha||f.src;f.fa&&xo(f),f=b.call(R,_)}return f}function fa(f){return f=f[Te],f instanceof me?f:null}var pu="__closure_events_fn_"+(Math.random()*1e9>>>0);function gu(f){return typeof f=="function"?f:(f[pu]||(f[pu]=function(_){return f.handleEvent(_)}),f[pu])}function Mt(){j.call(this),this.i=new me(this),this.M=this,this.G=null}v(Mt,j),Mt.prototype[Me]=!0,Mt.prototype.removeEventListener=function(f,_,b,R){wo(this,f,_,b,R)};function Qt(f,_){var b,R=f.G;if(R)for(b=[];R;R=R.G)b.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new L(_,f);else if(_ instanceof L)_.target=_.target||f;else{var Q=_;_=new L(R,f),he(_,Q)}Q=!0;let J,ce;if(b)for(ce=b.length-1;ce>=0;ce--)J=_.g=b[ce],Q=ts(J,R,!0,_)&&Q;if(J=_.g=f,Q=ts(J,R,!0,_)&&Q,Q=ts(J,R,!1,_)&&Q,b)for(ce=0;ce<b.length;ce++)J=_.g=b[ce],Q=ts(J,R,!1,_)&&Q}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let R=0;R<b.length;R++)fe(b[R]);delete f.g[_],f.h--}}this.G=null},Mt.prototype.J=function(f,_,b,R){return this.i.add(String(f),_,!1,b,R)},Mt.prototype.K=function(f,_,b,R){return this.i.add(String(f),_,!0,b,R)};function ts(f,_,b,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const ce=_[J];if(ce&&!ce.da&&ce.capture==b){const Oe=ce.listener,Dt=ce.ha||ce.src;ce.fa&&we(f.i,ce),Q=Oe.call(Dt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Ip(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Gh(f){f.g=Ip(()=>{f.g=null,f.i&&(f.i=!1,Gh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class En extends j{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(f){j.call(this),this.h=f,this.g={}}v(ma,j);var yu=[];function vu(f){Ve(f.g,function(_,b){this.g.hasOwnProperty(b)&&xo(_)},f),f.g={}}ma.prototype.N=function(){ma.Z.N.call(this),vu(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=u.JSON.stringify,Cp=u.JSON.parse,Kh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qh(){}function $h(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){L.call(this,"d")}v(rn,L);function Xn(){L.call(this,"c")}v(Xn,L);var Ct={},Yh=null;function Ro(){return Yh=Yh||new Mt}Ct.Ia="serverreachability";function Wh(f){L.call(this,Ct.Ia,f)}v(Wh,L);function Bi(f){const _=Ro();Qt(_,new Wh(_))}Ct.STAT_EVENT="statevent";function pa(f,_){L.call(this,Ct.STAT_EVENT,f),this.stat=_}v(pa,L);function Nt(f){const _=Ro();Qt(_,new pa(_,f))}Ct.Ja="timingevent";function Fi(f,_){L.call(this,Ct.Ja,f),this.size=_}v(Fi,L);function qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function Dp(f,_,b,R,Q,J){f.info(function(){if(f.g)if(J){var ce="",Oe=J.split("&");for(let Xe=0;Xe<Oe.length;Xe++){var Dt=Oe[Xe].split("=");if(Dt.length>1){const yt=Dt[0];Dt=Dt[1];const ti=yt.split("_");ce=ti.length>=2&&ti[1]=="type"?ce+(yt+"="+Dt+"&"):ce+(yt+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+_+`
`+b+`
`+ce})}function Xh(f,_,b,R,Q,J,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+_+`
`+b+`
`+J+" "+ce})}function Hi(f,_,b,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Vp(f,b)+(R?" "+R:"")})}function ga(f,_){f.info(function(){return"TIMEOUT: "+_})}vi.prototype.info=function(){};function Vp(f,_){if(!f.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var b=J[f];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return ns(J)}catch{return _}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_u={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eu;function va(){}v(va,Qh),va.prototype.g=function(){return new XMLHttpRequest},Eu=new va;function Tr(f){return encodeURIComponent(String(f))}function Jh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function _i(f,_,b,R){this.j=f,this.i=_,this.l=b,this.S=R||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var kt={},Jt={};function Gi(f,_,b){f.M=1,f.A=_a(jt(_)),f.u=b,f.R=!0,Io(f,null)}function Io(f,_){f.F=Date.now(),Ki(f),f.B=jt(f.A);var b=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),Oo(b.i,"t",R),f.C=0,b=f.j.L,f.h=new Ei,f.g=fd(f.j,b?_:null,!f.u),f.P>0&&(f.O=new En(m(f.Y,f,f.g),f.P)),_=f.V,b=f.g,R=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(yu[0]=Q.toString()),Q=yu);for(let J=0;J<Q.length;J++){const ce=et(b,Q[J],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Bi(),Dp(f.i,f.v,f.B,f.l,f.S,f.u)}_i.prototype.ba=function(f){f=f.target;const _=this.O;_&&bi(f)==3?_.j():this.Y(f)},_i.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=bi(this.g),Dt=this.g.ya(),Xe=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Oe!=4||Dt==7||(Dt==8||Xe<=0?Bi(3):Bi(2)),Qi(this);var _=this.g.ca();this.X=_;var b=Op(this);if(this.o=_==200,Xh(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var J=R;break t}}J=null}if(f=J)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,f);else{this.o=!1,this.m=3,Nt(12),jn(this),Jn(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=ed(this,b),yt==Jt){Oe==4&&(this.m=4,Nt(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==kt){this.m=4,Nt(15),Hi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,yt,null),$i(this,yt);if(Zh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,b,"[Invalid Chunked Response]"),jn(this),Jn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Nu(ce),ce.P=!0,Nt(11))}}else Hi(this.i,this.l,b,null),$i(this,b);Oe==4&&jn(this),this.o&&!this.K&&(Oe==4?ud(this.j,this):(this.o=!1,Ki(this)))}else br(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),jn(this),Jn(this)}}}catch{}};function Op(f){if(!Zh(f))return f.g.la();const _=sn(f.g);if(_==="")return"";let b="";const R=_.length,Q=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return jn(f),Jn(f),"";f.h.i=new u.TextDecoder}for(let J=0;J<R;J++)f.h.h=!0,b+=f.h.i.decode(_[J],{stream:!(Q&&J==R-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Zh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ed(f,_){var b=f.C,R=_.indexOf(`
`,b);return R==-1?Jt:(b=Number(_.substring(b,R)),isNaN(b)?kt:(R+=1,R+b>_.length?Jt:(_=_.slice(R,R+b),f.C=R+b,_)))}_i.prototype.cancel=function(){this.K=!0,jn(this)};function Ki(f){f.T=Date.now()+f.H,Co(f,f.H)}function Co(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(m(f.aa,f),_)}function Qi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}_i.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Bi(),Nt(17)),jn(this),this.m=2,Jn(this)):Co(this,this.T-f)};function Jn(f){f.j.I==0||f.K||ud(f.j,f)}function jn(f){Qi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,vu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function $i(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Wi(b.h,f))){if(!f.L&&Wi(b.h,f)&&b.I==3){try{var R=b.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Lo(b),cs(b);else break e;xa(b),Nt(18)}}else b.xa=Q[1],0<b.xa-b.K&&Q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=qi(m(b.Va,b),6e3));Yi(b.h)<=1&&b.ta&&(b.ta=void 0)}else nr(b,11)}else if((f.L||b.g==f)&&Lo(b),!V(_))for(Q=b.Ba.g.parse(_),_=0;_<Q.length;_++){let Xe=Q[_];const yt=Xe[0];if(!(yt<=b.K))if(b.K=yt,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const ti=Xe[3];ti!=null&&(b.ka=ti,b.j.info("VER="+b.ka));const ir=Xe[4];ir!=null&&(b.za=ir,b.j.info("SVER="+b.za));const Ai=Xe[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(R=1.5*Ai,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const wi=f.g;if(wi){const Ra=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var J=R.h;J.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(bu(J,J.h),J.h=null))}if(R.G){const jo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(R.wa=jo,tt(R.J,R.G,jo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ce=f;if(R.na=dd(R,R.L?R.ba:null,R.W),ce.L){Au(R.h,ce);var Oe=ce,Dt=R.O;Dt&&(Oe.H=Dt),Oe.D&&(Qi(Oe),Ki(Oe)),R.g=ce}else od(R);b.i.length>0&&tr(b)}else Xe[0]!="stop"&&Xe[0]!="close"||nr(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?nr(b,7):Pu(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Bi(4)}catch{}}var Lt=class{constructor(f,_){this.g=f,this.map=_}};function Tu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Su(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function Wi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function bu(f,_){f.g?f.g.add(_):f.h=_}function Au(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Tu.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function wu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return A(f.i)}var td=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const R=f[b].indexOf("=");let Q,J=null;R>=0?(Q=f[b].substring(0,R),J=f[b].substring(R+1)):Q=f[b],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Un(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Un?(this.l=f.l,Zt(this,f.j),this.o=f.o,this.g=f.g,is(this,f.u),this.h=f.h,xu(this,sd(f.i)),this.m=f.m):f&&(_=String(f).match(td))?(this.l=!1,Zt(this,_[1]||"",!0),this.o=Xi(_[2]||""),this.g=Xi(_[3]||"",!0),is(this,_[4]),this.h=Xi(_[5]||"",!0),xu(this,_[6]||"",!0),this.m=Xi(_[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Un.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Ea(_,Vo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ea(_,Vo,!0),"@"),f.push(Tr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Ea(b,b.charAt(0)=="/"?Ru:nd,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Ea(b,id)),f.join("")},Un.prototype.resolve=function(f){const _=jt(this);let b=!!f.j;b?Zt(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var R=f.h;if(b)is(_,f.u);else if(b=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(R=_.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let ce=0;ce<Q.length;){const Oe=Q[ce++];Oe=="."?R&&ce==Q.length&&J.push(""):Oe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ce==Q.length&&J.push("")):(J.push(Oe),R=!0)}R=J.join("/")}else R=Q}return b?_.h=R:b=f.i.toString()!=="",b?xu(_,sd(f.i)):b=!!f.m,b&&(_.m=f.m),_};function jt(f){return new Un(f)}function Zt(f,_,b){f.j=b?Xi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function is(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function xu(f,_,b){_ instanceof ss?(f.i=_,Po(f.i,f.l)):(b||(_=Ea(_,rs)),f.i=new ss(_,f.l))}function tt(f,_,b){f.i.set(_,b)}function _a(f){return tt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Xi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ea(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Cn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vo=/[#\/\?@]/g,nd=/[#\?:]/g,Ru=/[#\?]/g,rs=/[#\?@]/g,id=/#/g;function ss(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=ss.prototype,n.add=function(f,_){Dn(this),this.i=null,f=as(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function rd(f,_){Dn(f),_=as(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Iu(f,_){return Dn(f),_=as(f,_),f.g.has(_)}n.forEach=function(f,_){Dn(this),this.g.forEach(function(b,R){b.forEach(function(Q){f.call(_,Q,R,this)},this)},this)};function Cu(f,_){Dn(f);let b=[];if(typeof _=="string")Iu(f,_)&&(b=b.concat(f.g.get(as(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Dn(this),this.i=null,f=as(this,f),Iu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Cu(this,f),f.length>0?String(f[0]):_):_};function Oo(f,_,b){rd(f,_),b.length>0&&(f.i=null,f.g.set(as(f,_),A(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var b=_[R];const Q=Tr(b);b=Cu(this,b);for(let J=0;J<b.length;J++){let ce=Q;b[J]!==""&&(ce+="="+Tr(b[J])),f.push(ce)}}return this.i=f.join("&")};function sd(f){const _=new ss;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function as(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Po(f,_){_&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(b,R){const Q=R.toLowerCase();R!=Q&&(rd(this,R),Oo(this,Q,b))},f)),f.j=_}function Ti(f,_){const b=new vi;if(u.Image){const R=new Image;R.onload=y(Zn,b,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Zn,b,"TestLoadImage: error",!1,_,R),R.onabort=y(Zn,b,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Zn,b,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function Du(f,_){const b=new vi,R=new AbortController,Q=setTimeout(()=>{R.abort(),Zn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(Q),J.ok?Zn(b,"TestPingServer: ok",!0,_):Zn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Zn(b,"TestPingServer: error",!1,_)})}function Zn(f,_,b,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(b)}catch{}}function os(){this.g=new Kh}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ji,Qh),Ji.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,_){Mt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Mt),n=Ta.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Si(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ls(this):Si(this),this.readyState==3&&Mo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ls(this))},n.Na=function(f){this.g&&(this.response=f,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Si(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ei(f){let _="";return Ve(f,function(b,R){_+=R,_+=":",_+=b,_+=`\r
`}),_}function Sa(f,_,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ei(b),typeof f=="string"?b!=null&&Tr(b):tt(f,_,b))}function ot(f){Mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ot,Mt);var Zi=/^https?$/i,Vu=["POST","PUT"];n=ot.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eu.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){ba(this,J);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)b.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Vu,_,void 0)>=0)||R||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of b)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){ba(this,J)}};function ba(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ou(f),Sr(f)}function Ou(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Qt(this,"complete"),Qt(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},n.Xa=function(){Aa(this)};function Aa(f){if(f.h&&typeof o<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Qt(f,"readystatechange"),bi(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var R;if(R=J===0){let ce=String(f.D).match(td)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!Zi.test(ce?ce.toLowerCase():"")}b=R}if(b)Qt(f,"complete"),Qt(f,"success");else{f.o=6;try{var Q=bi(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Ou(f)}}finally{Sr(f)}}}}function Sr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Qt(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Cp(_)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function br(f){const _={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(V(f[R]))continue;var b=Jh(f[R]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=_[Q]||[];_[Q]=J,J.push(b)}Le(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function us(f){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,f),this.Za=er("retryDelaySeedMs",1e4,f),this.Ta=er("forwardChannelMaxRetries",2,f),this.va=er("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Tu(f&&f.concurrentRequestLimit),this.Ba=new os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=us.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,R){Nt(0),this.W=f,this.H=_||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=dd(this,null,this.W),tr(this)};function Pu(f){if(No(f),f.I==3){var _=f.V++,b=jt(f.J);if(tt(b,"SID",f.M),tt(b,"RID",_),tt(b,"TYPE","terminate"),wa(f,b),_=new _i(f,f.j,_),_.M=2,_.A=_a(jt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=fd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ki(_)}hd(f)}function cs(f){f.g&&(Nu(f),f.g.cancel(),f.g=null)}function No(f){cs(f),f.v&&(u.clearTimeout(f.v),f.v=null),Lo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function tr(f){if(!Su(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||x(),ie||(H(),ie=!0),I.add(_,f),f.D=0}}function ko(f,_){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(m(f.Ea,f,_),cd(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new _i(this,this.j,f);let J=this.o;if(this.U&&(J?(J=B(J),he(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=ad(this,Q,_),b=jt(this.J),tt(b,"RID",f),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),wa(this,b),J&&(this.R?_="headers="+Tr(ei(J))+"&"+_:this.u&&Sa(b,this.u,J)),bu(this.h,Q),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",_),tt(b,"SID","null"),Q.U=!0,Gi(Q,b,null)):Gi(Q,b,_),this.I=2}}else this.I==3&&(f?Mu(this,f):this.i.length==0||Su(this.h)||Mu(this))};function Mu(f,_){var b;_?b=_.l:b=f.V++;const R=jt(f.J);tt(R,"SID",f.M),tt(R,"RID",b),tt(R,"AID",f.K),wa(f,R),f.u&&f.o&&Sa(R,f.u,f.o),b=new _i(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ad(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bu(f.h,b),Gi(b,R,_)}function wa(f,_){f.H&&Ve(f.H,function(b,R){tt(_,R,b)}),f.l&&Ve({},function(b,R){tt(_,R,b)})}function ad(f,_,b){b=Math.min(f.i.length,b);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Oe=-1;for(;;){const Dt=["count="+b];Oe==-1?b>0?(Oe=Q[0].g,Dt.push("ofs="+Oe)):Oe=0:Dt.push("ofs="+Oe);let Xe=!0;for(let yt=0;yt<b;yt++){var J=Q[yt].g;const ti=Q[yt].map;if(J-=Oe,J<0)Oe=Math.max(0,Q[yt].g-100),Xe=!1;else try{J="req"+J+"_"||"";try{var ce=ti instanceof Map?ti:Object.entries(ti);for(const[ir,Ai]of ce){let wi=Ai;h(Ai)&&(wi=ns(Ai)),Dt.push(J+ir+"="+encodeURIComponent(wi))}}catch(ir){throw Dt.push(J+"type="+encodeURIComponent("_badmap")),ir}}catch{R&&R(ti)}}if(Xe){ce=Dt.join("&");break e}}ce=void 0}return f=f.i.splice(0,b),_.G=f,ce}function od(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||x(),ie||(H(),ie=!0),I.add(_,f),f.A=0}}function xa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(m(f.Da,f),cd(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,ld(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),cs(this),ld(this))};function Nu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ld(f){f.g=new _i(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=jt(f.na);tt(_,"RID","rpc"),tt(_,"SID",f.M),tt(_,"AID",f.K),tt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&tt(_,"TO",f.ia),tt(_,"TYPE","xmlhttp"),wa(f,_),f.u&&f.o&&Sa(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=_a(jt(_)),b.u=null,b.R=!0,Io(b,f)}n.Va=function(){this.C!=null&&(this.C=null,cs(this),xa(this),Nt(19))};function Lo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ud(f,_){var b=null;if(f.g==_){Lo(f),Nu(f),f.g=null;var R=2}else if(Wi(f.h,_))b=_.G,Au(f.h,_),R=1;else return;if(f.I!=0){if(_.o)if(R==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var Q=f.D;R=Ro(),Qt(R,new Fi(R,b)),tr(f)}else od(f);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(R==1&&ko(f,_)||R==2&&xa(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),Q){case 1:nr(f,5);break;case 4:nr(f,10);break;case 3:nr(f,6);break;default:nr(f,2)}}}function cd(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function nr(f,_){if(f.j.info("Error code "+_),_==2){var b=m(f.bb,f),R=f.Ua;const Q=!R;R=new Un(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zt(R,"https"),_a(R),Q?Ti(R.toString(),b):Du(R.toString(),b)}else Nt(2);f.I=0,f.l&&f.l.pa(_),hd(f),No(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function hd(f){if(f.I=0,f.ja=[],f.l){const _=wu(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ja,_),D(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function dd(f,_,b){var R=b instanceof Un?jt(b):new Un(b);if(R.g!="")_&&(R.g=_+"."+R.g),is(R,R.u);else{var Q=u.location;R=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new Un(null);R&&Zt(J,R),_&&(J.g=_),Q&&is(J,Q),b&&(J.h=b),R=J}return b=f.G,_=f.wa,b&&_&&tt(R,b,_),tt(R,"VER",f.ka),wa(f,R),R}function fd(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ot(new Ji({ab:b})):new ot(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}n=md.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function hs(){}hs.prototype.g=function(f,_){return new Tn(f,_)};function Tn(f,_){Mt.call(this),this.g=new us(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!V(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ar(this)}v(Tn,Mt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Pu(this.g)},Tn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=ns(f),f=b);_.i.push(new Lt(_.Ya++,f)),_.I==3&&tr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Pu(this.g),delete this.g,Tn.Z.N.call(this)};function pd(f){rn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(pd,rn);function gd(){Xn.call(this),this.status=1}v(gd,Xn);function Ar(f){this.g=f}v(Ar,md),Ar.prototype.ra=function(){Qt(this.g,"a")},Ar.prototype.qa=function(f){Qt(this.g,new pd(f))},Ar.prototype.pa=function(f){Qt(this.g,new gd)},Ar.prototype.oa=function(){Qt(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,cR=function(){return new hs},uR=function(){return Ro()},lR=Ct,bv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Lf=ya,_u.COMPLETE="complete",oR=_u,$h.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,Dc=$h,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,aR=ot}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let su="12.9.0";function sk(n){su=n}const co=new O_("@firebase/firestore");function El(){return co.logLevel}function le(n,...e){if(co.logLevel<=Fe.DEBUG){const t=e.map(N_);co.debug(`Firestore (${su}): ${n}`,...t)}}function bn(n,...e){if(co.logLevel<=Fe.ERROR){const t=e.map(N_);co.error(`Firestore (${su}): ${n}`,...t)}}function ea(n,...e){if(co.logLevel<=Fe.WARN){const t=e.map(N_);co.warn(`Firestore (${su}): ${n}`,...t)}}function N_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,hR(n,i,t)}function hR(n,e,t){let i=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw bn(i),new Error(i)}function _e(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||hR(e,a,i)}function Ce(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ak{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class ok{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lk{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new dR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class uk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ck{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new db(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new db(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class k_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=dk(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function Ie(n,e){return n<e?-1:n>e?1:0}function Av(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),o=e.charAt(i);if(a!==o)return zy(a)===zy(o)?Ie(a,o):zy(a)?1:-1}return Ie(n.length,e.length)}const fk=55296,mk=57343;function zy(n){const e=n.charCodeAt(0);return e>=fk&&e<=mk}function zl(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}function fR(n){return n+"\0"}const fb="__name__";class ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=ur.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ie(e.length,t.length)}static compareSegments(e,t){const i=ur.isNumericId(e),a=ur.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ur.extractNumericId(e).compare(ur.extractNumericId(t)):Av(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ze extends ur{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ur{construct(e,t,i){return new St(e,t,i)}static isValidIdentifier(e){return pk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fb}static keyField(){return new St([fb])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(Ze.fromString(e))}static fromName(e){return new de(Ze.fromString(e).popFirst(5))}static empty(){return new de(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ze(e.slice()))}}function mR(n,e,t){if(!t)throw new ue(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gk(n,e,t,i){if(e===!0&&i===!0)throw new ue(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mb(n){if(!de.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pb(n){if(de.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ym(n);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function xh(n,e){if(!pR(n))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new ue(te.INVALID_ARGUMENT,t);return!0}const gb=-62135596800,yb=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*yb);return new $e(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gb)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yb}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:Gt("string",$e._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new $e(0,0))}static max(){return new Se(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;class hm{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function wv(n){return n.fields.find((e=>e.kind===2))}function Qa(n){return n.fields.filter((e=>e.kind!==2))}hm.UNKNOWN_ID=-1;class jf{constructor(e,t){this.fieldPath=e,this.kind=t}}class eh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eh(0,Yn.min())}}function yk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(i===1e9?new $e(t+1,0):new $e(t,i));return new Yn(a,de.empty(),e)}function gR(n){return new Yn(n.readTime,n.key,Zc)}class Yn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yn(Se.min(),de.empty(),Zc)}static max(){return new Yn(Se.max(),de.empty(),Zc)}}function L_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==yR)throw n;le("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,i)=>{t(e)}))}static reject(e){return new K(((t,i)=>{i(e)}))}static waitFor(e){return new K(((t,i)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&t()}),(d=>i(d)))})),u=!0,o===a&&t()}))}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next((a=>a?K.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,o)=>{i.push(t.call(this,a,o))})),this.waitFor(i)}static mapArray(e,t){return new K(((i,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next((y=>{u[m]=y,++h,h===o&&i(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new K(((i,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):i()};o()}))}}const Qn="SimpleDb";class Wm{static open(e,t,i,a){try{return new Wm(t,e.transaction(a,i))}catch(o){throw new jc(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new dr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new jc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=j_(i.target.error);this.S.reject(new jc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(Qn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _k(t)}}class Xs{static delete(e){return le(Qn,"Removing database:",e),Wa(qx().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Jx())return!1;if(Xs.F())return!0;const e=Wt(),t=Xs.M(e),i=0<t&&t<10,a=_R(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Xs.M(Wt())===12.2&&bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(Qn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;t(u)},a.onblocked=()=>{i(new jc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new ue(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ue(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new jc(e,u))},a.onupgradeneeded=o=>{le(Qn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,a.transaction,o.oldVersion,this.version).next((()=>{le(Qn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Wm.open(this.db,e,o?"readonly":"readwrite",i),d=a(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),K.reject(m)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,m=d.name!=="FirebaseError"&&u<3;if(le(Qn,"Transaction failed with error:",d.message,"Retrying:",m),this.close(),!m)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function _R(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vk{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Wa(this.U.delete())}}class jc extends ue{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function la(n){return n.name==="IndexedDbTransactionError"}class _k{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(le(Qn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(le(Qn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Wa(i)}add(e){return le(Qn,"ADD",this.store.name,e,e),Wa(this.store.add(e))}get(e){return Wa(this.store.get(e)).next((t=>(t===void 0&&(t=null),le(Qn,"GET",this.store.name,e,t),t)))}delete(e){return le(Qn,"DELETE",this.store.name,e),Wa(this.store.delete(e))}count(){return le(Qn,"COUNT",this.store.name),Wa(this.store.count())}H(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(i.range);return new K(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(i),u=[];return this.J(o,((h,d)=>{u.push(d)})).next((()=>u))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new K(((a,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(e,t){le(Qn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.J(a,((o,u,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.J(a,t)}te(e){const t=this.cursor({});return new K(((i,a)=>{t.onerror=o=>{const u=j_(o.target.error);a(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}J(e,t){const i=[];return new K(((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new vk(h),m=t(h.primaryKey,h.value,d);if(m instanceof K){const y=m.catch((v=>(d.done(),K.reject(v))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>K.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wa(n){return new K(((e,t)=>{n.onsuccess=i=>{const a=i.target.result;e(a)},n.onerror=i=>{const a=j_(i.target.error);t(a)}}))}let vb=!1;function j_(n){const e=Xs.M(Wt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vb||(vb=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Uc="IndexBackfiller";class Ek{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Uc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(Uc,`Documents written: ${t}`)}catch(t){la(t)?le(Uc,"Ignoring IndexedDB error during index backfill: ",t):await To(t)}await this.re(6e4)}))}}class Tk{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,o=!0;return K.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!i.has(u))return le(Uc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,i.add(u)}));o=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,o))).next((h=>(le(Uc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,o)=>{const u=gR(o);L_(u,i)>0&&(i=u)})),new Yn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}di.ce=-1;const io=-1;function Xm(n){return n==null}function th(n){return n===0&&1/n==-1/0}function Sk(n){return typeof n=="number"&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dm="";function _n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_b(e)),e=bk(n.get(t),e);return _b(e)}function bk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case dm:t+="";break;default:t+=o}}return t}function _b(n){return n+dm+""}function cr(n){const e=n.length;if(_e(e>=2,64408,{path:n}),e===2)return _e(n.charAt(0)===dm&&n.charAt(1)==="",56145,{path:n}),Ze.emptyPath();const t=e-2,i=[];let a="";for(let o=0;o<e;){const u=n.indexOf(dm,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(o,u),a+="\0";break;case"":a+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new Ze(i)}const $a="remoteDocuments",Rh="owner",ml="owner",nh="mutationQueues",Ak="userId",Oi="mutations",Eb="batchId",eo="userMutationsIndex",Tb=["userId","batchId"];function Uf(n,e){return[n,_n(e)]}function ER(n,e,t){return[n,_n(e),t]}const wk={},Bl="documentMutations",fm="remoteDocumentsV14",xk=["prefixPath","collectionGroup","readTime","documentId"],zf="documentKeyIndex",Rk=["prefixPath","collectionGroup","documentId"],TR="collectionGroupIndex",Ik=["collectionGroup","readTime","prefixPath","documentId"],ih="remoteDocumentGlobal",xv="remoteDocumentGlobalKey",Fl="targets",SR="queryTargetsIndex",Ck=["canonicalId","targetId"],ql="targetDocuments",Dk=["targetId","path"],U_="documentTargetsIndex",Vk=["path","targetId"],mm="targetGlobalKey",ro="targetGlobal",rh="collectionParents",Ok=["collectionId","parent"],Hl="clientMetadata",Pk="clientId",Jm="bundles",Mk="bundleId",Zm="namedQueries",Nk="name",z_="indexConfiguration",kk="indexId",Rv="collectionGroupIndex",Lk="collectionGroup",zc="indexState",jk=["indexId","uid"],bR="sequenceNumberIndex",Uk=["uid","sequenceNumber"],Bc="indexEntries",zk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AR="documentKeyIndex",Bk=["indexId","uid","orderedDocumentKey"],ep="documentOverlays",Fk=["userId","collectionPath","documentId"],Iv="collectionPathOverlayIndex",qk=["userId","collectionPath","largestBatchId"],wR="collectionGroupOverlayIndex",Hk=["userId","collectionGroup","largestBatchId"],B_="globals",Gk="name",xR=[nh,Oi,Bl,$a,Fl,Rh,ro,ql,Hl,ih,rh,Jm,Zm],Kk=[...xR,ep],RR=[nh,Oi,Bl,fm,Fl,Rh,ro,ql,Hl,ih,rh,Jm,Zm,ep],IR=RR,F_=[...IR,z_,zc,Bc],Qk=F_,CR=[...F_,B_],$k=CR;class Cv extends vR{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Xt(n,e){const t=Ce(n);return Xs.O(t.le,e)}function Sb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new dn(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bb(this.data.getIterator())}getIteratorFrom(e){return new bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(n){return n.hasNext()?n.getNext():void 0}class Ln{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new st(St.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class VR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VR("Invalid base64 string: "+o):o}})(e);return new Kt(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(n){if(_e(!!n,39018),typeof n=="string"){let e=0;const t=Yk.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}const OR="server_timestamp",PR="__type__",MR="__previous_value__",NR="__local_write_time__";function q_(n){return(n?.mapValue?.fields||{})[PR]?.stringValue===OR}function tp(n){const e=n.mapValue.fields[MR];return q_(e)?tp(e):e}function sh(n){const e=Qr(n.mapValue.fields[NR].timestampValue);return new $e(e.seconds,e.nanos)}class Wk{constructor(e,t,i,a,o,u,h,d,m,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const pm="(default)";class ho{constructor(e,t){this.projectId=e,this.database=t||pm}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===pm}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function Xk(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(n.options.projectId,e)}const H_="__type__",kR="__max__",Hs={mapValue:{fields:{__type__:{stringValue:kR}}}},G_="__vector__",Gl="value",Bf={nullValue:"NULL_VALUE"};function ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?q_(n)?4:LR(n)?9007199254740991:np(n)?10:11:ye(28295,{value:n})}function yr(n,e){if(n===e)return!0;const t=ta(n);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sh(n).isEqual(sh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Qr(a.timestampValue),h=Qr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return $r(a.bytesValue).isEqual($r(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return _t(a.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _t(a.integerValue)===_t(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=_t(a.doubleValue),h=_t(o.doubleValue);return u===h?th(u)===th(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return zl(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Sb(u)!==Sb(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!yr(u[d],h[d])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function ah(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function na(n,e){if(n===e)return 0;const t=ta(n),i=ta(e);if(t!==i)return Ie(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=_t(o.integerValue||o.doubleValue),d=_t(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(sh(n),sh(e));case 5:return Av(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=$r(o),d=$r(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Ie(h[m],d[m]);if(y!==0)return y}return Ie(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ie(_t(o.latitude),_t(u.latitude));return h!==0?h:Ie(_t(o.longitude),_t(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return wb(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[Gl]?.arrayValue,y=d[Gl]?.arrayValue,v=Ie(m?.values?.length||0,y?.values?.length||0);return v!==0?v:wb(m,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Hs.mapValue&&u===Hs.mapValue)return 0;if(o===Hs.mapValue)return 1;if(u===Hs.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=Av(d[v],y[v]);if(E!==0)return E;const A=na(h[d[v]],m[y[v]]);if(A!==0)return A}return Ie(d.length,y.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function Ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);const t=Qr(n),i=Qr(e),a=Ie(t.seconds,i.seconds);return a!==0?a:Ie(t.nanos,i.nanos)}function wb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=na(t[a],i[a]);if(o)return o}return Ie(t.length,i.length)}function Kl(n){return Dv(n)}function Dv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Qr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return de.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=Dv(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Dv(t.fields[u])}`;return a+"}"})(n.mapValue):ye(61005,{value:n})}function Ff(n){switch(ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(n);return e?16+Ff(e):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Ff(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ua(i.fields,((o,u)=>{a+=o.length+Ff(u)})),a})(n.mapValue);default:throw ye(13486,{value:n})}}function oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vv(n){return!!n&&"integerValue"in n}function lh(n){return!!n&&"arrayValue"in n}function xb(n){return!!n&&"nullValue"in n}function Rb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qf(n){return!!n&&"mapValue"in n}function np(n){return(n?.mapValue?.fields||{})[H_]?.stringValue===G_}function Fc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ua(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Fc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(n.arrayValue.values[t]);return e}return{...n}}function LR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kR}const jR={mapValue:{fields:{[H_]:{stringValue:G_},[Gl]:{arrayValue:{}}}}};function Jk(n){return"nullValue"in n?Bf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oh(ho.empty(),de.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?np(n)?jR:{mapValue:{}}:ye(35942,{value:n})}function Zk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oh(ho.empty(),de.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?jR:"mapValue"in n?np(n)?{mapValue:{}}:Hs:ye(61959,{value:n})}function Ib(n,e){const t=na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Cb(n,e){const t=na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=St.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Fc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ua(t,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new yn(Fc(this.value))}}function UR(n){const e=[];return ua(n.fields,((t,i)=>{const a=new St([t]);if(qf(i)){const o=UR(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Ln(e)}class Rt{constructor(e,t,i,a,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Rt(e,0,Se.min(),Se.min(),Se.min(),yn.empty(),0)}static newFoundDocument(e,t,i,a){return new Rt(e,1,t,Se.min(),i,a,0)}static newNoDocument(e,t){return new Rt(e,2,t,Se.min(),Se.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Rt(e,3,t,Se.min(),Se.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ql{constructor(e,t){this.position=e,this.inclusive=t}}function Db(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=de.comparator(de.fromName(u.referenceValue),t.key):i=na(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function e4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zR{}class qe extends zR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new t4(e,t,i):t==="array-contains"?new r4(e,i):t==="in"?new KR(e,i):t==="not-in"?new s4(e,i):t==="array-contains-any"?new a4(e,i):new qe(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new n4(e,i):new i4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&ta(this.value)===ta(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends zR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rt(e,t)}matches(e){return $l(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $l(n){return n.op==="and"}function Ov(n){return n.op==="or"}function K_(n){return BR(n)&&$l(n)}function BR(n){for(const e of n.filters)if(e instanceof rt)return!1;return!0}function Pv(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(K_(n))return n.filters.map((e=>Pv(e))).join(",");{const e=n.filters.map((t=>Pv(t))).join(",");return`${n.op}(${e})`}}function FR(n,e){return n instanceof qe?(function(i,a){return a instanceof qe&&i.op===a.op&&i.field.isEqual(a.field)&&yr(i.value,a.value)})(n,e):n instanceof rt?(function(i,a){return a instanceof rt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&FR(u,a.filters[h])),!0):!1})(n,e):void ye(19439)}function qR(n,e){const t=n.filters.concat(e);return rt.create(t,n.op)}function HR(n){return n instanceof qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`})(n):n instanceof rt?(function(t){return t.op.toString()+" {"+t.getFilters().map(HR).join(" ,")+"}"})(n):"Filter"}class t4 extends qe{constructor(e,t,i){super(e,t,i),this.key=de.fromName(i.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class n4 extends qe{constructor(e,t){super(e,"in",t),this.keys=GR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class i4 extends qe{constructor(e,t){super(e,"not-in",t),this.keys=GR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function GR(n,e){return(e.arrayValue?.values||[]).map((t=>de.fromName(t.referenceValue)))}class r4 extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lh(t)&&ah(t.arrayValue,this.value)}}class KR extends qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ah(this.value.arrayValue,t)}}class s4 extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ah(this.value.arrayValue,t)}}class a4 extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ah(this.value.arrayValue,i)))}}class o4{constructor(e,t=null,i=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Mv(n,e=null,t=[],i=[],a=null,o=null,u=null){return new o4(n,e,t,i,a,o,u)}function fo(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Pv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Xm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Kl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Kl(i))).join(",")),e.Te=t}return e.Te}function Ih(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vb(n.startAt,e.startAt)&&Vb(n.endAt,e.endAt)}function gm(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ym(n,e){return n.filters.filter((t=>t instanceof qe&&t.field.isEqual(e)))}function Ob(n,e,t){let i=Bf,a=!0;for(const o of ym(n,e)){let u=Bf,h=!0;switch(o.op){case"<":case"<=":u=Jk(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Bf}Ib({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Ib({value:i,inclusive:a},{value:u,inclusive:t.inclusive})<0&&(i=u,a=t.inclusive);break}}return{value:i,inclusive:a}}function Pb(n,e,t){let i=Hs,a=!0;for(const o of ym(n,e)){let u=Hs,h=!0;switch(o.op){case">=":case">":u=Zk(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Hs}Cb({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Cb({value:i,inclusive:a},{value:u,inclusive:t.inclusive})>0&&(i=u,a=t.inclusive);break}}return{value:i,inclusive:a}}class au{constructor(e,t=null,i=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function l4(n,e,t,i,a,o,u,h){return new au(n,e,t,i,a,o,u,h)}function Ch(n){return new au(n)}function Mb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function u4(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function QR(n){return n.collectionGroup!==null}function qc(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new st(St.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new uh(o,i))})),t.has(St.keyField().canonicalString())||e.Ie.push(new uh(St.keyField(),i))}return e.Ie}function mi(n){const e=Ce(n);return e.Ee||(e.Ee=c4(e,qc(n))),e.Ee}function c4(n,e){if(n.limitType==="F")return Mv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new uh(a.field,o)}));const t=n.endAt?new Ql(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ql(n.startAt.position,n.startAt.inclusive):null;return Mv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Nv(n,e){const t=n.filters.concat([e]);return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function h4(n,e){const t=n.explicitOrderBy.concat([e]);return new au(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function vm(n,e,t){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ip(n,e){return Ih(mi(n),mi(e))&&n.limitType===e.limitType}function $R(n){return`${fo(mi(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>HR(a))).join(", ")}]`),Xm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Kl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Kl(a))).join(",")),`Target(${i})`})(mi(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):de.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,a){for(const o of qc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const m=Db(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,qc(i),a)||i.endAt&&!(function(u,h,d){const m=Db(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,qc(i),a))})(n,e)}function d4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YR(n){return(e,t)=>{let i=!1;for(const a of qc(n)){const o=f4(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function f4(n,e,t){const i=n.field.isKeyField()?de.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?na(d,m):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}class Jr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((t,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return DR(this.inner)}size(){return this.innerSize}}const m4=new Tt(de.comparator);function $n(){return m4}const WR=new Tt(de.comparator);function Vc(...n){let e=WR;for(const t of n)e=e.insert(t.key,t);return e}function XR(n){let e=WR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function hr(){return Hc()}function JR(){return Hc()}function Hc(){return new Jr((n=>n.toString()),((n,e)=>n.isEqual(e)))}const p4=new Tt(de.comparator),g4=new st(de.comparator);function ke(...n){let e=g4;for(const t of n)e=e.add(t);return e}const y4=new st(Ie);function v4(){return y4}function Q_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function ZR(n){return{integerValue:""+n}}function _4(n,e){return Sk(e)?ZR(e):Q_(n,e)}class rp{constructor(){this._=void 0}}function E4(n,e,t){return n instanceof ch?(function(a,o){const u={fields:{[PR]:{stringValue:OR},[NR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&q_(o)&&(o=tp(o)),o&&(u.fields[MR]=o),{mapValue:u}})(t,e):n instanceof mo?tI(n,e):n instanceof Yl?nI(n,e):(function(a,o){const u=eI(a,o),h=Nb(u)+Nb(a.Ae);return Vv(u)&&Vv(a.Ae)?ZR(h):Q_(a.serializer,h)})(n,e)}function T4(n,e,t){return n instanceof mo?tI(n,e):n instanceof Yl?nI(n,e):t}function eI(n,e){return n instanceof hh?(function(i){return Vv(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class ch extends rp{}class mo extends rp{constructor(e){super(),this.elements=e}}function tI(n,e){const t=iI(e);for(const i of n.elements)t.some((a=>yr(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Yl extends rp{constructor(e){super(),this.elements=e}}function nI(n,e){let t=iI(e);for(const i of n.elements)t=t.filter((a=>!yr(a,i)));return{arrayValue:{values:t}}}class hh extends rp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Nb(n){return _t(n.integerValue||n.doubleValue)}function iI(n){return lh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rI{constructor(e,t){this.field=e,this.transform=t}}function S4(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof mo&&a instanceof mo||i instanceof Yl&&a instanceof Yl?zl(i.elements,a.elements,yr):i instanceof hh&&a instanceof hh?yr(i.Ae,a.Ae):i instanceof ch&&a instanceof ch})(n.transform,e.transform)}class b4{constructor(e,t){this.version=e,this.transformResults=t}}class nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sp{}function sI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vh(n.key,nn.none()):new ou(n.key,n.data,nn.none());{const t=n.data,i=yn.empty();let a=new st(St.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Zr(n.key,i,new Ln(a.toArray()),nn.none())}}function A4(n,e,t){n instanceof ou?(function(a,o,u){const h=a.value.clone(),d=Lb(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Zr?(function(a,o,u){if(!Hf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Lb(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(aI(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Gc(n,e,t,i){return n instanceof ou?(function(o,u,h,d){if(!Hf(o.precondition,u))return h;const m=o.value.clone(),y=jb(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Zr?(function(o,u,h,d){if(!Hf(o.precondition,u))return h;const m=jb(o.fieldTransforms,d,u),y=u.data;return y.setAll(aI(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(o,u,h){return Hf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function w4(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=eI(i.transform,a||null);o!=null&&(t===null&&(t=yn.empty()),t.set(i.field,o))}return t||null}function kb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zl(i,a,((o,u)=>S4(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends sp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zr extends sp{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Lb(n,e,t){const i=new Map;_e(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);i.set(o.field,T4(u,h,t[a]))}return i}function jb(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,E4(o,u,e))}return i}class Vh extends sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&A4(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Gc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=JR();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const d=sI(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,((t,i)=>kb(t,i)))&&zl(this.baseMutations,e.baseMutations,((t,i)=>kb(t,i)))}}class Y_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return p4})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new Y_(e,t,i,a)}}class W_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class x4{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,Ge;function R4(n){switch(n){case te.OK:return ye(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function lI(n){if(n===void 0)return bn("GRPC error has no .code"),te.UNKNOWN;switch(n){case qt.OK:return te.OK;case qt.CANCELLED:return te.CANCELLED;case qt.UNKNOWN:return te.UNKNOWN;case qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case qt.INTERNAL:return te.INTERNAL;case qt.UNAVAILABLE:return te.UNAVAILABLE;case qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case qt.NOT_FOUND:return te.NOT_FOUND;case qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case qt.ABORTED:return te.ABORTED;case qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case qt.DATA_LOSS:return te.DATA_LOSS;default:return ye(39323,{code:n})}}(Ge=qt||(qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function I4(){return new TextEncoder}const C4=new Ws([4294967295,4294967295],0);function Ub(n){const e=I4().encode(n),t=new sR;return t.update(e),new Uint8Array(t.digest())}function zb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([t,i],0),new Ws([a,o],0)]}class X_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(i<0)throw new Oc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ws.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ws.fromNumber(i)));return a.compare(C4)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ub(e),[i,a]=zb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new X_(o,a,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Ub(e),[i,a]=zb(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.be(u)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ap{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ap(Se.min(),a,new Tt(Ie),$n(),ke())}}class Oh{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Oh(i,t,ke(),ke(),ke())}}class Gf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class uI{constructor(e,t){this.targetId=e,this.Ce=t}}class cI{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Bb{constructor(){this.ve=0,this.Fe=Fb(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),i=ke();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ye(38017,{changeType:o})}})),new Oh(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Fb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class D4{constructor(e){this.Ge=e,this.ze=new Map,this.je=$n(),this.He=wf(),this.Je=wf(),this.Ze=new Tt(Ie)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(gm(o))if(i===0){const u=new de(o.path);this.et(t,u,Rt.newNoDocument(u,Se.min()))}else _e(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=$r(i).toUint8Array()}catch(d){if(d instanceof VR)return ea("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new X_(u,a,o)}catch(d){return ea(d instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&gm(h.target)){const d=new de(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Rt.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let i=ke();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new ap(e,t,this.Ze,this.je,i);return this.je=$n(),this.He=wf(),this.Je=wf(),this.Ze=new Tt(Ie),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Bb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new st(Ie),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new st(Ie),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wf(){return new Tt(de.comparator)}function Fb(){return new Tt(de.comparator)}const V4={asc:"ASCENDING",desc:"DESCENDING"},O4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P4={and:"AND",or:"OR"};class M4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kv(n,e){return n.useProto3Json||Xm(e)?e:{value:e}}function Wl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function N4(n,e){return Wl(n,e.toTimestamp())}function Rn(n){return _e(!!n,49232),Se.fromTimestamp((function(t){const i=Qr(t);return new $e(i.seconds,i.nanos)})(n))}function J_(n,e){return Lv(n,e).canonicalString()}function Lv(n,e){const t=(function(a){return new Ze(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function dI(n){const e=Ze.fromString(n);return _e(TI(e),10190,{key:e.toString()}),e}function _m(n,e){return J_(n.databaseId,e.path)}function so(n,e){const t=dI(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new de(pI(t))}function fI(n,e){return J_(n.databaseId,e)}function mI(n){const e=dI(n);return e.length===4?Ze.emptyPath():pI(e)}function jv(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pI(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qb(n,e,t){return{name:_m(n,e),fields:t.value.mapValue.fields}}function k4(n,e,t){const i=so(n,e.name),a=Rn(e.updateTime),o=e.createTime?Rn(e.createTime):Se.min(),u=new yn({mapValue:{fields:e.fields}}),h=Rt.newFoundDocument(i,a,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function L4(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ye(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(_e(y===void 0||typeof y=="string",58123),Kt.fromBase64String(y||"")):(_e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Kt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?te.UNKNOWN:lI(m.code);return new ue(y,m.message||"")})(u);t=new cI(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=so(n,i.document.name),o=Rn(i.document.updateTime),u=i.document.createTime?Rn(i.document.createTime):Se.min(),h=new yn({mapValue:{fields:i.document.fields}}),d=Rt.newFoundDocument(a,o,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Gf(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=so(n,i.document),o=i.readTime?Rn(i.readTime):Se.min(),u=Rt.newNoDocument(a,o),h=i.removedTargetIds||[];t=new Gf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=so(n,i.document),o=i.removedTargetIds||[];t=new Gf([],o,a,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new x4(a,o),h=i.targetId;t=new uI(h,u)}}return t}function Em(n,e){let t;if(e instanceof ou)t={update:qb(n,e.key,e.value)};else if(e instanceof Vh)t={delete:_m(n,e.key)};else if(e instanceof Zr)t={update:qb(n,e.key,e.data),updateMask:q4(e.fieldMask)};else{if(!(e instanceof oI))return ye(16599,{dt:e.type});t={verify:_m(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof ch)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ye(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:N4(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function Uv(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?nn.updateTime(Rn(o.updateTime)):o.exists!==void 0?nn.exists(o.exists):nn.none()})(e.currentDocument):nn.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)_e(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new ch;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new mo(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Yl(y)}else"increment"in h?d=new hh(u,h.increment):ye(16584,{proto:h});const m=St.fromServerFormat(h.fieldPath);return new rI(m,d)})(n,a))):[];if(e.update){e.update.name;const a=so(n,e.update.name),o=new yn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const m=d.fieldPaths||[];return new Ln(m.map((y=>St.fromServerFormat(y))))})(e.updateMask);return new Zr(a,o,u,t,i)}return new ou(a,o,t,i)}if(e.delete){const a=so(n,e.delete);return new Vh(a,t)}if(e.verify){const a=so(n,e.verify);return new oI(a,t)}return ye(1463,{proto:e})}function j4(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?Rn(a.updateTime):Rn(o);return u.isEqual(Se.min())&&(u=Rn(o)),new b4(u,a.transformResults||[])})(t,e)))):[]}function gI(n,e){return{documents:[fI(n,e.path)]}}function yI(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fI(n,a);const o=(function(m){if(m.length!==0)return EI(rt.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Sl(E.field),direction:z4(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=kv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function vI(n){let e=mI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_e(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(v){const E=_I(v);return E instanceof rt&&K_(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((E=>(function(D){return new uh(bl(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Xm(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(v){const E=!!v.before,A=v.values||[];return new Ql(A,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const E=!v.before,A=v.values||[];return new Ql(A,E)})(t.endAt)),l4(e,a,u,o,h,"F",d,m)}function U4(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _I(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bl(t.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(t.unaryFilter.field);return qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(t.unaryFilter.field);return qe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qe.create(bl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return rt.create(t.compositeFilter.filters.map((i=>_I(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function z4(n){return V4[n]}function B4(n){return O4[n]}function F4(n){return P4[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function bl(n){return St.fromServerFormat(n.fieldPath)}function EI(n){return n instanceof qe?(function(t){if(t.op==="=="){if(Rb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(xb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(xb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:B4(t.op),value:t.value}}})(n):n instanceof rt?(function(t){const i=t.getFilters().map((a=>EI(a)));return i.length===1?i[0]:{compositeFilter:{op:F4(t.op),filters:i}}})(n):ye(54877,{filter:n})}function q4(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function SI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class zr{constructor(e,t,i,a,o=Se.min(),u=Se.min(),h=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bI{constructor(e){this.yt=e}}function H4(n,e){let t;if(e.document)t=k4(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=de.fromSegments(e.noDocument.path),a=go(e.noDocument.readTime);t=Rt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=de.fromSegments(e.unknownDocument.path),a=go(e.unknownDocument.version);t=Rt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const o=new $e(a[0],a[1]);return Se.fromTimestamp(o)})(e.readTime)),t}function Hb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Tm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,u){return{name:_m(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Wl(o,u.version.toTimestamp()),createTime:Wl(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:po(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:po(e.version)}}return i}function Tm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function po(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(n){const e=new $e(n.seconds,n.nanoseconds);return Se.fromTimestamp(e)}function Xa(n,e){const t=(e.baseMutations||[]).map((o=>Uv(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>Uv(n.yt,o))),a=$e.fromMillis(e.localWriteTimeMs);return new $_(e.batchId,a,t,i)}function Pc(n){const e=go(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?go(n.lastLimboFreeSnapshotVersion):Se.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return _e(u===1,1966,{count:u}),mi(Ch(mI(o.documents[0])))})(n.query):(function(o){return mi(vI(o))})(n.query),new zr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kt.fromBase64String(n.resumeToken))}function AI(n,e){const t=po(e.snapshotVersion),i=po(e.lastLimboFreeSnapshotVersion);let a;a=gm(e.target)?gI(n.yt,e.target):yI(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function wI(n){const e=vI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vm(e,e.limit,"L"):e}function By(n,e){return new W_(e.largestBatchId,Uv(n.yt,e.overlayMutation))}function Gb(n,e){const t=e.path.lastSegment();return[n,_n(e.path.popLast()),t]}function Kb(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:po(i.readTime),documentKey:_n(i.documentKey.path),largestBatchId:i.largestBatchId}}class G4{getBundleMetadata(e,t){return Qb(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:go(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return Qb(e).put((function(a){return{bundleId:a.id,createTime:po(Rn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return $b(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:wI(o.bundledQuery),readTime:go(o.readTime)}})(i)}))}saveNamedQuery(e,t){return $b(e).put((function(a){return{name:a.name,readTime:po(Rn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Qb(n){return Xt(n,Jm)}function $b(n){return Xt(n,Zm)}class op{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new op(e,i)}getOverlay(e,t){return Tc(e).get(Gb(this.userId,t)).next((i=>i?By(this.serializer,i):null))}getOverlays(e,t){const i=hr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((o,u)=>{const h=new W_(t,u);a.push(this.bt(e,h))})),K.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((u=>a.add(_n(u.getCollectionPath()))));const o=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Tc(e).X(Iv,h))})),K.waitFor(o)}getOverlaysForCollection(e,t,i){const a=hr(),o=_n(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Tc(e).H(Iv,u).next((h=>{for(const d of h){const m=By(this.serializer,d);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const o=hr();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tc(e).ee({index:wR,range:h},((d,m,y)=>{const v=By(this.serializer,m);o.size()<a||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>o))}bt(e,t){return Tc(e).put((function(a,o,u){const[h,d,m]=Gb(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Em(a.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Tc(n){return Xt(n,ep)}class K4{St(e){return Xt(e,B_)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t?.value;return i?Kt.fromUint8Array(i):Kt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ja{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(_t(e.integerValue));else if("doubleValue"in e){const i=_t(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),th(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Qr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt($r(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?LR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):np(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ye(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Gl,o=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(_t(o)),this.Ot(a,t),this.Ct(i[a],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),de.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ja.Wt=new Ja;const gl=255;function Q4(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Yb(n){const e=64-(function(i){let a=0;for(let o=0;o<8;++o){const u=Q4(255&i[o]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(e/8)}class $4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),i=Yb(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=Yb(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(gl),this.sn(255)}_n(){this.an(gl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===gl?(this.sn(gl),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===gl?(this.an(gl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class Y4{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class W4{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Sc{constructor(){this.cn=new $4,this.ascending=new Y4(this.cn),this.descending=new W4(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Za{constructor(e,t,i,a){this.hn=e,this.Pn=t,this.Tn=i,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new Za(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:Kf(this.Tn),directionalValue:Kf(this.In),orderedDocumentKey:Kf(t),documentKey:i.path.toArray()}}An(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ms(n,e){let t=n.hn-e.hn;return t!==0?t:(t=Wb(n.Tn,e.Tn),t!==0?t:(t=Wb(n.In,e.In),t!==0?t:de.comparator(n.Pn,e.Pn)))}function Wb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function Kf(n){return Xx()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(n):n}function Xb(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(n)}class Jb{constructor(e){this.Vn=new st(((t,i)=>St.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=wv(e);if(t!==void 0&&!this.pn(t))return!1;const i=Qa(e);let a=new Set,o=0,u=0;for(;o<i.length&&this.pn(i[o]);++o)a=a.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[o];if(!this.yn(h,d)||!this.wn(this.dn[u++],d))return!1}++o}for(;o<i.length;++o){const h=i[o];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new st(St.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new jf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new jf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new jf(i.field,i.dir==="asc"?0:1)));return new hm(hm.UNKNOWN_ID,this.collectionId,t,eh.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function xI(n){if(_e(n instanceof qe||n instanceof rt,20012),n instanceof qe){if(n instanceof KR){const t=n.value.arrayValue?.values?.map((i=>qe.create(n.field,"==",i)))||[];return rt.create(t,"or")}return n}const e=n.filters.map((t=>xI(t)));return rt.create(e,n.op)}function X4(n){if(n.getFilters().length===0)return[];const e=Fv(xI(n));return _e(RI(e),7391),zv(e)||Bv(e)?[e]:e.getFilters()}function zv(n){return n instanceof qe}function Bv(n){return n instanceof rt&&K_(n)}function RI(n){return zv(n)||Bv(n)||(function(t){if(t instanceof rt&&Ov(t)){for(const i of t.getFilters())if(!zv(i)&&!Bv(i))return!1;return!0}return!1})(n)}function Fv(n){if(_e(n instanceof qe||n instanceof rt,34018),n instanceof qe)return n;if(n.filters.length===1)return Fv(n.filters[0]);const e=n.filters.map((i=>Fv(i)));let t=rt.create(e,n.op);return t=Sm(t),RI(t)?t:(_e(t instanceof rt,64498),_e($l(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((i,a)=>Z_(i,a))))}function Z_(n,e){let t;return _e(n instanceof qe||n instanceof rt,38388),_e(e instanceof qe||e instanceof rt,25473),t=n instanceof qe?e instanceof qe?(function(a,o){return rt.create([a,o],"and")})(n,e):Zb(n,e):e instanceof qe?Zb(e,n):(function(a,o){if(_e(a.filters.length>0&&o.filters.length>0,48005),$l(a)&&$l(o))return qR(a,o.getFilters());const u=Ov(a)?a:o,h=Ov(a)?o:a,d=u.filters.map((m=>Z_(m,h)));return rt.create(d,"or")})(n,e),Sm(t)}function Zb(n,e){if($l(e))return qR(e,n.getFilters());{const t=e.filters.map((i=>Z_(n,i)));return rt.create(t,"or")}}function Sm(n){if(_e(n instanceof qe||n instanceof rt,11850),n instanceof qe)return n;const e=n.getFilters();if(e.length===1)return Sm(e[0]);if(BR(n))return n;const t=e.map((a=>Sm(a))),i=[];return t.forEach((a=>{a instanceof qe?i.push(a):a instanceof rt&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:rt.create(i,n.op)}class J4{constructor(){this.Sn=new e0}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Yn.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class e0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new st(Ze.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new st(Ze.comparator)).toArray()}}const eA="IndexedDbIndexManager",xf=new Uint8Array(0);class Z4{constructor(e,t){this.databaseId=t,this.Dn=new e0,this.Cn=new Jr((i=>fo(i)),((i,a)=>Ih(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:i,parent:_n(a)};return tA(e).put(o)}return K.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[fR(t),""],!1,!0);return tA(e).H(a).next((o=>{for(const u of o){if(u.collectionId!==t)break;i.push(cr(u.parent))}return i}))}addFieldIndex(e,t){const i=bc(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete a.indexId;const o=i.add(a);if(t.indexState){const u=vl(e);return o.next((h=>{u.put(Kb(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=bc(e),a=vl(e),o=yl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=bc(e),i=yl(e),a=vl(e);return t.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(e,t){return K.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const o=new Jb(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=yl(e);let a=!0;const o=new Map;return K.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{a&&(a=!!h),o.set(u,h)})))).next((()=>{if(a){let u=ke();const h=[];return K.forEach(o,((d,m)=>{le(eA,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((X=>`${X.fieldPath}:${X.kind}`)).join(",")}`})(d)} to execute ${fo(t)}`);const y=(function(z,X){const H=wv(X);if(H===void 0)return null;for(const ie of ym(z,H.fieldPath))switch(ie.op){case"array-contains-any":return ie.value.arrayValue.values||[];case"array-contains":return[ie.value]}return null})(m,d),v=(function(z,X){const H=new Map;for(const ie of Qa(X))for(const I of ym(z,ie.fieldPath))switch(I.op){case"==":case"in":H.set(ie.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return H.set(ie.fieldPath.canonicalString(),I.value),Array.from(H.values())}return null})(m,d),E=(function(z,X){const H=[];let ie=!0;for(const I of Qa(X)){const x=I.kind===0?Ob(z,I.fieldPath,z.startAt):Pb(z,I.fieldPath,z.startAt);H.push(x.value),ie&&(ie=x.inclusive)}return new Ql(H,ie)})(m,d),A=(function(z,X){const H=[];let ie=!0;for(const I of Qa(X)){const x=I.kind===0?Pb(z,I.fieldPath,z.endAt):Ob(z,I.fieldPath,z.endAt);H.push(x.value),ie&&(ie=x.inclusive)}return new Ql(H,ie)})(m,d),D=this.Mn(d,m,E),M=this.Mn(d,m,A),N=this.xn(d,m,v),U=this.On(d.indexId,y,D,E.inclusive,M,A.inclusive,N);return K.forEach(U,(P=>i.Z(P,t.limit).next((z=>{z.forEach((X=>{const H=de.fromSegments(X.documentKey);u.has(H)||(u=u.add(H),h.push(H))}))}))))})).next((()=>h))}return K.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=X4(rt.create(e.filters,"and")).map((i=>Mv(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,a,o,u,h){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),m=d/(t!=null?t.length:1),y=[];for(let v=0;v<d;++v){const E=t?this.Nn(t[v/m]):xf,A=this.Bn(e,E,i[v%m],a),D=this.Ln(e,E,o[v%m],u),M=h.map((N=>this.Bn(e,E,N,!0)));y.push(...this.createRange(A,D,M))}return y}Bn(e,t,i,a){const o=new Za(e,de.empty(),t,i);return a?o:o.En()}Ln(e,t,i,a){const o=new Za(e,de.empty(),t,i);return a?o.En():o}Fn(e,t){const i=new Jb(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let u=null;for(const h of o)i.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let i=2;const a=this.vn(t);return K.forEach(a,(o=>this.Fn(e,o).next((u=>{u?i!==0&&u.fields.length<(function(d){let m=new st(St.comparator),y=!1;for(const v of d.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:m=m.add(E.field));for(const v of d.orderBy)v.field.isKeyField()||(m=m.add(v.field));return m.size+(y?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(t)&&a.length>1&&i===2?1:i))}kn(e,t){const i=new Sc;for(const a of Qa(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const u=i.ln(a.kind);Ja.Wt.Dt(o,u)}return i.un()}Nn(e){const t=new Sc;return Ja.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new Sc;return Ja.Wt.Dt(oh(this.databaseId,t),i.ln((function(o){const u=Qa(o);return u.length===0?0:u[u.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let a=[];a.push(new Sc);let o=0;for(const u of Qa(e)){const h=i[o++];for(const d of a)if(this.qn(t,u.fieldPath)&&lh(h))a=this.Un(a,u,h);else{const m=d.ln(u.kind);Ja.Wt.Dt(h,m)}}return this.$n(a)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const a=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of a){const d=new Sc;d.seed(h.un()),Ja.Wt.Dt(u,d.ln(t.kind)),o.push(d)}return o}qn(e,t){return!!e.filters.find((i=>i instanceof qe&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=bc(e),a=vl(e);return(t?i.H(Rv,IDBKeyRange.bound(t,t)):i.H()).next((o=>{const u=[];return K.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,v){const E=v?new eh(v.sequenceNumber,new Yn(go(v.readTime),new de(cr(v.documentKey)),v.largestBatchId)):eh.empty(),A=y.fields.map((([D,M])=>new jf(St.fromServerFormat(D),M)));return new hm(y.indexId,y.collectionGroup,A,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const o=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ie(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=bc(e),o=vl(e);return this.Wn(e).next((u=>a.H(Rv,IDBKeyRange.bound(t,t)).next((h=>K.forEach(h,(d=>o.put(Kb(d.indexId,this.uid,u,i))))))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,((a,o)=>{const u=i.get(a.collectionGroup);return(u?K.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),K.forEach(h,(d=>this.Qn(e,a,d).next((m=>{const y=this.Gn(o,d);return m.isEqual(y)?K.resolve():this.zn(e,o,d,m,y)})))))))}))}jn(e,t,i,a){return yl(e).put(a.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,a){return yl(e).delete(a.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const a=yl(e);let o=new st(Ms);return a.ee({index:AR,range:IDBKeyRange.only([i.indexId,this.uid,Kf(this.Kn(i,t))])},((u,h)=>{o=o.add(new Za(i.indexId,t,Xb(h.arrayValue),Xb(h.directionalValue)))})).next((()=>o))}Gn(e,t){let i=new st(Ms);const a=this.kn(t,e);if(a==null)return i;const o=wv(t);if(o!=null){const u=e.data.field(o.fieldPath);if(lh(u))for(const h of u.arrayValue.values||[])i=i.add(new Za(t.indexId,e.key,this.Nn(h),a))}else i=i.add(new Za(t.indexId,e.key,xf,a));return i}zn(e,t,i,a,o){le(eA,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,m,y,v,E){const A=d.getIterator(),D=m.getIterator();let M=pl(A),N=pl(D);for(;M||N;){let U=!1,P=!1;if(M&&N){const z=y(M,N);z<0?P=!0:z>0&&(U=!0)}else M!=null?P=!0:U=!0;U?(v(N),N=pl(D)):P?(E(M),M=pl(A)):(M=pl(A),N=pl(D))}})(a,o,Ms,(h=>{u.push(this.jn(e,t,i,h))}),(h=>{u.push(this.Hn(e,t,i,h))})),K.waitFor(u)}Wn(e){let t=1;return vl(e).ee({index:bR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((u,h)=>Ms(u,h))).filter(((u,h,d)=>!h||Ms(u,d[h-1])!==0));const a=[];a.push(e);for(const u of i){const h=Ms(u,e),d=Ms(u,t);if(h===0)a[0]=e.En();else if(h>0&&d<0)a.push(u),a.push(u.En());else if(d>0)break}a.push(t);const o=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,xf,de.empty()),d=a[u+1].An(this.uid,xf,de.empty());o.push(IDBKeyRange.bound(h,d))}return o}Jn(e,t){return Ms(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nA)}getMinOffset(e,t){return K.mapArray(this.vn(t),(i=>this.Fn(e,i).next((a=>a||ye(44426))))).next(nA)}}function tA(n){return Xt(n,rh)}function yl(n){return Xt(n,Bc)}function bc(n){return Xt(n,z_)}function vl(n){return Xt(n,zc)}function nA(n){_e(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;L_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Yn(e.readTime,e.documentKey,t)}const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},II=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function CI(n,e,t){const i=n.store(Oi),a=n.store(Bl),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=i.ee({range:u},((y,v,E)=>(h++,E.delete())));o.push(d.next((()=>{_e(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const v=ER(e,y.key.path,t.batchId);o.push(a.delete(v)),m.push(y.key)}return K.waitFor(o).next((()=>m))}function bm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(II,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class lp{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(e,t,i,a){_e(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new lp(o,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).ee({index:eo,range:i},((a,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const o=Al(e),u=Ns(e);return u.add({}).next((h=>{_e(typeof h=="number",49019);const d=new $_(h,t,i,a),m=(function(A,D,M){const N=M.baseMutations.map((P=>Em(A.yt,P))),U=M.mutations.map((P=>Em(A.yt,P)));return{userId:D,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:N,mutations:U}})(this.serializer,this.userId,d),y=[];let v=new st(((E,A)=>Ie(E.canonicalString(),A.canonicalString())));for(const E of a){const A=ER(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(m)),y.push(o.put(A,wk))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),K.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,t){return Ns(e).get(t).next((i=>i?(_e(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Xa(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?K.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ns(e).ee({index:eo,range:a},((u,h,d)=>{h.userId===this.userId&&(_e(h.batchId>=i,47524,{Yn:i}),o=Xa(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=io;return Ns(e).ee({index:eo,range:t,reverse:!0},((a,o,u)=>{i=o.batchId,u.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,io],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).H(eo,t).next((i=>i.map((a=>Xa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Uf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),o=[];return Al(e).ee({range:a},((u,h,d)=>{const[m,y,v]=u,E=cr(y);if(m===this.userId&&t.path.isEqual(E))return Ns(e).get(v).next((A=>{if(!A)throw ye(61480,{er:u,batchId:v});_e(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:v}),o.push(Xa(this.serializer,A))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(Ie);const a=[];return t.forEach((o=>{const u=Uf(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Al(e).ee({range:h},((m,y,v)=>{const[E,A,D]=m,M=cr(A);E===this.userId&&o.path.isEqual(M)?i=i.add(D):v.done()}));a.push(d)})),K.waitFor(a).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,o=Uf(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new st(Ie);return Al(e).ee({range:u},((d,m,y)=>{const[v,E,A]=d,D=cr(E);v===this.userId&&i.isPrefixOf(D)?D.length===a&&(h=h.add(A)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const i=[],a=[];return t.forEach((o=>{a.push(Ns(e).get(o).next((u=>{if(u===null)throw ye(35274,{batchId:o});_e(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),i.push(Xa(this.serializer,u))})))})),K.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return CI(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),K.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Al(e).ee({range:i},((o,u,h)=>{if(o[0]===this.userId){const d=cr(o[1]);a.push(d)}else h.done()})).next((()=>{_e(a.length===0,56720,{rr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return DI(e,this.userId,t)}ir(e){return VI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:io,lastStreamToken:""}))}}function DI(n,e,t){const i=Uf(e,t.path),a=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Al(n).ee({range:o,Y:!0},((h,d,m)=>{const[y,v,E]=h;y===e&&v===a&&(u=!0),m.done()})).next((()=>u))}function Ns(n){return Xt(n,Oi)}function Al(n){return Xt(n,Bl)}function VI(n){return Xt(n,nh)}class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}class eL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new yo(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Se.fromTimestamp(new $e(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_l(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(_e(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let a=0;const o=[];return _l(e).ee(((u,h)=>{const d=Pc(h);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>K.waitFor(o))).next((()=>a))}forEachTarget(e,t){return _l(e).ee(((i,a)=>{const o=Pc(a);t(o)}))}ur(e){return rA(e).get(mm).next((t=>(_e(t!==null,2888),t)))}cr(e,t){return rA(e).put(mm,t)}lr(e,t){return _l(e).put(AI(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=fo(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return _l(e).ee({range:a,index:SR},((u,h,d)=>{const m=Pc(h);Ih(t,m.target)&&(o=m,d.done())})).next((()=>o))}addMatchingKeys(e,t,i){const a=[],o=Us(e);return t.forEach((u=>{const h=_n(u.path);a.push(o.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(e,i,u))})),K.waitFor(a)}removeMatchingKeys(e,t,i){const a=Us(e);return K.forEach(t,(o=>{const u=_n(o.path);return K.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=Us(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Us(e);let o=ke();return a.ee({range:i,Y:!0},((u,h,d)=>{const m=cr(u[1]),y=new de(m);o=o.add(y)})).next((()=>o))}containsKey(e,t){const i=_n(t.path),a=IDBKeyRange.bound([i],[fR(i)],!1,!0);let o=0;return Us(e).ee({index:U_,Y:!0,range:a},(([u,h],d,m)=>{u!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return _l(e).get(t).next((i=>i?Pc(i):null))}}function _l(n){return Xt(n,Fl)}function rA(n){return Xt(n,ro)}function Us(n){return Xt(n,ql)}const sA="LruGarbageCollector",tL=1048576;function aA([n,e],[t,i]){const a=Ie(n,t);return a===0?Ie(e,i):a}class nL{constructor(e){this.Pr=e,this.buffer=new st(aA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();aA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(sA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?le(sA,"Ignoring IndexedDB error during garbage collection: ",t):await To(t)}await this.Ar(3e5)}))}}class iL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(di.ce);const i=new nL(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(iA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),El()<=Fe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function PI(n,e){return new iL(n,e)}class rL{constructor(e,t){this.db=e,this.garbageCollector=PI(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,a)=>t(a)))}addReference(e,t,i){return Rf(e,i)}removeReference(e,t,i){return Rf(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Rf(e,t)}wr(e,t){return(function(a,o){let u=!1;return VI(a).te((h=>DI(a,h,o).next((d=>(d&&(u=!0),K.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.yr(e,((u,h)=>{if(h<=t){const d=this.wr(e,u).next((m=>{if(!m)return o++,i.getEntry(e,u).next((()=>(i.removeEntry(u,Se.min()),Us(e).delete((function(v){return[0,_n(v.path)]})(u)))))}));a.push(d)}})).next((()=>K.waitFor(a))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Rf(e,t)}yr(e,t){const i=Us(e);let a,o=di.ce;return i.ee({index:U_},(([u,h],{path:d,sequenceNumber:m})=>{u===0?(o!==di.ce&&t(new de(cr(a)),o),o=m,a=d):o=di.ce})).next((()=>{o!==di.ce&&t(new de(cr(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rf(n,e){return Us(n).put((function(i,a){return{targetId:0,path:_n(i.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class MI{constructor(){this.changes=new Jr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return qa(e).put(i)}removeEntry(e,t,i){return qa(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Tm(u),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=Rt.newInvalidDocument(t);return qa(e).ee({index:zf,range:IDBKeyRange.only(Ac(t))},((a,o)=>{i=this.Sr(t,o)})).next((()=>i))}Dr(e,t){let i={size:0,document:Rt.newInvalidDocument(t)};return qa(e).ee({index:zf,range:IDBKeyRange.only(Ac(t))},((a,o)=>{i={document:this.Sr(t,o),size:bm(o)}})).next((()=>i))}getEntries(e,t){let i=$n();return this.Cr(e,t,((a,o)=>{const u=this.Sr(a,o);i=i.insert(a,u)})).next((()=>i))}vr(e,t){let i=$n(),a=new Tt(de.comparator);return this.Cr(e,t,((o,u)=>{const h=this.Sr(o,u);i=i.insert(o,h),a=a.insert(o,bm(u))})).next((()=>({documents:i,Fr:a})))}Cr(e,t,i){if(t.isEmpty())return K.resolve();let a=new st(uA);t.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Ac(a.first()),Ac(a.last())),u=a.getIterator();let h=u.getNext();return qa(e).ee({index:zf,range:o},((d,m,y)=>{const v=de.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&uA(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,m),h=u.hasNext()?u.getNext():null),h?y.j(Ac(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Tm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qa(e).H(IDBKeyRange.bound(h,d,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let y=$n();for(const v of m){const E=this.Sr(de.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Dh(t,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(e,t,i,a){let o=$n();const u=lA(t,i),h=lA(t,Yn.max());return qa(e).ee({index:TR,range:IDBKeyRange.bound(u,h,!0)},((d,m,y)=>{const v=this.Sr(de.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(v.key,v),o.size===a&&y.done()})).next((()=>o))}newChangeBuffer(e){return new aL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return oA(e).get(xv).next((t=>(_e(!!t,20021),t)))}br(e,t){return oA(e).put(xv,t)}Sr(e,t){if(t){const i=H4(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Se.min())))return i}return Rt.newInvalidDocument(e)}}function NI(n){return new sL(n)}class aL extends MI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Jr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new st(((o,u)=>Ie(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=Hb(this.Mr.serializer,u);a=a.add(o.path.popLast());const m=bm(d);i+=m-h.size,t.push(this.Mr.addEntry(e,o,d))}else if(i-=h.size,this.trackRemovals){const d=Hb(this.Mr.serializer,u.convertToNoDocument(Se.min()));t.push(this.Mr.addEntry(e,o,d))}})),a.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:a})=>(a.forEach(((o,u)=>{this.Or.set(o,{size:u,readTime:i.get(o).readTime})})),i)))}}function oA(n){return Xt(n,ih)}function qa(n){return Xt(n,fm)}function Ac(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lA(n,e){const t=e.documentKey.path.toArray();return[n,Tm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uA(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(a=Ie(t[o],i[o]),a)return a;return a=Ie(t.length,i.length),a||(a=Ie(t[t.length-2],i[i.length-2]),a||Ie(t[t.length-1],i[i.length-1]))}class oL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kI{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Gc(i.mutation,a,Ln.empty(),$e.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ke()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ke()){const a=hr();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((o=>{let u=Vc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=hr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ke())))}populateOverlays(e,t,i){const a=[];return i.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,a){let o=$n();const u=Hc(),h=(function(){return Hc()})();return t.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Zr)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Gc(y.mutation,m,y.mutation.getFieldMask(),$e.now())):u.set(m.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new oL(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Hc();let a=new Tt(((u,h)=>u-h)),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let y=i.get(d)||Ln.empty();y=h.applyToLocalView(m,y),i.set(d,y);const v=(a.get(h.batchId)||ke()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=JR();y.forEach((E=>{if(!o.has(E)){const A=sI(t.get(E),i.get(E));A!==null&&v.set(E,A),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return K.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return u4(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):K.resolve(hr());let h=Zc,d=o;return u.next((m=>K.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?K.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,ke()))).next((y=>({batchId:h,changes:XR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next((i=>{let a=Vc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=Vc();return this.indexManager.getCollectionParents(e,o).next((h=>K.forEach(h,(d=>{const m=(function(v,E){return new au(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Rt.newInvalidDocument(y)))}));let h=Vc();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Gc(y.mutation,m,Ln.empty(),$e.now()),Dh(t,m)&&(h=h.insert(d,m))})),h}))}}class lL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Rn(a.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:wI(a.bundledQuery),readTime:Rn(a.readTime)}})(t)),K.resolve()}}class uL{constructor(){this.overlays=new Tt(de.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=hr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,o)=>{this.bt(e,t,o)})),K.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const a=hr(),o=t.length+1,u=new de(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return K.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new Tt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=hr(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=hr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return K.resolve(h)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new W_(t,i));let o=this.Lr.get(t);o===void 0&&(o=ke(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class cL{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class t0{constructor(){this.kr=new st(tn.Kr),this.qr=new st(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new tn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new de(new Ze([])),i=new tn(t,e),a=new tn(t,e+1),o=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new de(new Ze([])),i=new tn(t,e),a=new tn(t,e+1);let o=ke();return this.qr.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new tn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return de.comparator(e.key,t.key)||Ie(e.Hr,t.Hr)}static Ur(e,t){return Ie(e.Hr,t.Hr)||de.comparator(e.key,t.key)}}class hL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new st(tn.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $_(o,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),o=a<0?0:a;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?io:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);o.push(h)})),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(Ie);return t.forEach((a=>{const o=new tn(a,0),u=new tn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{i=i.add(h.Hr)}))})),K.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;de.isDocumentKey(o)||(o=o.child(""));const u=new tn(new de(o),0);let h=new st(Ie);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),u),K.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return K.forEach(t.mutations,(a=>{const o=new tn(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new tn(t,0),a=this.Jr.firstAfterOrEqual(i);return K.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dL{constructor(e){this.ti=e,this.docs=(function(){return new Tt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Rt.newInvalidDocument(t))}getEntries(e,t){let i=$n();return t.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Rt.newInvalidDocument(a))})),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=$n();const u=t.path,h=new de(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||L_(gR(y),i)<=0||(a.has(y.key)||Dh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,i,a){ye(9500)}ni(e,t){return K.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new fL(this)}getSize(e){return K.resolve(this.size)}}class fL extends MI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class mL{constructor(e){this.persistence=e,this.ri=new Jr((t=>fo(t)),Ih),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new t0,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),K.waitFor(o).next((()=>a))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class n0{constructor(e,t){this._i={},this.overlays={},this.ai=new di(0),this.ui=!1,this.ui=!0,this.ci=new cL,this.referenceDelegate=e(this),this.li=new mL(this),this.indexManager=new J4,this.remoteDocumentCache=(function(a){return new dL(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new bI(t),this.Pi=new lL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new hL(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const a=new pL(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return K.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class pL extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new t0,this.Ai=null}static Vi(e){return new up(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(i=>{const a=de.fromPath(i);return this.mi(e,a).next((o=>{o||t.removeEntry(a,Se.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Am{constructor(e,t){this.persistence=e,this.fi=new Jr((i=>_n(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=PI(this,t)}static Vi(e,t){return new Am(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((o=>o?K.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(i++,o.removeEntry(u,Se.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ff(e.data.value)),t}wr(e,t,i){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return K.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gL{constructor(e){this.serializer=e}k(e,t,i,a){const o=new Wm("createOrUpgrade",t);i<1&&a>=1&&((function(d){d.createObjectStore(Rh)})(e),(function(d){d.createObjectStore(nh,{keyPath:Ak}),d.createObjectStore(Oi,{keyPath:Eb,autoIncrement:!0}).createIndex(eo,Tb,{unique:!0}),d.createObjectStore(Bl)})(e),cA(e),(function(d){d.createObjectStore($a)})(e));let u=K.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(ql),d.deleteObjectStore(Fl),d.deleteObjectStore(ro)})(e),cA(e)),u=u.next((()=>(function(d){const m=d.store(ro),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return m.put(mm,y)})(o)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(d,m){return m.store(Oi).H().next((v=>{d.deleteObjectStore(Oi),d.createObjectStore(Oi,{keyPath:Eb,autoIncrement:!0}).createIndex(eo,Tb,{unique:!0});const E=m.store(Oi),A=v.map((D=>E.put(D)));return K.waitFor(A)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Hl,{keyPath:Pk})})(e)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(o)))),i<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(ih)})(e),this.pi(o))))),i<7&&a>=7&&(u=u.next((()=>this.yi(o)))),i<8&&a>=8&&(u=u.next((()=>this.wi(e,o)))),i<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(o)))),i<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Jm,{keyPath:Mk})})(e),(function(d){d.createObjectStore(Zm,{keyPath:Nk})})(e)}))),i<12&&a>=12&&(u=u.next((()=>{(function(d){const m=d.createObjectStore(ep,{keyPath:Fk});m.createIndex(Iv,qk,{unique:!1}),m.createIndex(wR,Hk,{unique:!1})})(e)}))),i<13&&a>=13&&(u=u.next((()=>(function(d){const m=d.createObjectStore(fm,{keyPath:xk});m.createIndex(zf,Rk),m.createIndex(TR,Ik)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore($a)))),i<14&&a>=14&&(u=u.next((()=>this.Di(e,o)))),i<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(z_,{keyPath:kk,autoIncrement:!0}).createIndex(Rv,Lk,{unique:!1}),d.createObjectStore(zc,{keyPath:jk}).createIndex(bR,Uk,{unique:!1}),d.createObjectStore(Bc,{keyPath:zk}).createIndex(AR,Bk,{unique:!1})})(e)))),i<16&&a>=16&&(u=u.next((()=>{t.objectStore(zc).clear()})).next((()=>{t.objectStore(Bc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(B_,{keyPath:Gk})})(e)}))),i<18&&a>=18&&Xx()&&(u=u.next((()=>{t.objectStore(zc).clear()})).next((()=>{t.objectStore(Bc).clear()}))),u}pi(e){let t=0;return e.store($a).ee(((i,a)=>{t+=bm(a)})).next((()=>{const i={byteSize:t};return e.store(ih).put(xv,i)}))}gi(e){const t=e.store(nh),i=e.store(Oi);return t.H().next((a=>K.forEach(a,(o=>{const u=IDBKeyRange.bound([o.userId,io],[o.userId,o.lastAcknowledgedBatchId]);return i.H(eo,u).next((h=>K.forEach(h,(d=>{_e(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const m=Xa(this.serializer,d);return CI(e,o.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(ql),i=e.store($a);return e.store(ro).get(mm).next((a=>{const o=[];return i.ee(((u,h)=>{const d=new Ze(u),m=(function(v){return[0,_n(v)]})(d);o.push(t.get(m).next((y=>y?K.resolve():(v=>t.put({targetId:0,path:_n(v),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>K.waitFor(o)))}))}wi(e,t){e.createObjectStore(rh,{keyPath:Ok});const i=t.store(rh),a=new e0,o=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:_n(d)})}};return t.store($a).ee({Y:!0},((u,h)=>{const d=new Ze(u);return o(d.popLast())})).next((()=>t.store(Bl).ee({Y:!0},(([u,h,d],m)=>{const y=cr(h);return o(y.popLast())}))))}bi(e){const t=e.store(Fl);return t.ee(((i,a)=>{const o=Pc(a),u=AI(this.serializer,o);return t.put(u)}))}Si(e,t){const i=t.store($a),a=[];return i.ee(((o,u)=>{const h=t.store(fm),d=(function(v){return v.document?new de(Ze.fromString(v.document.name).popFirst(5)):v.noDocument?de.fromSegments(v.noDocument.path):v.unknownDocument?de.fromSegments(v.unknownDocument.path):ye(36783)})(u).path.toArray(),m={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(m))})).next((()=>K.waitFor(a)))}Di(e,t){const i=t.store(Oi),a=NI(this.serializer),o=new n0(up.Vi,this.serializer.yt);return i.H().next((u=>{const h=new Map;return u.forEach((d=>{let m=h.get(d.userId)??ke();Xa(this.serializer,d).keys().forEach((y=>m=m.add(y))),h.set(d.userId,m)})),K.forEach(h,((d,m)=>{const y=new hn(m),v=op.wt(this.serializer,y),E=o.getIndexManager(y),A=lp.wt(y,this.serializer,E,o.referenceDelegate);return new kI(a,A,v,E).recalculateAndSaveOverlaysForDocumentKeys(new Cv(t,di.ce),d).next()}))}))}}function cA(n){n.createObjectStore(ql,{keyPath:Dk}).createIndex(U_,Vk,{unique:!0}),n.createObjectStore(Fl,{keyPath:"targetId"}).createIndex(SR,Ck,{unique:!0}),n.createObjectStore(ro)}const ks="IndexedDbPersistence",Fy=18e5,qy=5e3,Hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yL="main";class i0{constructor(e,t,i,a,o,u,h,d,m,y,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=o,this.window=u,this.document=h,this.Fi=m,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!i0.v())throw new ue(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rL(this,a),this.Ki=t+yL,this.serializer=new bI(d),this.qi=new Xs(this.Ki,this.xi,new gL(this.serializer)),this.ci=new K4,this.li=new eL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NI(this.serializer),this.Pi=new G4,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&bn(ks,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Hy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new di(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>If(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(la(e))return le(ks,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(ks,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return wc(e).get(ml).next((t=>K.resolve(this.Xi(t))))}Yi(e){return If(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Fy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Xt(t,Hl);return i.H().next((a=>{const o=this.ns(a,Fy),u=a.filter((h=>o.indexOf(h)===-1));return K.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?K.resolve(!0):wc(e).get(ml).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,qy)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Hy);return!1}}return!(!this.networkEnabled||!this.inForeground)||If(e).H().next((i=>this.ns(i,qy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(ks,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Rh,Hl],(e=>{const t=new Cv(e,di.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>If(e).H().next((t=>this.ns(t,Fy).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return lp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Z4(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return op.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){le(ks,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?$k:d===17?CR:d===16?Qk:d===15?F_:d===14?IR:d===13?RR:d===12?Kk:d===11?xR:void ye(60245)})(this.xi);let u;return this.qi.runTransaction(e,a,o,(h=>(u=new Cv(h,this.ai?this.ai.next():di.ce),t==="readwrite-primary"?this.ji(u).next((d=>!!d||this.Hi(u))).next((d=>{if(!d)throw bn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ue(te.FAILED_PRECONDITION,yR);return i(u)})).next((d=>this.Zi(u).next((()=>d)))):this.Ps(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return wc(e).get(ml).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,qy)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ue(te.FAILED_PRECONDITION,Hy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wc(e).put(ml,t)}static v(){return Xs.v()}Ji(e){const t=wc(e);return t.get(ml).next((i=>this.Xi(i)?(le(ks,"Releasing primary lease."),t.delete(ml)):K.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(bn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;Wx()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return le(ks,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return bn(ks,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){bn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wc(n){return Xt(n,Rh)}function If(n){return Xt(n,Hl)}function vL(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class r0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=ke(),a=ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new r0(e,t.fromCache,i,a)}}class _L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Wx()?8:_R(Wt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new _L;return this.ys(e,t,u).next((h=>{if(o.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>o.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(El()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(El()<=Fe.DEBUG&&le("QueryEngine","Query:",Tl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(El()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):K.resolve())}gs(e,t){if(Mb(t))return K.resolve(null);let i=mi(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=vm(t,null,"F"),i=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=ke(...o);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.bs(t,h);return this.Ss(t,m,u,d.readTime)?this.gs(e,vm(t,null,"F")):this.Ds(e,m,t,d)}))))})))))}ps(e,t,i,a){return Mb(t)||a.isEqual(Se.min())?K.resolve(null):this.fs.getDocuments(e,i).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,i,a)?K.resolve(null):(El()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(t)),this.Ds(e,u,t,yk(a,Zc)).next((h=>h)))}))}bs(e,t){let i=new st(YR(e));return t.forEach(((a,o)=>{Dh(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,i){return El()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.fs.getDocumentsMatchingQuery(e,t,Yn.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const s0="LocalStore",EL=3e8;class TL{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Tt(Ie),this.Fs=new Jr((o=>fo(o)),Ih),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function jI(n,e,t,i){return new TL(n,e,t,i)}async function UI(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=ke();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function SL(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const v=m.batch,E=v.keys();let A=K.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(d,D))).next((M=>{const N=m.docVersions.get(D);_e(N!==null,48541),M.version.compareTo(N)<0&&(v.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=ke();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function zI(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function bL(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(t.li.removeMatchingKeys(o,y.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,y.addedDocuments,v))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(M,N,U){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=EL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,A,y)&&h.push(t.li.updateTargetData(o,A))}));let d=$n(),m=ke();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(AL(o,u,e.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(Se.min())){const y=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return K.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(t.vs=a,o)))}function AL(n,e,t){let i=ke(),a=ke();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=$n();return t.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):le(s0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function wL(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=io),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function xL(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((o=>o?(a=o,K.resolve(a)):t.li.allocateTargetId(i).next((u=>(a=new zr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function qv(n,e,t){const i=Ce(n),a=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!la(u))throw u;le(s0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function hA(n,e,t){const i=Ce(n);let a=Se.min(),o=ke();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const v=Ce(d),E=v.Fs.get(y);return E!==void 0?K.resolve(v.vs.get(E)):v.li.getTargetData(m,y)})(i,u,mi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,t?a:Se.min(),t?o:ke()))).next((h=>(RL(i,d4(e),h),{documents:h,ks:o})))))}function RL(n,e,t){let i=n.Ms.get(e)||Se.min();t.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}class dA{constructor(){this.activeTargetIds=v4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BI{constructor(){this.vo=new dA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IL{Mo(e){}shutdown(){}}const fA="ConnectivityMonitor";class mA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(fA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(fA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function Hv(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Gy="RestConnection",CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===pm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,o){const u=Hv(),h=this.Qo(e,t.toUriEncodedString());le(Gy,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=iu(m);return this.zo(e,h,d,i,y).then((v=>(le(Gy,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ea(Gy,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,t,i,a,o,u){return this.Wo(e,t,i,a,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+su})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const i=CL[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class VL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const pn="WebChannelConnection",xc=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Pl extends DL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pl.c_){const e=uR();xc(e,lR.STAT_EVENT,(t=>{t.stat===bv.PROXY?le(pn,"STAT_EVENT: detected buffering proxy"):t.stat===bv.NOPROXY&&le(pn,"STAT_EVENT: detected no buffering proxy")})),Pl.c_=!0}}zo(e,t,i,a,o){const u=Hv();return new Promise(((h,d)=>{const m=new aR;m.setWithCredentials(!0),m.listenOnce(oR.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Lf.NO_ERROR:const v=m.getResponseJson();le(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Lf.TIMEOUT:le(pn,`RPC '${e}' ${u} timed out`),d(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const E=m.getStatus();if(le(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const M=(function(U){const P=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(P)>=0?P:te.UNKNOWN})(D.status);d(new ue(M,D.message))}else d(new ue(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ue(te.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(pn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);le(pn,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=Hv(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const m=o.join("");le(pn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let v=!1,E=!1;const A=new VL({Ho:D=>{E?le(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(v||(le(pn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),le(pn,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return xc(y,Dc.EventType.OPEN,(()=>{E||(le(pn,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),xc(y,Dc.EventType.CLOSE,(()=>{E||(E=!0,le(pn,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(y))})),xc(y,Dc.EventType.ERROR,(D=>{E||(E=!0,ea(pn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),A.o_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),xc(y,Dc.EventType.MESSAGE,(D=>{if(!E){const M=D.data[0];_e(!!M,16349);const N=M,U=N?.error||N[0]?.error;if(U){le(pn,`RPC '${e}' stream ${a} received error:`,U);const P=U.status;let z=(function(ie){const I=qt[ie];if(I!==void 0)return lI(I)})(P),X=U.message;P==="NOT_FOUND"&&X.includes("database")&&X.includes("does not exist")&&X.includes(this.databaseId.database)&&ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=te.INTERNAL,X="Unknown error status: "+P+" with message "+U.message),E=!0,A.o_(new ue(z,X)),y.close()}else le(pn,`RPC '${e}' stream ${a} received:`,M),A.__(M)}})),Pl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cR()}}function OL(n){return new Pl(n)}function PL(){return typeof window<"u"?window:null}function Qf(){return typeof document<"u"?document:null}function cp(n){return new M4(n,!0)}Pl.c_=!1;class FI{constructor(e,t,i=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const pA="PersistentStream";class qI{constructor(e,t,i,a,o,u,h,d){this.Ci=e,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(bn(t.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ue(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(pA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(le(pA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ML extends qI{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=L4(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Se.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Rn(u.readTime):Se.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=jv(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=gm(d)?{documents:gI(o,d)}:{query:yI(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=hI(o,u.resumeToken);const m=kv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=Wl(o,u.snapshotVersion.toTimestamp());const m=kv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=U4(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=jv(this.serializer),t.removeTarget=e,this.K_(t)}}class NL extends qI{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=j4(e.writeResults,e.commitTime),i=Rn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=jv(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Em(this.serializer,i)))};this.K_(t)}}class kL{}class LL extends kL{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,Lv(t,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(te.UNKNOWN,o.toString())}))}jo(e,t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Lv(t,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jL(n,e,t,i){return new LL(n,e,t,i)}class UL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bn(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class zL{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{So(this)&&(le(vo,"Restarting streams for network reachability change."),await(async function(d){const m=Ce(d);m.Ea.add(4),await Ph(m),m.Va.set("Unknown"),m.Ea.delete(4),await hp(m)})(this))}))})),this.Va=new UL(i,a)}}async function hp(n){if(So(n))for(const e of n.Ra)await e(!0)}async function Ph(n){for(const e of n.Ra)await e(!1)}function HI(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),u0(t)?l0(t):lu(t).O_()&&o0(t,e))}function a0(n,e){const t=Ce(n),i=lu(t);t.Ia.delete(e),i.O_()&&GI(t,e),t.Ia.size===0&&(i.O_()?i.L_():So(t)&&t.Va.set("Unknown"))}function o0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lu(n).Z_(e)}function GI(n,e){n.da.$e(e),lu(n).X_(e)}function l0(n){n.da=new D4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),lu(n).start(),n.Va.ua()}function u0(n){return So(n)&&!lu(n).x_()&&n.Ia.size>0}function So(n){return Ce(n).Ea.size===0}function KI(n){n.da=void 0}async function BL(n){n.Va.set("Online")}async function FL(n){n.Ia.forEach(((e,t)=>{o0(n,e)}))}async function qL(n,e){KI(n),u0(n)?(n.Va.ha(e),l0(n)):n.Va.set("Unknown")}async function HL(n,e,t){if(n.Va.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(i){le(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wm(n,i)}else if(e instanceof Gf?n.da.Xe(e):e instanceof uI?n.da.st(e):n.da.tt(e),!t.isEqual(Se.min()))try{const i=await zI(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Kt.EMPTY_BYTE_STRING,y.snapshotVersion)),GI(o,d);const v=new zr(y.target,d,m,y.sequenceNumber);o0(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){le(vo,"Failed to raise snapshot:",i),await wm(n,i)}}async function wm(n,e,t){if(!la(e))throw e;n.Ea.add(1),await Ph(n),n.Va.set("Offline"),t||(t=()=>zI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(vo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hp(n)}))}function QI(n,e){return e().catch((t=>wm(n,t,e)))}async function Mh(n){const e=Ce(n),t=ia(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:io;for(;GL(e);)try{const a=await wL(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,KL(e,a)}catch(a){await wm(e,a)}$I(e)&&YI(e)}function GL(n){return So(n)&&n.Ta.length<10}function KL(n,e){n.Ta.push(e);const t=ia(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function $I(n){return So(n)&&!ia(n).x_()&&n.Ta.length>0}function YI(n){ia(n).start()}async function QL(n){ia(n).ra()}async function $L(n){const e=ia(n);for(const t of n.Ta)e.ea(t.mutations)}async function YL(n,e,t){const i=n.Ta.shift(),a=Y_.from(i,e,t);await QI(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Mh(n)}async function WL(n,e){e&&ia(n).Y_&&await(async function(i,a){if((function(u){return R4(u)&&u!==te.ABORTED})(a.code)){const o=i.Ta.shift();ia(i).B_(),await QI(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Mh(i)}})(n,e),$I(n)&&YI(n)}async function gA(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),le(vo,"RemoteStore received new credentials");const i=So(t);t.Ea.add(3),await Ph(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hp(t)}async function XL(n,e){const t=Ce(n);e?(t.Ea.delete(2),await hp(t)):e||(t.Ea.add(2),await Ph(t),t.Va.set("Unknown"))}function lu(n){return n.ma||(n.ma=(function(t,i,a){const o=Ce(t);return o.sa(),new ML(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:BL.bind(null,n),Yo:FL.bind(null,n),t_:qL.bind(null,n),J_:HL.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),u0(n)?l0(n):n.Va.set("Unknown")):(await n.ma.stop(),KI(n))}))),n.ma}function ia(n){return n.fa||(n.fa=(function(t,i,a){const o=Ce(t);return o.sa(),new NL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QL.bind(null,n),t_:WL.bind(null,n),ta:$L.bind(null,n),na:YL.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Mh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class c0{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,h=new c0(e,t,u,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(n,e){if(bn("AsyncQueue",`${e}: ${n}`),la(n))return new ue(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||de.comparator(t.key,i.key):(t,i)=>de.comparator(t.key,i.key),this.keyedMap=Vc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class yA{constructor(){this.ga=new Tt(de.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Xl{constructor(e,t,i,a,o,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Xl(e,t,Ml.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class JL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZL{constructor(){this.queries=vA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ce(t),o=a.queries;a.queries=vA(),o.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function vA(){return new Jr((n=>$R(n)),ip)}async function d0(n,e){const t=Ce(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(i=2):(o=new JL,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&m0(t)}async function f0(n,e){const t=Ce(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function e5(n,e){const t=Ce(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&m0(t)}function t5(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const o of a.ba)o.onError(t);i.queries.delete(e)}function m0(n){n.Ca.forEach((e=>{e.next()}))}var Gv,_A;(_A=Gv||(Gv={})).Ma="default",_A.Cache="cache";class p0{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gv.Cache}}class WI{constructor(e){this.key=e}}class XI{constructor(e){this.key=e}}class n5{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=YR(e),this.tu=new Ml(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new yA,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const E=a.get(y),A=Dh(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;E&&A?E.data.isEqual(A.data)?D!==M&&(i.track({type:3,doc:A}),N=!0):this.su(E,A)||(i.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),N=!0):E&&!A&&(i.track({type:1,doc:E}),N=!0,(d||m)&&(h=!0)),N&&(A?(u=u.add(A),o=M?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(A,D){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:N})}};return M(A)-M(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new Xl(this.query,e.tu,o,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new XI(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new WI(i))})),t}cu(e){this.Za=e.ks,this.Ya=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const g0="SyncEngine";class i5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class r5{constructor(e){this.key=e,this.hu=!1}}class s5{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Jr((h=>$R(h)),ip),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(de.comparator),this.Au=new Map,this.Vu=new t0,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a5(n,e,t=!0){const i=iC(n);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await JI(i,e,t,!0),a}async function o5(n,e){const t=iC(n);await JI(t,e,!0,!1)}async function JI(n,e,t,i){const a=await xL(n.localStore,mi(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await l5(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&HI(n.remoteStore,a),h}async function l5(n,e,t,i,a){n.pu=(v,E,A)=>(async function(M,N,U,P){let z=N.view.ru(U);z.Ss&&(z=await hA(M.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,z))));const X=P&&P.targetChanges.get(N.targetId),H=P&&P.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(z,M.isPrimaryClient,X,H);return TA(M,N.targetId,ie.au),ie.snapshot})(n,v,E,A);const o=await hA(n.localStore,e,!0),u=new n5(e,o.ks),h=u.ru(o.documents),d=Oh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,d);TA(n,t,m.au);const y=new i5(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function u5(n,e,t){const i=Ce(n),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!ip(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await qv(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&a0(i.remoteStore,a.targetId),Kv(i,a.targetId)})).catch(To)):(Kv(i,a.targetId),await qv(i.localStore,a.targetId,!0))}async function c5(n,e){const t=Ce(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),a0(t.remoteStore,i.targetId))}async function h5(n,e,t){const i=rC(n);try{const a=await(function(u,h){const d=Ce(u),m=$e.now(),y=h.reduce(((A,D)=>A.add(D.key)),ke());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=$n(),M=ke();return d.xs.getEntries(A,y).next((N=>{D=N,D.forEach(((U,P)=>{P.isValidDocument()||(M=M.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,D))).next((N=>{v=N;const U=[];for(const P of h){const z=w4(P,v.get(P.key).overlayedDocument);z!=null&&U.push(new Zr(P.key,z,UR(z.value.mapValue),nn.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,U,h)})).next((N=>{E=N;const U=N.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(A,N.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:XR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new Tt(Ie)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(i,a.batchId,t),await Nh(i,a.changes),await Mh(i.remoteStore)}catch(a){const o=h0(a,"Failed to persist write");t.reject(o)}}async function ZI(n,e){const t=Ce(n);try{const i=await bL(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_e(u.hu,14607):a.removedDocuments.size>0&&(_e(u.hu,42227),u.hu=!1))})),await Nh(t,i,e)}catch(i){await To(i)}}function EA(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ce(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(m=!0)})),m&&m0(d)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function d5(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),o=a&&a.key;if(o){let u=new Tt(de.comparator);u=u.insert(o,Rt.newNoDocument(o,Se.min()));const h=ke().add(o),d=new ap(Se.min(),new Map,new Tt(Ie),u,h);await ZI(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),y0(i)}else await qv(i.localStore,e,!1).then((()=>Kv(i,e,t))).catch(To)}async function f5(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await SL(t.localStore,e);tC(t,i,null),eC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nh(t,a)}catch(a){await To(a)}}async function m5(n,e,t){const i=Ce(n);try{const a=await(function(u,h){const d=Ce(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(_e(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);tC(i,e,t),eC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nh(i,a)}catch(a){await To(a)}}function eC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function tC(n,e,t){const i=Ce(n);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Kv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||nC(n,i)}))}function nC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(a0(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),y0(n))}function TA(n,e,t){for(const i of t)i instanceof WI?(n.Vu.addReference(i.key,e),p5(n,i)):i instanceof XI?(le(g0,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||nC(n,i.key)):ye(19791,{wu:i})}function p5(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(le(g0,"New document in limbo: "+t),n.Eu.add(i),y0(n))}function y0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new de(Ze.fromString(e)),i=n.fu.next();n.Au.set(i,new r5(t)),n.Ru=n.Ru.insert(t,i),HI(n.remoteStore,new zr(mi(Ch(t.path)),i,"TargetPurposeLimboResolution",di.ce))}}async function Nh(n,e,t){const i=Ce(n),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=r0.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,m){const y=Ce(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>K.forEach(m,(E=>K.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>K.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!la(v))throw v;le(s0,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const A=y.vs.get(E),D=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(E,M)}}})(i.localStore,o))}async function g5(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){le(g0,"User change. New user:",e.toKey());const i=await UI(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ue(te.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nh(t,i.Ns)}}function y5(n,e){const t=Ce(n),i=t.Au.get(e);if(i&&i.hu)return ke().add(i.key);{let a=ke();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function iC(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Pu.J_=e5.bind(null,e.eventManager),e.Pu.yu=t5.bind(null,e.eventManager),e}function rC(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m5.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jI(this.persistence,new LI,e.initialUser,this.serializer)}Cu(e){return new n0(up.Vi,this.serializer)}Du(e){return new BI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class v5 extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof Am,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OI(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new n0((i=>Am.Vi(i,t)),this.serializer)}}class _5 extends dh{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await rC(this.xu.syncEngine),await Mh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return jI(this.persistence,new LI,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new OI(i,e.asyncQueue,t)}Mu(e,t){const i=new Tk(t,this.persistence);return new Ek(e.asyncQueue,i)}Cu(e){const t=vL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new i0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,PL(),Qf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new BI}}class xm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),await XL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZL})()}createDatastore(e){const t=cp(e.databaseInfo.databaseId),i=OL(e.databaseInfo);return jL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,o,u,h){return new zL(i,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>EA(this.syncEngine,t,0)),(function(){return mA.v()?new mA:new IL})())}createSyncEngine(e,t){return(function(a,o,u,h,d,m,y){const v=new s5(a,o,u,h,d,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ce(t);le(vo,"RemoteStore shutting down."),i.Ea.add(5),await Ph(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ra="FirestoreClient";class E5{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{le(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(le(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=h0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ky(n,e){n.asyncQueue.verifyOperationInProgress(),le(ra,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await UI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function SA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await T5(n);le(ra,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>gA(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>gA(e.remoteStore,a))),n._onlineComponents=e}async function T5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(ra,"Using user provided OfflineComponentProvider");try{await Ky(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Ky(n,new dh)}}else le(ra,"Using default OfflineComponentProvider"),await Ky(n,new v5(void 0));return n._offlineComponents}async function sC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(ra,"Using user provided OnlineComponentProvider"),await SA(n,n._uninitializedComponentsProvider._online)):(le(ra,"Using default OnlineComponentProvider"),await SA(n,new xm))),n._onlineComponents}function S5(n){return sC(n).then((e=>e.syncEngine))}async function Rm(n){const e=await sC(n),t=e.eventManager;return t.onListen=a5.bind(null,e.syncEngine),t.onUnlisten=u5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c5.bind(null,e.syncEngine),t}function b5(n,e,t,i){const a=new v0(i),o=new p0(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>d0(await Rm(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>f0(await Rm(n),o)))}}function A5(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new v0({next:E=>{y.Nu(),u.enqueueAndForget((()=>f0(o,v)));const A=E.docs.has(h);!A&&E.fromCache?m.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&d.source==="server"?m.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new p0(Ch(h.path),y,{includeMetadataChanges:!0,Ka:!0});return d0(o,v)})(await Rm(n),n.asyncQueue,e,t,i))),i.promise}function w5(n,e,t={}){const i=new dr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new v0({next:E=>{y.Nu(),u.enqueueAndForget((()=>f0(o,v))),E.fromCache&&d.source==="server"?m.reject(new ue(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new p0(h,y,{includeMetadataChanges:!0,Ka:!0});return d0(o,v)})(await Rm(n),n.asyncQueue,e,t,i))),i.promise}function x5(n,e){const t=new dr;return n.asyncQueue.enqueueAndForget((async()=>h5(await S5(n),e,t))),t.promise}function aC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const R5="ComponentProvider",bA=new Map;function I5(n,e,t,i,a){return new Wk(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,aC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const oC="firestore.googleapis.com",AA=!0;class wA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=AA}else this.host=e.host,this.ssl=e.ssl??AA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=II;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tL)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ak;switch(i.type){case"firstParty":return new ck(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=bA.get(t);i&&(le(R5,"Removing Datastore"),bA.delete(t),i.terminate())})(this),Promise.resolve()}}function C5(n,e,t,i={}){n=xn(n,dp);const a=iu(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(Qx(`https://${h}`),$x("Firestore",!0)),o.host!==oC&&o.host!==h&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!Zs(d,u)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=hn.MOCK_USER;else{m=PM(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new hn(v)}n._authCredentials=new ok(new dR(m,y))}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(xh(t,It._jsonSchema))return new It(e,i||null,new de(Ze.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Gt("string",It._jsonSchemaVersion),referencePath:Gt("string")};class Js extends es{constructor(e,t,i){super(e,t,Ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new de(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Im(n,e,...t){if(n=Pt(n),mR("collection","path",e),n instanceof dp){const i=Ze.fromString(e,...t);return pb(i),new Js(n,null,i)}{if(!(n instanceof It||n instanceof Js))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return pb(i),new Js(n.firestore,null,i)}}function pi(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=k_.newId()),mR("doc","path",e),n instanceof dp){const i=Ze.fromString(e,...t);return mb(i),new It(n,null,new de(i))}{if(!(n instanceof It||n instanceof Js))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return mb(i),new It(n.firestore,n instanceof Js?n.converter:null,new de(i))}}const xA="AsyncQueue";class RA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FI(this,"async_queue_retry"),this._c=()=>{const i=Qf();i&&le(xA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Qf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!la(e))throw e;le(xA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,bn("INTERNAL UNHANDLED ERROR: ",IA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=c0.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:IA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function IA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vr extends dp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new RA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RA(e),this._firestoreClient=void 0,await e}}}function D5(n,e){const t=typeof n=="object"?n:nR(),i=typeof n=="string"?n:pm,a=M_(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=VM("firestore");o&&C5(a,...o)}return a}function kh(n){if(n._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lC(n),n._firestoreClient}function lC(n){const e=n._freezeSettings(),t=I5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new E5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function V5(n,e){ea("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return O5(n,xm.provider,{build:i=>new _5(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function O5(n,e,t){if((n=xn(n,vr))._firestoreClient||n._terminated)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ue(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},lC(n)}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(Kt.fromBase64String(e))}catch(t){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hi(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Gt("string",hi._jsonSchemaVersion),bytes:Gt("string")};class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(xh(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Gt("string",fr._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Mi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mi(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Gt("string",Mi._jsonSchemaVersion),vectorValues:Gt("object")};const P5=/^__.*__$/;class M5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}class uC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:n})}}class pp{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cC(this.dataSource)&&P5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class N5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||cp(e)}createContext(e,t,i,a=!1){return new pp({dataSource:e,methodName:t,targetDoc:i,path:St.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(n){const e=n._freezeSettings(),t=cp(n._databaseId);return new N5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hC(n,e,t,i,a,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);E0("Data must be an object, but it was:",u,i);const h=mC(i,u);let d,m;if(o.merge)d=new Ln(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=Jl(e,v,t);if(!u.contains(E))throw new ue(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);yC(y,E)||y.push(E)}d=new Ln(y),m=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=u.fieldTransforms;return new M5(new yn(h),d,m)}class yp extends mp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}function k5(n,e,t){return new pp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _0 extends mp{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=k5(this,e,!0),i=this.Ac.map((o=>uu(o,t))),a=new mo(i);return new rI(e.path,a)}isEqual(e){return e instanceof _0&&Zs(this.Ac,e.Ac)}}function dC(n,e,t,i){const a=n.createContext(1,e,t);E0("Data must be an object, but it was:",a,i);const o=[],u=yn.empty();ua(i,((d,m)=>{const y=gC(e,d,t);m=Pt(m);const v=a.childContextForFieldPath(y);if(m instanceof yp)o.push(y);else{const E=uu(m,v);E!=null&&(o.push(y),u.set(y,E))}}));const h=new Ln(o);return new uC(u,h,a.fieldTransforms)}function fC(n,e,t,i,a,o){const u=n.createContext(1,e,t),h=[Jl(e,i,t)],d=[a];if(o.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Jl(e,o[E])),d.push(o[E+1]);const m=[],y=yn.empty();for(let E=h.length-1;E>=0;--E)if(!yC(m,h[E])){const A=h[E];let D=d[E];D=Pt(D);const M=u.childContextForFieldPath(A);if(D instanceof yp)m.push(A);else{const N=uu(D,M);N!=null&&(m.push(A),y.set(A,N))}}const v=new Ln(m);return new uC(y,v,u.fieldTransforms)}function L5(n,e,t,i=!1){return uu(t,n.createContext(i?4:3,e))}function uu(n,e){if(pC(n=Pt(n)))return E0("Unsupported field value:",e,n),mC(n,e);if(n instanceof mp)return(function(i,a){if(!cC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let d=uu(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,a){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=$e.fromDate(i);return{timestampValue:Wl(a.serializer,o)}}if(i instanceof $e){const o=new $e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,o)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hi)return{bytesValue:hI(a.serializer,i._byteString)};if(i instanceof It){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:J_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Mi)return(function(u,h){const d=u instanceof Mi?u.toArray():u;return{mapValue:{fields:{[H_]:{stringValue:G_},[Gl]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Q_(h.serializer,y)}))}}}}}})(i,a);if(SI(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ym(i)}`)})(n,e)}function mC(n,e){const t={};return DR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(n,((i,a)=>{const o=uu(a,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function pC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof fr||n instanceof hi||n instanceof It||n instanceof mp||n instanceof Mi||SI(n))}function E0(n,e,t){if(!pC(t)||!pR(t)){const i=Ym(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Jl(n,e,t){if((e=Pt(e))instanceof fp)return e._internalPath;if(typeof e=="string")return gC(n,e);throw Cm("Field path arguments must be of type string or ",n,!1,void 0,t)}const j5=new RegExp("[~\\*/\\[\\]]");function gC(n,e,t){if(e.search(j5)>=0)throw Cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw Cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cm(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ue(te.INVALID_ARGUMENT,h+n+d)}function yC(n,e){return n.some((t=>t.isEqual(e)))}class U5{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ua(e,((a,o)=>{i[a]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Gl].arrayValue?.values?.map((i=>_t(i.doubleValue)));return new Mi(t)}convertGeoPoint(e){return new fr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=tp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const t=Qr(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);_e(TI(i),9688,{name:e});const a=new ho(i.get(1),i.get(3)),o=new de(i.popFirst(5));return a.isEqual(t)||bn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class T0 extends U5{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function vC(...n){return new _0("arrayUnion",n)}const CA="@firebase/firestore",DA="4.11.0";function VA(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class _C{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Jl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z5 extends _C{data(){return super.data()}}function EC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class b0 extends S0{}function TC(n,e,...t){let i=[];e instanceof S0&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((d=>d instanceof w0)).length,h=o.filter((d=>d instanceof A0)).length;if(u>1||u>0&&h>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class A0 extends b0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new A0(e,t,i)}_apply(e){const t=this._parse(e);return SC(e._query,t),new es(e.firestore,e.converter,Nv(e._query,t))}_parse(e){const t=gp(e.firestore);return(function(o,u,h,d,m,y,v){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){PA(v,y);const D=[];for(const M of v)D.push(OA(d,o,M));E={arrayValue:{values:D}}}else E=OA(d,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||PA(v,y),E=L5(h,u,v,y==="in"||y==="not-in");return qe.create(m,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class w0 extends S0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new w0(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)SC(u,d),u=Nv(u,d)})(e._query,t),new es(e.firestore,e.converter,Nv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x0 extends b0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new x0(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(o,u)})(e._query,this._field,this._direction);return new es(e.firestore,e.converter,h4(e._query,t))}}function B5(n,e="asc"){const t=e,i=Jl("orderBy",n);return x0._create(i,t)}class R0 extends b0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new R0(e,t,i)}_apply(e){return new es(e.firestore,e.converter,vm(e._query,this._limit,this._limitType))}}function F5(n){return R0._create("limit",n,"F")}function OA(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(e)&&t.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!de.isDocumentKey(i))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oh(n,new de(i))}if(t instanceof It)return oh(n,t._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(t)}.`)}function PA(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SC(n,e){const t=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends _C{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Jl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:Gt("string",ao._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class $f extends ao{data(e={}){return super.data(e)}}class oo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Mc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new $f(this._firestore,this._userDataWriter,i.key,i,new Mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:q5(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Gt("string",oo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class H5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gp(e)}set(e,t,i){this._verifyNotCommitted();const a=Qy(e,this._firestore),o=bC(a.converter,t,i),u=hC(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,nn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const o=Qy(e,this._firestore);let u;return u=typeof(t=Pt(t))=="string"||t instanceof fp?fC(this._dataReader,"WriteBatch.update",o._key,t,i,a):dC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qy(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(t._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qy(n,e){if((n=Pt(n)).firestore!==e)throw new ue(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function I0(n){n=xn(n,It);const e=xn(n.firestore,vr),t=kh(e);return A5(t,n._key).then((i=>wC(e,n,i)))}function G5(n){n=xn(n,es);const e=xn(n.firestore,vr),t=kh(e),i=new T0(e);return EC(n._query),w5(t,n._query).then((a=>new oo(e,i,n,a)))}function Qv(n,e,t){n=xn(n,It);const i=xn(n.firestore,vr),a=bC(n.converter,e,t),o=gp(i);return vp(i,[hC(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,nn.none())])}function AC(n,e,t,...i){n=xn(n,It);const a=xn(n.firestore,vr),o=gp(a);let u;return u=typeof(e=Pt(e))=="string"||e instanceof fp?fC(o,"updateDoc",n._key,e,t,i):dC(o,"updateDoc",n._key,e),vp(a,[u.toMutation(n._key,nn.exists(!0))])}function K5(n){return vp(xn(n.firestore,vr),[new Vh(n._key,nn.none())])}function Dm(n,...e){n=Pt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||VA(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(VA(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,u,h;if(n instanceof It)u=xn(n.firestore,vr),h=Ch(n._key.path),o={next:m=>{e[i]&&e[i](wC(u,n,m))},error:e[i+1],complete:e[i+2]};else{const m=xn(n,es);u=xn(m.firestore,vr),h=m._query;const y=new T0(u);o={next:v=>{e[i]&&e[i](new oo(u,y,m,v))},error:e[i+1],complete:e[i+2]},EC(n._query)}const d=kh(u);return b5(d,h,a,o)}function vp(n,e){const t=kh(n);return x5(t,e)}function wC(n,e,t){const i=t.docs.get(e._key),a=new T0(n);return new ao(n,a,e._key,i,new Mc(t.hasPendingWrites,t.fromCache),e.converter)}function Q5(n){return n=xn(n,vr),kh(n),new H5(n,(e=>vp(n,e)))}(function(e,t=!0){sk(ru),Ul(new uo("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new vr(new lk(i.getProvider("auth-internal")),new hk(u,i.getProvider("app-check-internal")),Xk(u,a),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ys(CA,DA,e),Ys(CA,DA,"esm2020")})();function xC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $5=xC,RC=new Ah("auth","Firebase",xC());const Vm=new O_("@firebase/auth");function Y5(n,...e){Vm.logLevel<=Fe.WARN&&Vm.warn(`Auth (${ru}): ${n}`,...e)}function Yf(n,...e){Vm.logLevel<=Fe.ERROR&&Vm.error(`Auth (${ru}): ${n}`,...e)}function Li(n,...e){throw C0(n,...e)}function mr(n,...e){return C0(n,...e)}function IC(n,e,t){const i={...$5(),[e]:t};return new Ah("auth","Firebase",i).create(e,{appName:n.name})}function Hr(n){return IC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return RC.create(n,...e)}function Ae(n,e,...t){if(!n)throw C0(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yf(e),new Error(e)}function Yr(n,e){n||Br(e)}function $v(){return typeof self<"u"&&self.location?.href||""}function W5(){return MA()==="http:"||MA()==="https:"}function MA(){return typeof self<"u"&&self.location?.protocol||null}function X5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W5()||jM()||"connection"in navigator)?navigator.onLine:!0}function J5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Lh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=kM()||UM()}get(){return X5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D0(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class CC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const e3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t3=new Lh(3e4,6e4);function ca(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ha(n,e,t,i,a={}){return DC(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=wh({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...o};return LM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&iu(n.emulatorConfig.host)&&(m.credentials="include"),CC.fetch()(await VC(n,n.config.apiHost,t,h),m)})}async function DC(n,e,t){n._canInitEmulator=!1;const i={...Z5,...e};try{const a=new i3(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Df(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Df(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw IC(n,y,m);Li(n,y)}}catch(a){if(a instanceof Xr)throw a;Li(n,"network-request-failed",{message:String(a)})}}async function jh(n,e,t,i,a={}){const o=await ha(n,e,t,i,a);return"mfaPendingCredential"in o&&Li(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VC(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?D0(n.config,a):`${n.config.apiScheme}://${a}`;return e3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function n3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(mr(this.auth,"network-request-failed")),t3.get())})}}function Df(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=mr(n,e,i);return a.customData._tokenResponse=t,a}function NA(n){return n!==void 0&&n.enterprise!==void 0}class r3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return n3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s3(n,e){return ha(n,"GET","/v2/recaptchaConfig",ca(n,e))}async function a3(n,e){return ha(n,"POST","/v1/accounts:delete",e)}async function Om(n,e){return ha(n,"POST","/v1/accounts:lookup",e)}function Kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o3(n,e=!1){const t=Pt(n),i=await t.getIdToken(e),a=V0(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:i,authTime:Kc($y(a.auth_time)),issuedAtTime:Kc($y(a.iat)),expirationTime:Kc($y(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $y(n){return Number(n)*1e3}function V0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Fx(t);return a?JSON.parse(a):(Yf("Failed to decode base64 JWT payload"),null)}catch(a){return Yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function kA(n){const e=V0(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xr&&l3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function l3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class u3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pm(n){const e=n.auth,t=await n.getIdToken(),i=await fh(n,Om(e,{idToken:t}));Ae(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?OC(a.providerUserInfo):[],u=h3(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Yv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function c3(n){const e=Pt(n);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h3(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function OC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function d3(n,e){const t=await DC(n,{},async()=>{const i=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await VC(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&iu(n.emulatorConfig.host)&&(d.credentials="include"),CC.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function f3(n,e){return ha(n,"POST","/v2/accounts:revokeToken",ca(n,e))}class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=kA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await d3(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new Nl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Br("not implemented")}}function Ls(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new u3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await fh(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return o3(this,e)}reload(){return c3(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Pm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await fh(this,a3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:M}=t;Ae(v&&M,e,"internal-error");const N=Nl.fromJSON(this.name,M);Ae(typeof v=="string",e,"internal-error"),Ls(i,e.name),Ls(a,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof A=="boolean",e,"internal-error"),Ls(o,e.name),Ls(u,e.name),Ls(h,e.name),Ls(d,e.name),Ls(m,e.name),Ls(y,e.name);const U=new Pi({uid:v,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(U.providerData=D.map(P=>({...P}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,t,i=!1){const a=new Nl;a.updateFromServerResponse(t);const o=new Pi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Pm(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?OC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new Nl;h.updateFromIdToken(i);const d=new Pi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Yv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const LA=new Map;function Fr(n){Yr(n instanceof Function,"Expected a class definition");let e=LA.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LA.set(n,e),e)}class PC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PC.type="NONE";const jA=PC;function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}class kl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Wf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Wf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Om(this.auth,{idToken:e}).catch(()=>{});return t?Pi._fromGetAccountInfoResponse(this.auth,t,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new kl(Fr(jA),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Fr(jA);const u=Wf(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const E=await Om(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Pi._fromGetAccountInfoResponse(e,E,y)}else v=Pi._fromJSON(e,y);m!==o&&(h=v),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kl(o,e,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new kl(o,e,i))}}function UA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if(zC(e))return"Webos";if(NC(e))return"Safari";if((e.includes("chrome/")||kC(e))&&!e.includes("edge/"))return"Chrome";if(jC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function MC(n=Wt()){return/firefox\//i.test(n)}function NC(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kC(n=Wt()){return/crios\//i.test(n)}function LC(n=Wt()){return/iemobile/i.test(n)}function jC(n=Wt()){return/android/i.test(n)}function UC(n=Wt()){return/blackberry/i.test(n)}function zC(n=Wt()){return/webos/i.test(n)}function O0(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m3(n=Wt()){return O0(n)&&!!window.navigator?.standalone}function p3(){return zM()&&document.documentMode===10}function BC(n=Wt()){return O0(n)||jC(n)||zC(n)||UC(n)||/windows phone/i.test(n)||LC(n)}function FC(n,e=[]){let t;switch(n){case"Browser":t=UA(Wt());break;case"Worker":t=`${UA(Wt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ru}/${i}`}class g3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function y3(n,e={}){return ha(n,"GET","/v2/passwordPolicy",ca(n,e))}const v3=6;class _3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??v3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class E3{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zA(this),this.idTokenSubscription=new zA(this),this.beforeStateQueue=new g3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Om(this,{idToken:e}),i=await Pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Hr(this));const t=e?Pt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y3(this),t=new _3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ah("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await f3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(n){return Pt(n)}class zA{constructor(e){this.auth=e,this.observer=null,this.addObserver=KM(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T3(n){_p=n}function qC(n){return _p.loadJS(n)}function S3(){return _p.recaptchaEnterpriseScript}function b3(){return _p.gapiScript}function A3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class w3{constructor(){this.enterprise=new x3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class x3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const R3="recaptcha-enterprise",HC="NO_RECAPTCHA";class I3{constructor(e){this.type=R3,this.auth=bo(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{s3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new r3(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;NA(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(HC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w3().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!t&&NA(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=S3();d.length!==0&&(d+=h),qC(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function BA(n,e,t,i=!1,a=!1){const o=new I3(n);let u;if(a)u=HC;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Wv(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await BA(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await BA(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(o)})}function C3(n,e){const t=M_(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Zs(o,e??{}))return a;Li(a,"already-initialized")}return t.initialize({options:e})}function D3(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function V3(n,e,t){const i=bo(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=GC(e),{host:u,port:h}=O3(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Zs(m,i.config.emulator)&&Zs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,iu(u)?(Qx(`${o}//${u}${d}`),$x("Auth",!0)):P3()}function GC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function O3(n){const e=GC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:FA(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:FA(u)}}}function FA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function P3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class P0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function M3(n,e){return ha(n,"POST","/v1/accounts:signUp",e)}async function N3(n,e){return jh(n,"POST","/v1/accounts:signInWithPassword",ca(n,e))}async function k3(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}async function L3(n,e){return jh(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}class mh extends P0{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new mh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new mh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,t,"signInWithPassword",N3);case"emailLink":return k3(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,i,"signUpPassword",M3);case"emailLink":return L3(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ll(n,e){return jh(n,"POST","/v1/accounts:signInWithIdp",ca(n,e))}const j3="http://localhost";class _o extends P0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=t;if(!i||!a)return null;const u=new _o(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ll(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ll(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}buildRequest(){const e={requestUri:j3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wh(t)}return e}}function U3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z3(n){const e=Ic(Cc(n)).link,t=e?Ic(Cc(e)).deep_link_id:null,i=Ic(Cc(n)).deep_link_id;return(i?Ic(Cc(i)).link:null)||i||t||e||n}class M0{constructor(e){const t=Ic(Cc(e)),i=t.apiKey??null,a=t.oobCode??null,o=U3(t.mode??null);Ae(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=z3(e);try{return new M0(t)}catch{return null}}}class cu{constructor(){this.providerId=cu.PROVIDER_ID}static credential(e,t){return mh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=M0.parseLink(t);return Ae(i,"argument-error"),mh._fromEmailAndCode(e,i.code,i.tenantId)}}cu.PROVIDER_ID="password";cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uh extends KC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Uh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bs.credential(t,i)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Fs extends Uh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class qs extends Uh{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function B3(n,e){return jh(n,"POST","/v1/accounts:signUp",ca(n,e))}class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await Pi._fromIdTokenResponse(e,i,a),u=qA(i);return new Eo({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=qA(i);return new Eo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function qA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Mm extends Xr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Mm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Mm(e,t,i,a)}}function QC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mm._fromErrorAndOperation(n,o,e,i):o})}async function F3(n,e,t=!1){const i=await fh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",i)}async function q3(n,e,t=!1){const{auth:i}=n;if(ci(i.app))return Promise.reject(Hr(i));const a="reauthenticate";try{const o=await fh(n,QC(i,a,e,n),t);Ae(o.idToken,i,"internal-error");const u=V0(o.idToken);Ae(u,i,"internal-error");const{sub:h}=u;return Ae(n.uid===h,i,"user-mismatch"),Eo._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Li(i,"user-mismatch"),o}}async function $C(n,e,t=!1){if(ci(n.app))return Promise.reject(Hr(n));const i="signIn",a=await QC(n,i,e),o=await Eo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function H3(n,e){return $C(bo(n),e)}async function YC(n){const e=bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G3(n,e,t){if(ci(n.app))return Promise.reject(Hr(n));const i=bo(n),u=await Wv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B3).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&YC(n),d}),h=await Eo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function K3(n,e,t){return ci(n.app)?Promise.reject(Hr(n)):H3(Pt(n),cu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YC(n),i})}function Q3(n,e,t,i){return Pt(n).onIdTokenChanged(e,t,i)}function $3(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function WC(n,e,t,i){return Pt(n).onAuthStateChanged(e,t,i)}function Y3(n){return Pt(n).signOut()}const Nm="__sak";class XC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const W3=1e3,X3=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);p3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,X3):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},W3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const J3=JC;class ZC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZC.type="SESSION";const e2=ZC;function Z3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Ep(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),d=await Z3(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ep.receivers=[];function N0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class ej{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=N0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function pr(){return window}function tj(n){pr().location.href=n}function t2(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function nj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ij(){return navigator?.serviceWorker?.controller||null}function rj(){return t2()?self:null}const n2="firebaseLocalStorageDb",sj=1,km="firebaseLocalStorage",i2="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tp(n,e){return n.transaction([km],e?"readwrite":"readonly").objectStore(km)}function aj(){const n=indexedDB.deleteDatabase(n2);return new zh(n).toPromise()}function Xv(){const n=indexedDB.open(n2,sj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(km,{keyPath:i2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(km)?e(i):(i.close(),await aj(),e(await Xv()))})})}async function HA(n,e,t){const i=Tp(n,!0).put({[i2]:e,value:t});return new zh(i).toPromise()}async function oj(n,e){const t=Tp(n,!1).get(e),i=await new zh(t).toPromise();return i===void 0?null:i.value}function GA(n,e){const t=Tp(n,!0).delete(e);return new zh(t).toPromise()}const lj=800,uj=3;class r2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>uj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ep._getInstance(rj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nj(),!this.activeServiceWorker)return;this.sender=new ej(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ij()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await HA(e,Nm,"1"),await GA(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>HA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>oj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Tp(a,!1).getAll();return new zh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r2.type="LOCAL";const cj=r2;new Lh(3e4,6e4);function hj(n,e){return e?Fr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class k0 extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dj(n){return $C(n.auth,new k0(n),n.bypassAuthState)}function fj(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),q3(t,new k0(n),n.bypassAuthState)}async function mj(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),F3(t,new k0(n),n.bypassAuthState)}class s2{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dj;case"linkViaPopup":case"linkViaRedirect":return mj;case"reauthViaPopup":case"reauthViaRedirect":return fj;default:Li(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pj=new Lh(2e3,1e4);class xl extends s2{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=N0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pj.get())};e()}}xl.currentPopupAction=null;const gj="pendingRedirect",Xf=new Map;class yj extends s2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const i=await vj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vj(n,e){const t=Tj(e),i=Ej(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function _j(n,e){Xf.set(n._key(),e)}function Ej(n){return Fr(n._redirectPersistence)}function Tj(n){return Wf(gj,n.config.apiKey,n.name)}async function Sj(n,e,t=!1){if(ci(n.app))return Promise.reject(Hr(n));const i=bo(n),a=hj(i,e),u=await new yj(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const bj=600*1e3;class Aj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!a2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(KA(e))}saveEventToCache(e){this.cachedEventUids.add(KA(e)),this.lastProcessedEventTime=Date.now()}}function KA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function a2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(n);default:return!1}}async function xj(n,e={}){return ha(n,"GET","/v1/projects",e)}const Rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ij=/^https?/;async function Cj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xj(n);for(const t of e)try{if(Dj(t))return}catch{}Li(n,"unauthorized-domain")}function Dj(n){const e=$v(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Ij.test(t))return!1;if(Rj.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Vj=new Lh(3e4,6e4);function QA(){const n=pr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Oj(n){return new Promise((e,t)=>{function i(){QA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QA(),t(mr(n,"network-request-failed"))},timeout:Vj.get()})}if(pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pr().gapi?.load)i();else{const a=A3("iframefcb");return pr()[a]=()=>{gapi.load?i():t(mr(n,"network-request-failed"))},qC(`${b3()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function Pj(n){return Jf=Jf||Oj(n),Jf}const Mj=new Lh(5e3,15e3),Nj="__/auth/iframe",kj="emulator/auth/iframe",Lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uj(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?D0(e,kj):`https://${n.config.authDomain}/${Nj}`,i={apiKey:e.apiKey,appName:n.name,v:ru},a=jj.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${wh(i).slice(1)}`}async function zj(n){const e=await Pj(n),t=pr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:Uj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lj,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=mr(n,"network-request-failed"),h=pr().setTimeout(()=>{o(u)},Mj.get());function d(){pr().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(u)})}))}const Bj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fj=500,qj=600,Hj="_blank",Gj="http://localhost";class $A{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(n,e,t,i=Fj,a=qj){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...Bj,width:i.toString(),height:a.toString(),top:o,left:u},m=Wt().toLowerCase();t&&(h=kC(m)?Hj:t),MC(m)&&(e=e||Gj,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(m3(m)&&h!=="_self")return Qj(e||"",h),new $A(null);const v=window.open(e||"",h,y);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new $A(v)}function Qj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const $j="__/auth/handler",Yj="emulator/auth/handler",Wj=encodeURIComponent("fac");async function YA(n,e,t,i,a,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ru,eventId:a};if(e instanceof KC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",GM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Uh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${Wj}=${encodeURIComponent(d)}`:"";return`${Xj(n)}?${wh(h).slice(1)}${m}`}function Xj({config:n}){return n.emulator?D0(n,Yj):`https://${n.authDomain}/${$j}`}const Yy="webStorageSupport";class Jj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e2,this._completeRedirectFn=Sj,this._overrideRedirectResult=_j}async _openPopup(e,t,i,a){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await YA(e,t,i,$v(),a);return Kj(e,o,N0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await YA(e,t,i,$v(),a);return tj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zj(e),i=new Aj(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yy,{type:Yy},a=>{const o=a?.[0]?.[Yy];o!==void 0&&t(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BC()||NC()||O0()}}const Zj=Jj;var WA="@firebase/auth",XA="1.12.0";class e6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n6(n){Ul(new uo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FC(n)},m=new E3(i,a,o,d);return D3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ul(new uo("auth-internal",e=>{const t=bo(e.getProvider("auth").getImmediate());return(i=>new e6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(WA,XA,t6(n)),Ys(WA,XA,"esm2020")}const i6=300,r6=Kx("authIdTokenMaxAge")||i6;let JA=null;const s6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>r6)return;const a=t?.token;JA!==a&&(JA=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function a6(n=nR()){const e=M_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=C3(n,{popupRedirectResolver:Zj,persistence:[cj,J3,e2]}),i=Kx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=s6(o.toString());$3(t,u,()=>u(t.currentUser)),Q3(t,h=>u(h))}}const a=Hx("auth");return a&&V3(t,`http://${a}`),t}function o6(){return document.getElementsByTagName("head")?.[0]??document}T3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=mr("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",o6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n6("Browser");const l6={apiKey:"AIzaSyDQXzO10EZsD_XIR3Jxn61MwroAym8ZkZ0",authDomain:"acampfiladelfia.firebaseapp.com",projectId:"acampfiladelfia",storageBucket:"acampfiladelfia.firebasestorage.app",messagingSenderId:"462365534474",appId:"1:462365534474:web:258ea893b55077839b32f3",measurementId:"G-6CZCJ3RFNM"},o2=tR(l6),fn=D5(o2);V5(fn).catch(n=>{n.code=="failed-precondition"?console.warn("Persistncia offline falhou: Mltiplas abas abertas."):n.code=="unimplemented"&&console.warn("Persistncia offline no suportada neste navegador.")});const Nc=a6(o2),l2=O.createContext();function Er(){return O.useContext(l2)}function u6({children:n}){const[e,t]=O.useState(null),[i,a]=O.useState(!0);function o(m,y){return K3(Nc,m,y)}function u(m,y){return G3(Nc,m,y)}function h(){return Y3(Nc)}O.useEffect(()=>WC(Nc,async y=>{try{if(y){const{getUserProfile:v}=await Ux(async()=>{const{getUserProfile:A}=await Promise.resolve().then(()=>g6);return{getUserProfile:A}},[]),E=await v(y.uid);t({...y,profile:E})}else t(null)}catch(v){console.error("Erro ao carregar perfil:",v),t(null)}finally{a(!1)}}),[]);const d={currentUser:e,login:o,signup:u,logout:h};return S.jsx(l2.Provider,{value:d,children:!i&&n})}const c6="_btn_7pqsz_1",h6="_primary_7pqsz_89",d6="_secondary_7pqsz_101",f6="_full_7pqsz_113",Wy={btn:c6,primary:h6,secondary:d6,full:f6},Qe=({children:n,onClick:e,disabled:t,type:i="button",variant:a="primary",fullWidth:o=!1})=>S.jsx("button",{type:i,className:`${Wy.btn} ${Wy[a]} ${o?Wy.full:""}`,onClick:e,disabled:t,children:n}),Jv=({label:n,type:e="text",value:t,onChange:i,placeholder:a,required:o=!1})=>S.jsxs("div",{style:{marginBottom:"1rem"},children:[n&&S.jsxs("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"1rem",color:"var(--color-gold)",fontFamily:"var(--font-display)",letterSpacing:"1px"},children:[n," ",o&&S.jsx("span",{style:{color:"var(--color-fire)"},children:"*"})]}),S.jsx("input",{type:e,value:t,onChange:i,placeholder:a,required:o,style:{width:"100%",padding:"14px",backgroundColor:"rgba(0,0,0,0.4)",border:"2px solid var(--color-wood-light)",borderRadius:"var(--radius-rustic)",color:"var(--text-main)",fontFamily:"var(--font-body)",fontSize:"1rem",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.5)"},onFocus:u=>u.target.style.borderColor="var(--color-gold)",onBlur:u=>u.target.style.borderColor="var(--color-wood-light)"})]}),gt=({children:n,className:e="",style:t={},onClick:i})=>S.jsxs("div",{onClick:i,style:{backgroundColor:"var(--bg-card)",border:"var(--border-rustic)",borderRadius:"var(--radius-rustic)",padding:"1.5rem",position:"relative",boxShadow:"var(--shadow-rustic)",backgroundImage:"linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px)",backgroundSize:"20px 20px",cursor:i?"pointer":"default",transition:i?"transform 0.2s ease":"none",...t},className:e,children:[S.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),S.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),n]}),m6=async n=>{try{const e=pi(fn,"admins",n);return(await I0(e)).exists()}catch{return!1}},Sp=n=>["igrejafiladelfiacorrente@gmail.com","admin@acamp.forja.com"].includes(n),u2=async(n,e)=>{try{const t=Sp(e.email||`${e.nomeGuerra.toLowerCase()}@acamp.forja.com`),i=pi(fn,"users",n);await Qv(i,{...e,status:t?"approved":"pending",role:t?"admin":"soldier",updatedAt:$e.now()},{merge:!0})}catch(t){console.error("Erro ao salvar perfil:",t)}},p6=async n=>{try{const e=pi(fn,"users",n),t=await I0(e);return t.exists()?t.data():null}catch(e){return console.error("Erro ao buscar perfil:",e),null}},c2=async n=>{try{const e=pi(fn,"users",n);return await AC(e,{status:"approved",approvedAt:$e.now()}),{success:!0}}catch(e){return console.error("Erro ao aprovar usurio:",e),{success:!1,error:e}}},h2=async n=>{try{return await K5(pi(fn,"users",n)),{success:!0}}catch(e){return console.error("Erro ao rejeitar usurio:",e),{success:!1,error:e}}},g6=Object.freeze(Object.defineProperty({__proto__:null,approveUser:c2,checkAdminStatus:m6,checkIsAdmin:Sp,getUserProfile:p6,rejectUser:h2,saveUserProfile:u2},Symbol.toStringTag,{value:"Module"})),L0=O.createContext({});function j0(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const d2=typeof window<"u",f2=d2?O.useLayoutEffect:O.useEffect,bp=O.createContext(null);function U0(n,e){n.indexOf(e)===-1&&n.push(e)}function Lm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _r=(n,e,t)=>t>e?e:t<n?n:t;let z0=()=>{};const Wr={},m2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function p2(n){return typeof n=="object"&&n!==null}const g2=n=>/^0[^.\s]+$/u.test(n);function B0(n){let e;return()=>(e===void 0&&(e=n()),e)}const gi=n=>n,y6=(n,e)=>t=>e(n(t)),Bh=(...n)=>n.reduce(y6),ph=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class F0{constructor(){this.subscriptions=[]}add(e){return U0(this.subscriptions,e),()=>Lm(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=n=>n*1e3,fi=n=>n/1e3;function y2(n,e){return e?n*(1e3/e):0}const v2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,v6=1e-7,_6=12;function E6(n,e,t,i,a){let o,u,h=0;do u=e+(t-e)/2,o=v2(u,i,a)-n,o>0?t=u:e=u;while(Math.abs(o)>v6&&++h<_6);return u}function Fh(n,e,t,i){if(n===e&&t===i)return gi;const a=o=>E6(o,0,1,n,t);return o=>o===0||o===1?o:v2(a(o),e,i)}const _2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,E2=n=>e=>1-n(1-e),T2=Fh(.33,1.53,.69,.99),q0=E2(T2),S2=_2(q0),b2=n=>(n*=2)<1?.5*q0(n):.5*(2-Math.pow(2,-10*(n-1))),H0=n=>1-Math.sin(Math.acos(n)),A2=E2(H0),w2=_2(H0),T6=Fh(.42,0,1,1),S6=Fh(0,0,.58,1),x2=Fh(.42,0,.58,1),b6=n=>Array.isArray(n)&&typeof n[0]!="number",R2=n=>Array.isArray(n)&&typeof n[0]=="number",A6={linear:gi,easeIn:T6,easeInOut:x2,easeOut:S6,circIn:H0,circInOut:w2,circOut:A2,backIn:q0,backInOut:S2,backOut:T2,anticipate:b2},w6=n=>typeof n=="string",ZA=n=>{if(R2(n)){z0(n.length===4);const[e,t,i,a]=n;return Fh(e,t,i,a)}else if(w6(n))return A6[n];return n},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x6(n,e){let t=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),n()),y(h)}const m={schedule:(y,v=!1,E=!1)=>{const D=E&&a?t:i;return v&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(d),t.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const R6=40;function I2(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=Vf.reduce((z,X)=>(z[X]=x6(o),z),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:v,preRender:E,render:A,postRender:D}=u,M=()=>{const z=Wr.useManualTiming?a.timestamp:performance.now();t=!1,Wr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(z-a.timestamp,R6),1)),a.timestamp=z,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),v.process(a),E.process(a),A.process(a),D.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(M))},N=()=>{t=!0,i=!0,a.isProcessing||n(M)};return{schedule:Vf.reduce((z,X)=>{const H=u[X];return z[X]=(ie,I=!1,x=!1)=>(t||N(),H.schedule(ie,I,x)),z},{}),cancel:z=>{for(let X=0;X<Vf.length;X++)u[Vf[X]].cancel(z)},state:a,steps:u}}const{schedule:ft,cancel:sa,state:cn,steps:Xy}=I2(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let Zf;function I6(){Zf=void 0}const An={now:()=>(Zf===void 0&&An.set(cn.isProcessing||Wr.useManualTiming?cn.timestamp:performance.now()),Zf),set:n=>{Zf=n,queueMicrotask(I6)}},C2=n=>e=>typeof e=="string"&&e.startsWith(n),D2=C2("--"),C6=C2("var(--"),G0=n=>C6(n)?D6.test(n.split("/*")[0].trim()):!1,D6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ew(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const hu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gh={...hu,transform:n=>_r(0,1,n)},Of={...hu,default:1},Qc=n=>Math.round(n*1e5)/1e5,K0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V6(n){return n==null}const O6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q0=(n,e)=>t=>!!(typeof t=="string"&&O6.test(t)&&t.startsWith(n)||e&&!V6(t)&&Object.prototype.hasOwnProperty.call(t,e)),V2=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(K0);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},P6=n=>_r(0,255,n),Jy={...hu,transform:n=>Math.round(P6(n))},to={test:Q0("rgb","red"),parse:V2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Jy.transform(n)+", "+Jy.transform(e)+", "+Jy.transform(t)+", "+Qc(gh.transform(i))+")"};function M6(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Zv={test:Q0("#"),parse:M6,transform:to.transform},qh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),js=qh("deg"),gr=qh("%"),ge=qh("px"),N6=qh("vh"),k6=qh("vw"),tw={...gr,parse:n=>gr.parse(n)/100,transform:n=>gr.transform(n*100)},Rl={test:Q0("hsl","hue"),parse:V2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+gr.transform(Qc(e))+", "+gr.transform(Qc(t))+", "+Qc(gh.transform(i))+")"},Ht={test:n=>to.test(n)||Zv.test(n)||Rl.test(n),parse:n=>to.test(n)?to.parse(n):Rl.test(n)?Rl.parse(n):Zv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?to.transform(n):Rl.transform(n),getAnimatableNone:n=>{const e=Ht.parse(n);return e.alpha=0,Ht.transform(e)}},L6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j6(n){return isNaN(n)&&typeof n=="string"&&(n.match(K0)?.length||0)+(n.match(L6)?.length||0)>0}const O2="number",P2="color",U6="var",z6="var(",nw="${}",B6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(B6,d=>(Ht.test(d)?(i.color.push(o),a.push(P2),t.push(Ht.parse(d))):d.startsWith(z6)?(i.var.push(o),a.push(U6),t.push(d)):(i.number.push(o),a.push(O2),t.push(parseFloat(d))),++o,nw)).split(nw);return{values:t,split:h,indexes:i,types:a}}function M2(n){return yh(n).values}function N2(n){const{split:e,types:t}=yh(n),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const h=t[u];h===O2?o+=Qc(a[u]):h===P2?o+=Ht.transform(a[u]):o+=a[u]}return o}}const F6=n=>typeof n=="number"?0:Ht.test(n)?Ht.getAnimatableNone(n):n;function q6(n){const e=M2(n);return N2(n)(e.map(F6))}const aa={test:j6,parse:M2,createTransformer:N2,getAnimatableNone:q6};function Zy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function H6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,u=0;if(!e)a=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;a=Zy(d,h,n+1/3),o=Zy(d,h,n),u=Zy(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function jm(n,e){return t=>t>0?e:n}const bt=(n,e,t)=>n+(e-n)*t,ev=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},G6=[Zv,to,Rl],K6=n=>G6.find(e=>e.test(n));function iw(n){const e=K6(n);if(!e)return!1;let t=e.parse(n);return e===Rl&&(t=H6(t)),t}const rw=(n,e)=>{const t=iw(n),i=iw(e);if(!t||!i)return jm(n,e);const a={...t};return o=>(a.red=ev(t.red,i.red,o),a.green=ev(t.green,i.green,o),a.blue=ev(t.blue,i.blue,o),a.alpha=bt(t.alpha,i.alpha,o),to.transform(a))},e_=new Set(["none","hidden"]);function Q6(n,e){return e_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $6(n,e){return t=>bt(n,e,t)}function $0(n){return typeof n=="number"?$6:typeof n=="string"?G0(n)?jm:Ht.test(n)?rw:X6:Array.isArray(n)?k2:typeof n=="object"?Ht.test(n)?rw:Y6:jm}function k2(n,e){const t=[...n],i=t.length,a=n.map((o,u)=>$0(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=a[u](o);return t}}function Y6(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=$0(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function W6(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=n.indexes[o][i[o]],h=n.values[u]??0;t[a]=h,i[o]++}return t}const X6=(n,e)=>{const t=aa.createTransformer(e),i=yh(n),a=yh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?e_.has(n)&&!a.values.length||e_.has(e)&&!i.values.length?Q6(n,e):Bh(k2(W6(i,a),a.values),t):jm(n,e)};function L2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):$0(n)(n,e)}const J6=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ft.update(e,t),stop:()=>sa(e),now:()=>cn.isProcessing?cn.timestamp:An.now()}},j2=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Um=2e4;function Y0(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Um;)e+=t,i=n.next(e);return e>=Um?1/0:e}function Z6(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(Y0(i),Um);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:fi(a)}}const eU=5;function U2(n,e,t){const i=Math.max(e-eU,0);return y2(t-n(i),e-i)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tv=.001;function tU({duration:n=xt.duration,bounce:e=xt.bounce,velocity:t=xt.velocity,mass:i=xt.mass}){let a,o,u=1-e;u=_r(xt.minDamping,xt.maxDamping,u),n=_r(xt.minDuration,xt.maxDuration,fi(n)),u<1?(a=m=>{const y=m*u,v=y*n,E=y-t,A=t_(m,u),D=Math.exp(-v);return tv-E/A*D},o=m=>{const v=m*u*n,E=v*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,D=Math.exp(-v),M=t_(Math.pow(m,2),u);return(-a(m)+tv>0?-1:1)*((E-A)*D)/M}):(a=m=>{const y=Math.exp(-m*n),v=(m-t)*n+1;return-tv+y*v},o=m=>{const y=Math.exp(-m*n),v=(t-m)*(n*n);return y*v});const h=5/n,d=iU(a,o,h);if(n=Ni(n),isNaN(d))return{stiffness:xt.stiffness,damping:xt.damping,duration:n};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const nU=12;function iU(n,e,t){let i=t;for(let a=1;a<nU;a++)i=i-n(i)/e(i);return i}function t_(n,e){return n*Math.sqrt(1-e*e)}const rU=["duration","bounce"],sU=["stiffness","damping","mass"];function sw(n,e){return e.some(t=>n[t]!==void 0)}function aU(n){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...n};if(!sw(n,sU)&&sw(n,rU))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*_r(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:xt.mass,stiffness:a,damping:o}}else{const t=tU(n);e={...e,...t,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function zm(n=xt.visualDuration,e=xt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:v,velocity:E,isResolvedFromDuration:A}=aU({...t,velocity:-fi(t.velocity||0)}),D=E||0,M=m/(2*Math.sqrt(d*y)),N=u-o,U=fi(Math.sqrt(d/y)),P=Math.abs(N)<5;i||(i=P?xt.restSpeed.granular:xt.restSpeed.default),a||(a=P?xt.restDelta.granular:xt.restDelta.default);let z;if(M<1){const H=t_(U,M);z=ie=>{const I=Math.exp(-M*U*ie);return u-I*((D+M*U*N)/H*Math.sin(H*ie)+N*Math.cos(H*ie))}}else if(M===1)z=H=>u-Math.exp(-U*H)*(N+(D+U*N)*H);else{const H=U*Math.sqrt(M*M-1);z=ie=>{const I=Math.exp(-M*U*ie),x=Math.min(H*ie,300);return u-I*((D+M*U*N)*Math.sinh(x)+H*N*Math.cosh(x))/H}}const X={calculatedDuration:A&&v||null,next:H=>{const ie=z(H);if(A)h.done=H>=v;else{let I=H===0?D:0;M<1&&(I=H===0?Ni(D):U2(z,H,ie));const x=Math.abs(I)<=i,C=Math.abs(u-ie)<=a;h.done=x&&C}return h.value=h.done?u:ie,h},toString:()=>{const H=Math.min(Y0(X),Um),ie=j2(I=>X.next(H*I).value,H,30);return H+"ms "+ie},toTransition:()=>{}};return X}zm.applyToOptions=n=>{const e=Z6(n,100,zm);return n.ease=e.ease,n.duration=Ni(e.duration),n.type="keyframes",n};function n_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},A=x=>h!==void 0&&x<h||d!==void 0&&x>d,D=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=t*e;const N=v+M,U=u===void 0?N:u(N);U!==N&&(M=U-v);const P=x=>-M*Math.exp(-x/i),z=x=>U+P(x),X=x=>{const C=P(x),j=z(x);E.done=Math.abs(C)<=m,E.value=E.done?U:j};let H,ie;const I=x=>{A(E.value)&&(H=x,ie=zm({keyframes:[E.value,D(E.value)],velocity:U2(z,x,E.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let C=!1;return!ie&&H===void 0&&(C=!0,X(x),I(x)),H!==void 0&&x>=H?ie.next(x-H):(!C&&X(x),E)}}}function oU(n,e,t){const i=[],a=t||Wr.mix||L2,o=n.length-1;for(let u=0;u<o;u++){let h=a(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||gi:e;h=Bh(d,h)}i.push(h)}return i}function lU(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if(z0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=oU(e,i,a),d=h.length,m=y=>{if(u&&y<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=ph(n[v],n[v+1],y);return h[v](E)};return t?y=>m(_r(n[0],n[o-1],y)):m}function uU(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=ph(0,e,i);n.push(bt(t,1,a))}}function cU(n){const e=[0];return uU(e,n.length-1),e}function hU(n,e){return n.map(t=>t*e)}function dU(n,e){return n.map(()=>e||x2).splice(0,n.length-1)}function $c({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=b6(i)?i.map(ZA):ZA(i),o={done:!1,value:e[0]},u=hU(t&&t.length===e.length?t:cU(e),n),h=lU(u,e,{ease:Array.isArray(a)?a:dU(e,a)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const fU=n=>n!==null;function W0(n,{repeat:e,repeatType:t="loop"},i,a=1){const o=n.filter(fU),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const mU={decay:n_,inertia:n_,tween:$c,keyframes:$c,spring:zm};function z2(n){typeof n.type=="string"&&(n.type=mU[n.type])}class X0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pU=n=>n/100;class J0 extends X0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;z2(e);const{type:t=$c,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const d=t||$c;d!==$c&&typeof h[0]!="number"&&(this.mixKeyframes=Bh(pU,L2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Y0(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:A,type:D,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,X=i;if(v){const x=Math.min(this.currentTime,a)/h;let C=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&C--,C=Math.min(C,v+1),C%2&&(E==="reverse"?(j=1-j,A&&(j-=A/h)):E==="mirror"&&(X=u)),z=_r(0,1,j)*h}const H=P?{done:!1,value:y[0]}:X.next(z);o&&(H.value=o(H.value));let{done:ie}=H;!P&&d!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return I&&D!==n_&&(H.value=W0(y,this.options,N,this.speed)),M&&M(H.value),I&&this.finish(),H}then(e,t){return this.finished.then(e,t)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=J6,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function gU(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const no=n=>n*180/Math.PI,i_=n=>{const e=no(Math.atan2(n[1],n[0]));return r_(e)},yU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:i_,rotateZ:i_,skewX:n=>no(Math.atan(n[1])),skewY:n=>no(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},r_=n=>(n=n%360,n<0&&(n+=360),n),aw=i_,ow=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),lw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),vU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ow,scaleY:lw,scale:n=>(ow(n)+lw(n))/2,rotateX:n=>r_(no(Math.atan2(n[6],n[5]))),rotateY:n=>r_(no(Math.atan2(-n[2],n[0]))),rotateZ:aw,rotate:aw,skewX:n=>no(Math.atan(n[4])),skewY:n=>no(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function s_(n){return n.includes("scale")?1:0}function a_(n,e){if(!n||n==="none")return s_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=vU,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=yU,a=h}if(!a)return s_(e);const o=i[e],u=a[1].split(",").map(EU);return typeof o=="function"?o(u):u[o]}const _U=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return a_(t,e)};function EU(n){return parseFloat(n.trim())}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fu=new Set(du),uw=n=>n===hu||n===ge,TU=new Set(["x","y","z"]),SU=du.filter(n=>!TU.has(n));function bU(n){const e=[];return SU.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Gs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>a_(e,"x"),y:(n,{transform:e})=>a_(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const lo=new Set;let o_=!1,l_=!1,u_=!1;function B2(){if(l_){const n=Array.from(lo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=bU(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}l_=!1,o_=!1,lo.forEach(n=>n.complete(u_)),lo.clear()}function F2(){lo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(l_=!0)})}function AU(){u_=!0,F2(),B2(),u_=!1}class Z0{constructor(e,t,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),o_||(o_=!0,ft.read(F2),ft.resolveKeyframes(B2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}gU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wU=n=>n.startsWith("--");function xU(n,e,t){wU(e)?n.style.setProperty(e,t):n.style[e]=t}const RU=B0(()=>window.ScrollTimeline!==void 0),IU={};function CU(n,e){const t=B0(n);return()=>IU[e]??t()}const q2=CU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,cw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function H2(n,e){if(n)return typeof n=="function"?q2()?j2(n,e):"ease-out":R2(n)?kc(n):Array.isArray(n)?n.map(t=>H2(t,e)||cw.easeOut):cw[n]}function DU(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:t};d&&(y.offset=d);const v=H2(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),n.animate(y,E)}function G2(n){return typeof n=="function"&&"applyToOptions"in n}function VU({type:n,...e}){return G2(n)&&q2()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K2 extends X0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,z0(typeof e.type!="string");const m=VU(e);this.animation=DU(t,i,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=W0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):xU(t,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&RU()?(this.animation.timeline=e,gi):t(this)}}const Q2={anticipate:b2,backInOut:S2,circInOut:w2};function OU(n){return n in Q2}function PU(n){typeof n.ease=="string"&&OU(n.ease)&&(n.ease=Q2[n.ease])}const nv=10;class MU extends K2{constructor(e){PU(e),z2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new J0({...u,autoplay:!1}),d=Math.max(nv,An.now()-this.startTime),m=_r(0,nv,d-nv);t.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const hw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(aa.test(n)||n==="0")&&!n.startsWith("url("));function NU(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function kU(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=hw(a,e),h=hw(o,e);return!u||!h?!1:NU(n)||(t==="spring"||G2(t))&&i}function c_(n){n.duration=0,n.type="keyframes"}const LU=new Set(["opacity","clipPath","filter","transform"]),jU=B0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UU(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:o,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return jU()&&t&&LU.has(t)&&(t!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const zU=40;class BU extends X0{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const E={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:y,...v},A=y?.KeyframeResolver||Z0;this.keyframeResolver=new A(h,(D,M,N)=>this.onKeyframesResolved(D,M,E,!N),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=An.now(),kU(e,o,u,h)||((Wr.instantAnimations||!d)&&y?.(W0(e,i,t)),e[0]=e[e.length-1],c_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>zU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},A=!m&&UU(E),D=E.motionValue?.owner?.current,M=A?new MU({...E,element:D}):new J0(E);M.finished.then(()=>{this.notifyFinished()}).catch(gi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function $2(n,e,t,i=0,a=1){const o=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):a===1?o*i:h-o*i}const FU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qU(n){const e=FU.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function Y2(n,e,t=1){const[i,a]=qU(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return m2(u)?parseFloat(u):u}return G0(a)?Y2(a,e,t+1):a}const HU={type:"spring",stiffness:500,damping:25,restSpeed:10},GU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KU={type:"keyframes",duration:.8},QU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$U=(n,{keyframes:e})=>e.length>2?KU:fu.has(n)?n.startsWith("scale")?GU(e[1]):HU:QU,YU=n=>n!==null;function WU(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(YU),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}function W2(n,e){if(n?.inherit&&e){const{inherit:t,...i}=n;return{...e,...i}}return n}function eE(n,e){const t=n?.[e]??n?.default??n;return t!==n?W2(t,n):t}function XU({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const tE=(n,e,t,i={},a,o)=>u=>{const h=eE(i,n)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ni(d);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};XU(h)||Object.assign(y,$U(n,y)),y.duration&&(y.duration=Ni(y.duration)),y.repeatDelay&&(y.repeatDelay=Ni(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(c_(y),y.delay===0&&(v=!0)),(Wr.instantAnimations||Wr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,c_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const E=WU(y.keyframes,h);if(E!==void 0){ft.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new J0(y):new BU(y)};function dw(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function nE(n,e,t,i){if(typeof e=="function"){const[a,o]=dw(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=dw(i);e=e(t!==void 0?t:n.custom,a,o)}return e}function jl(n,e,t){const i=n.getProps();return nE(i,e,t!==void 0?t:i.custom,n)}const X2=new Set(["width","height","top","left","right","bottom",...du]),fw=30,JU=n=>!isNaN(parseFloat(n));class ZU{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new F0);const i=this.events[e].add(t);return e==="change"?()=>{i(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,fw);return y2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zl(n,e){return new ZU(n,e)}const h_=n=>Array.isArray(n);function ez(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Zl(t))}function tz(n){return h_(n)?n[n.length-1]||0:n}function nz(n,e){const t=jl(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const u in o){const h=tz(o[u]);ez(n,u,h)}}const vn=n=>!!(n&&n.getVelocity);function iz(n){return!!(vn(n)&&n.add)}function d_(n,e){const t=n.getValue("willChange");if(iz(t))return t.add(e);if(!t&&Wr.WillChange){const i=new Wr.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function iE(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const rz="framerAppearId",J2="data-"+iE(rz);function Z2(n){return n.props[J2]}function sz({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function eD(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o,transitionEnd:u,...h}=e;const d=n.getDefaultTransition();o=o?W2(o,d):d;const m=o?.reduceMotion;i&&(o=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const E in h){const A=n.getValue(E,n.latestValues[E]??null),D=h[E];if(D===void 0||v&&sz(v,E))continue;const M={delay:t,...eE(o||{},E)},N=A.get();if(N!==void 0&&!A.isAnimating&&!Array.isArray(D)&&D===N&&!M.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const X=Z2(n);if(X){const H=window.MotionHandoffAnimation(X,E,ft);H!==null&&(M.startTime=H,U=!0)}}d_(n,E);const P=m??n.shouldReduceMotion;A.start(tE(E,A,D,P&&X2.has(E)?{type:!1}:M,n,U));const z=A.animation;z&&y.push(z)}if(u){const E=()=>ft.update(()=>{u&&nz(n,u)});y.length?Promise.all(y).then(E):E()}return y}function f_(n,e,t={}){const i=jl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(eD(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return az(n,e,d,m,y,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(t.delay)])}function az(n,e,t=0,i=0,a=0,o=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(f_(d,e,{...u,delay:t+(typeof i=="function"?0:i)+$2(n.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function oz(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>f_(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=f_(n,e,t);else{const a=typeof e=="function"?jl(n,e,t.custom):e;i=Promise.all(eD(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const lz={test:n=>n==="auto",parse:n=>n},tD=n=>e=>e.test(n),nD=[hu,ge,gr,js,k6,N6,lz],mw=n=>nD.find(tD(n));function uz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||g2(n):!0}const cz=new Set(["brightness","contrast","saturate","opacity"]);function hz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(K0)||[];if(!i)return n;const a=t.replace(i,"");let o=cz.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const dz=/\b([a-z-]*)\(.*?\)/gu,m_={...aa,getAnimatableNone:n=>{const e=n.match(dz);return e?e.map(hz).join(" "):n}},pw={...hu,transform:Math.round},fz={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Of,scaleX:Of,scaleY:Of,scaleZ:Of,skew:js,skewX:js,skewY:js,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:gh,originX:tw,originY:tw,originZ:ge},rE={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...fz,zIndex:pw,fillOpacity:gh,strokeOpacity:gh,numOctaves:pw},mz={...rE,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:m_,WebkitFilter:m_},iD=n=>mz[n];function rD(n,e){let t=iD(n);return t!==m_&&(t=aa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const pz=new Set(["auto","none","0"]);function gz(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!pz.has(o)&&yh(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=rD(t,a)}class yz extends Z0{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),G0(v))){const E=Y2(v,t.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!X2.has(i)||e.length!==2)return;const[a,o]=e,u=mw(a),h=mw(o),d=ew(a),m=ew(o);if(d!==m&&Gs[i]){this.needsMeasurement=!0;return}if(u!==h)if(uw(u)&&uw(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||uz(e[a]))&&i.push(a);i.length&&gz(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Gs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const vz=new Set(["opacity","clipPath","filter","transform"]);function sD(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const aD=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function p_(n){return p2(n)&&"offsetHeight"in n}const{schedule:sE}=I2(queueMicrotask,!1),Vi={x:!1,y:!1};function oD(){return Vi.x||Vi.y}function _z(n){return n==="x"||n==="y"?Vi[n]?null:(Vi[n]=!0,()=>{Vi[n]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function lD(n,e){const t=sD(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function Ez(n){return!(n.pointerType==="touch"||oD())}function Tz(n,e,t={}){const[i,a,o]=lD(n,t);return i.forEach(u=>{let h=!1,d=!1,m;const y=()=>{u.removeEventListener("pointerleave",D)},v=N=>{m&&(m(N),m=void 0),y()},E=N=>{h=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),d&&(d=!1,v(N))},A=()=>{h=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},D=N=>{if(N.pointerType!=="touch"){if(h){d=!0;return}v(N)}},M=N=>{if(!Ez(N))return;d=!1;const U=e(u,N);typeof U=="function"&&(m=U,u.addEventListener("pointerleave",D,a))};u.addEventListener("pointerenter",M,a),u.addEventListener("pointerdown",A,a)}),o}const uD=(n,e)=>e?n===e?!0:uD(n,e.parentElement):!1,aE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Sz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bz(n){return Sz.has(n.tagName)||n.isContentEditable===!0}const Az=new Set(["INPUT","SELECT","TEXTAREA"]);function wz(n){return Az.has(n.tagName)||n.isContentEditable===!0}const em=new WeakSet;function gw(n){return e=>{e.key==="Enter"&&n(e)}}function iv(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xz=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=gw(()=>{if(em.has(t))return;iv(t,"down");const a=gw(()=>{iv(t,"up")}),o=()=>iv(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function yw(n){return aE(n)&&!oD()}const vw=new WeakSet;function Rz(n,e,t={}){const[i,a,o]=lD(n,t),u=h=>{const d=h.currentTarget;if(!yw(h)||vw.has(h))return;em.add(d),t.stopPropagation&&vw.add(h);const m=e(d,h),y=(A,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),em.has(d)&&em.delete(d),yw(A)&&typeof m=="function"&&m(A,{success:D})},v=A=>{y(A,d===window||d===document||t.useGlobalTarget||uD(d,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),p_(h)&&(h.addEventListener("focus",m=>xz(m,a)),!bz(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function oE(n){return p2(n)&&"ownerSVGElement"in n}const tm=new WeakMap;let nm;const cD=(n,e,t)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:oE(i)&&"getBBox"in i?i.getBBox()[e]:i[t],Iz=cD("inline","width","offsetWidth"),Cz=cD("block","height","offsetHeight");function Dz({target:n,borderBoxSize:e}){tm.get(n)?.forEach(t=>{t(n,{get width(){return Iz(n,e)},get height(){return Cz(n,e)}})})}function Vz(n){n.forEach(Dz)}function Oz(){typeof ResizeObserver>"u"||(nm=new ResizeObserver(Vz))}function Pz(n,e){nm||Oz();const t=sD(n);return t.forEach(i=>{let a=tm.get(i);a||(a=new Set,tm.set(i,a)),a.add(e),nm?.observe(i)}),()=>{t.forEach(i=>{const a=tm.get(i);a?.delete(e),a?.size||nm?.unobserve(i)})}}const im=new Set;let Il;function Mz(){Il=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};im.forEach(e=>e(n))},window.addEventListener("resize",Il)}function Nz(n){return im.add(n),Il||Mz(),()=>{im.delete(n),!im.size&&typeof Il=="function"&&(window.removeEventListener("resize",Il),Il=void 0)}}function _w(n,e){return typeof n=="function"?Nz(n):Pz(n,e)}function kz(n){return oE(n)&&n.tagName==="svg"}const Lz=[...nD,Ht,aa],jz=n=>Lz.find(tD(n)),Ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:Ew(),y:Ew()}),Tw=()=>({min:0,max:0}),Yt=()=>({x:Tw(),y:Tw()}),Uz=new WeakMap;function Ap(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function vh(n){return typeof n=="string"||Array.isArray(n)}const lE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uE=["initial",...lE];function wp(n){return Ap(n.animate)||uE.some(e=>vh(n[e]))}function hD(n){return!!(wp(n)||n.variants)}function zz(n,e,t){for(const i in e){const a=e[i],o=t[i];if(vn(a))n.addValue(i,a);else if(vn(o))n.addValue(i,Zl(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Zl(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const g_={current:null},dD={current:!1},Bz=typeof window<"u";function Fz(){if(dD.current=!0,!!Bz)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>g_.current=n.matches;n.addEventListener("change",e),e()}else g_.current=!1}const Sw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Bm={};function fD(n){Bm=n}function qz(){return Bm}class Hz{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,skipAnimations:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=An.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=wp(t),this.isVariantNode=hD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in E){const D=E[A];m[A]!==void 0&&vn(D)&&D.set(m[A])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,Uz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dD.current||Fz(),this.shouldReduceMotion=g_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&vz.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:d,ease:m,duration:y}=t.accelerate,v=new K2({element:this.current,name:e,keyframes:h,times:d,ease:m,duration:Ni(y)}),E=u(v);this.valueSubscriptions.set(e,()=>{E(),v.cancel()});return}const i=fu.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bm){const t=Bm[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Sw.length;i++){const a=Sw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=zz(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Zl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(m2(i)||g2(i))?i=parseFloat(i):!jz(i)&&aa.test(t)&&(i=rD(e,t)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=nE(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new F0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){sE.render(this.render)}}class mD extends Hz{constructor(){super(...arguments),this.KeyframeResolver=yz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Gz({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Kz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function rv(n){return n===void 0||n===1}function y_({scale:n,scaleX:e,scaleY:t}){return!rv(n)||!rv(e)||!rv(t)}function Ya(n){return y_(n)||gD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gD(n){return bw(n.x)||bw(n.y)}function bw(n){return n&&n!=="0%"}function Fm(n,e,t){const i=n-t,a=e*i;return t+a}function Aw(n,e,t,i,a){return a!==void 0&&(n=Fm(n,a,i)),Fm(n,t,i)+e}function v_(n,e=0,t=1,i,a){n.min=Aw(n.min,e,t,i,a),n.max=Aw(n.max,e,t,i,a)}function yD(n,{x:e,y:t}){v_(n.x,e.translate,e.scale,e.originPoint),v_(n.y,t.translate,t.scale,t.originPoint)}const ww=.999999999999,xw=1.0000000000001;function Qz(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=t[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Vl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,yD(n,u)),i&&Ya(o.latestValues)&&Vl(n,o.latestValues))}e.x<xw&&e.x>ww&&(e.x=1),e.y<xw&&e.y>ww&&(e.y=1)}function Dl(n,e){n.min=n.min+e,n.max=n.max+e}function Rw(n,e,t,i,a=.5){const o=bt(n.min,n.max,a);v_(n,e,t,o,i)}function Vl(n,e){Rw(n.x,e.x,e.scaleX,e.scale,e.originX),Rw(n.y,e.y,e.scaleY,e.scale,e.originY)}function vD(n,e){return pD(Kz(n.getBoundingClientRect(),e))}function $z(n,e,t){const i=vD(n,t),{scroll:a}=e;return a&&(Dl(i.x,a.offset.x),Dl(i.y,a.offset.y)),i}const Yz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wz=du.length;function Xz(n,e,t){let i="",a=!0;for(let o=0;o<Wz;o++){const u=du[o],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const m=parseFloat(h);d=u.startsWith("scale")?m===1:m===0}if(!d||t){const m=aD(h,rE[u]);if(!d){a=!1;const y=Yz[u]||u;i+=`${y}(${m}) `}t&&(e[u]=m)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function cE(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let u=!1,h=!1;for(const d in e){const m=e[d];if(fu.has(d)){u=!0;continue}else if(D2(d)){a[d]=m;continue}else{const y=aD(m,rE[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(u||t?i.transform=Xz(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}function _D(n,{style:e,vars:t},i,a){const o=n.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function Iw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Rc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ge.test(n))n=parseFloat(n);else return n;const t=Iw(n,e.target.x),i=Iw(n,e.target.y);return`${t}% ${i}%`}},Jz={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=aa.parse(n);if(a.length>5)return i;const o=aa.createTransformer(n),u=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=bt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}},__={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:Jz};function ED(n,{layout:e,layoutId:t}){return fu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!__[n]||n==="opacity")}function hE(n,e,t){const i=n.style,a=e?.style,o={};if(!i)return o;for(const u in i)(vn(i[u])||a&&vn(a[u])||ED(u,n)||t?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function Zz(n){return window.getComputedStyle(n)}class e9 extends mD{constructor(){super(...arguments),this.type="html",this.renderInstance=_D}readValueFromInstance(e,t){if(fu.has(t))return this.projection?.isProjecting?s_(t):_U(e,t);{const i=Zz(e),a=(D2(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return vD(e,t)}build(e,t,i){cE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return hE(e,t,i)}}const t9={offset:"stroke-dashoffset",array:"stroke-dasharray"},n9={offset:"strokeDashoffset",array:"strokeDasharray"};function i9(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?t9:n9;n[o.offset]=`${-i}`,n[o.array]=`${e} ${t}`}const r9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function TD(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,m,y){if(cE(n,h,m),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const A of r9)v[A]!==void 0&&(E[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&i9(v,a,o,u,!1)}const SD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function s9(n,e,t,i){_D(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(SD.has(a)?a:iE(a),e.attrs[a])}function AD(n,e,t){const i=hE(n,e,t);for(const a in n)if(vn(n[a])||vn(e[a])){const o=du.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}class a9 extends mD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fu.has(t)){const i=iD(t);return i&&i.default||0}return t=SD.has(t)?t:iE(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return AD(e,t,i)}build(e,t,i){TD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){s9(e,t,i,a)}mount(e){this.isSVGTag=bD(e.tagName),super.mount(e)}}const o9=uE.length;function wD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?wD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<o9;t++){const i=uE[t],a=n.props[i];(vh(a)||a===!1)&&(e[i]=a)}return e}function xD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const l9=[...lE].reverse(),u9=lE.length;function c9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>oz(n,t,i)))}function h9(n){let e=c9(n),t=Cw(),i=!0;const a=d=>(m,y)=>{const v=jl(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:A,...D}=v;m={...m,...D,...A}}return m};function o(d){e=d(n)}function u(d){const{props:m}=n,y=wD(n.parent)||{},v=[],E=new Set;let A={},D=1/0;for(let N=0;N<u9;N++){const U=l9[N],P=t[U],z=m[U]!==void 0?m[U]:y[U],X=vh(z),H=U===d?P.isActive:null;H===!1&&(D=N);let ie=z===y[U]&&z!==m[U]&&X;if(ie&&i&&n.manuallyAnimateOnMount&&(ie=!1),P.protectedKeys={...A},!P.isActive&&H===null||!z&&!P.prevProp||Ap(z)||typeof z=="boolean")continue;if(U==="exit"&&P.isActive&&H!==!0){P.prevResolvedValues&&(A={...A,...P.prevResolvedValues});continue}const I=d9(P.prevProp,z);let x=I||U===d&&P.isActive&&!ie&&X||N>D&&X,C=!1;const j=Array.isArray(z)?z:[z];let L=j.reduce(a(U),{});H===!1&&(L={});const{prevResolvedValues:q={}}=P,V={...q,...L},xe=oe=>{x=!0,E.has(oe)&&(C=!0,E.delete(oe)),P.needsAnimating[oe]=!0;const fe=n.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in V){const fe=L[oe],Ve=q[oe];if(A.hasOwnProperty(oe))continue;let Le=!1;h_(fe)&&h_(Ve)?Le=!xD(fe,Ve):Le=fe!==Ve,Le?fe!=null?xe(oe):E.add(oe):fe!==void 0&&E.has(oe)?xe(oe):P.protectedKeys[oe]=!0}P.prevProp=z,P.prevResolvedValues=L,P.isActive&&(A={...A,...L}),i&&n.blockInitialAnimation&&(x=!1);const Me=ie&&I;x&&(!Me||C)&&v.push(...j.map(oe=>{const fe={type:U};if(typeof oe=="string"&&i&&!Me&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ve}=n,Le=jl(Ve,oe);if(Ve.enteringChildren&&Le){const{delayChildren:B}=Le.transition||{};fe.delay=$2(Ve.enteringChildren,n,B)}}return{animation:oe,options:fe}}))}if(E.size){const N={};if(typeof m.initial!="boolean"){const U=jl(n,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(N.transition=U.transition)}E.forEach(U=>{const P=n.getBaseTarget(U),z=n.getValue(U);z&&(z.liveStyle=!0),N[U]=P??null}),v.push({animation:N})}let M=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(v):Promise.resolve()}function h(d,m){if(t[d].isActive===m)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),t[d].isActive=m;const y=u(d);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Cw()}}}function d9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!xD(e,n):!1}function Ha(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cw(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}function Dw(n,e){n.min=e.min,n.max=e.max}function Ci(n,e){Dw(n.x,e.x),Dw(n.y,e.y)}function Vw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const RD=1e-4,f9=1-RD,m9=1+RD,ID=.01,p9=0-ID,g9=0+ID;function wn(n){return n.max-n.min}function y9(n,e,t){return Math.abs(n-e)<=t}function Ow(n,e,t,i=.5){n.origin=i,n.originPoint=bt(e.min,e.max,n.origin),n.scale=wn(t)/wn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=f9&&n.scale<=m9||isNaN(n.scale))&&(n.scale=1),(n.translate>=p9&&n.translate<=g9||isNaN(n.translate))&&(n.translate=0)}function Yc(n,e,t,i){Ow(n.x,e.x,t.x,i?i.originX:void 0),Ow(n.y,e.y,t.y,i?i.originY:void 0)}function Pw(n,e,t){n.min=t.min+e.min,n.max=n.min+wn(e)}function v9(n,e,t){Pw(n.x,e.x,t.x),Pw(n.y,e.y,t.y)}function Mw(n,e,t){n.min=e.min-t.min,n.max=n.min+wn(e)}function qm(n,e,t){Mw(n.x,e.x,t.x),Mw(n.y,e.y,t.y)}function Nw(n,e,t,i,a){return n-=e,n=Fm(n,1/t,i),a!==void 0&&(n=Fm(n,1/a,i)),n}function _9(n,e=0,t=1,i=.5,a,o=n,u=n){if(gr.test(e)&&(e=parseFloat(e),e=bt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=bt(o.min,o.max,i);n===o&&(h-=e),n.min=Nw(n.min,e,t,h,a),n.max=Nw(n.max,e,t,h,a)}function kw(n,e,[t,i,a],o,u){_9(n,e[t],e[i],e[a],e.scale,o,u)}const E9=["x","scaleX","originX"],T9=["y","scaleY","originY"];function Lw(n,e,t,i){kw(n.x,e,E9,t?t.x:void 0,i?i.x:void 0),kw(n.y,e,T9,t?t.y:void 0,i?i.y:void 0)}function jw(n){return n.translate===0&&n.scale===1}function CD(n){return jw(n.x)&&jw(n.y)}function Uw(n,e){return n.min===e.min&&n.max===e.max}function S9(n,e){return Uw(n.x,e.x)&&Uw(n.y,e.y)}function zw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function DD(n,e){return zw(n.x,e.x)&&zw(n.y,e.y)}function Bw(n){return wn(n.x)/wn(n.y)}function Fw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function lr(n){return[n("x"),n("y")]}function b9(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,u=t?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:E,skewX:A,skewY:D}=t;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const VD=["TopLeft","TopRight","BottomLeft","BottomRight"],A9=VD.length,qw=n=>typeof n=="string"?parseFloat(n):n,Hw=n=>typeof n=="number"||ge.test(n);function w9(n,e,t,i,a,o){a?(n.opacity=bt(0,t.opacity??1,x9(i)),n.opacityExit=bt(e.opacity??1,0,R9(i))):o&&(n.opacity=bt(e.opacity??1,t.opacity??1,i));for(let u=0;u<A9;u++){const h=`border${VD[u]}Radius`;let d=Gw(e,h),m=Gw(t,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Hw(d)===Hw(m)?(n[h]=Math.max(bt(qw(d),qw(m),i),0),(gr.test(m)||gr.test(d))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,i))}function Gw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const x9=OD(0,.5,A2),R9=OD(.5,.95,gi);function OD(n,e,t){return i=>i<n?0:i>e?1:t(ph(n,e,i))}function I9(n,e,t){const i=vn(n)?n:Zl(n);return i.start(tE("",i,e,t)),i.animation}function _h(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const C9=(n,e)=>n.depth-e.depth;class D9{constructor(){this.children=[],this.isDirty=!1}add(e){U0(this.children,e),this.isDirty=!0}remove(e){Lm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(C9),this.isDirty=!1,this.children.forEach(e)}}function V9(n,e){const t=An.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(sa(i),n(o-e))};return ft.setup(i,!0),()=>sa(i)}function rm(n){return vn(n)?n.get():n}class O9{constructor(){this.members=[]}add(e){U0(this.members,e);for(let t=this.members.length-1;t>=0;t--){const i=this.members[t];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Lm(this.members,i)}e.scheduleRender()}remove(e){if(Lm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a],u=o.instance;if(o.isPresent!==!1&&(!u||u.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,o=e.options.layoutDependency;if(!(a!==void 0&&o!==void 0&&a===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},sv=["","X","Y","Z"],P9=1e3;let M9=0;function av(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function PD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Z2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ft,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&PD(i)}function MD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=M9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L9),this.nodes.forEach(B9),this.nodes.forEach(F9),this.nodes.forEach(j9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new D9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new F0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=oE(u)&&!kz(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{v=window.innerWidth}),n(u,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=V9(E,250),sm.hasAnimatedSinceResize&&(sm.hasAnimatedSinceResize=!1,this.nodes.forEach($w)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||Q9,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=m.getProps(),U=!this.targetLayout||!DD(this.targetLayout,A),P=!v&&E;if(this.options.layoutRoot||this.resumeFrom||P||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...eE(D,"layout"),onPlay:M,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,P)}else v||$w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z9),this.nodes.forEach(N9),this.nodes.forEach(k9)):this.nodes.forEach(Qw),this.clearAllSnapshots();const h=An.now();cn.delta=_r(0,1e3/60,h-cn.timestamp),cn.timestamp=h,cn.isProcessing=!0,Xy.update.process(cn),Xy.preRender.process(cn),Xy.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U9),this.sharedNodes.forEach(H9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!CD(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ya(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),$9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Yt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y9))){const{scroll:m}=this.root;m&&(Dl(h.x,m.offset.x),Dl(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Yt();if(Ci(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ci(h,u),Dl(h.x,y.offset.x),Dl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Yt();Ci(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ya(y.latestValues)&&Vl(d,y.latestValues)}return Ya(this.latestValues)&&Vl(d,this.latestValues),d}removeTransform(u){const h=Yt();Ci(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ya(m.latestValues))continue;y_(m.latestValues)&&m.updateSnapshot();const y=Yt(),v=m.measurePageBox();Ci(y,v),Lw(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ya(this.latestValues)&&Lw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=cn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),yD(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||y_(this.parent.latestValues)||gD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),qm(this.relativeTargetOrigin,h,d),Ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Ci(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Qz(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Yt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vw(this.prevProjectionDelta.x,this.projectionDelta.x),Vw(this.prevProjectionDelta.y,this.projectionDelta.y)),Yc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!Fw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},v=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Yt(),A=d?d.source:void 0,D=this.layout?this.layout.source:void 0,M=A!==D,N=this.getStack(),U=!N||N.members.length<=1,P=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(K9));this.animationProgress=0;let z;this.mixTargetDelta=X=>{const H=X/1e3;Yw(v.x,u.x,H),Yw(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qm(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G9(this.relativeTarget,this.relativeTargetOrigin,E,H),z&&S9(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Yt()),Ci(z,this.relativeTarget)),M&&(this.animationValues=y,w9(y,m,this.latestValues,H,P,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{sm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zl(0)),this.currentAnimation=I9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&ND(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Yt();const v=wn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=wn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Ci(h,d),Vl(h,y),Yc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new O9),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&av("z",u,m,this.animationValues);for(let y=0;y<sv.length;y++)av(`rotate${sv[y]}`,u,m,this.animationValues),av(`skew${sv[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=rm(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=rm(h?.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=b9(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in __){if(y[D]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:U}=__[D],P=v==="none"?y[D]:M(y[D],m);if(N){const z=N.length;for(let X=0;X<z;X++)u[N[X]]=P}else U?this.options.visualElement.renderState.vars[D]=P:u[D]=P}this.options.layoutId&&(u.pointerEvents=m===this?rm(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function N9(n){n.updateLayout()}function k9(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?lr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],E=wn(v);v.min=t[y].min,v.max=v.min+E}):ND(a,e.layoutBox,t)&&lr(y=>{const v=o?e.measuredBox[y]:e.layoutBox[y],E=wn(t[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=Cl();Yc(u,t,e.layoutBox);const h=Cl();o?Yc(h,n.applyTransform(i,!0),e.measuredBox):Yc(h,t,e.layoutBox);const d=!CD(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const A=Yt();qm(A,e.layoutBox,v.layoutBox);const D=Yt();qm(D,t,E.layoutBox),DD(A,D)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function L9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function j9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function U9(n){n.clearSnapshot()}function Kw(n){n.clearMeasurements()}function Qw(n){n.isLayoutDirty=!1}function z9(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $w(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function B9(n){n.resolveTargetDelta()}function F9(n){n.calcProjection()}function q9(n){n.resetSkewAndRotation()}function H9(n){n.removeLeadSnapshot()}function Yw(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Ww(n,e,t,i){n.min=bt(e.min,t.min,i),n.max=bt(e.max,t.max,i)}function G9(n,e,t,i){Ww(n.x,e.x,t.x,i),Ww(n.y,e.y,t.y,i)}function K9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Q9={duration:.45,ease:[.4,0,.1,1]},Xw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Jw=Xw("applewebkit/")&&!Xw("chrome/")?Math.round:gi;function Zw(n){n.min=Jw(n.min),n.max=Jw(n.max)}function $9(n){Zw(n.x),Zw(n.y)}function ND(n,e,t){return n==="position"||n==="preserve-aspect"&&!y9(Bw(e),Bw(t),.2)}function Y9(n){return n!==n.root&&n.scroll?.wasRoot}const W9=MD({attachResizeListener:(n,e)=>_h(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),ov={current:void 0},kD=MD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ov.current){const n=new W9({});n.mount(window),n.setOptions({layoutScroll:!0}),ov.current=n}return ov.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dE=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function ex(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function X9(...n){return e=>{let t=!1;const i=n.map(a=>{const o=ex(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():ex(n[a],null)}}}}function J9(...n){return O.useCallback(X9(...n),n)}class Z9 extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=t.offsetParent,a=p_(i)&&i.offsetWidth||0,o=p_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=t.offsetHeight||0,u.width=t.offsetWidth||0,u.top=t.offsetTop,u.left=t.offsetLeft,u.right=a-u.width-u.left,u.bottom=o-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function eB({children:n,isPresent:e,anchorX:t,anchorY:i,root:a,pop:o}){const u=O.useId(),h=O.useRef(null),d=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=O.useContext(dE),y=n.props?.ref??n?.ref,v=J9(h,y);return O.useInsertionEffect(()=>{const{width:E,height:A,top:D,left:M,right:N,bottom:U}=d.current;if(e||o===!1||!h.current||!E||!A)return;const P=t==="left"?`left: ${M}`:`right: ${N}`,z=i==="bottom"?`bottom: ${U}`:`top: ${D}`;h.current.dataset.motionPopId=u;const X=document.createElement("style");m&&(X.nonce=m);const H=a??document.head;return H.appendChild(X),X.sheet&&X.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${A}px !important;
            ${P}px !important;
            ${z}px !important;
          }
        `),()=>{H.contains(X)&&H.removeChild(X)}},[e]),S.jsx(Z9,{isPresent:e,childRef:h,sizeRef:d,pop:o,children:o===!1?n:O.cloneElement(n,{ref:v})})}const tB=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,anchorY:d,root:m})=>{const y=j0(nB),v=O.useId();let E=!0,A=O.useMemo(()=>(E=!1,{id:v,initial:e,isPresent:t,custom:a,onExitComplete:D=>{y.set(D,!0);for(const M of y.values())if(!M)return;i&&i()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[t,y,i]);return o&&E&&(A={...A}),O.useMemo(()=>{y.forEach((D,M)=>y.set(M,!1))},[t]),O.useEffect(()=>{!t&&!y.size&&i&&i()},[t]),n=S.jsx(eB,{pop:u==="popLayout",isPresent:t,anchorX:h,anchorY:d,root:m,children:n}),S.jsx(bp.Provider,{value:A,children:n})};function nB(){return new Map}function LD(n=!0){const e=O.useContext(bp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=O.useId();O.useEffect(()=>{if(n)return a(o)},[n]);const u=O.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const Pf=n=>n.key||"";function tx(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const xp=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[y,v]=LD(u),E=O.useMemo(()=>tx(n),[n]),A=u&&!y?[]:E.map(Pf),D=O.useRef(!0),M=O.useRef(E),N=j0(()=>new Map),U=O.useRef(new Set),[P,z]=O.useState(E),[X,H]=O.useState(E);f2(()=>{D.current=!1,M.current=E;for(let x=0;x<X.length;x++){const C=Pf(X[x]);A.includes(C)?(N.delete(C),U.current.delete(C)):N.get(C)!==!0&&N.set(C,!1)}},[X,A.length,A.join("-")]);const ie=[];if(E!==P){let x=[...E];for(let C=0;C<X.length;C++){const j=X[C],L=Pf(j);A.includes(L)||(x.splice(C,0,j),ie.push(j))}return o==="wait"&&ie.length&&(x=ie),H(tx(x)),z(E),null}const{forceRender:I}=O.useContext(L0);return S.jsx(S.Fragment,{children:X.map(x=>{const C=Pf(x),j=u&&!y?!1:E===X||A.includes(C),L=()=>{if(U.current.has(C))return;if(U.current.add(C),N.has(C))N.set(C,!0);else return;let q=!0;N.forEach(V=>{V||(q=!1)}),q&&(I?.(),H(M.current),u&&v?.(),i&&i())};return S.jsx(tB,{isPresent:j,initial:!D.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:m,onExitComplete:j?void 0:L,anchorX:h,anchorY:d,children:x},C)})})},jD=O.createContext({strict:!1}),nx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ix=!1;function iB(){if(ix)return;const n={};for(const e in nx)n[e]={isEnabled:t=>nx[e].some(i=>!!t[i])};fD(n),ix=!0}function UD(){return iB(),qz()}function rB(n){const e=UD();for(const t in n)e[t]={...e[t],...n[t]};fD(e)}const sB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Hm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sB.has(n)}let zD=n=>!Hm(n);function aB(n){typeof n=="function"&&(zD=e=>e.startsWith("on")?!Hm(e):n(e))}try{aB(require("@emotion/is-prop-valid").default)}catch{}function oB(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(zD(a)||t===!0&&Hm(a)||!e&&!Hm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Rp=O.createContext({});function lB(n,e){if(wp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||vh(t)?t:void 0,animate:vh(i)?i:void 0}}return n.inherit!==!1?e:{}}function uB(n){const{initial:e,animate:t}=lB(n,O.useContext(Rp));return O.useMemo(()=>({initial:e,animate:t}),[rx(e),rx(t)])}function rx(n){return Array.isArray(n)?n.join(" "):n}const fE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BD(n,e,t){for(const i in e)!vn(e[i])&&!ED(i,t)&&(n[i]=e[i])}function cB({transformTemplate:n},e){return O.useMemo(()=>{const t=fE();return cE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function hB(n,e){const t=n.style||{},i={};return BD(i,t,n),Object.assign(i,cB(n,e)),i}function dB(n,e){const t={},i=hB(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const FD=()=>({...fE(),attrs:{}});function fB(n,e,t,i){const a=O.useMemo(()=>{const o=FD();return TD(o,e,bD(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};BD(o,n.style,n),a.style={...o,...a.style}}return a}const mB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mE(n){return typeof n!="string"||n.includes("-")?!1:!!(mB.indexOf(n)>-1||/[A-Z]/u.test(n))}function pB(n,e,t,{latestValues:i},a,o=!1,u){const d=(u??mE(n)?fB:dB)(e,i,a,n),m=oB(e,typeof n=="string",o),y=n!==O.Fragment?{...m,...d,ref:t}:{},{children:v}=e,E=O.useMemo(()=>vn(v)?v.get():v,[v]);return O.createElement(n,{...y,children:E})}function gB({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:yB(t,i,a,n),renderState:e()}}function yB(n,e,t,i){const a={},o=i(n,{});for(const E in o)a[E]=rm(o[E]);let{initial:u,animate:h}=n;const d=wp(n),m=hD(n);e&&m&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Ap(v)){const E=Array.isArray(v)?v:[v];for(let A=0;A<E.length;A++){const D=nE(n,E[A]);if(D){const{transitionEnd:M,transition:N,...U}=D;for(const P in U){let z=U[P];if(Array.isArray(z)){const X=y?z.length-1:0;z=z[X]}z!==null&&(a[P]=z)}for(const P in M)a[P]=M[P]}}}return a}const qD=n=>(e,t)=>{const i=O.useContext(Rp),a=O.useContext(bp),o=()=>gB(n,e,i,a);return t?o():j0(o)},vB=qD({scrapeMotionValuesFromProps:hE,createRenderState:fE}),_B=qD({scrapeMotionValuesFromProps:AD,createRenderState:FD}),EB=Symbol.for("motionComponentSymbol");function TB(n,e,t){const i=O.useRef(t);O.useInsertionEffect(()=>{i.current=t});const a=O.useRef(null);return O.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const u=i.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[e])}const HD=O.createContext({});function wl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function SB(n,e,t,i,a,o){const{visualElement:u}=O.useContext(Rp),h=O.useContext(jD),d=O.useContext(bp),m=O.useContext(dE),y=m.reducedMotion,v=m.skipAnimations,E=O.useRef(null),A=O.useRef(!1);i=i||h.renderer,!E.current&&i&&(E.current=i(n,{visualState:e,parent:u,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:o}),A.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const D=E.current,M=O.useContext(HD);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&bB(E.current,t,a,M);const N=O.useRef(!1);O.useInsertionEffect(()=>{D&&N.current&&D.update(t,d)});const U=t[J2],P=O.useRef(!!U&&!window.MotionHandoffIsComplete?.(U)&&window.MotionHasOptimisedAnimation?.(U));return f2(()=>{A.current=!0,D&&(N.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),P.current&&D.animationState&&D.animationState.animateChanges())}),O.useEffect(()=>{D&&(!P.current&&D.animationState&&D.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(U)}),P.current=!1),D.enteringChildren=void 0)}),D}function bB(n,e,t,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:GD(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&wl(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function GD(n){if(n)return n.options.allowProjection!==!1?n.projection:GD(n.parent)}function lv(n,{forwardMotionProps:e=!1,type:t}={},i,a){i&&rB(i);const o=t?t==="svg":mE(n),u=o?_B:vB;function h(m,y){let v;const E={...O.useContext(dE),...m,layoutId:AB(m)},{isStatic:A}=E,D=uB(m),M=u(m,A);if(!A&&d2){wB();const N=xB(E);v=N.MeasureLayout,D.visualElement=SB(n,M,E,a,N.ProjectionNode,o)}return S.jsxs(Rp.Provider,{value:D,children:[v&&D.visualElement?S.jsx(v,{visualElement:D.visualElement,...E}):null,pB(n,m,TB(M,D.visualElement,y),M,A,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=O.forwardRef(h);return d[EB]=n,d}function AB({layoutId:n}){const e=O.useContext(L0).id;return e&&n!==void 0?e+"-"+n:n}function wB(n,e){O.useContext(jD).strict}function xB(n){const e=UD(),{drag:t,layout:i}=e;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function RB(n,e){if(typeof Proxy>"u")return lv;const t=new Map,i=(o,u)=>lv(o,u,n,e),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,lv(u,void 0,n,e)),t.get(u))})}const IB=(n,e)=>e.isSVG??mE(n)?new a9(e):new e9(e,{allowProjection:n!==O.Fragment});class CB extends da{constructor(e){super(e),e.animationState||(e.animationState=h9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let DB=0;class VB extends da{constructor(){super(...arguments),this.id=DB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OB={animation:{Feature:CB},exit:{Feature:VB}};function Hh(n){return{point:{x:n.pageX,y:n.pageY}}}const PB=n=>e=>aE(e)&&n(e,Hh(e));function Wc(n,e,t,i){return _h(n,e,PB(t),i)}const KD=({current:n})=>n?n.ownerDocument.defaultView:null,sx=(n,e)=>Math.abs(n-e);function MB(n,e){const t=sx(n.x,e.x),i=sx(n.y,e.y);return Math.sqrt(t**2+i**2)}const ax=new Set(["auto","scroll"]);class QD{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=cv(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,M=MB(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!M)return;const{point:N}=A,{timestamp:U}=cn;this.history.push({...N,timestamp:U});const{onStart:P,onMove:z}=this.handlers;D||(P&&P(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=uv(D,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:M,onSessionEnd:N,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=cv(A.type==="pointercancel"?this.lastMoveEventInfo:uv(D,this.transformPagePoint),this.history);this.startEvent&&M&&M(A,P),N&&N(A,P)},!aE(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=Hh(e),m=uv(d,this.transformPagePoint),{point:y}=m,{timestamp:v}=cn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=t;E&&E(e,cv(m,this.history)),this.removeListeners=Bh(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(ax.has(i.overflowX)||ax.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),sa(this.updatePoint)}}function uv(n,e){return e?{point:e(n.point)}:n}function ox(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cv({point:n},e){return{point:n,delta:ox(n,$D(e)),offset:ox(n,NB(e)),velocity:kB(e,.1)}}function NB(n){return n[0]}function $D(n){return n[n.length-1]}function kB(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=$D(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Ni(e)));)t--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Ni(e)*2&&(i=n[1]);const o=fi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function LB(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?bt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?bt(t,n,i.max):Math.min(n,t)),n}function lx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function jB(n,{top:e,left:t,bottom:i,right:a}){return{x:lx(n.x,t,a),y:lx(n.y,e,i)}}function ux(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function UB(n,e){return{x:ux(n.x,e.x),y:ux(n.y,e.y)}}function zB(n,e){let t=.5;const i=wn(n),a=wn(e);return a>i?t=ph(e.min,e.max-i,n.min):i>a&&(t=ph(n.min,n.max-a,e.min)),_r(0,1,t)}function BB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const E_=.35;function FB(n=E_){return n===!1?n=0:n===!0&&(n=E_),{x:cx(n,"left","right"),y:cx(n,"top","bottom")}}function cx(n,e,t){return{min:hx(n,e),max:hx(n,t)}}function hx(n,e){return typeof n=="number"?n:n[e]||0}const qB=new WeakMap;class HB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=v=>{t&&this.snapToCursor(Hh(v).point),this.stopAnimation()},u=(v,E)=>{const{drag:A,dragPropagation:D,onDragStart:M}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_z(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(U=>{let P=this.getAxisMotionValue(U).get()||0;if(gr.test(P)){const{projection:z}=this.visualElement;if(z&&z.layout){const X=z.layout.layoutBox[U];X&&(P=wn(X)*(parseFloat(P)/100))}}this.originPoint[U]=P}),M&&ft.update(()=>M(v,E),!1,!0),d_(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:M,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=E;if(D&&this.currentDirection===null){this.currentDirection=KB(U),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),N&&ft.update(()=>N(v,E),!1,!0)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new QD(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:KD(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ft.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Mf(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=LB(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=jB(i.layoutBox,e):this.constraints=!1,this.elastic=FB(t),a!==this.constraints&&!wl(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&lr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=BB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=$z(i,a.root,this.visualElement.getTransformPagePoint());let u=UB(a.layout.layoutBox,o);if(t){const h=t(Gz(u));this.hasMutatedConstraints=!!h,h&&(u=pD(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=lr(y=>{if(!Mf(y,t,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return d_(this.visualElement,e),i.start(tE(e,i,0,t,this.visualElement,!1))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){lr(t=>{const{drag:i}=this.getProps();if(!Mf(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[t],d=o.get()||0;o.set(e[t]-bt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!wl(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};lr(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=zB({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),lr(u=>{if(!Mf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(bt(d,m,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;qB.set(this.visualElement,this);const e=this.visualElement.current,t=Wc(e,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=m.target,A=E!==e&&wz(E);y&&v&&!A&&this.start(m)});let i;const a=()=>{const{dragConstraints:m}=this.getProps();wl(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),i||(i=GB(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,u=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(a);const h=_h(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(lr(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),t(),u(),d&&d(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=E_,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function dx(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function GB(n,e,t){const i=_w(n,dx(t)),a=_w(e,dx(t));return()=>{i(),a()}}function Mf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function KB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class QB extends da{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new HB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const hv=n=>(e,t)=>{n&&ft.update(()=>n(e,t),!1,!0)};class $B extends da{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new QD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:hv(e),onStart:hv(t),onMove:hv(i),onEnd:(o,u)=>{delete this.session,a&&ft.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dv=!1;class YB extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),dv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,e.layoutDependency!==t&&u.setOptions({...u.options,layoutDependency:t}),dv=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||ft.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;dv=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YD(n){const[e,t]=LD(),i=O.useContext(L0);return S.jsx(YB,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(HD),isPresent:e,safeToRemove:t})}const WB={pan:{Feature:$B},drag:{Feature:QB,ProjectionNode:kD,MeasureLayout:YD}};function fx(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&ft.postRender(()=>o(e,Hh(e)))}class XB extends da{mount(){const{current:e}=this.node;e&&(this.unmount=Tz(e,(t,i)=>(fx(this.node,i,"Start"),a=>fx(this.node,a,"End"))))}unmount(){}}class JB extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(_h(this.node.current,"focus",()=>this.onFocus()),_h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mx(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&ft.postRender(()=>o(e,Hh(e)))}class ZB extends da{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:i}=this.node.props;this.unmount=Rz(e,(a,o)=>(mx(this.node,o,"Start"),(u,{success:h})=>mx(this.node,u,h?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:i?.tap===!1})}unmount(){}}const T_=new WeakMap,fv=new WeakMap,e8=n=>{const e=T_.get(n.target);e&&e(n)},t8=n=>{n.forEach(e8)};function n8({root:n,...e}){const t=n||document;fv.has(t)||fv.set(t,{});const i=fv.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(t8,{root:n,...e})),i[a]}function i8(n,e,t){const i=n8(e);return T_.set(n,t),i.observe(n),()=>{T_.delete(n),i.unobserve(n)}}const r8={some:0,all:1};class s8 extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:r8[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=m?y:v;E&&E(d)};return i8(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(a8(e,t))&&this.startObserver()}unmount(){}}function a8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const o8={inView:{Feature:s8},tap:{Feature:ZB},focus:{Feature:JB},hover:{Feature:XB}},l8={layout:{ProjectionNode:kD,MeasureLayout:YD}},u8={...OB,...o8,...WB,...l8},dt=RB(u8,IB);const WD=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const c8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const h8=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const px=n=>{const e=h8(n);return e.charAt(0).toUpperCase()+e.slice(1)};var d8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f8=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const m8=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...h},d)=>O.createElement("svg",{ref:d,...d8,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:WD("lucide",a),...!o&&!f8(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>O.createElement(m,y)),...Array.isArray(o)?o:[o]]));const Ke=(n,e)=>{const t=O.forwardRef(({className:i,...a},o)=>O.createElement(m8,{ref:o,iconNode:e,className:WD(`lucide-${c8(px(n))}`,`lucide-${n}`,i),...a}));return t.displayName=px(n),t};const p8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gx=Ke("arrow-right",p8);const g8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y8=Ke("award",g8);const v8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_8=Ke("book-open",v8);const E8=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],T8=Ke("brush",E8);const S8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S_=Ke("calendar",S8);const b8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Eh=Ke("chevron-left",b8);const A8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gm=Ke("circle-check-big",A8);const w8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],x8=Ke("circle-x",w8);const R8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XD=Ke("clock",R8);const I8=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],C8=Ke("droplets",I8);const D8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],V8=Ke("flame",D8);const O8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],P8=Ke("house",O8);const M8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],JD=Ke("key",M8);const N8=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],k8=Ke("list-checks",N8);const L8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZD=Ke("lock",L8);const j8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eV=Ke("log-out",j8);const U8=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],z8=Ke("map",U8);const B8=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],yx=Ke("mic",B8);const F8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q8=Ke("plus",F8);const H8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G8=Ke("rotate-ccw",H8);const K8=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Q8=Ke("scroll",K8);const $8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Y8=Ke("send",$8);const W8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],X8=Ke("settings-2",W8);const J8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Z8=Ke("share-2",J8);const eF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],pE=Ke("shield-alert",eF);const tF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nF=Ke("shield-check",tF);const iF=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],rF=Ke("ticket",iF);const sF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aF=Ke("triangle-alert",sF);const oF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gE=Ke("trophy",oF);const lF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uF=Ke("user-check",lF);const cF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hF=Ke("user-plus",cF);const dF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fF=Ke("users",dF);const mF=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pF=Ke("utensils",mF);const gF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vx=Ke("zap",gF);function yF(){const[n,e]=O.useState("WELCOME"),[t,i]=O.useState(!0),[a,o]=O.useState(""),[u,h]=O.useState(""),[d,m]=O.useState(""),[y,v]=O.useState(!1),{login:E,signup:A}=Er(),D=In(),M=U=>`${U.trim().toLowerCase().replace(/\s+/g,".")}@acamp.forja.com`,N=async U=>{if(U.preventDefault(),m(""),v(!0),a.length<3){m("Nome de Guerra muito curto."),v(!1);return}if(u.length<4){m("PIN deve ter 4 dgitos."),v(!1);return}const P=M(a),z=`${u}@acamp2026`;try{if(t){const H=(await A(P,z)).user.uid;await u2(H,{uid:H,nomeGuerra:a,pin:u,email:P,createdAt:new Date().toISOString()})}else await E(P,z);D("/home")}catch(X){console.error("Erro na autenticao:",X),X.code==="auth/email-already-in-use"?m('Este Nome de Guerra j est em combate. Use "J SOU ALISTADO"'):X.code==="auth/wrong-password"?m("PIN incorreto para este soldado."):m("Falha na comunicao com o QG. Tente novamente.")}finally{v(!1)}};return S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",overflow:"hidden"},children:[S.jsxs(dt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{textAlign:"center",marginBottom:"2.5rem"},children:[S.jsx("img",{src:"/logo.png",alt:"Logo A Forja",style:{width:"160px",height:"auto",marginBottom:"1rem",filter:"drop-shadow(0 0 20px rgba(211, 84, 0, 0.3))"}}),S.jsx("h1",{style:{fontSize:"3rem",margin:0,color:"var(--color-gold)"},children:"A FORJA"}),S.jsx("p",{style:{color:"var(--color-fire)",fontWeight:"bold",letterSpacing:"2px",fontSize:"0.8rem"},children:"ACAMPAMENTO 2026"})]}),S.jsxs(xp,{mode:"wait",children:[n==="WELCOME"&&S.jsx(dt.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:S.jsxs(gt,{style:{textAlign:"center"},children:[S.jsx("h2",{style:{fontSize:"1.8rem",color:"var(--color-gold)",marginBottom:"1.5rem"},children:"BEM-VINDO, GUERREIRO"}),S.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"2rem",fontSize:"0.9rem"},children:"O alistamento para a Forja 2026 est aberto."}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>{m(""),e("AUTH"),i(!0)},fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(hF,{size:20})," ALISTAR-SE AGORA"]})}),S.jsx(Qe,{variant:"secondary",onClick:()=>{m(""),e("AUTH"),i(!1)},fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(JD,{size:20})," J SOU ALISTADO"]})})]})]})},"welcome"),n==="AUTH"&&S.jsx(dt.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:S.jsx(gt,{children:S.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("h3",{style:{margin:0,color:"var(--color-gold)"},children:t?"NOVO ALISTAMENTO":"RETORNO AO FRONT"}),S.jsx("p",{style:{fontSize:"0.8rem",opacity:.7},children:t?"Defina sua identidade militar":"Identifique-se para entrar."})]}),d&&S.jsx("div",{style:{color:"#ff6b6b",background:"rgba(255,0,0,0.1)",padding:"0.5rem",border:"1px solid #ff6b6b",borderRadius:"4px",fontSize:"0.8rem",textAlign:"center"},children:d}),S.jsx(Jv,{label:"NOME DE GUERRA (SEM ESPAOS)",placeholder:"EX: GIDEO",value:a,onChange:U=>o(U.target.value.toUpperCase()),required:!0}),S.jsx(Jv,{label:"CDIGO (PIN DE 4 DGITOS)",type:"tel",placeholder:"****",value:u,onChange:U=>h(U.target.value.replace(/\D/g,"").slice(0,4)),required:!0}),S.jsxs("div",{style:{marginTop:"0.5rem"},children:[S.jsx(Qe,{type:"submit",disabled:y,fullWidth:!0,children:y?"PROCESSANDO...":t?"ENVIAR ALISTAMENTO":"ENTRAR"}),S.jsx(Qe,{variant:"secondary",onClick:()=>{m(""),e("WELCOME")},fullWidth:!0,style:{marginTop:"0.5rem"},children:"VOLTAR"})]}),t&&S.jsx("p",{style:{fontSize:"0.7rem",opacity:.5,textAlign:"center",marginTop:"10px"},children:"* Seu alistamento passar por aprovao do comando."})]})})},"auth")]}),S.jsx("div",{style:{marginTop:"3rem",opacity:.3,fontSize:"0.6rem",letterSpacing:"2px",textAlign:"center"},children:"FILADLFIA  DIVISO DE OPERAES 2026"})]})}function vF(){const{logout:n,currentUser:e}=Er(),t=In(),i=async()=>{await n(),t("/")};return S.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",textAlign:"center"},children:S.jsx(dt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{width:"100%",maxWidth:"400px"},children:S.jsx(gt,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",padding:"1rem 0"},children:[S.jsx(pE,{size:64,color:"var(--color-fire)"}),S.jsxs("div",{children:[S.jsx("h2",{style:{color:"var(--color-gold)",margin:"0 0 0.5rem 0"},children:"ALISTAMENTO REALIZADO"}),S.jsxs("p",{style:{color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"bold"},children:["SOLDADO: ",e?.profile?.nomeGuerra||"RECRUTA"]})]}),S.jsxs("div",{style:{background:"rgba(255, 165, 0, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[S.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-dim)"},children:"Seus dados foram enviados ao Comando. Aguarde a aprovao oficial para acessar o sistema."}),S.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"var(--text-dim)",fontStyle:"italic"},children:['"Nenhum soldado em servio se envolve em negcios desta vida, porque o seu objetivo  satisfazer aquele que o arregimentou."',S.jsx("br",{}),"2 Timteo 2:4"]})]}),S.jsx(Qe,{variant:"secondary",onClick:i,fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(eV,{size:20})," SAIR / RETORNAR"]})})]})})})})}const Ks=[{dia:"Sbado",eventos:[{hora:"13:00",nome:"Sada da Igreja",desc:"Concentrao para partida"},{hora:"15:00",nome:"Organizao",desc:"Chegada e montagem de acampamento"},{hora:"19:00",nome:"Culto de Abertura",desc:"Primeira palavra oficial"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"Livre",desc:"Tempo de confraternizao"}]},{dia:"Domingo",eventos:[{hora:"07:00",nome:"Despertar",desc:"Toque de alvorada"},{hora:"07:30",nome:"Devocional",desc:"Primeiro contato com o Mestre"},{hora:"07:45",nome:"Caf da Manh",desc:"Energia para o dia"},{hora:"08:30",nome:"Culto - BATISMO",desc:"Celebrao e compromisso pblico"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinamento de campo"},{hora:"12:30",nome:"Almoo",desc:"Refeio comunitria"},{hora:"15:00",nome:"Gincana",desc:"Competio por pelotes"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"LUAU",desc:"Fogo e adorao"},{hora:"23:00",nome:"Apagar Luzes",desc:"Silncio total"}]},{dia:"Segunda",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Competio"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio"},{hora:"21:30",nome:"CINEMA",desc:"Filme selecionado"},{hora:"23:00",nome:"Apagar Luzes",desc:"Descanso"}]},{dia:"Tera",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Final das competies"},{hora:"19:00",nome:"Culto",desc:"Mensagem de Encerramento"},{hora:"20:30",nome:"Jantar",desc:"Jantar Especial"},{hora:"21:30",nome:"Jornal e Luau",desc:"Retrospectiva do Acampamento"},{hora:"23:00",nome:"Encerramento Oficial",desc:"ltimos avisos"},{hora:"00:00",nome:"Apagar Luzes",desc:"Silncio Final"}]}];function _F(){const{currentUser:n,logout:e}=Er(),t=In(),i=async()=>{try{await e(),t("/")}catch(v){console.error("Erro ao sair",v)}},a=n?.email?.split("@")[0].toUpperCase().replace("."," ")||"SOLDADO",u=(()=>{const v=new Date,A=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][v.getDay()],D=v.getHours().toString().padStart(2,"0")+":"+v.getMinutes().toString().padStart(2,"0");let M=Ks.find(P=>P.dia===A);if(M){const P=M.eventos.find(z=>z.hora>D);if(P)return{...P,dia:"HOJE"}}const N=Ks.findIndex(P=>P.dia===A),U=Ks[(N+1)%Ks.length];return{...U.eventos[0],dia:U.dia}})(),[h,d]=O.useState(!1),m=Sp(n?.email);O.useEffect(()=>{if(n){const v=n.email.split("@")[0].toLowerCase();Ux(async()=>{const{EscalasService:E}=await Promise.resolve().then(()=>xF);return{EscalasService:E}},void 0).then(({EscalasService:E})=>{E.getEscalas().then(A=>{const D=A.some(M=>M.equipe.some(N=>N.toLowerCase().includes(v)));d(D)})})}},[n]);const y=[{label:"SERMES = EU + DEUS",route:"/sermoes",icon:S.jsx(Q8,{size:32,color:"var(--color-gold)"}),desc:"Minha intimidade"},{label:"PASSAPORTE",route:"/passaporte",icon:S.jsx(z8,{size:32,color:"var(--color-gold)"}),desc:"Sua jornada militar"},{label:"FERRAMENTAS",route:"/ferramentas",icon:S.jsx(X8,{size:32,color:"var(--color-gold)"}),desc:"Diagnsticos e Perfis"},{label:"REGRAS DO ACAMP",route:"/regras",icon:S.jsx(_8,{size:32,color:"var(--color-gold)"}),desc:"Cdigo de Conduta"},{label:"PROGRAMAO",route:"/programacao",icon:S.jsx(XD,{size:32,color:"var(--color-gold)"}),desc:"Horrio das misses"},{label:"RANKING",route:"/ranking",icon:S.jsx(gE,{size:32,color:"var(--color-gold)"}),desc:"Honra e Glria"}];return h&&y.splice(5,0,{label:"ESCALAS",route:"/escalas",icon:S.jsx(k8,{size:32,color:"var(--color-gold)"}),desc:"Seu posto hoje"}),m&&y.push({label:"COMANDO",route:"/admin",icon:S.jsx(pE,{size:32,color:"var(--color-fire)"}),desc:"Controle Master"}),S.jsxs("div",{style:{padding:"1rem",maxWidth:"600px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[S.jsxs(dt.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",background:"var(--bg-card)",padding:"1rem",borderRadius:"var(--radius-rustic)",borderBottom:"2px solid var(--color-gold)",boxShadow:"var(--shadow-rustic)"},children:[S.jsxs("div",{children:[S.jsx("h2",{style:{margin:0,fontSize:"1.8rem",lineHeight:1},children:"QG PRINCIPAL"}),S.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--color-gold)",opacity:.8,fontWeight:"bold"},children:["MATRCULA: ",a]})]}),S.jsx("div",{style:{width:"48px",height:"48px",background:"var(--color-wood-dark)",borderRadius:"var(--radius-rustic)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--color-gold)",boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"},children:S.jsx(vx,{size:24,color:"var(--color-fire)"})})]}),S.jsx("section",{style:{marginBottom:"2rem"},children:S.jsx(dt.div,{whileHover:{scale:1.02},children:S.jsxs(gt,{style:{display:"flex",alignItems:"center",gap:"1.5rem",borderColor:"var(--color-fire)",backgroundColor:"rgba(211, 84, 0, 0.15)",borderLeft:"4px solid var(--color-fire)"},children:[S.jsx("div",{style:{background:"var(--color-fire)",padding:"10px",borderRadius:"50%",boxShadow:"0 0 15px rgba(211, 84, 0, 0.4)"},children:S.jsx(vx,{size:24,color:"white"})}),S.jsxs("div",{children:[S.jsxs("h3",{style:{margin:0,fontSize:"1.4rem",color:"var(--color-fire-glow)"},children:["MISSO URGENTE: ",u.dia]}),S.jsxs("p",{style:{margin:0,fontSize:"1.2rem",color:"var(--text-main)",fontWeight:"bold"},children:[u.hora," - ",u.nome]}),S.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:u.desc})]})]})})}),S.jsxs("section",{style:{flex:1},children:[S.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",fontSize:"1.5rem"},children:[S.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}}),"ARSENAL DISPONVEL",S.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:y.map((v,E)=>S.jsx(dt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:E*.1},whileTap:{scale:.95},children:S.jsxs(gt,{onClick:()=>t(v.route),style:{textAlign:"center",padding:"1.5rem 1rem",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.8rem"},children:[v.icon,S.jsxs("div",{children:[S.jsx("strong",{style:{display:"block",color:"var(--color-gold)",fontSize:"1.2rem",marginBottom:"2px"},children:v.label}),S.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px"},children:v.desc})]})]})},v.label))})]}),S.jsx("div",{style:{marginTop:"2rem",padding:"1rem 0"},children:S.jsx(Qe,{onClick:i,variant:"secondary",fullWidth:!0,children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(eV,{size:20}),"ABANDONAR POSTO (SAIR)"]})})})]})}const Th=[{id:"1",titulo:"RENNCIA: O PREO DO CHAMADO",pregador:"Pr. Gilvan",data:"Domingo - 08:30",tema:"Renncia",senhaSelo:"4821",icon:"",perguntas:[{q:"O que significa renncia no contexto do Reino?",opts:["Fugir das responsabilidades","Trocar o que  bom pelo que  excelente","Abrir mo de tudo sem motivo","Ignorar os problemas"],correta:1},{q:'Qual o principal "preo" mencionado no chamado?',opts:["Dinheiro e bens","Conforto e vontade prpria","Tempo de sono","Popularidade nas redes"],correta:1},{q:"Seguir a Cristo exige uma deciso:",opts:["Semanal","Mental apenas","Diria de negar-se a si mesmo","Opcional"],correta:2}]},{id:"2",titulo:"A FORJA DA MENTE",pregador:"Pra. Dbora",data:"Domingo - 19:00",tema:"Renovao",senhaSelo:"7356",icon:"",perguntas:[{q:"Segundo o sermo, onde comea a verdadeira batalha?",opts:["Nas circunstncias externas","Na mente","No comportamento","Nas palavras"],correta:1},{q:"Como renovamos nossa mente segundo Romanos 12?",opts:["Lendo mais notcias","No nos conformando com este sculo","Esquecendo o passado","Sendo pessoas positivas"],correta:1},{q:"Uma mente forjada em Deus :",opts:["Inabalvel e focada no Reino","Lgica e fria","Confusa e mstica","Sempre feliz"],correta:0}]},{id:"3",titulo:"IDENTIDADE DO GUERREIRO",pregador:"Pr. Marcos",data:"Segunda - 08:30",tema:"Identidade",senhaSelo:"1947",icon:"",perguntas:[{q:"Quem define a identidade do guerreiro?",opts:["Sua famlia","Seu desempenho","O Criador (Deus)","A sociedade"],correta:2},{q:"Qual a principal arma defensiva mencionada?",opts:["Espada do Esprito","Escudo da F","Capacete da Salvao","Sandlias da Paz"],correta:1},{q:"Um guerreiro que no conhece sua identidade:",opts:["Luta melhor"," vulnervel aos ataques do inimigo","No precisa de armadura"," independente"],correta:1}]},{id:"4",titulo:"COMUNHO NO FRONT",pregador:"Miss. Ana",data:"Segunda - 19:00",tema:"Comunho",senhaSelo:"6283",icon:"",perguntas:[{q:"Por que o isolamento  perigoso no front?",opts:["Porque  chato","Porque o soldado sozinho  alvo fcil","Porque gasta mais recursos","No  perigoso"],correta:1},{q:"O que sustenta a comunho verdadeira?",opts:["Interesses em comum","O amor sacrificial de Cristo","Apenas amizade social","Concordar em tudo"],correta:1},{q:"No corpo de Cristo, cada membro :",opts:["Indispensvel","Opcional","Substituvel","Superior aos outros"],correta:0}]},{id:"5",titulo:"HONRA E LEALDADE",pregador:"Pr. Silas",data:"Tera - 08:30",tema:"Honra",senhaSelo:"5094",icon:"",perguntas:[{q:"Honra  uma questo de:",opts:["Poder","Princpio e corao","Status","Troca de favores"],correta:1},{q:"A quem devemos honra primeiro?",opts:["Aos lderes","Aos pais","A Deus","A ns mesmos"],correta:2},{q:"A deslealdade no exrcito de Deus causa:",opts:["Crescimento","Diviso e fraqueza","Nada demais","Independncia"],correta:1}]},{id:"6",titulo:"PRONTIDO PARA O SERVIO",pregador:"Ev. Lucas",data:"Tera - 19:00",tema:"Servio",senhaSelo:"3617",icon:"",perguntas:[{q:"O que define a prontido de um servo?",opts:["Sua disposio em obedecer logo","Seu conhecimento tcnico","Seus anos de igreja","Sua vontade prpria"],correta:0},{q:"Servir no Reino  um:",opts:["Fardo pesado","Privilgio e misso","Emprego espiritual","Hobbie"],correta:1},{q:"O maior no Reino  aquele que:",opts:["Manda mais","Sermoneia melhor","Serve a todos","Tem mais ttulos"],correta:2}]},{id:"7",titulo:"ENVIO: A GRANDE COMISSO",pregador:"Coordenao",data:"Quarta - 07:30",tema:"Envio",senhaSelo:"8472",icon:"",perguntas:[{q:"Qual a nossa principal misso aps o acampamento?",opts:["Descansar","Fazer discpulos de todas as naes","Apenas guardar as memrias","Mudar de igreja"],correta:1},{q:"Onde comea o campo missionrio?",opts:["Na frica","Em Corrente-PI","Onde quer que nossos ps pisem","No prdio da igreja"],correta:2},{q:"Quem nos capacita para o envio?",opts:["Nossa inteligncia","O Esprito Santo","Os cursos que fizemos","A diretoria do acampamento"],correta:1}]}],_x="anotacoes_sermoes",am={getListaSermoes(){return Th},async getAnotacao(n,e){const t=pi(fn,_x,`${n}_${e}`),i=await I0(t);return i.exists()&&i.data().conteudo||""},async salvarAnotacao(n,e,t){const i=pi(fn,_x,`${n}_${e}`);await Qv(i,{userId:n,sermaoId:e,conteudo:t,updatedAt:new Date},{merge:!0})},async validarSelo(n,e,t){const i=Th.find(a=>a.id===e);if(!i||i.senhaSelo!==t)return{success:!1,message:"Senha incorreta para este selo."};try{const a=pi(fn,"users",n);return await Qv(a,{selos:vC(e)},{merge:!0}),{success:!0}}catch(a){return console.error("Erro ao validar selo:",a),{success:!1,message:"Erro na conexo com o QG."}}}};function EF(){const{currentUser:n}=Er(),[e,t]=O.useState(null),i=In();O.useEffect(()=>{if(!n)return;const o=Dm(pi(fn,"users",n.uid),u=>{u.exists()&&t(u.data())});return()=>o()},[n]);const a=e?.selos||[];return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(y8,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0,fontSize:"2rem"},children:"PASSAPORTE DO GUERREIRO"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.9rem"},children:"STATUS DE PRONTIDO"})]}),S.jsxs(gt,{style:{marginBottom:"2rem",textAlign:"center",borderColor:"var(--color-gold)"},children:[S.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"CONQUISTAS:"}),S.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--color-gold)"},children:[a.length,S.jsxs("span",{style:{fontSize:"1rem",opacity:.5},children:[" / ",Th.length]})]})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:Th.map(o=>{const u=a.includes(o.id);return S.jsx(dt.div,{whileHover:u?{scale:1.05}:{},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:S.jsxs(gt,{style:{opacity:u?1:.3,border:u?"2px solid var(--color-gold)":"1px dashed var(--color-wood-light)",background:u?"var(--color-wood-dark)":"transparent",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",aspectRatio:"1",padding:"1rem"},children:[S.jsx("span",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:u?o.icon:S.jsx(ZD,{size:32,opacity:.5})}),S.jsx("strong",{style:{fontSize:"0.7rem",color:u?"var(--color-gold)":"var(--text-dim)",textTransform:"uppercase",letterSpacing:"1px"},children:o.tema})]})},o.id)})}),S.jsx("div",{style:{marginTop:"3rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>i("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function TF(){const n=In(),e=am.getListaSermoes();return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[S.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"CADERNO DE GUERRA"}),S.jsx("p",{style:{opacity:.7},children:"Anotaes e Reflexes"})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(t=>S.jsx(gt,{style:{cursor:"pointer",borderLeft:"4px solid var(--color-burnt-orange)"},onClick:()=>n(`/sermoes/${t.id}`),children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsxs("div",{children:[S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-sage-green)",textTransform:"uppercase"},children:t.data}),S.jsx("h3",{style:{margin:"0.2rem 0",fontSize:"1.2rem"},children:t.titulo}),S.jsxs("p",{style:{margin:0,opacity:.8,fontSize:"0.9rem"},children:["Preletor: ",t.pregador]})]}),S.jsx("span",{style:{fontSize:"1.5rem"},children:""})]})},t.id))}),S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}var mv,Ex;function SF(){if(Ex)return mv;Ex=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt,d=typeof Tf=="object"&&Tf&&Tf.Object===Object&&Tf,m=typeof self=="object"&&self&&self.Object===Object&&self,y=d||m||Function("return this")(),v=Object.prototype,E=v.toString,A=Math.max,D=Math.min,M=function(){return y.Date.now()};function N(H,ie,I){var x,C,j,L,q,V,xe=0,Me=!1,ee=!1,oe=!0;if(typeof H!="function")throw new TypeError(n);ie=X(ie)||0,U(I)&&(Me=!!I.leading,ee="maxWait"in I,j=ee?A(X(I.maxWait)||0,ie):j,oe="trailing"in I?!!I.trailing:oe);function fe(Te){var at=x,et=C;return x=C=void 0,xe=Te,L=H.apply(et,at),L}function Ve(Te){return xe=Te,q=setTimeout(re,ie),Me?fe(Te):L}function Le(Te){var at=Te-V,et=Te-xe,Ui=ie-at;return ee?D(Ui,j-et):Ui}function B(Te){var at=Te-V,et=Te-xe;return V===void 0||at>=ie||at<0||ee&&et>=j}function re(){var Te=M();if(B(Te))return he(Te);q=setTimeout(re,Le(Te))}function he(Te){return q=void 0,oe&&x?fe(Te):(x=C=void 0,L)}function me(){q!==void 0&&clearTimeout(q),xe=0,x=V=C=q=void 0}function we(){return q===void 0?L:he(M())}function Re(){var Te=M(),at=B(Te);if(x=arguments,C=this,V=Te,at){if(q===void 0)return Ve(V);if(ee)return q=setTimeout(re,ie),fe(V)}return q===void 0&&(q=setTimeout(re,ie)),L}return Re.cancel=me,Re.flush=we,Re}function U(H){var ie=typeof H;return!!H&&(ie=="object"||ie=="function")}function P(H){return!!H&&typeof H=="object"}function z(H){return typeof H=="symbol"||P(H)&&E.call(H)==t}function X(H){if(typeof H=="number")return H;if(z(H))return e;if(U(H)){var ie=typeof H.valueOf=="function"?H.valueOf():H;H=U(ie)?ie+"":ie}if(typeof H!="string")return H===0?H:+H;H=H.replace(i,"");var I=o.test(H);return I||u.test(H)?h(H.slice(2),I?2:8):a.test(H)?e:+H}return mv=N,mv}var bF=SF();const AF=MO(bF);function wF(){const{id:n}=RP(),e=In(),{currentUser:t}=Er(),[i,a]=O.useState(""),[o,u]=O.useState(!1),[h,d]=O.useState(!1),[m,y]=O.useState(""),[v,E]=O.useState(!1),[A,D]=O.useState(!1),[M,N]=O.useState(""),U=Th.find(V=>V.id===n);O.useEffect(()=>{let V;if(t&&n){try{am.getAnotacao(t.uid,n).then(Me=>{a(Me||"")}).catch(Me=>console.error("Erro ao carregar anotaes:",Me))}catch(Me){console.error(Me)}const xe=pi(fn,"users",t.uid);V=Dm(xe,Me=>{Me.exists()&&(Me.data().selos||[]).includes(n)&&E(!0)},Me=>console.error("Erro ao escutar selos:",Me))}return()=>V&&V()},[t,n]);const P=()=>{if(!("webkitSpeechRecognition"in window)){alert("Seu navegador no suporta reconhecimento de voz.");return}const V=new window.webkitSpeechRecognition;V.lang="pt-BR",V.continuous=!1,V.onstart=()=>D(!0),V.onend=()=>D(!1),V.onresult=xe=>{const Me=xe.results[0][0].transcript;a(ee=>ee+(ee?" ":"")+Me),t&&z(t.uid,n,i+" "+Me)},V.start()},z=O.useCallback(AF((V,xe,Me)=>{u(!0),am.salvarAnotacao(V,xe,Me).then(()=>{u(!1)})},1e3),[]),X=V=>{const xe=V.target.value;a(xe),t&&(u(!0),z(t.uid,n,xe))},[H,ie]=O.useState(0),[I,x]=O.useState([]),[C,j]=O.useState(!1),L=async()=>{N("");const V=await am.validarSelo(t.uid,n,m);V.success?(E(!0),N("SELO CONQUISTADO COM SUCESSO!"),setTimeout(()=>{d(!1),ie(0),x([])},2e3)):N(V.message)},q=V=>{const xe=U.perguntas[H-1];V===xe.correta?(j(!1),H<3?ie(H+1):ie(4)):(j(!0),N("RESPOSTA INCORRETA. REVISE SUAS ANOTAES!"))};return U?S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"var(--bg-main)"},children:[S.jsxs("header",{style:{padding:"1rem",background:"rgba(45, 30, 23, 0.9)",borderBottom:"2px solid var(--color-wood-light)",display:"flex",alignItems:"center",gap:"1rem",zIndex:10},children:[S.jsx("button",{onClick:()=>e("/sermoes"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer"},children:S.jsx(dt.div,{whileTap:{scale:.9},children:" VOLTAR"})}),S.jsxs("div",{style:{flex:1},children:[S.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-gold)",textTransform:"uppercase",letterSpacing:"1px"},children:U.titulo}),S.jsx("span",{style:{fontSize:"0.7rem",color:o?"var(--color-fire)":"var(--color-gold)"},children:o?"MARCANDO PAPEL...":"REGISTRADO NO ARQUIVO"})]}),!v&&S.jsxs(dt.button,{whileTap:{scale:.95},onClick:()=>d(!0),style:{background:"var(--color-gold)",border:"none",borderRadius:"4px",padding:"0.4rem 0.8rem",fontSize:"0.7rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(ZD,{size:12})," SELAR"]}),v&&S.jsxs("div",{style:{color:"var(--color-gold)",display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx(Gm,{size:16})," ",S.jsx("span",{style:{fontSize:"0.7rem"},children:"SELADO"})]})]}),S.jsx("div",{style:{flex:1,padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:S.jsxs("div",{style:{position:"relative",flex:1,display:"flex",flexDirection:"column"},children:[S.jsx("textarea",{value:i,onChange:X,placeholder:"O Mestre est falando... anote aqui suas ordens e reflexes.",style:{flex:1,width:"100%",background:"rgba(0,0,0,0.3)",backgroundImage:"radial-gradient(var(--color-wood-light) 0.5px, transparent 0.5px)",backgroundSize:"20px 20px",border:"1px solid var(--color-wood-medium)",color:"#e0d6c5",fontFamily:"var(--font-body)",fontSize:"1.1rem",padding:"1.5rem",resize:"none",borderRadius:"8px",outline:"none",lineHeight:"1.8"}}),S.jsx(dt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:P,style:{position:"absolute",bottom:"20px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",background:A?"var(--color-fire)":"var(--color-gold)",border:"none",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--color-wood-dark)"},children:A?S.jsx(dt.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0},children:S.jsx(yx,{size:24})}):S.jsx(yx,{size:24})})]})}),S.jsx(xp,{children:h&&S.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,padding:"1rem"},children:S.jsx(dt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},style:{width:"100%",maxWidth:"400px"},children:S.jsxs(gt,{style:{padding:"2rem"},children:[H===0&&S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx(JD,{size:40,color:"var(--color-gold)",style:{marginBottom:"1rem"}}),S.jsx("h3",{style:{color:"var(--color-gold)"},children:"FIXAO DE COMANDO"}),S.jsx("p",{style:{opacity:.8,marginBottom:"2rem"},children:"Soldado, para receber o selo deste sermo em seu passaporte, responda corretamente 3 perguntas de fixao."}),S.jsx(Qe,{onClick:()=>ie(1),fullWidth:!0,children:"INICIAR TESTE"}),S.jsx(Qe,{variant:"secondary",onClick:()=>d(!1),fullWidth:!0,style:{marginTop:"0.5rem"},children:"CANCELAR"})]}),H>=1&&H<=3&&S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[S.jsxs("span",{style:{color:"var(--color-gold)",fontSize:"0.8rem"},children:["PERGUNTA ",H,"/3"]}),S.jsx("div",{style:{width:"60px",height:"4px",background:"#333",borderRadius:"2px",alignSelf:"center"},children:S.jsx("div",{style:{width:`${H/3*100}%`,height:"100%",background:"var(--color-gold)"}})})]}),S.jsx("h4",{style:{marginBottom:"1.5rem",minHeight:"3.6rem"},children:U.perguntas[H-1].q}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.perguntas[H-1].opts.map((V,xe)=>S.jsx("button",{onClick:()=>q(xe),style:{padding:"1rem",textAlign:"left",background:"rgba(255,255,255,0.05)",border:"1px solid var(--color-gold-dim)",borderRadius:"4px",color:"white",cursor:"pointer",transition:"all 0.2s"},children:V},xe))}),C&&S.jsx("p",{style:{color:"var(--color-fire)",fontSize:"0.8rem",marginTop:"1rem",textAlign:"center"},children:M})]}),H===4&&S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx(Gm,{size:40,color:"#4cd137",style:{marginBottom:"1rem"}}),S.jsx("h3",{style:{color:"var(--color-gold)"},children:"TESTE CONCLUDO"}),S.jsx("p",{style:{fontSize:"0.8rem",opacity:.7,marginBottom:"1.5rem"},children:"Agora, insira o PIN de 4 dgitos dado pelo preletor para SELAR seu passaporte."}),M&&S.jsx("div",{style:{color:v?"#4cd137":"var(--color-fire)",marginBottom:"1rem",fontSize:"0.9rem",fontWeight:"bold"},children:M}),S.jsx(Jv,{type:"tel",placeholder:"XXXX",value:m,onChange:V=>y(V.target.value.replace(/\D/g,"").slice(0,4)),style:{textAlign:"center",fontSize:"1.5rem",letterSpacing:"10px"}}),S.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsx(Qe,{onClick:L,fullWidth:!0,disabled:v||m.length<4,children:v?"CONQUISTADO!":"SELAR AGORA"}),S.jsx(Qe,{variant:"secondary",onClick:()=>{d(!1),ie(0)},fullWidth:!0,children:"VOLTAR"})]})]})]})})})})]}):S.jsx("div",{style:{color:"white",padding:"2rem"},children:"Sermo no encontrado no arsenal."})}const b_=[{id:"cozinha_sab_almoco",titulo:"COZINHA - Sbado Almoo",horario:"11:00 - 13:00",lider:"Sgt. Marta",equipe:["Gideo","Dbora","Sanso","Samuel"]},{id:"limpeza_sab_tarde",titulo:"LIMPEZA - Banheiros",horario:"14:00 - 15:00",lider:"Cb. Davi",equipe:["Pedro","Tiago","Joo"]},{id:"seguranca_noite",titulo:"VIGLIA NOTURNA",horario:"00:00 - 02:00",lider:"Ten. Josu",equipe:["Elias","Eliseu","Moiss"]}],tV={getEscalas(){return Promise.resolve(b_)},getMinhasEscalas(n){return Promise.resolve(b_.filter(e=>e.equipe.some(t=>t.toLowerCase()===n.toLowerCase())))}},xF=Object.freeze(Object.defineProperty({__proto__:null,ESCALAS_DATA:b_,EscalasService:tV},Symbol.toStringTag,{value:"Module"}));function RF(){const n=In(),{currentUser:e}=Er(),[t,i]=O.useState([]),[a,o]=O.useState(!1);O.useEffect(()=>{tV.getEscalas().then(i)},[]);const u=e?.email?.split("@")[0]||"",h=a?t.filter(d=>d.equipe.some(m=>m.toLowerCase().includes(u.toLowerCase()))):t;return S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[S.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"ORDENS DE SERVIO"}),S.jsx("p",{style:{opacity:.7},children:"Escalas e Turnos"})]}),S.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",justifyContent:"center",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>o(!1),variant:a?"secondary":"primary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"TODAS"}),S.jsx(Qe,{onClick:()=>o(!0),variant:a?"primary":"secondary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"MINHAS MISSES"})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.map(d=>S.jsxs(gt,{style:{borderLeft:"4px solid var(--color-sage-green)"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-old-gold)",fontWeight:"bold",textTransform:"uppercase"},children:d.horario}),S.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:["Lder: ",d.lider]})]}),S.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.2rem"},children:d.titulo}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:d.equipe.map(m=>S.jsx("span",{style:{backgroundColor:m.toLowerCase().includes(u.toLowerCase())?"var(--color-burnt-orange)":"rgba(255,255,255,0.1)",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.8rem",color:"var(--color-paper-white)"},children:m},m))})]},d.id)),h.length===0&&S.jsx("div",{style:{textAlign:"center",opacity:.5,marginTop:"2rem"},children:S.jsx("p",{children:"Nenhuma misso encontrada."})})]}),S.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:S.jsx(Qe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}const pv=[{id:"renuncia",name:"Renncia e Compromisso",icon:"",color:"#ef4444"},{id:"mente",name:"Renovao da Mente",icon:"",color:"#6c5ce7"},{id:"comunhao",name:"Comunho e Relacionamento",icon:"",color:"#00cec9"},{id:"honra",name:"Honra e Lealdade",icon:"",color:"#ffd700"},{id:"servico",name:"Servio e Multiplicao",icon:"",color:"#f97316"}],Ga=[{catId:"renuncia",q:"Quando algo que eu quero conflita com o que Deus pede, eu:",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{catId:"renuncia",q:"Minha vida de orao e devocional pessoal :",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{catId:"renuncia",q:"Quando enfrento dificuldade por causa da f, eu:",opts:["Questiono se vale a pena seguir a Jesus","Fico desanimado e me afasto um pouco","Me apoio em Deus mas sinto o peso","Entendo que faz parte e persevero com alegria"]},{catId:"renuncia",q:"Meu compromisso com a igreja local :",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{catId:"renuncia",q:"Em relao ao meu tempo, dinheiro e talentos para o Reino:",opts:["No penso nisso como algo que devo a Deus","Contribuo quando sobra ou  conveniente","Dizimo e oferto, mas ainda sou apegado ao controle","Entendo que tudo  de Deus e administro como mordomo"]},{catId:"mente",q:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",opts:['Ignoro ou descarto como "radical demais"',"Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{catId:"mente",q:"Minha mentalidade em relao  igreja  mais de:",opts:['"O que a igreja faz por mim?" (consumidor)','"Eu vou quando me convm" (visitante)',"Estou disposto a contribuir (participante)",'"O que eu posso fazer pelo Reino?" (discpulo)']},{catId:"mente",q:"Quando passo por uma crise pessoal, minha reao :",opts:["Reclamar de Deus e da liderana","Ficar distante e resolver sozinho","Buscar ajuda mas com certa resistncia","Interceder, buscar a Palavra e apoiar a comunidade"]},{catId:"mente",q:"Em relao  renovao da mente (mudar padres de pensamento):",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{catId:"mente",q:"Quando vejo outro cristo errando, minha primeira reao :",opts:["Comentar com outros sobre o erro","Julgar internamente","Sentir compaixo mas no fazer nada","Orar e, se apropriado, restaurar com mansido"]},{catId:"comunhao",q:"Meu envolvimento com um pequeno grupo ou clula :",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{catId:"comunhao",q:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratico transparncia e vulnerabilidade na comunidade"]},{catId:"comunhao",q:"Quando um irmo/irm da f est passando por dificuldade:",opts:["Geralmente nem fico sabendo",'Digo "vou orar" mas esqueo',"Oro e mando uma mensagem de apoio","Vou at a pessoa, ajudo com ao prtica e oro junto"]},{catId:"comunhao",q:"Sobre construir relacionamentos de discipulado (mentoria):",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{catId:"comunhao",q:"Quando h conflito entre irmos na igreja, eu:",opts:["Fico de um lado e falo mal do outro","Evito o assunto completamente","Tento ser pacificador mas de longe","Vou diretamente buscar reconciliao conforme Mateus 18"]},{catId:"honra",q:"Quando a liderana da igreja toma uma deciso com a qual discordo:",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{catId:"honra",q:"Em relao  honra e reconhecimento dos meus lderes:",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{catId:"honra",q:"Quando ouo fofoca sobre um lder ou irmo, eu:",opts:["Ouo e passo para frente","Ouo mas no compartilho","Mudo de assunto","Interrompo e defendo o ausente"]},{catId:"honra",q:"Minha postura em relao  autoridade (pais, chefes, lderes):",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o principio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{catId:"honra",q:"Se meu lder comete um erro pblico, minha reao :",opts:["Contar para outros e usar como justificativa para sair","Perder a confiana e me afastar","Ficar decepcionado mas manter distncia",'"Cobrir" com orao, apoiar a restaurao e manter lealdade']},{catId:"servico",q:"Em relao ao voluntariado na igreja, eu:",opts:["No sirvo em nenhuma rea","Servo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{catId:"servico",q:"Eu conheo meus dons espirituais e como us-los?",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{catId:"servico",q:"Sobre evangelismo e compartilhar minha f:",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]},{catId:"servico",q:"Se algum me pedisse para discipular um novo convertido, eu:",opts:["No me sentiria capaz de forma alguma","Ficaria inseguro e provavelmente recusaria","Tentaria com auxlio de material","Aceitaria com alegria  j fao ou estou pronto"]},{catId:"servico",q:"Minha viso sobre o meu papel na expanso do Reino de Deus:",opts:["Isso  trabalho de pastor e missionrio","Sei que deveria participar mas no sei como","Estou comeando a entender meu papel","Sei que EU sou o agente do Reino onde piso"]}],nV=async(n,e)=>{try{const t=pi(fn,"users",n),i={date:$e.now(),...e};return await AC(t,{diagnostico:vC(i),lastDiagnostico:i}),!0}catch(t){throw console.error("Error saving diagnostic result: ",t),t}};function IF(n,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function h(y){try{m(i.next(y))}catch(v){u(v)}}function d(y){try{m(i.throw(y))}catch(v){u(v)}}function m(y){y.done?o(y.value):a(y.value).then(h,d)}m((i=i.apply(n,[])).next())})}function CF(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(y){return d([m,y])}}function d(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(y){m=[6,y],a=0}finally{i=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ol=function(){return Ol=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ol.apply(this,arguments)},iV=function(n){return{loading:n==null,value:n}},DF=function(){return function(n,e){switch(e.type){case"error":return Ol(Ol({},n),{error:e.error,loading:!1,value:void 0});case"reset":return iV(e.defaultValue);case"value":return Ol(Ol({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},VF=(function(n){var e=n?n():void 0,t=O.useReducer(DF(),iV(e)),i=t[0],a=t[1],o=O.useCallback(function(){var d=n?n():void 0;a({type:"reset",defaultValue:d})},[n]),u=O.useCallback(function(d){a({type:"error",error:d})},[]),h=O.useCallback(function(d){a({type:"value",value:d})},[]);return O.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:h,value:i.value}},[i.error,i.loading,o,u,h,i.value])}),OF=(function(n,e){var t=VF(function(){return n.currentUser}),i=t.error,a=t.loading,o=t.setError,u=t.setValue,h=t.value;return O.useEffect(function(){var d=WC(n,function(m){return IF(void 0,void 0,void 0,function(){var y;return CF(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return v.sent(),[3,4];case 3:return y=v.sent(),o(y),[3,4];case 4:return u(m),[2]}})})},o);return function(){d()}},[n]),[h,a,i]});const PF=()=>{const[n]=OF(Nc),e=In(),[t,i]=O.useState(0),[a,o]=O.useState(Array(Ga.length).fill(null)),[u,h]=O.useState(!1),[d,m]=O.useState({}),[y,v]=O.useState(0),[E,A]=O.useState(!1),D=X=>{const H=[...a];H[t]=X,o(H),t<Ga.length-1?setTimeout(()=>i(t+1),300):M(H)},M=async X=>{A(!0);let H={},ie=0;pv.forEach(I=>H[I.id]=0),X.forEach((I,x)=>{const C=Ga[x];H[C.catId]+=I,ie+=I}),m(H),v(ie),h(!0),n&&await nV(n.uid,{answers:X,scores:H,totalScore:ie}),A(!1)},N=X=>(d&&d[X]||0)/15*100;if(E)return S.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-main)"},children:S.jsx(dt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},style:{fontSize:"3rem"},children:""})});if(u)return S.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",paddingBottom:"3rem"},children:[S.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[S.jsx(gE,{size:64,color:"var(--color-gold)",style:{marginBottom:"1rem"}}),S.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:"RELATRIO DE CAMPO"}),S.jsx("p",{style:{color:"var(--text-dim)"},children:"Perfil do Discpulo  ACAMP 2026"})]}),S.jsxs(gt,{style:{textAlign:"center",marginBottom:"1.5rem",border:"2px solid var(--color-gold)"},children:[S.jsx("h3",{style:{fontSize:"1.2rem",color:"var(--text-dim)"},children:"PONTUAO TOTAL"}),S.jsx("div",{style:{fontSize:"4.5rem",color:"var(--color-gold)",lineHeight:1,margin:"10px 0"},children:y}),S.jsxs("div",{style:{fontSize:"1rem",color:"var(--color-fire)",fontWeight:"bold"},children:["NVEL DE PRONTIDO: ",y>50?"ELITE":"RECRUTA"]})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:pv.map(X=>S.jsxs(gt,{style:{padding:"1rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[S.jsxs("span",{style:{fontWeight:"bold",color:"var(--color-gold)"},children:[X.icon," ",X.name]}),S.jsxs("span",{children:[d[X.id]," pts"]})]}),S.jsx("div",{style:{height:"8px",background:"var(--color-wood-dark)",borderRadius:"4px",overflow:"hidden"},children:S.jsx(dt.div,{initial:{width:0},animate:{width:`${N(X.id)}%`},style:{height:"100%",background:X.color||"var(--color-gold)"}})})]},X.id))}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx(Qe,{onClick:()=>{h(!1),i(0),o(Array(Ga.length).fill(null))},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(G8,{size:20})," REFAZER MISSO"]})}),S.jsx(Qe,{variant:"secondary",onClick:()=>e("/home"),children:S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsx(P8,{size:20})," VOLTAR AO QG"]})})]})]});const U=Ga[t],P=pv.find(X=>X.id===U.catId),z=t/Ga.length*100;return S.jsxs("div",{style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[S.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("button",{onClick:()=>e("/home"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center"},children:[S.jsx(Eh,{})," VOLTAR"]}),S.jsxs("div",{style:{fontFamily:"var(--font-display)",color:"var(--color-gold)"},children:["FALTA ",Ga.length-t," PARA CONCLUIR"]})]}),S.jsx("div",{style:{height:"4px",background:"var(--bg-card)",borderRadius:"2px",marginBottom:"2rem",overflow:"hidden"},children:S.jsx(dt.div,{animate:{width:`${z}%`},style:{height:"100%",background:"var(--color-fire)"}})}),S.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:S.jsxs("div",{style:{display:"inline-block",padding:"4px 12px",background:"var(--color-gold)",color:"var(--color-wood-dark)",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:[P?.icon," ",P?.name.toUpperCase()]})}),S.jsx(xp,{mode:"wait",children:S.jsxs(dt.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},style:{flex:1},children:[S.jsx("h2",{style:{fontSize:"1.8rem",lineHeight:1.2,marginBottom:"2rem",textAlign:"center"},children:U.q}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.opts.map((X,H)=>S.jsx(gt,{onClick:()=>D(H),style:{borderColor:a[t]===H?"var(--color-fire)":"var(--color-wood-light)",background:a[t]===H?"rgba(211, 84, 0, 0.1)":"var(--bg-card)",padding:"1.2rem",transition:"all 0.2s"},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid var(--color-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a[t]===H&&S.jsx("div",{style:{width:"12px",height:"12px",background:"var(--color-fire)",borderRadius:"50%"}})}),S.jsx("span",{style:{fontSize:"1rem",fontWeight:a[t]===H?"bold":"normal"},children:X})]})},H))})]},t)}),S.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:S.jsx(Qe,{variant:"secondary",disabled:t===0,onClick:()=>i(X=>X-1),children:"ANTERIOR"})})]})},MF=async(n=10)=>{const e=Q5(fn),t=[];for(let i=0;i<n;i++){const a=`FORJA-${Math.random().toString(36).substring(2,7).toUpperCase()}`,o=pi(Im(fn,"vouchers"));e.set(o,{code:a,used:!1,createdAt:$e.now()}),t.push(a)}return await e.commit(),t};function NF(){const{currentUser:n}=Er(),e=In(),[t,i]=O.useState([]),[a,o]=O.useState([]),[u,h]=O.useState("PENDING"),[d,m]=O.useState(!0),[y,v]=O.useState(10);O.useEffect(()=>{(!n||!Sp(n.email))&&e("/home")},[n,e]),O.useEffect(()=>{m(!0),console.log("Iniciando monitoramento do QG Central...");const P=Dm(Im(fn,"users"),H=>{console.log("Usurios sincronizados:",H.size),i(H.docs.map(ie=>({id:ie.id,...ie.data()}))),m(!1)},H=>{console.error("ERRO ao sincronizar usurios:",H),m(!1)}),z=TC(Im(fn,"vouchers"),B5("createdAt","desc")),X=Dm(z,H=>{console.log("Vouchers sincronizados:",H.size),o(H.docs.map(ie=>({id:ie.id,...ie.data()})))},H=>{console.error("ERRO ao sincronizar vouchers:",H)});return()=>{P(),X()}},[]);const E=async()=>{y<=0||(m(!0),await MF(Number(y)),m(!1))},A=P=>{const X=` *CONVOCAO PARA A FORJA 2026* 

Soldado, o alistamento oficial foi aberto! 
Sua presena  requisitada para o maior treinamento do ano.

 *Identidade do Front:* https://haniellevi.github.io/ACAMP2026-ANTIGRAVITY/
 *Cdigo de Acesso:* ${P}

Prepare seus equipamentos e apresente-se no QG Digital! `;navigator.clipboard.writeText(X),alert(`Convite Militar para o voucher ${P} copiado para a rea de transferncia!`)},D=async P=>{window.confirm("Confirma a aprovao deste soldado?")&&await c2(P)},M=async P=>{window.confirm("REJEITAR e EXCLUIR este alistamento?")&&await h2(P)},N=t.filter(P=>P.status==="pending"),U=t.filter(P=>P.status==="approved"||P.role==="admin");return S.jsxs("div",{style:{padding:"1rem",maxWidth:"800px",margin:"0 auto",paddingBottom:"5rem"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(pE,{size:40,color:"var(--color-fire)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"CENTRO DE COMANDO (ADMIN)"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"Gerencie a logstica da Forja 2026"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",overflowX:"auto",padding:"5px"},children:[S.jsxs(Qe,{variant:u==="PENDING"?"primary":"secondary",onClick:()=>h("PENDING"),style:{flex:1,minWidth:"120px",position:"relative"},children:[S.jsx(uF,{size:16,style:{marginRight:"4px"}})," APROVAO",N.length>0&&S.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center"},children:N.length})]}),S.jsxs(Qe,{variant:u==="USERS"?"primary":"secondary",onClick:()=>h("USERS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(fF,{size:16,style:{marginRight:"4px"}})," SOLDADOS"]}),S.jsxs(Qe,{variant:u==="VOUCHERS"?"primary":"secondary",onClick:()=>h("VOUCHERS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(rF,{size:16,style:{marginRight:"4px"}})," VOUCHERS"]}),S.jsxs(Qe,{variant:u==="ESCALAS"?"primary":"secondary",onClick:()=>h("ESCALAS"),style:{flex:1,minWidth:"120px"},children:[S.jsx(S_,{size:16,style:{marginRight:"4px"}})," ESCALAS"]})]}),d&&S.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Sincronizando com o QG Central..."}),S.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[u==="PENDING"&&S.jsxs("div",{children:[S.jsxs("h3",{children:["Aprovaes Pendentes (",N.length,")"]}),N.length===0?S.jsx("p",{style:{opacity:.5,fontStyle:"italic"},children:"Nenhum soldado aguardando na portaria."}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:N.map(P=>S.jsxs(gt,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:"4px solid orange"},children:[S.jsxs("div",{children:[S.jsx("strong",{style:{color:"var(--color-gold)",fontSize:"1.1rem"},children:P.nomeGuerra}),S.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",P.pin," | Criado em: ",new Date(P.createdAt).toLocaleDateString()]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px"},children:[S.jsx("button",{onClick:()=>D(P.id),style:{background:"none",border:"none",cursor:"pointer",color:"#51cf66"},title:"Aprovar",children:S.jsx(Gm,{size:28})}),S.jsx("button",{onClick:()=>M(P.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ff6b6b"},title:"Rejeitar",children:S.jsx(x8,{size:28})})]})]},P.id))})]}),u==="VOUCHERS"&&S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem",gap:"10px"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:{fontSize:"0.7rem",color:"var(--color-gold)",display:"block",marginBottom:"5px"},children:"QUANTIDADE PARA GERAR"}),S.jsx("input",{type:"number",value:y,onChange:P=>v(P.target.value),style:{width:"100%",background:"rgba(0,0,0,0.3)",border:"1px solid var(--color-wood-dark)",borderRadius:"4px",padding:"10px",color:"white",fontSize:"1rem"}})]}),S.jsxs(Qe,{onClick:E,variant:"primary",style:{height:"45px"},children:[S.jsx(q8,{size:20})," GERAR VOUCHERS"]})]}),S.jsxs("h3",{children:["Vouchers no Sistema (",a.length,")"]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:a.map(P=>S.jsxs(gt,{style:{padding:"1rem",textAlign:"center",background:P.used?"rgba(0,0,0,0.2)":"rgba(197, 157, 95, 0.1)",border:P.used?"1px solid #444":"1px solid var(--color-gold)",opacity:P.used?.7:1,position:"relative"},children:[S.jsx("code",{style:{fontSize:"1.1rem",color:"var(--color-gold)",display:"block",fontWeight:"bold",marginBottom:"5px"},children:P.code}),S.jsx("div",{style:{padding:"4px",borderRadius:"4px",background:P.used?"rgba(255,0,0,0.1)":"rgba(0,255,0,0.1)",marginBottom:"8px"},children:S.jsx("span",{style:{fontSize:"0.65rem",color:P.used?"#ff6b6b":"#51cf66",fontWeight:"bold"},children:P.used?"utilizado":" disponvel"})}),P.used&&P.usedByName&&S.jsxs("div",{style:{mt:"5px",borderTop:"1px solid rgba(255,255,255,0.1)",pt:"5px"},children:[S.jsx("p",{style:{margin:0,fontSize:"0.65rem",opacity:.6,textTransform:"uppercase"},children:"Soldado:"}),S.jsx("strong",{style:{fontSize:"0.8rem",color:"white"},children:P.usedByName})]}),!P.used&&S.jsxs("button",{onClick:()=>A(P.code),style:{marginTop:"10px",background:"none",border:"1px solid var(--color-gold)",borderRadius:"4px",padding:"5px",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",width:"100%",fontSize:"0.7rem"},children:[S.jsx(Z8,{size:12})," ENVIAR CONVITE"]})]},P.id))})]}),u==="USERS"&&S.jsxs("div",{children:[S.jsxs("h3",{children:["Peloto Alistado (",U.length," soldados)"]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.map(P=>S.jsxs(gt,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{children:[S.jsx("strong",{style:{color:"var(--color-gold)"},children:P.nomeGuerra}),S.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",P.pin," | ",P.role]})]}),S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-sage-green)"},children:"ATIVO"})]},P.id))})]}),u==="ESCALAS"&&S.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[S.jsx(S_,{size:48,opacity:.3,style:{marginBottom:"1rem"}}),S.jsx("h3",{children:"Gerenciamento de Escalas"}),S.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7},children:["O algoritmo est pronto para distribuir ",t.length," soldados."]}),S.jsx(Qe,{style:{marginTop:"1rem"},children:"GERAR DISTRIBUIO AUTOMTICA"})]})]},u),S.jsx("div",{style:{marginTop:"2rem"},children:S.jsx(Qe,{onClick:()=>e("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function kF(){const[n,e]=O.useState([]),[t,i]=O.useState(!0),a=In();return O.useEffect(()=>{(async()=>{try{const u=TC(Im(fn,"users"),F5(50)),m=(await G5(u)).docs.map(y=>({id:y.id,...y.data(),score:(y.data().selos?.length||0)*100})).sort((y,v)=>v.score-y.score);e(m)}catch(u){console.error("Erro ao buscar ranking:",u)}i(!1)})()},[]),S.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[S.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[S.jsx(gE,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),S.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"RANKING DE PRONTIDO"}),S.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"HONRA MILITAR NO FRONT"})]}),t?S.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Calculando mritos..."}):S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map((o,u)=>S.jsx(dt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},children:S.jsxs(gt,{style:{display:"flex",alignItems:"center",gap:"1rem",borderLeft:u<3?"4px solid var(--color-gold)":"2px solid var(--color-wood-light)"},children:[S.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:u===0?"var(--color-gold)":u===1?"#bdc3c7":u===2?"#cd7f32":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:u>2?"1px solid var(--color-wood-light)":"none",color:u<3?"var(--color-wood-dark)":"inherit"},children:u+1}),S.jsxs("div",{style:{flex:1},children:[S.jsx("strong",{style:{display:"block",color:"var(--color-gold)"},children:o.nomeGuerra}),S.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:S.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6},children:[o.selos?.length||0," SELOS CONQUISTADOS"]})})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-gold)"},children:o.score}),S.jsx("div",{style:{fontSize:"0.5rem",opacity:.5},children:"PTOS"})]})]})},o.id))}),S.jsx("div",{style:{marginTop:"2rem"},children:S.jsx(Qe,{onClick:()=>a("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}const LF=[{id:1,text:"Quando algo que eu quero conflita com o que Deus pede, eu:",category:"Renncia",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{id:2,text:"Minha vida de orao e devocional pessoal :",category:"Renncia",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{id:3,text:"Meu compromisso com a igreja local :",category:"Renncia",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{id:4,text:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",category:"Mente",opts:["Ignoro ou descarto como 'radical demais'","Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{id:5,text:"Minha mentalidade em relao  igreja  mais de:",category:"Mente",opts:["'O que a igreja faz por mim?' (consumidor)","'Eu vou quando me convm' (visitante)","Estou disposto a contribuir (participante)","'O que eu posso fazer pelo Reino?' (discpulo)"]},{id:6,text:"Em relao  renovao da mente (mudar padres de pensamento):",category:"Mente",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{id:7,text:"Meu envolvimento com um pequeno grupo ou clula :",category:"Comunho",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{id:8,text:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",category:"Comunho",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratica transparncia e vulnerabilidade na comunidade"]},{id:9,text:"Sobre construir relacionamentos de discipulado (mentoria):",category:"Comunho",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{id:10,text:"Quando a liderana da igreja toma uma deciso com a qual discordo:",category:"Honra",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{id:11,text:"Em relao  honra e reconhecimento dos meus lderes:",category:"Honra",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{id:12,text:"Minha postura em relao  autoridade (pais, chefes, lderes):",category:"Honra",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o princpio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{id:13,text:"Em relao ao voluntariado na igreja, eu:",category:"Servio",opts:["No sirvo em nenhuma rea","Sirvo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{id:14,text:"Eu conheo meus dons espirituais e como us-los?",category:"Servio",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{id:15,text:"Sobre evangelismo e compartilhar minha f:",category:"Servio",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]}],jF=[{id:1,text:"Quando vejo uma necessidade no atendida na igreja ou na sociedade, eu:",category:"Apstolo",opts:["Espero que algum resolva","Comento sobre o problema mas no ajo","Penso em solues mas raramente executo","Sinto uma compulso de iniciar algo novo para resolver"]},{id:2,text:"Quando trabalho em equipe, meu papel natural :",category:"Apstolo",opts:["Sigo o que os outros decidem","Contribuo com ideias quando pedem","Organizo e ajudo na execuo","Lano a viso e mobilizo as pessoas para a ao"]},{id:3,text:"Quando penso no futuro da igreja e do Reino, eu:",category:"Apstolo",opts:["No costumo pensar nisso","Espero que Deus cuide dos detalhes","Tenho algumas ideias do que poderia ser feito","Enxergo claramente o que Deus quer fazer e trabalho para isso acontecer"]},{id:4,text:"Quando vejo injustia ou pecado sendo tolerado na comunidade, eu:",category:"Profeta",opts:["Finjo que no vi","Fico incomodado mas no falo nada","Converso com algum de confiana sobre","Sinto uma urgncia de confrontar com amor, mesmo que seja difcil"]},{id:5,text:"Em relao a ouvir a voz de Deus e receber direo espiritual:",category:"Profeta",opts:["Nunca tive essa experincia","s vezes sinto algo mas no tenho certeza","Busco direo e j tive confirmaes","Tenho sensibilidade clara ao Esprito e frequentemente recebo direo para outros"]},{id:6,text:"Sobre falar verdades difceis para pessoas que amo:",category:"Profeta",opts:["Evito confronto a todo custo","Falo s se for muito grave","Falo com cuidado quando Deus pede","Tenho coragem de falar a verdade em amor, mesmo sabendo que pode custar a amizade"]},{id:7,text:"Quando conheo algum que no  cristo, meu primeiro instinto :",category:"Evangelista",opts:["No penso em falar de Jesus","Fico desconfortvel se o assunto surgir","Espero uma oportunidade natural para falar","Busco construir um relacionamento estratgico para compartilhar o Evangelho"]},{id:8,text:"Quando ouo a histria de vida de algum distante de Deus:",category:"Evangelista",opts:["No me afeta muito","Sinto pena mas no sei o que fazer","Oro por essa pessoa","Meu corao se parte e eu fao qualquer coisa para apresentar Jesus a ela"]},{id:9,text:"Sobre compartilhar meu testemunho pessoal:",category:"Evangelista",opts:["Tenho vergonha de falar da minha histria","Falo se algum perguntar","Compartilho quando sinto que  apropriado","Uso minha histria como ferramenta poderosa e a adapto para cada ouvinte"]},{id:10,text:"Quando percebo que algum est passando por dificuldade emocional:",category:"Pastor",opts:["Geralmente nem percebo","Percebo mas no sei o que fazer","Mando uma mensagem ou oro","Vou at a pessoa, ouo com pacincia e caminho junto no processo"]},{id:11,text:"Quando h um conflito entre pessoas na comunidade:",category:"Pastor",opts:["Fujo de conflito","Fico neutro e no me envolvo","Tento mediar se me pedirem","Busco ativamente a reconciliao, cuidando de cada parte com amor"]},{id:12,text:"Minha reao quando algum da comunidade se afasta da f:",category:"Pastor",opts:["No me afeta muito","Lamento mas sigo em frente","Oro pela pessoa  distncia","Vou atrs, sem julgamento, e fao o que for preciso para traz-la de volta"]},{id:13,text:"Quando estudo a Bblia, minha abordagem :",category:"Mestre",opts:["Leio rapidamente sem aprofundar","Leio e reflito superficialmente","Pesquiso o contexto e busco entender melhor","Estudo com ferramentas (comentrios, grego/hebraico, contexto histrico) e amo cada detalhe"]},{id:14,text:"Quando algum faz uma pergunta teolgica ou doutrinria:",category:"Mestre",opts:["No sei responder e no me interessa muito","Dou minha opinio pessoal","Busco na Bblia antes de responder","Amo pesquisar profundamente e explicar de forma clara e fundamentada"]},{id:15,text:"Em relao a tornar conceitos complexos compreensveis:",category:"Mestre",opts:["Tenho dificuldade em explicar coisas","Explico de forma razovel","Consigo simplificar e usar boas ilustraes","Tenho um dom natural de pegar algo profundo e torn-lo prtico e inesquecvel"]}];function UF(){const{currentUser:n}=Er(),e=In(),[t,i]=O.useState(null),[a,o]=O.useState({}),[u,h]=O.useState(0),[d,m]=O.useState(!1),[y,v]=O.useState(!1),E=t==="MATURIDADE"?LF:jF,A=(U,P)=>{o(z=>({...z,[U]:P})),u<E.length-1&&setTimeout(()=>h(u+1),300)},D=async()=>{if(Object.keys(a).length<E.length)return;v(!0);const U={tipo:t,respostas:a,data:new Date().toISOString(),userId:n.uid};try{await nV(n.uid,U),m(!0)}catch(P){console.error("Erro ao salvar:",P)}v(!1)};if(d)return S.jsx("div",{className:"page-container",style:{padding:"20px",textAlign:"center"},children:S.jsxs(gt,{children:[S.jsx(Gm,{size:64,color:"var(--color-gold)",style:{margin:"0 auto 20px"}}),S.jsx("h2",{style:{color:"var(--color-gold)"},children:"MISSO CUMPRIDA!"}),S.jsx("p",{children:"Seu diagnstico foi enviado para o Grande Comando."}),S.jsx(Qe,{onClick:()=>e("/home"),style:{marginTop:"20px"},children:"VOLTAR AO QG"})]})});if(!t)return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>e("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"FERRAMENTAS"})]}),S.jsxs("div",{style:{display:"grid",gap:"20px"},children:[S.jsxs(gt,{onClick:()=>i("MATURIDADE"),interactive:!0,children:[S.jsx("h3",{style:{color:"var(--color-gold)"},children:"PERFIL DE MATURIDADE"}),S.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Avalie sua fibra espiritual e emocional para o combate."}),S.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",S.jsx(gx,{size:18})]})]}),S.jsxs(gt,{onClick:()=>i("MINISTERIAL"),interactive:!0,children:[S.jsx("h3",{style:{color:"var(--color-gold)"},children:"DESCOBRINDO MEU MINISTRIO"}),S.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Identifique seu chamado nos 5 ministrios (Efsios 4:11)."}),S.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",S.jsx(gx,{size:18})]})]})]})]});const M=E[u],N=(u+1)/E.length*100;return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>i(null),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsxs("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"var(--color-gold)"},children:["QUESTO ",u+1," DE ",E.length]})]}),S.jsx("div",{style:{height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",marginBottom:"30px"},children:S.jsx(dt.div,{initial:{width:0},animate:{width:`${N}%`},style:{height:"100%",background:"var(--color-gold)",borderRadius:"2px"}})}),S.jsx(xp,{mode:"wait",children:S.jsx(dt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:S.jsx(gt,{style:{padding:"30px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},children:S.jsx("h2",{style:{fontSize:"1.4rem",textAlign:"center",marginBottom:"0"},children:M.text})})},u)}),S.jsx("div",{style:{display:"grid",gap:"12px",marginTop:"30px"},children:M.opts.map((U,P)=>{const z=P+1;return S.jsx("button",{onClick:()=>A(M.id,z),style:{background:a[M.id]===z?"var(--color-gold)":"var(--bg-card)",border:`2px solid ${a[M.id]===z?"var(--color-gold)":"var(--color-wood-dark)"}`,color:a[M.id]===z?"var(--color-dark-earth)":"var(--color-gold)",padding:"15px 20px",borderRadius:"var(--radius-rustic)",fontWeight:"bold",fontSize:"1rem",textAlign:"left",cursor:"pointer",transition:"all 0.2s",boxShadow:"var(--shadow-rustic)",lineSize:"1.2"},children:U},z)})}),u===E.length-1&&a[M.id]&&S.jsx(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{marginTop:"40px"},children:S.jsxs(Qe,{onClick:D,fullWidth:!0,loading:y,children:["ENVIAR RELATRIO ",S.jsx(Y8,{size:20,style:{marginLeft:"10px"}})]})})]})}function zF(){const n=In(),e=[{title:"HONRA E RESPEITO",desc:"Honrar a liderana e respeitar cada soldado de Cristo no campo.",icon:S.jsx(nF,{size:28})},{title:"PONTUALIDADE",desc:"A alvorada e os cultos no esperam. Esteja pronto 5 min antes.",icon:S.jsx(XD,{size:28})},{title:"DISCIPLINA",desc:"Celulares apenas para o app e anotaes nos momentos permitidos.",icon:S.jsx(aF,{size:28})},{title:"LIMPEZA (ZELO)",desc:"Mantenha sua barraca e reas comuns impecveis. O lixo tem lugar certo.",icon:S.jsx(T8,{size:28})},{title:"CONSUMO CONSCIENTE",desc:"gua e comida so preciosos. Evite desperdcios.",icon:S.jsx(pF,{size:28})},{title:"BANHOS RPIDOS",desc:"Respeite o tempo do seu irmo. 5 a 10 minutos no mximo.",icon:S.jsx(C8,{size:28})},{title:"SILNCIO",desc:"Aps o 'Apagar Luzes', o silncio  absoluto para o descanso da tropa.",icon:S.jsx(V8,{size:28})}];return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"CDIGO DE CONDUTA"})]}),S.jsx(gt,{style:{marginBottom:"20px",border:"1px dashed var(--color-fire)"},children:S.jsxs("p",{style:{fontSize:"0.9rem",fontStyle:"italic",textAlign:"center",margin:0},children:['"Ningum que milita se embaraa com negcios desta vida, a fim de agradar quele que o alistou para a guerra." ',S.jsx("br",{}),S.jsx("strong",{children:"2 Timteo 2:4"})]})}),S.jsx("div",{style:{display:"grid",gap:"15px"},children:e.map((t,i)=>S.jsx(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},children:S.jsxs(gt,{style:{display:"flex",gap:"15px",alignItems:"center",padding:"15px"},children:[S.jsx("div",{style:{color:"var(--color-gold)",background:"var(--color-wood-dark)",padding:"10px",borderRadius:"8px"},children:t.icon}),S.jsxs("div",{children:[S.jsx("h4",{style:{margin:0,color:"var(--color-gold)",letterSpacing:"1px"},children:t.title}),S.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.85rem",opacity:.8},children:t.desc})]})]})},i))}),S.jsxs(gt,{style:{marginTop:"25px",background:"var(--color-wood-dark)",textAlign:"center"},children:[S.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:"INFRAES"}),S.jsx("p",{style:{fontSize:"0.8rem",margin:"5px 0 0",opacity:.7},children:"O descumprimento das regras resultar em perda de pontos no ranking do peloto."})]})]})}function BF(){const n=In(),[e,t]=O.useState(new Date),a=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][e.getDay()],[o,u]=O.useState(Ks.some(d=>d.dia===a)?a:Ks[0].dia);O.useEffect(()=>{const d=setInterval(()=>t(new Date),6e4);return()=>clearInterval(d)},[]);const h=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");return S.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[S.jsx(Qe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:S.jsx(Eh,{size:24})}),S.jsx("h1",{style:{fontSize:"1.8rem"},children:"PROGRAMAO"})]}),S.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px",scrollbarWidth:"none"},children:Ks.map(d=>S.jsx(Qe,{variant:o===d.dia?"primary":"secondary",onClick:()=>u(d.dia),style:{minWidth:"100px",border:o===d.dia?"2px solid var(--color-gold)":"1px solid var(--color-wood-dark)"},children:d.dia.toUpperCase()},d.dia))}),Ks.filter(d=>d.dia===o).map((d,m)=>{const v=["Sbado","Domingo","Segunda","Tera"].indexOf(d.dia),E=e.getDay(),A=E===6?0:E===0?1:E===1?2:E===2?3:-1,D=A>v,M=A===v;return S.jsxs("div",{style:{marginBottom:"30px"},children:[S.jsxs("h2",{style:{color:M?"var(--color-fire)":"var(--color-gold)",fontSize:"1.2rem",borderBottom:"1px solid var(--color-wood-dark)",paddingBottom:"5px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(S_,{size:20}),d.dia.toUpperCase()," ",M&&S.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-fire)",color:"white",padding:"2px 8px",borderRadius:"10px"},children:"HOJE"})]}),S.jsx("div",{style:{display:"grid",gap:"10px"},children:d.eventos.map((N,U)=>{const P=d.eventos[U+1],z=M&&h>=N.hora&&(!P||h<P.hora),X=D||M&&h>(P?P.hora:N.hora);return S.jsx(dt.div,{whileHover:{scale:1.01},children:S.jsxs(gt,{style:{padding:"12px 15px",border:z?"2px solid var(--color-fire)":X?"1px solid #27ae60":"1px solid var(--color-wood-dark)",background:z?"rgba(211, 84, 0, 0.1)":X?"rgba(39, 174, 96, 0.05)":"var(--bg-card)",position:"relative",overflow:"hidden",opacity:X?.8:1},children:[z&&S.jsx(dt.div,{animate:{opacity:[.3,.6,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"var(--color-fire)"}}),X&&!z&&S.jsx("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"#27ae60"}}),S.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",minWidth:"60px",color:z?"var(--color-fire)":X?"#27ae60":"var(--text-main)",animation:z?"blink 2s infinite":"none"},children:N.hora}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:z?"var(--color-fire-glow)":X?"#2ecc71":"var(--color-gold)"},children:N.nome}),X&&!z&&S.jsx("span",{style:{fontSize:"0.6rem",color:"#2ecc71",fontWeight:"bold"},children:"CONCLUDO"})]}),S.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:N.desc})]})]})]})},U)})})]},m)}),S.jsx("style",{children:`
                @keyframes blink {
                    0% { opacity: 1; }
                    50% { opacity: 0.4; }
                    100% { opacity: 1; }
                }
            `})]})}const Di=({children:n})=>{const{currentUser:e,loading:t}=Er();return t?S.jsx("div",{style:{color:"#d35400",textAlign:"center",padding:"2rem"},children:"Carregando QG..."}):e?e.profile?.status==="pending"?S.jsx(lm,{to:"/pending"}):n:S.jsx(lm,{to:"/"})},FF=({children:n})=>{const{currentUser:e,loading:t}=Er();return t?S.jsx("div",{children:"..."}):e?e.profile?.status==="approved"||e.profile?.role==="admin"?S.jsx(lm,{to:"/home"}):n:S.jsx(lm,{to:"/"})};function qF(){return S.jsx(dM,{basename:"/ACAMP2026-ANTIGRAVITY/",children:S.jsx(u6,{children:S.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--bg-main)",color:"var(--text-main)",fontFamily:"var(--font-body)"},children:S.jsxs(FP,{children:[S.jsx(kn,{path:"/",element:S.jsx(yF,{})}),S.jsx(kn,{path:"/pending",element:S.jsx(FF,{children:S.jsx(vF,{})})}),S.jsx(kn,{path:"/home",element:S.jsx(Di,{children:S.jsx(_F,{})})}),S.jsx(kn,{path:"/passaporte",element:S.jsx(Di,{children:S.jsx(EF,{})})}),S.jsx(kn,{path:"/sermoes",element:S.jsx(Di,{children:S.jsx(TF,{})})}),S.jsx(kn,{path:"/sermoes/:id",element:S.jsx(Di,{children:S.jsx(wF,{})})}),S.jsx(kn,{path:"/escalas",element:S.jsx(Di,{children:S.jsx(RF,{})})}),S.jsx(kn,{path:"/ranking",element:S.jsx(Di,{children:S.jsx(kF,{})})}),S.jsx(kn,{path:"/diagnostico",element:S.jsx(Di,{children:S.jsx(PF,{})})}),S.jsx(kn,{path:"/ferramentas",element:S.jsx(Di,{children:S.jsx(UF,{})})}),S.jsx(kn,{path:"/regras",element:S.jsx(Di,{children:S.jsx(zF,{})})}),S.jsx(kn,{path:"/programacao",element:S.jsx(Di,{children:S.jsx(BF,{})})}),S.jsx(kn,{path:"/admin",element:S.jsx(Di,{children:S.jsx(NF,{})})})]})})})})}HO.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(qF,{})}));
