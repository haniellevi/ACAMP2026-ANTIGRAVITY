(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Py={exports:{}},Au={};var GS;function ZO(){if(GS)return Au;GS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Au.Fragment=e,Au.jsx=t,Au.jsxs=t,Au}var KS;function eP(){return KS||(KS=1,Py.exports=ZO()),Py.exports}var v=eP(),My={exports:{}},Oe={};var QS;function tP(){if(QS)return Oe;QS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function B(O,ie,ue){this.props=O,this.context=ie,this.refs=N,this.updater=ue||C}B.prototype.isReactComponent={},B.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=B.prototype;function U(O,ie,ue){this.props=O,this.context=ie,this.refs=N,this.updater=ue||C}var J=U.prototype=new j;J.constructor=U,M(J,B.prototype),J.isPureReactComponent=!0;var H=Array.isArray;function $(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(O,ie,ue){var de=ue.ref;return{$$typeof:n,type:O,key:ie,ref:de!==void 0?de:null,props:ue}}function z(O,ie){return D(O.type,ie,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function q(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ie[ue]})}var V=/\/+/g;function Ae(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):ie.toString(36)}function Ee(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then($,$):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function te(O,ie,ue,de,Se){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case n:case e:be=!0;break;case y:return be=O._init,te(be(O._payload),ie,ue,de,Se)}}if(be)return Se=Se(O),be=de===""?"."+Ae(O,0):de,H(Se)?(ue="",be!=null&&(ue=be.replace(V,"$&/")+"/"),te(Se,ie,ue,"",function(Ui){return Ui})):Se!=null&&(k(Se)&&(Se=z(Se,ue+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+be)),ie.push(Se)),1;be=0;var lt=de===""?".":de+":";if(H(O))for(var nt=0;nt<O.length;nt++)de=O[nt],Ce=lt+Ae(de,nt),be+=te(de,ie,ue,Ce,Se);else if(nt=x(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(de=O.next()).done;)de=de.value,Ce=lt+Ae(de,nt++),be+=te(de,ie,ue,Ce,Se);else if(Ce==="object"){if(typeof O.then=="function")return te(Ee(O),ie,ue,de,Se);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function oe(O,ie,ue){if(O==null)return O;var de=[],Se=0;return te(O,de,"","",function(Ce){return ie.call(ue,Ce,Se++)}),de}function me(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ne={map:oe,forEach:function(O,ie,ue){oe(O,function(){ie.apply(this,arguments)},ue)},count:function(O){var ie=0;return oe(O,function(){ie++}),ie},toArray:function(O){return oe(O,function(ie){return ie})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Oe.Activity=_,Oe.Children=Ne,Oe.Component=B,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=U,Oe.StrictMode=i,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(O,ie,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=M({},O.props),Se=O.key;if(ie!=null)for(Ce in ie.key!==void 0&&(Se=""+ie.key),ie)!w.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(de[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)de.children=ue;else if(1<Ce){for(var be=Array(Ce),lt=0;lt<Ce;lt++)be[lt]=arguments[lt+2];de.children=be}return D(O.type,Se,de)},Oe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Oe.createElement=function(O,ie,ue){var de,Se={},Ce=null;if(ie!=null)for(de in ie.key!==void 0&&(Ce=""+ie.key),ie)w.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ie[de]);var be=arguments.length-2;if(be===1)Se.children=ue;else if(1<be){for(var lt=Array(be),nt=0;nt<be;nt++)lt[nt]=arguments[nt+2];Se.children=lt}if(O&&O.defaultProps)for(de in be=O.defaultProps,be)Se[de]===void 0&&(Se[de]=be[de]);return D(O,Ce,Se)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:h,render:O}},Oe.isValidElement=k,Oe.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:me}},Oe.memo=function(O,ie){return{$$typeof:m,type:O,compare:ie===void 0?null:ie}},Oe.startTransition=function(O){var ie=I.T,ue={};I.T=ue;try{var de=O(),Se=I.S;Se!==null&&Se(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then($,Ie)}catch(Ce){Ie(Ce)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),I.T=ie}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(O){return I.H.use(O)},Oe.useActionState=function(O,ie,ue){return I.H.useActionState(O,ie,ue)},Oe.useCallback=function(O,ie){return I.H.useCallback(O,ie)},Oe.useContext=function(O){return I.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,ie){return I.H.useDeferredValue(O,ie)},Oe.useEffect=function(O,ie){return I.H.useEffect(O,ie)},Oe.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(O,ie,ue){return I.H.useImperativeHandle(O,ie,ue)},Oe.useInsertionEffect=function(O,ie){return I.H.useInsertionEffect(O,ie)},Oe.useLayoutEffect=function(O,ie){return I.H.useLayoutEffect(O,ie)},Oe.useMemo=function(O,ie){return I.H.useMemo(O,ie)},Oe.useOptimistic=function(O,ie){return I.H.useOptimistic(O,ie)},Oe.useReducer=function(O,ie,ue){return I.H.useReducer(O,ie,ue)},Oe.useRef=function(O){return I.H.useRef(O)},Oe.useState=function(O){return I.H.useState(O)},Oe.useSyncExternalStore=function(O,ie,ue){return I.H.useSyncExternalStore(O,ie,ue)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.4",Oe}var $S;function O0(){return $S||($S=1,My.exports=tP()),My.exports}var P=O0(),Ny={exports:{}},wu={},ky={exports:{}},jy={};var YS;function nP(){return YS||(YS=1,(function(n){function e(te,oe){var me=te.length;te.push(oe);e:for(;0<me;){var Ie=me-1>>>1,Ne=te[Ie];if(0<a(Ne,oe))te[Ie]=oe,te[me]=Ne,me=Ie;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var oe=te[0],me=te.pop();if(me!==oe){te[0]=me;e:for(var Ie=0,Ne=te.length,O=Ne>>>1;Ie<O;){var ie=2*(Ie+1)-1,ue=te[ie],de=ie+1,Se=te[de];if(0>a(ue,me))de<Ne&&0>a(Se,ue)?(te[Ie]=Se,te[de]=me,Ie=de):(te[Ie]=ue,te[ie]=me,Ie=ie);else if(de<Ne&&0>a(Se,me))te[Ie]=Se,te[de]=me,Ie=de;else break e}}return oe}function a(te,oe){var me=te.sortIndex-oe.sortIndex;return me!==0?me:te.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],y=1,_=null,T=3,x=!1,C=!1,M=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function J(te){for(var oe=t(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=te)i(m),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=t(m)}}function H(te){if(M=!1,J(te),!C)if(t(d)!==null)C=!0,$||($=!0,q());else{var oe=t(m);oe!==null&&Ee(H,oe.startTime-te)}}var $=!1,I=-1,w=5,D=-1;function z(){return N?!0:!(n.unstable_now()-D<w)}function k(){if(N=!1,$){var te=n.unstable_now();D=te;var oe=!0;try{e:{C=!1,M&&(M=!1,j(I),I=-1),x=!0;var me=T;try{t:{for(J(te),_=t(d);_!==null&&!(_.expirationTime>te&&z());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,T=_.priorityLevel;var Ne=Ie(_.expirationTime<=te);if(te=n.unstable_now(),typeof Ne=="function"){_.callback=Ne,J(te),oe=!0;break t}_===t(d)&&i(d),J(te)}else i(d);_=t(d)}if(_!==null)oe=!0;else{var O=t(m);O!==null&&Ee(H,O.startTime-te),oe=!1}}break e}finally{_=null,T=me,x=!1}oe=void 0}}finally{oe?q():$=!1}}}var q;if(typeof U=="function")q=function(){U(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ae=V.port2;V.port1.onmessage=k,q=function(){Ae.postMessage(null)}}else q=function(){B(k,0)};function Ee(te,oe){I=B(function(){te(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var me=T;T=oe;try{return te()}finally{T=me}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(te,oe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var me=T;T=te;try{return oe()}finally{T=me}},n.unstable_scheduleCallback=function(te,oe,me){var Ie=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,te){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=me+Ne,te={id:y++,callback:oe,priorityLevel:te,startTime:me,expirationTime:Ne,sortIndex:-1},me>Ie?(te.sortIndex=me,e(m,te),t(d)===null&&te===t(m)&&(M?(j(I),I=-1):M=!0,Ee(H,me-Ie))):(te.sortIndex=Ne,e(d,te),C||x||(C=!0,$||($=!0,q()))),te},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(te){var oe=T;return function(){var me=T;T=oe;try{return te.apply(this,arguments)}finally{T=me}}}})(jy)),jy}var WS;function iP(){return WS||(WS=1,ky.exports=nP()),ky.exports}var Ly={exports:{}},yn={};var XS;function rP(){if(XS)return yn;XS=1;var n=O0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},yn.flushSync=function(d){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=y,i.d.f()}},yn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},yn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},yn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:x}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:T,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},yn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},yn.requestFormReset=function(d){i.d.r(d)},yn.unstable_batchedUpdates=function(d,m){return d(m)},yn.useFormState=function(d,m,y){return c.H.useFormState(d,m,y)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.4",yn}var JS;function sP(){if(JS)return Ly.exports;JS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ly.exports=rP(),Ly.exports}var ZS;function aP(){if(ZS)return wu;ZS=1;var n=iP(),e=O0(),t=sP();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),r;if(g===u)return d(p),s;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=g;else{for(var S=!1,A=p.child;A;){if(A===l){S=!0,l=p,u=g;break}if(A===u){S=!0,u=p,l=g;break}A=A.sibling}if(!S){for(A=g.child;A;){if(A===l){S=!0,l=g,u=p;break}if(A===u){S=!0,u=g,l=p;break}A=A.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),U=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case U:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case J:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case w:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}var Ee=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],Ne=-1;function O(r){return{current:r}}function ie(r){0>Ne||(r.current=Ie[Ne],Ie[Ne]=null,Ne--)}function ue(r,s){Ne++,Ie[Ne]=r.current,r.current=s}var de=O(null),Se=O(null),Ce=O(null),be=O(null);function lt(r,s){switch(ue(Ce,s),ue(Se,r),ue(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?mS(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=mS(s),r=pS(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(de),ue(de,r)}function nt(){ie(de),ie(Se),ie(Ce)}function Ui(r){r.memoizedState!==null&&ue(be,r);var s=de.current,l=pS(s,r.type);s!==l&&(ue(Se,r),ue(de,l))}function Do(r){Se.current===r&&(ie(de),ie(Se)),be.current===r&&(ie(be),Tu._currentValue=me)}var Vo,Oo;function Bi(r){if(Vo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Vo=s&&s[1]||"",Oo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vo+r+Oo}var Tc=!1;function pa(r,s){if(!r||Tc)return"";Tc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var X=ee}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(ee){X=ee}r.call(ae.prototype)}}else{try{throw Error()}catch(ee){X=ee}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],A=g[1];if(S&&A){var L=S.split(`
`),W=A.split(`
`);for(p=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===L.length||p===W.length)for(u=L.length-1,p=W.length-1;1<=u&&0<=p&&L[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(L[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||L[u]!==W[p]){var re=`
`+L[u].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=u&&0<=p);break}}}finally{Tc=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Bi(l):""}function Sc(r,s){switch(r.tag){case 26:case 27:case 5:return Bi(r.type);case 16:return Bi("Lazy");case 13:return r.child!==s&&s!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return pa(r.type,!1);case 11:return pa(r.type.render,!1);case 1:return pa(r.type,!0);case 31:return Bi("Activity");default:return""}}function bc(r){try{var s="",l=null;do s+=Sc(r,l),l=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,Yt=n.unstable_scheduleCallback,ts=n.unstable_cancelCallback,Np=n.unstable_shouldYield,Zh=n.unstable_requestPaint,bn=n.unstable_now,ga=n.unstable_getCurrentPriorityLevel,xc=n.unstable_ImmediatePriority,Ac=n.unstable_UserBlockingPriority,ns=n.unstable_NormalPriority,kp=n.unstable_LowPriority,ed=n.unstable_IdlePriority,td=n.log,nd=n.unstable_setDisableYieldValue,_i=null,on=null;function Zn(r){if(typeof td=="function"&&nd(r),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(_i,r)}catch{}}var Dt=Math.clz32?Math.clz32:rd,id=Math.log,Po=Math.LN2;function rd(r){return r>>>=0,r===0?32:31-(id(r)/Po|0)|0}var Fi=256,ya=262144,kt=4194304;function qi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hi(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,g=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?p=qi(u):(S&=A,S!==0?p=qi(S):l||(l=A&~r,l!==0&&(p=qi(l))))):(A=u&~g,A!==0?p=qi(A):S!==0?p=qi(S):l||(l=u&~r,l!==0&&(p=qi(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function Ei(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function jp(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sd(){var r=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),r}function Gi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function va(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Lp(r,s,l,u,p,g){var S=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,L=r.expirationTimes,W=r.hiddenUpdates;for(l=S&~l;0<l;){var re=31-Dt(l),ae=1<<re;A[re]=0,L[re]=-1;var X=W[re];if(X!==null)for(W[re]=null,re=0;re<X.length;re++){var ee=X[re];ee!==null&&(ee.lane&=-536870913)}l&=~ae}u!==0&&_a(r,u,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function _a(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Dt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&261930}function wc(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-Dt(l),p=1<<u;p&s|r[u]&s&&(r[u]|=s),l&=~p}}function Rc(r,s){var l=s&-s;return l=(l&42)!==0?1:Ea(l),(l&(r.suspendedLanes|s))!==0?0:l}function Ea(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Tr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ad(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:LS(r.type))}function Ti(r,s){var l=oe.p;try{return oe.p=r,s()}finally{oe.p=l}}var Si=Math.random().toString(36).slice(2),jt="__reactFiber$"+Si,en="__reactProps$"+Si,Ki="__reactContainer$"+Si,Mo="__reactEvents$"+Si,zp="__reactListeners$"+Si,od="__reactHandles$"+Si,ld="__reactResources$"+Si,Qi="__reactMarker$"+Si;function No(r){delete r[jt],delete r[en],delete r[Mo],delete r[zp],delete r[od]}function $i(r){var s=r[jt];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ki]||l[jt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=SS(r);r!==null;){if(l=r[jt])return l;r=SS(r)}return s}r=l,l=r.parentNode}return null}function ei(r){if(r=r[jt]||r[Ki]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function zn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yi(r){var s=r[ld];return s||(s=r[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[Qi]=!0}var Ic=new Set,Cc={};function Wi(r,s){Xi(r,s),Xi(r+"Capture",s)}function Xi(r,s){for(Cc[r]=s,r=0;r<s.length;r++)Ic.add(s[r])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Oc={};function cd(r){return Nt.call(Oc,r)?!0:Nt.call(Vc,r)?!1:Dc.test(r)?Oc[r]=!0:(Vc[r]=!0,!1)}function ko(r,s,l){if(cd(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Un(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function zt(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}function tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function is(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pc(r,s,l){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function it(r){if(!r._valueTracker){var s=is(r)?"checked":"value";r._valueTracker=Pc(r,s,""+r[s])}}function Ta(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=is(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function Ji(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Sa=/[\n"\\]/g;function Vn(r){return r.replace(Sa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jo(r,s,l,u,p,g,S,A){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+tn(s)):r.value!==""+tn(s)&&(r.value=""+tn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Mc(r,S,tn(s)):l!=null?Mc(r,S,tn(l)):u!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+tn(A):r.removeAttribute("name")}function ud(r,s,l,u,p,g,S,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){it(r);return}l=l!=null?""+tn(l):"",s=s!=null?""+tn(s):l,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),it(r)}function Mc(r,s,l){s==="number"&&Ji(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function rs(r,s,l,u){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+tn(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function hd(r,s,l){if(s!=null&&(s=""+tn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+tn(l):""}function ss(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(Ee(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=tn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u),it(r)}function On(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||dd.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function kc(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&Nc(r,p,u)}else for(var g in s)s.hasOwnProperty(g)&&Nc(r,g,s[g])}function Lo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(r){return as.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function bi(){}var jc=null;function ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var os=null,Zi=null;function ba(r){var s=ei(r);if(s&&(r=s.stateNode)){var l=r[en]||null;e:switch(r=s.stateNode,s.type){case"input":if(jo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var p=u[en]||null;if(!p)throw Error(i(90));jo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&Ta(u)}break e;case"textarea":hd(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&rs(r,!!l.multiple,s,!1)}}}var Uo=!1;function ls(r,s,l){if(Uo)return r(s,l);Uo=!0;try{var u=r(s);return u}finally{if(Uo=!1,(os!==null||Zi!==null)&&(of(),os&&(s=os,r=Zi,Zi=os=null,ba(s),r)))for(s=0;s<r.length;s++)ba(r[s])}}function xi(r,s){var l=r.stateNode;if(l===null)return null;var u=l[en]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(ni)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{xa=!1}var er=null,Lc=null,Aa=null;function zc(){if(Aa)return Aa;var r,s=Lc,l=s.length,u,p="value"in er?er.value:er.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var S=l-r;for(u=1;u<=S&&s[l-u]===p[g-u];u++);return Aa=p.slice(r,1<u?1-u:void 0)}function wa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Sr(){return!0}function Ai(){return!1}function ln(r){function s(l,u,p,g,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sr:Ai,this.isPropagationStopped=Ai,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=ln(br),cs=_({},br,{view:0,detail:0}),Uc=ln(cs),us,Bo,nr,Fo=_({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(us=r.screenX-nr.screenX,Bo=r.screenY-nr.screenY):Bo=us=0,nr=r),us)},movementY:function(r){return"movementY"in r?r.movementY:Bo}}),Bc=ln(Fo),Ra=_({},Fo,{dataTransfer:0}),md=ln(Ra),pd=_({},cs,{relatedTarget:0}),Ia=ln(pd),Fc=_({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=ln(Fc),qo=_({},br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yd=ln(qo),vd=_({},br,{data:0}),ir=ln(vd),_d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sd(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Td[r])?!!s[r]:!1}function hs(){return Sd}var xn=_({},cs,{key:function(r){if(r.key){var s=_d[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ed[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(r){return r.type==="keypress"?wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bd=ln(xn),xd=_({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=ln(xd),f=_({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),E=ln(f),b=_({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=ln(b),Q=_({},Fo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=ln(Q),he=_({},br,{newState:0,oldState:0}),je=ln(he),Vt=[9,13,27,32],Ze=ni&&"CompositionEvent"in window,vt=null;ni&&"documentMode"in document&&(vt=document.documentMode);var ii=ni&&"TextEvent"in window&&!vt,rr=ni&&(!Ze||vt&&8<vt&&11>=vt),wi=" ",Ri=!1;function Ca(r,s){switch(r){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Go=!1;function SV(r,s){switch(r){case"compositionend":return Ho(s);case"keypress":return s.which!==32?null:(Ri=!0,wi);case"textInput":return r=s.data,r===wi&&Ri?null:r;default:return null}}function bV(r,s){if(Go)return r==="compositionend"||!Ze&&Ca(r,s)?(r=zc(),Aa=Lc=er=null,Go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rr&&s.locale!=="ko"?null:s.data;default:return null}}var xV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!xV[r.type]:s==="textarea"}function wE(r,s,l,u){os?Zi?Zi.push(u):Zi=[u]:os=u,s=mf(s,"onChange"),0<s.length&&(l=new tr("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var qc=null,Hc=null;function AV(r){lS(r,0)}function Ad(r){var s=zn(r);if(Ta(s))return r}function RE(r,s){if(r==="change")return s}var IE=!1;if(ni){var Up;if(ni){var Bp="oninput"in document;if(!Bp){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Bp=typeof CE.oninput=="function"}Up=Bp}else Up=!1;IE=Up&&(!document.documentMode||9<document.documentMode)}function DE(){qc&&(qc.detachEvent("onpropertychange",VE),Hc=qc=null)}function VE(r){if(r.propertyName==="value"&&Ad(Hc)){var s=[];wE(s,Hc,r,ti(r)),ls(AV,s)}}function wV(r,s,l){r==="focusin"?(DE(),qc=s,Hc=l,qc.attachEvent("onpropertychange",VE)):r==="focusout"&&DE()}function RV(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ad(Hc)}function IV(r,s){if(r==="click")return Ad(s)}function CV(r,s){if(r==="input"||r==="change")return Ad(s)}function DV(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:DV;function Gc(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Nt.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function OE(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function PE(r,s){var l=OE(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=OE(l)}}function ME(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ME(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function NE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ji(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ji(r.document)}return s}function Fp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var VV=ni&&"documentMode"in document&&11>=document.documentMode,Ko=null,qp=null,Kc=null,Hp=!1;function kE(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hp||Ko==null||Ko!==Ji(u)||(u=Ko,"selectionStart"in u&&Fp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Kc&&Gc(Kc,u)||(Kc=u,u=mf(qp,"onSelect"),0<u.length&&(s=new tr("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=Ko)))}function Da(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Qo={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Gp={},jE={};ni&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Va(r){if(Gp[r])return Gp[r];if(!Qo[r])return r;var s=Qo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in jE)return Gp[r]=s[l];return r}var LE=Va("animationend"),zE=Va("animationiteration"),UE=Va("animationstart"),OV=Va("transitionrun"),PV=Va("transitionstart"),MV=Va("transitioncancel"),BE=Va("transitionend"),FE=new Map,Kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kp.push("scrollEnd");function Ii(r,s){FE.set(r,s),Wi(s,[r])}var wd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ri=[],$o=0,Qp=0;function Rd(){for(var r=$o,s=Qp=$o=0;s<r;){var l=ri[s];ri[s++]=null;var u=ri[s];ri[s++]=null;var p=ri[s];ri[s++]=null;var g=ri[s];if(ri[s++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}g!==0&&qE(l,p,g)}}function Id(r,s,l,u){ri[$o++]=r,ri[$o++]=s,ri[$o++]=l,ri[$o++]=u,Qp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function $p(r,s,l,u){return Id(r,s,l,u),Cd(r)}function Oa(r,s){return Id(r,null,null,s),Cd(r)}function qE(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=r.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&s!==null&&(p=31-Dt(l),r=g.hiddenUpdates,u=r[p],u===null?r[p]=[s]:u.push(s),s.lane=l|536870912),g):null}function Cd(r){if(50<mu)throw mu=0,iy=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Yo={};function NV(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,l,u){return new NV(r,s,l,u)}function Yp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ar(r,s){var l=r.alternate;return l===null?(l=Fn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function HE(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Dd(r,s,l,u,p,g){var S=0;if(u=r,typeof r=="function")Yp(r)&&(S=1);else if(typeof r=="string")S=UO(r,l,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Fn(31,l,s,p),r.elementType=D,r.lanes=g,r;case M:return Pa(l.children,p,g,s);case N:S=8,p|=24;break;case B:return r=Fn(12,l,s,p|2),r.elementType=B,r.lanes=g,r;case H:return r=Fn(13,l,s,p),r.elementType=H,r.lanes=g,r;case $:return r=Fn(19,l,s,p),r.elementType=$,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:S=10;break e;case j:S=9;break e;case J:S=11;break e;case I:S=14;break e;case w:S=16,u=null;break e}S=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Fn(S,l,s,p),s.elementType=r,s.type=u,s.lanes=g,s}function Pa(r,s,l,u){return r=Fn(7,r,u,s),r.lanes=l,r}function Wp(r,s,l){return r=Fn(6,r,null,s),r.lanes=l,r}function GE(r){var s=Fn(18,null,null,0);return s.stateNode=r,s}function Xp(r,s,l){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var KE=new WeakMap;function si(r,s){if(typeof r=="object"&&r!==null){var l=KE.get(r);return l!==void 0?l:(s={value:r,source:s,stack:bc(s)},KE.set(r,s),s)}return{value:r,source:s,stack:bc(s)}}var Wo=[],Xo=0,Vd=null,Qc=0,ai=[],oi=0,ds=null,sr=1,ar="";function wr(r,s){Wo[Xo++]=Qc,Wo[Xo++]=Vd,Vd=r,Qc=s}function QE(r,s,l){ai[oi++]=sr,ai[oi++]=ar,ai[oi++]=ds,ds=r;var u=sr;r=ar;var p=32-Dt(u)-1;u&=~(1<<p),l+=1;var g=32-Dt(s)+p;if(30<g){var S=p-p%5;g=(u&(1<<S)-1).toString(32),u>>=S,p-=S,sr=1<<32-Dt(s)+p|l<<p|u,ar=g+r}else sr=1<<g|l<<p|u,ar=r}function Jp(r){r.return!==null&&(wr(r,1),QE(r,1,0))}function Zp(r){for(;r===Vd;)Vd=Wo[--Xo],Wo[Xo]=null,Qc=Wo[--Xo],Wo[Xo]=null;for(;r===ds;)ds=ai[--oi],ai[oi]=null,ar=ai[--oi],ai[oi]=null,sr=ai[--oi],ai[oi]=null}function $E(r,s){ai[oi++]=sr,ai[oi++]=ar,ai[oi++]=ds,sr=s.id,ar=s.overflow,ds=r}var cn=null,gt=null,Ye=!1,fs=null,li=!1,eg=Error(i(519));function ms(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $c(si(s,r)),eg}function YE(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[jt]=r,s[en]=u,l){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(l=0;l<gu.length;l++)qe(gu[l],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),ud(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),ss(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||dS(s.textContent,l)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=bi),s=!0):s=!1,s||ms(r,!0)}function WE(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:cn=cn.return}}function Jo(r){if(r!==cn)return!1;if(!Ye)return WE(r),Ye=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||vy(r.type,r.memoizedProps)),l=!l),l&&gt&&ms(r),WE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));gt=TS(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));gt=TS(r)}else s===27?(s=gt,Is(r.type)?(r=by,by=null,gt=r):gt=s):gt=cn?ui(r.stateNode.nextSibling):null;return!0}function Ma(){gt=cn=null,Ye=!1}function tg(){var r=fs;return r!==null&&(kn===null?kn=r:kn.push.apply(kn,r),fs=null),r}function $c(r){fs===null?fs=[r]:fs.push(r)}var ng=O(null),Na=null,Rr=null;function ps(r,s,l){ue(ng,s._currentValue),s._currentValue=l}function Ir(r){r._currentValue=ng.current,ie(ng)}function ig(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function rg(r,s,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var L=0;L<s.length;L++)if(A.context===s[L]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),ig(g.return,l,r),u||(S=null);break e}g=A.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),ig(S,l,r),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===r){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Zo(r,s,l,u){r=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var A=p.type;Bn(p.pendingProps.value,S.value)||(r!==null?r.push(A):r=[A])}}else if(p===be.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Tu):r=[Tu])}p=p.return}r!==null&&rg(s,r,l,u),s.flags|=262144}function Od(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ka(r){Na=r,Rr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return XE(Na,r)}function Pd(r,s){return Na===null&&ka(r),XE(r,s)}function XE(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Rr===null){if(r===null)throw Error(i(308));Rr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Rr=Rr.next=s;return l}var kV=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},jV=n.unstable_scheduleCallback,LV=n.unstable_NormalPriority,Ut={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sg(){return{controller:new kV,data:new Map,refCount:0}}function Yc(r){r.refCount--,r.refCount===0&&jV(LV,function(){r.controller.abort()})}var Wc=null,ag=0,el=0,tl=null;function zV(r,s){if(Wc===null){var l=Wc=[];ag=0,el=cy(),tl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ag++,s.then(JE,JE),s}function JE(){if(--ag===0&&Wc!==null){tl!==null&&(tl.status="fulfilled");var r=Wc;Wc=null,el=0,tl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function UV(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var ZE=te.S;te.S=function(r,s){k1=bn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zV(r,s),ZE!==null&&ZE(r,s)};var ja=O(null);function og(){var r=ja.current;return r!==null?r:ft.pooledCache}function Md(r,s){s===null?ue(ja,ja.current):ue(ja,s.pool)}function eT(){var r=og();return r===null?null:{parent:Ut._currentValue,pool:r}}var nl=Error(i(460)),lg=Error(i(474)),Nd=Error(i(542)),kd={then:function(){}};function tT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function nT(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(bi,bi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rT(r),r;default:if(typeof s.status=="string")s.then(bi,bi);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rT(r),r}throw za=s,nl}}function La(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(za=l,nl):l}}var za=null;function iT(){if(za===null)throw Error(i(459));var r=za;return za=null,r}function rT(r){if(r===nl||r===Nd)throw Error(i(483))}var il=null,Xc=0;function jd(r){var s=Xc;return Xc+=1,il===null&&(il=[]),nT(il,r,s)}function Jc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ld(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function sT(r){function s(G,F){if(r){var Y=G.deletions;Y===null?(G.deletions=[F],G.flags|=16):Y.push(F)}}function l(G,F){if(!r)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=Ar(G,F),G.index=0,G.sibling=null,G}function g(G,F,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<F?(G.flags|=67108866,F):Y):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function S(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function A(G,F,Y,se){return F===null||F.tag!==6?(F=Wp(Y,G.mode,se),F.return=G,F):(F=p(F,Y),F.return=G,F)}function L(G,F,Y,se){var Te=Y.type;return Te===M?re(G,F,Y.props.children,se,Y.key):F!==null&&(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&La(Te)===F.type)?(F=p(F,Y.props),Jc(F,Y),F.return=G,F):(F=Dd(Y.type,Y.key,Y.props,null,G.mode,se),Jc(F,Y),F.return=G,F)}function W(G,F,Y,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=Xp(Y,G.mode,se),F.return=G,F):(F=p(F,Y.children||[]),F.return=G,F)}function re(G,F,Y,se,Te){return F===null||F.tag!==7?(F=Pa(Y,G.mode,se,Te),F.return=G,F):(F=p(F,Y),F.return=G,F)}function ae(G,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Wp(""+F,G.mode,Y),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return Y=Dd(F.type,F.key,F.props,null,G.mode,Y),Jc(Y,F),Y.return=G,Y;case C:return F=Xp(F,G.mode,Y),F.return=G,F;case w:return F=La(F),ae(G,F,Y)}if(Ee(F)||q(F))return F=Pa(F,G.mode,Y,null),F.return=G,F;if(typeof F.then=="function")return ae(G,jd(F),Y);if(F.$$typeof===U)return ae(G,Pd(G,F),Y);Ld(G,F)}return null}function X(G,F,Y,se){var Te=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Te!==null?null:A(G,F,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===Te?L(G,F,Y,se):null;case C:return Y.key===Te?W(G,F,Y,se):null;case w:return Y=La(Y),X(G,F,Y,se)}if(Ee(Y)||q(Y))return Te!==null?null:re(G,F,Y,se,null);if(typeof Y.then=="function")return X(G,F,jd(Y),se);if(Y.$$typeof===U)return X(G,F,Pd(G,Y),se);Ld(G,Y)}return null}function ee(G,F,Y,se,Te){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Y)||null,A(F,G,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?Y:se.key)||null,L(F,G,se,Te);case C:return G=G.get(se.key===null?Y:se.key)||null,W(F,G,se,Te);case w:return se=La(se),ee(G,F,Y,se,Te)}if(Ee(se)||q(se))return G=G.get(Y)||null,re(F,G,se,Te,null);if(typeof se.then=="function")return ee(G,F,Y,jd(se),Te);if(se.$$typeof===U)return ee(G,F,Y,Pd(F,se),Te);Ld(F,se)}return null}function pe(G,F,Y,se){for(var Te=null,Xe=null,ve=F,ze=F=0,Ke=null;ve!==null&&ze<Y.length;ze++){ve.index>ze?(Ke=ve,ve=null):Ke=ve.sibling;var Je=X(G,ve,Y[ze],se);if(Je===null){ve===null&&(ve=Ke);break}r&&ve&&Je.alternate===null&&s(G,ve),F=g(Je,F,ze),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je,ve=Ke}if(ze===Y.length)return l(G,ve),Ye&&wr(G,ze),Te;if(ve===null){for(;ze<Y.length;ze++)ve=ae(G,Y[ze],se),ve!==null&&(F=g(ve,F,ze),Xe===null?Te=ve:Xe.sibling=ve,Xe=ve);return Ye&&wr(G,ze),Te}for(ve=u(ve);ze<Y.length;ze++)Ke=ee(ve,G,ze,Y[ze],se),Ke!==null&&(r&&Ke.alternate!==null&&ve.delete(Ke.key===null?ze:Ke.key),F=g(Ke,F,ze),Xe===null?Te=Ke:Xe.sibling=Ke,Xe=Ke);return r&&ve.forEach(function(Ps){return s(G,Ps)}),Ye&&wr(G,ze),Te}function we(G,F,Y,se){if(Y==null)throw Error(i(151));for(var Te=null,Xe=null,ve=F,ze=F=0,Ke=null,Je=Y.next();ve!==null&&!Je.done;ze++,Je=Y.next()){ve.index>ze?(Ke=ve,ve=null):Ke=ve.sibling;var Ps=X(G,ve,Je.value,se);if(Ps===null){ve===null&&(ve=Ke);break}r&&ve&&Ps.alternate===null&&s(G,ve),F=g(Ps,F,ze),Xe===null?Te=Ps:Xe.sibling=Ps,Xe=Ps,ve=Ke}if(Je.done)return l(G,ve),Ye&&wr(G,ze),Te;if(ve===null){for(;!Je.done;ze++,Je=Y.next())Je=ae(G,Je.value,se),Je!==null&&(F=g(Je,F,ze),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je);return Ye&&wr(G,ze),Te}for(ve=u(ve);!Je.done;ze++,Je=Y.next())Je=ee(ve,G,ze,Je.value,se),Je!==null&&(r&&Je.alternate!==null&&ve.delete(Je.key===null?ze:Je.key),F=g(Je,F,ze),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je);return r&&ve.forEach(function(XO){return s(G,XO)}),Ye&&wr(G,ze),Te}function dt(G,F,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var Te=Y.key;F!==null;){if(F.key===Te){if(Te=Y.type,Te===M){if(F.tag===7){l(G,F.sibling),se=p(F,Y.props.children),se.return=G,G=se;break e}}else if(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&La(Te)===F.type){l(G,F.sibling),se=p(F,Y.props),Jc(se,Y),se.return=G,G=se;break e}l(G,F);break}else s(G,F);F=F.sibling}Y.type===M?(se=Pa(Y.props.children,G.mode,se,Y.key),se.return=G,G=se):(se=Dd(Y.type,Y.key,Y.props,null,G.mode,se),Jc(se,Y),se.return=G,G=se)}return S(G);case C:e:{for(Te=Y.key;F!==null;){if(F.key===Te)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){l(G,F.sibling),se=p(F,Y.children||[]),se.return=G,G=se;break e}else{l(G,F);break}else s(G,F);F=F.sibling}se=Xp(Y,G.mode,se),se.return=G,G=se}return S(G);case w:return Y=La(Y),dt(G,F,Y,se)}if(Ee(Y))return pe(G,F,Y,se);if(q(Y)){if(Te=q(Y),typeof Te!="function")throw Error(i(150));return Y=Te.call(Y),we(G,F,Y,se)}if(typeof Y.then=="function")return dt(G,F,jd(Y),se);if(Y.$$typeof===U)return dt(G,F,Pd(G,Y),se);Ld(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(l(G,F.sibling),se=p(F,Y),se.return=G,G=se):(l(G,F),se=Wp(Y,G.mode,se),se.return=G,G=se),S(G)):l(G,F)}return function(G,F,Y,se){try{Xc=0;var Te=dt(G,F,Y,se);return il=null,Te}catch(ve){if(ve===nl||ve===Nd)throw ve;var Xe=Fn(29,ve,null,G.mode);return Xe.lanes=se,Xe.return=G,Xe}}}var Ua=sT(!0),aT=sT(!1),gs=!1;function cg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ys(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vs(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Cd(r),qE(r,null,l),s}return Id(r,u,s,l),Cd(r)}function Zc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,wc(r,l)}}function hg(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var dg=!1;function eu(){if(dg){var r=tl;if(r!==null)throw r}}function tu(r,s,l,u){dg=!1;var p=r.updateQueue;gs=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var L=A,W=L.next;L.next=null,S===null?g=W:S.next=W,S=L;var re=r.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==S&&(A===null?re.firstBaseUpdate=W:A.next=W,re.lastBaseUpdate=L))}if(g!==null){var ae=p.baseState;S=0,re=W=L=null,A=g;do{var X=A.lane&-536870913,ee=X!==A.lane;if(ee?(Ge&X)===X:(u&X)===X){X!==0&&X===el&&(dg=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=r,we=A;X=s;var dt=l;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ae=pe.call(dt,ae,X);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,X=typeof pe=="function"?pe.call(dt,ae,X):pe,X==null)break e;ae=_({},ae,X);break e;case 2:gs=!0}}X=A.callback,X!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(W=re=ee,L=ae):re=re.next=ee,S|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);re===null&&(L=ae),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),bs|=S,r.lanes=S,r.memoizedState=ae}}function oT(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function lT(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)oT(l[r],s)}var rl=O(null),zd=O(0);function cT(r,s){r=jr,ue(zd,r),ue(rl,s),jr=r|s.baseLanes}function fg(){ue(zd,jr),ue(rl,rl.current)}function mg(){jr=zd.current,ie(rl),ie(zd)}var qn=O(null),ci=null;function _s(r){var s=r.alternate;ue(Ot,Ot.current&1),ue(qn,r),ci===null&&(s===null||rl.current!==null||s.memoizedState!==null)&&(ci=r)}function pg(r){ue(Ot,Ot.current),ue(qn,r),ci===null&&(ci=r)}function uT(r){r.tag===22?(ue(Ot,Ot.current),ue(qn,r),ci===null&&(ci=r)):Es()}function Es(){ue(Ot,Ot.current),ue(qn,qn.current)}function Hn(r){ie(qn),ci===r&&(ci=null),ie(Ot)}var Ot=O(0);function Ud(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ty(l)||Sy(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cr=0,Le=null,ut=null,Bt=null,Bd=!1,sl=!1,Ba=!1,Fd=0,nu=0,al=null,BV=0;function At(){throw Error(i(321))}function gg(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function yg(r,s,l,u,p,g){return Cr=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=r===null||r.memoizedState===null?QT:Og,Ba=!1,g=l(u,p),Ba=!1,sl&&(g=dT(s,l,u,p)),hT(r),g}function hT(r){te.H=su;var s=ut!==null&&ut.next!==null;if(Cr=0,Bt=ut=Le=null,Bd=!1,nu=0,al=null,s)throw Error(i(300));r===null||Ft||(r=r.dependencies,r!==null&&Od(r)&&(Ft=!0))}function dT(r,s,l,u){Le=r;var p=0;do{if(sl&&(al=null),nu=0,sl=!1,25<=p)throw Error(i(301));if(p+=1,Bt=ut=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}te.H=$T,g=s(l,u)}while(sl);return g}function FV(){var r=te.H,s=r.useState()[0];return s=typeof s.then=="function"?iu(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Le.flags|=1024),s}function vg(){var r=Fd!==0;return Fd=0,r}function _g(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Eg(r){if(Bd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bd=!1}Cr=0,Bt=ut=Le=null,sl=!1,nu=Fd=0,al=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Pt(){if(ut===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=Bt===null?Le.memoizedState:Bt.next;if(s!==null)Bt=s,ut=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(r){var s=nu;return nu+=1,al===null&&(al=[]),r=nT(al,r,s),s=Le,(Bt===null?s.memoizedState:Bt.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?QT:Og),r}function Hd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return iu(r);if(r.$$typeof===U)return un(r)}throw Error(i(438,String(r)))}function Tg(r){var s=null,l=Le.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=qd(),Le.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=z;return s.index++,l}function Dr(r,s){return typeof s=="function"?s(r):s}function Gd(r){var s=Pt();return Sg(s,ut,r)}function Sg(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=r.baseQueue,g=u.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}s.baseQueue=p=g,u.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{s=p.next;var A=S=null,L=null,W=s,re=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(Ge&ae)===ae:(Cr&ae)===ae){var X=W.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===el&&(re=!0);else if((Cr&X)===X){W=W.next,X===el&&(re=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=ae,S=g):L=L.next=ae,Le.lanes|=X,bs|=X;ae=W.action,Ba&&l(g,ae),g=W.hasEagerState?W.eagerState:l(g,ae)}else X={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(A=L=X,S=g):L=L.next=X,Le.lanes|=ae,bs|=ae;W=W.next}while(W!==null&&W!==s);if(L===null?S=g:L.next=A,!Bn(g,r.memoizedState)&&(Ft=!0,re&&(l=tl,l!==null)))throw l;r.memoizedState=g,r.baseState=S,r.baseQueue=L,u.lastRenderedState=g}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function bg(r){var s=Pt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do g=r(g,S.action),S=S.next;while(S!==p);Bn(g,s.memoizedState)||(Ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function fT(r,s,l){var u=Le,p=Pt(),g=Ye;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!Bn((ut||p).memoizedState,l);if(S&&(p.memoizedState=l,Ft=!0),p=p.queue,wg(gT.bind(null,u,p,r),[r]),p.getSnapshot!==s||S||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,ol(9,{destroy:void 0},pT.bind(null,u,p,l,s),null),ft===null)throw Error(i(349));g||(Cr&127)!==0||mT(u,s,l)}return l}function mT(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Le.updateQueue,s===null?(s=qd(),Le.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function pT(r,s,l,u){s.value=l,s.getSnapshot=u,yT(s)&&vT(r)}function gT(r,s,l){return l(function(){yT(s)&&vT(r)})}function yT(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function vT(r){var s=Oa(r,2);s!==null&&jn(s,r,2)}function xg(r){var s=An();if(typeof r=="function"){var l=r;if(r=l(),Ba){Zn(!0);try{l()}finally{Zn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},s}function _T(r,s,l,u){return r.baseState=l,Sg(r,ut,typeof u=="function"?u:Dr)}function qV(r,s,l,u,p){if($d(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};te.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,ET(s,g)):(g.next=l.next,s.pending=l.next=g)}}function ET(r,s){var l=s.action,u=s.payload,p=r.state;if(s.isTransition){var g=te.T,S={};te.T=S;try{var A=l(p,u),L=te.S;L!==null&&L(S,A),TT(r,s,A)}catch(W){Ag(r,s,W)}finally{g!==null&&S.types!==null&&(g.types=S.types),te.T=g}}else try{g=l(p,u),TT(r,s,g)}catch(W){Ag(r,s,W)}}function TT(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ST(r,s,u)},function(u){return Ag(r,s,u)}):ST(r,s,l)}function ST(r,s,l){s.status="fulfilled",s.value=l,bT(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,ET(r,l)))}function Ag(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,bT(s),s=s.next;while(s!==u)}r.action=null}function bT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function xT(r,s){return s}function AT(r,s){if(Ye){var l=ft.formState;if(l!==null){e:{var u=Le;if(Ye){if(gt){t:{for(var p=gt,g=li;p.nodeType!==8;){if(!g){p=null;break t}if(p=ui(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){gt=ui(p.nextSibling),u=p.data==="F!";break e}}ms(u)}u=!1}u&&(s=l[0])}}return l=An(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xT,lastRenderedState:s},l.queue=u,l=HT.bind(null,Le,u),u.dispatch=l,u=xg(!1),g=Vg.bind(null,Le,!1,u.queue),u=An(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,l=qV.bind(null,Le,p,g,l),p.dispatch=l,u.memoizedState=r,[s,l,!1]}function wT(r){var s=Pt();return RT(s,ut,r)}function RT(r,s,l){if(s=Sg(r,s,xT)[0],r=Gd(Dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=iu(s)}catch(S){throw S===nl?Nd:S}else u=s;s=Pt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Le.flags|=2048,ol(9,{destroy:void 0},HV.bind(null,p,l),null)),[u,g,r]}function HV(r,s){r.action=s}function IT(r){var s=Pt(),l=ut;if(l!==null)return RT(s,l,r);Pt(),s=s.memoizedState,l=Pt();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function ol(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=qd(),Le.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function CT(){return Pt().memoizedState}function Kd(r,s,l,u){var p=An();Le.flags|=r,p.memoizedState=ol(1|s,{destroy:void 0},l,u===void 0?null:u)}function Qd(r,s,l,u){var p=Pt();u=u===void 0?null:u;var g=p.memoizedState.inst;ut!==null&&u!==null&&gg(u,ut.memoizedState.deps)?p.memoizedState=ol(s,g,l,u):(Le.flags|=r,p.memoizedState=ol(1|s,g,l,u))}function DT(r,s){Kd(8390656,8,r,s)}function wg(r,s){Qd(2048,8,r,s)}function GV(r){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=qd(),Le.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function VT(r){var s=Pt().memoizedState;return GV({ref:s,nextImpl:r}),function(){if((et&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function OT(r,s){return Qd(4,2,r,s)}function PT(r,s){return Qd(4,4,r,s)}function MT(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function NT(r,s,l){l=l!=null?l.concat([r]):null,Qd(4,4,MT.bind(null,s,r),l)}function Rg(){}function kT(r,s){var l=Pt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&gg(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function jT(r,s){var l=Pt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&gg(s,u[1]))return u[0];if(u=r(),Ba){Zn(!0);try{r()}finally{Zn(!1)}}return l.memoizedState=[u,s],u}function Ig(r,s,l){return l===void 0||(Cr&1073741824)!==0&&(Ge&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=L1(),Le.lanes|=r,bs|=r,l)}function LT(r,s,l,u){return Bn(l,s)?l:rl.current!==null?(r=Ig(r,l,u),Bn(r,s)||(Ft=!0),r):(Cr&42)===0||(Cr&1073741824)!==0&&(Ge&261930)===0?(Ft=!0,r.memoizedState=l):(r=L1(),Le.lanes|=r,bs|=r,s)}function zT(r,s,l,u,p){var g=oe.p;oe.p=g!==0&&8>g?g:8;var S=te.T,A={};te.T=A,Vg(r,!1,s,l);try{var L=p(),W=te.S;if(W!==null&&W(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=UV(L,u);ru(r,s,re,Qn(r))}else ru(r,s,u,Qn(r))}catch(ae){ru(r,s,{then:function(){},status:"rejected",reason:ae},Qn())}finally{oe.p=g,S!==null&&A.types!==null&&(S.types=A.types),te.T=S}}function KV(){}function Cg(r,s,l,u){if(r.tag!==5)throw Error(i(476));var p=UT(r).queue;zT(r,p,s,me,l===null?KV:function(){return BT(r),l(u)})}function UT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:me},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function BT(r){var s=UT(r);s.next===null&&(s=r.alternate.memoizedState),ru(r,s.next.queue,{},Qn())}function Dg(){return un(Tu)}function FT(){return Pt().memoizedState}function qT(){return Pt().memoizedState}function QV(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Qn();r=ys(l);var u=vs(s,r,l);u!==null&&(jn(u,s,l),Zc(u,s,l)),s={cache:sg()},r.payload=s;return}s=s.return}}function $V(r,s,l){var u=Qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$d(r)?GT(s,l):(l=$p(r,s,l,u),l!==null&&(jn(l,r,u),KT(l,s,u)))}function HT(r,s,l){var u=Qn();ru(r,s,l,u)}function ru(r,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if($d(r))GT(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,A=g(S,l);if(p.hasEagerState=!0,p.eagerState=A,Bn(A,S))return Id(r,s,p,0),ft===null&&Rd(),!1}catch{}if(l=$p(r,s,p,u),l!==null)return jn(l,r,u),KT(l,s,u),!0}return!1}function Vg(r,s,l,u){if(u={lane:2,revertLane:cy(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},$d(r)){if(s)throw Error(i(479))}else s=$p(r,l,u,2),s!==null&&jn(s,r,2)}function $d(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function GT(r,s){sl=Bd=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function KT(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,wc(r,l)}}var su={readContext:un,use:Hd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};su.useEffectEvent=At;var QT={readContext:un,use:Hd,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:DT,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Kd(4194308,4,MT.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Kd(4194308,4,r,s)},useInsertionEffect:function(r,s){Kd(4,2,r,s)},useMemo:function(r,s){var l=An();s=s===void 0?null:s;var u=r();if(Ba){Zn(!0);try{r()}finally{Zn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=An();if(l!==void 0){var p=l(s);if(Ba){Zn(!0);try{l(s)}finally{Zn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=$V.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=xg(r);var s=r.queue,l=HT.bind(null,Le,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Rg,useDeferredValue:function(r,s){var l=An();return Ig(l,r,s)},useTransition:function(){var r=xg(!1);return r=zT.bind(null,Le,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Le,p=An();if(Ye){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),ft===null)throw Error(i(349));(Ge&127)!==0||mT(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,DT(gT.bind(null,u,g,r),[r]),u.flags|=2048,ol(9,{destroy:void 0},pT.bind(null,u,g,l,s),null),l},useId:function(){var r=An(),s=ft.identifierPrefix;if(Ye){var l=ar,u=sr;l=(u&~(1<<32-Dt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Fd++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=BV++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Dg,useFormState:AT,useActionState:AT,useOptimistic:function(r){var s=An();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Vg.bind(null,Le,!0,l),l.dispatch=s,[r,s]},useMemoCache:Tg,useCacheRefresh:function(){return An().memoizedState=QV.bind(null,Le)},useEffectEvent:function(r){var s=An(),l={impl:r};return s.memoizedState=l,function(){if((et&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Og={readContext:un,use:Hd,useCallback:kT,useContext:un,useEffect:wg,useImperativeHandle:NT,useInsertionEffect:OT,useLayoutEffect:PT,useMemo:jT,useReducer:Gd,useRef:CT,useState:function(){return Gd(Dr)},useDebugValue:Rg,useDeferredValue:function(r,s){var l=Pt();return LT(l,ut.memoizedState,r,s)},useTransition:function(){var r=Gd(Dr)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:iu(r),s]},useSyncExternalStore:fT,useId:FT,useHostTransitionStatus:Dg,useFormState:wT,useActionState:wT,useOptimistic:function(r,s){var l=Pt();return _T(l,ut,r,s)},useMemoCache:Tg,useCacheRefresh:qT};Og.useEffectEvent=VT;var $T={readContext:un,use:Hd,useCallback:kT,useContext:un,useEffect:wg,useImperativeHandle:NT,useInsertionEffect:OT,useLayoutEffect:PT,useMemo:jT,useReducer:bg,useRef:CT,useState:function(){return bg(Dr)},useDebugValue:Rg,useDeferredValue:function(r,s){var l=Pt();return ut===null?Ig(l,r,s):LT(l,ut.memoizedState,r,s)},useTransition:function(){var r=bg(Dr)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:iu(r),s]},useSyncExternalStore:fT,useId:FT,useHostTransitionStatus:Dg,useFormState:IT,useActionState:IT,useOptimistic:function(r,s){var l=Pt();return ut!==null?_T(l,ut,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Tg,useCacheRefresh:qT};$T.useEffectEvent=VT;function Pg(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:_({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Mg={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=Qn(),p=ys(u);p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,u),s!==null&&(jn(s,r,u),Zc(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=Qn(),p=ys(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=vs(r,p,u),s!==null&&(jn(s,r,u),Zc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Qn(),u=ys(l);u.tag=2,s!=null&&(u.callback=s),s=vs(r,u,l),s!==null&&(jn(s,r,l),Zc(s,r,l))}};function YT(r,s,l,u,p,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!Gc(l,u)||!Gc(p,g):!0}function WT(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Mg.enqueueReplaceState(s,s.state,null)}function Fa(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=_({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function XT(r){wd(r)}function JT(r){console.error(r)}function ZT(r){wd(r)}function Yd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function e1(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ng(r,s,l){return l=ys(l),l.tag=3,l.payload={element:null},l.callback=function(){Yd(r,s)},l}function t1(r){return r=ys(r),r.tag=3,r}function n1(r,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;r.payload=function(){return p(g)},r.callback=function(){e1(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){e1(s,l,u),typeof p!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function YV(r,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Zo(s,l,p,!0),l=qn.current,l!==null){switch(l.tag){case 31:case 13:return ci===null?lf():l.alternate===null&&wt===0&&(wt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===kd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ay(r,u,p)),!1;case 22:return l.flags|=65536,u===kd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ay(r,u,p)),!1}throw Error(i(435,l.tag))}return ay(r,u,p),lf(),!1}if(Ye)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==eg&&(r=Error(i(422),{cause:u}),$c(si(r,l)))):(u!==eg&&(s=Error(i(423),{cause:u}),$c(si(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=si(u,l),p=Ng(r.stateNode,u,p),hg(r,p),wt!==4&&(wt=2)),!1;var g=Error(i(520),{cause:u});if(g=si(g,l),fu===null?fu=[g]:fu.push(g),wt!==4&&(wt=2),s===null)return!0;u=si(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Ng(l.stateNode,u,r),hg(l,r),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=t1(p),n1(p,r,l,u),hg(l,p),!1}l=l.return}while(l!==null);return!1}var kg=Error(i(461)),Ft=!1;function hn(r,s,l,u){s.child=r===null?aT(s,null,l,u):Ua(s,r.child,l,u)}function i1(r,s,l,u,p){l=l.render;var g=s.ref;if("ref"in u){var S={};for(var A in u)A!=="ref"&&(S[A]=u[A])}else S=u;return ka(s),u=yg(r,s,l,S,g,p),A=vg(),r!==null&&!Ft?(_g(r,s,p),Vr(r,s,p)):(Ye&&A&&Jp(s),s.flags|=1,hn(r,s,u,p),s.child)}function r1(r,s,l,u,p){if(r===null){var g=l.type;return typeof g=="function"&&!Yp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,s1(r,s,g,u,p)):(r=Dd(l.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Hg(r,p)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:Gc,l(S,u)&&r.ref===s.ref)return Vr(r,s,p)}return s.flags|=1,r=Ar(g,u),r.ref=s.ref,r.return=s,s.child=r}function s1(r,s,l,u,p){if(r!==null){var g=r.memoizedProps;if(Gc(g,u)&&r.ref===s.ref)if(Ft=!1,s.pendingProps=u=g,Hg(r,p))(r.flags&131072)!==0&&(Ft=!0);else return s.lanes=r.lanes,Vr(r,s,p)}return jg(r,s,l,u,p)}function a1(r,s,l,u){var p=u.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(u=s.child=r.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return o1(r,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Md(s,g!==null?g.cachePool:null),g!==null?cT(s,g):fg(),uT(s);else return u=s.lanes=536870912,o1(r,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Md(s,g.cachePool),cT(s,g),Es(),s.memoizedState=null):(r!==null&&Md(s,null),fg(),Es());return hn(r,s,p,l),s.child}function au(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function o1(r,s,l,u,p){var g=og();return g=g===null?null:{parent:Ut._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},r!==null&&Md(s,null),fg(),uT(s),r!==null&&Zo(r,s,u,!0),s.childLanes=p,null}function Wd(r,s){return s=Jd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function l1(r,s,l){return Ua(s,r.child,null,l),r=Wd(s,s.pendingProps),r.flags|=2,Hn(s),s.memoizedState=null,r}function WV(r,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ye){if(u.mode==="hidden")return r=Wd(s,u),s.lanes=536870912,au(null,r);if(pg(s),(r=gt)?(r=ES(r,li),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=GE(r),l.return=s,s.child=l,cn=s,gt=null)):r=null,r===null)throw ms(s);return s.lanes=536870912,null}return Wd(s,u)}var g=r.memoizedState;if(g!==null){var S=g.dehydrated;if(pg(s),p)if(s.flags&256)s.flags&=-257,s=l1(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ft||Zo(r,s,l,!1),p=(l&r.childLanes)!==0,Ft||p){if(u=ft,u!==null&&(S=Rc(u,l),S!==0&&S!==g.retryLane))throw g.retryLane=S,Oa(r,S),jn(u,r,S),kg;lf(),s=l1(r,s,l)}else r=g.treeContext,gt=ui(S.nextSibling),cn=s,Ye=!0,fs=null,li=!1,r!==null&&$E(s,r),s=Wd(s,u),s.flags|=4096;return s}return r=Ar(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Xd(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function jg(r,s,l,u,p){return ka(s),l=yg(r,s,l,u,void 0,p),u=vg(),r!==null&&!Ft?(_g(r,s,p),Vr(r,s,p)):(Ye&&u&&Jp(s),s.flags|=1,hn(r,s,l,p),s.child)}function c1(r,s,l,u,p,g){return ka(s),s.updateQueue=null,l=dT(s,u,l,p),hT(r),u=vg(),r!==null&&!Ft?(_g(r,s,g),Vr(r,s,g)):(Ye&&u&&Jp(s),s.flags|=1,hn(r,s,l,g),s.child)}function u1(r,s,l,u,p){if(ka(s),s.stateNode===null){var g=Yo,S=l.contextType;typeof S=="object"&&S!==null&&(g=un(S)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Mg,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},cg(s),S=l.contextType,g.context=typeof S=="object"&&S!==null?un(S):Yo,g.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Pg(s,l,S,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Mg.enqueueReplaceState(g,g.state,null),tu(s,u,g,p),eu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,L=Fa(l,A);g.props=L;var W=g.context,re=l.contextType;S=Yo,typeof re=="object"&&re!==null&&(S=un(re));var ae=l.getDerivedStateFromProps;re=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||W!==S)&&WT(s,g,u,S),gs=!1;var X=s.memoizedState;g.state=X,tu(s,u,g,p),eu(),W=s.memoizedState,A||X!==W||gs?(typeof ae=="function"&&(Pg(s,l,ae,u),W=s.memoizedState),(L=gs||YT(s,l,L,u,X,W,S))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=S,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,ug(r,s),S=s.memoizedProps,re=Fa(l,S),g.props=re,ae=s.pendingProps,X=g.context,W=l.contextType,L=Yo,typeof W=="object"&&W!==null&&(L=un(W)),A=l.getDerivedStateFromProps,(W=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ae||X!==L)&&WT(s,g,u,L),gs=!1,X=s.memoizedState,g.state=X,tu(s,u,g,p),eu();var ee=s.memoizedState;S!==ae||X!==ee||gs||r!==null&&r.dependencies!==null&&Od(r.dependencies)?(typeof A=="function"&&(Pg(s,l,A,u),ee=s.memoizedState),(re=gs||YT(s,l,re,u,X,ee,L)||r!==null&&r.dependencies!==null&&Od(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=L,u=re):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Xd(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ua(s,r.child,null,p),s.child=Ua(s,null,l,p)):hn(r,s,l,p),s.memoizedState=g.state,r=s.child):r=Vr(r,s,p),r}function h1(r,s,l,u){return Ma(),s.flags|=256,hn(r,s,l,u),s.child}var Lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zg(r){return{baseLanes:r,cachePool:eT()}}function Ug(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Kn),r}function d1(r,s,l){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ye){if(p?_s(s):Es(),(r=gt)?(r=ES(r,li),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=GE(r),l.return=s,s.child=l,cn=s,gt=null)):r=null,r===null)throw ms(s);return Sy(r)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,p?(Es(),p=s.mode,A=Jd({mode:"hidden",children:A},p),u=Pa(u,p,l,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=zg(l),u.childLanes=Ug(r,S,l),s.memoizedState=Lg,au(null,u)):(_s(s),Bg(s,A))}var L=r.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(g)s.flags&256?(_s(s),s.flags&=-257,s=Fg(r,s,l)):s.memoizedState!==null?(Es(),s.child=r.child,s.flags|=128,s=null):(Es(),A=u.fallback,p=s.mode,u=Jd({mode:"visible",children:u.children},p),A=Pa(A,p,l,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,Ua(s,r.child,null,l),u=s.child,u.memoizedState=zg(l),u.childLanes=Ug(r,S,l),s.memoizedState=Lg,s=au(null,u));else if(_s(s),Sy(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(i(419)),u.stack="",u.digest=S,$c({value:u,source:null,stack:null}),s=Fg(r,s,l)}else if(Ft||Zo(r,s,l,!1),S=(l&r.childLanes)!==0,Ft||S){if(S=ft,S!==null&&(u=Rc(S,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,Oa(r,u),jn(S,r,u),kg;Ty(A)||lf(),s=Fg(r,s,l)}else Ty(A)?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,gt=ui(A.nextSibling),cn=s,Ye=!0,fs=null,li=!1,r!==null&&$E(s,r),s=Bg(s,u.children),s.flags|=4096);return s}return p?(Es(),A=u.fallback,p=s.mode,L=r.child,W=L.sibling,u=Ar(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?A=Ar(W,A):(A=Pa(A,p,l,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,au(null,u),u=s.child,A=r.child.memoizedState,A===null?A=zg(l):(p=A.cachePool,p!==null?(L=Ut._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=eT(),A={baseLanes:A.baseLanes|l,cachePool:p}),u.memoizedState=A,u.childLanes=Ug(r,S,l),s.memoizedState=Lg,au(r.child,u)):(_s(s),l=r.child,r=l.sibling,l=Ar(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=l,s.memoizedState=null,l)}function Bg(r,s){return s=Jd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Jd(r,s){return r=Fn(22,r,null,s),r.lanes=0,r}function Fg(r,s,l){return Ua(s,r.child,null,l),r=Bg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function f1(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),ig(r.return,s,l)}function qg(r,s,l,u,p,g){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=l,S.tailMode=p,S.treeForkCount=g)}function m1(r,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var S=Ot.current,A=(S&2)!==0;if(A?(S=S&1|2,s.flags|=128):S&=1,ue(Ot,S),hn(r,s,u,l),u=Ye?Qc:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&f1(r,l,s);else if(r.tag===19)f1(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Ud(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),qg(s,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ud(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}qg(s,!0,l,null,g,u);break;case"together":qg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Vr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Zo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Ar(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ar(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Hg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Od(r)))}function XV(r,s,l){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),ps(s,Ut,r.memoizedState.cache),Ma();break;case 27:case 5:Ui(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pg(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(_s(s),s.flags|=128,null):(l&s.child.childLanes)!==0?d1(r,s,l):(_s(s),r=Vr(r,s,l),r!==null?r.sibling:null);_s(s);break;case 19:var p=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Zo(r,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return m1(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(Ot,Ot.current),u)break;return null;case 22:return s.lanes=0,a1(r,s,l,s.pendingProps);case 24:ps(s,Ut,r.memoizedState.cache)}return Vr(r,s,l)}function p1(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Hg(r,l)&&(s.flags&128)===0)return Ft=!1,XV(r,s,l);Ft=(r.flags&131072)!==0}else Ft=!1,Ye&&(s.flags&1048576)!==0&&QE(s,Qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=La(s.elementType),s.type=r,typeof r=="function")Yp(r)?(u=Fa(r,u),s.tag=1,s=u1(null,s,r,u,l)):(s.tag=0,s=jg(null,s,r,u,l));else{if(r!=null){var p=r.$$typeof;if(p===J){s.tag=11,s=i1(null,s,r,u,l);break e}else if(p===I){s.tag=14,s=r1(null,s,r,u,l);break e}}throw s=Ae(r)||r,Error(i(306,s,""))}}return s;case 0:return jg(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=Fa(u,s.pendingProps),u1(r,s,u,p,l);case 3:e:{if(lt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,ug(r,s),tu(s,u,null,l);var S=s.memoizedState;if(u=S.cache,ps(s,Ut,u),u!==g.cache&&rg(s,[Ut],l,!0),eu(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=h1(r,s,u,l);break e}else if(u!==p){p=si(Error(i(424)),s),$c(p),s=h1(r,s,u,l);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,gt=ui(r.firstChild),cn=s,Ye=!0,fs=null,li=!0,l=aT(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ma(),u===p){s=Vr(r,s,l);break e}hn(r,s,u,l)}s=s.child}return s;case 26:return Xd(r,s),r===null?(l=wS(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ye||(l=s.type,r=s.pendingProps,u=pf(Ce.current).createElement(l),u[jt]=s,u[en]=r,dn(u,l,r),Lt(u),s.stateNode=u):s.memoizedState=wS(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ui(s),r===null&&Ye&&(u=s.stateNode=bS(s.type,s.pendingProps,Ce.current),cn=s,li=!0,p=gt,Is(s.type)?(by=p,gt=ui(u.firstChild)):gt=p),hn(r,s,s.pendingProps.children,l),Xd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ye&&((p=u=gt)&&(u=RO(u,s.type,s.pendingProps,li),u!==null?(s.stateNode=u,cn=s,gt=ui(u.firstChild),li=!1,p=!0):p=!1),p||ms(s)),Ui(s),p=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,vy(p,g)?u=null:S!==null&&vy(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=yg(r,s,FV,null,null,l),Tu._currentValue=p),Xd(r,s),hn(r,s,u,l),s.child;case 6:return r===null&&Ye&&((r=l=gt)&&(l=IO(l,s.pendingProps,li),l!==null?(s.stateNode=l,cn=s,gt=null,r=!0):r=!1),r||ms(s)),null;case 13:return d1(r,s,l);case 4:return lt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ua(s,null,u,l):hn(r,s,u,l),s.child;case 11:return i1(r,s,s.type,s.pendingProps,l);case 7:return hn(r,s,s.pendingProps,l),s.child;case 8:return hn(r,s,s.pendingProps.children,l),s.child;case 12:return hn(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,ps(s,s.type,u.value),hn(r,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,ka(s),p=un(p),u=u(p),s.flags|=1,hn(r,s,u,l),s.child;case 14:return r1(r,s,s.type,s.pendingProps,l);case 15:return s1(r,s,s.type,s.pendingProps,l);case 19:return m1(r,s,l);case 31:return WV(r,s,l);case 22:return a1(r,s,l,s.pendingProps);case 24:return ka(s),u=un(Ut),r===null?(p=og(),p===null&&(p=ft,g=sg(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:u,cache:p},cg(s),ps(s,Ut,p)):((r.lanes&l)!==0&&(ug(r,s),tu(s,null,null,l),eu()),p=r.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ps(s,Ut,u)):(u=g.cache,ps(s,Ut,u),u!==p.cache&&rg(s,[Ut],l,!0))),hn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Or(r){r.flags|=4}function Gg(r,s,l,u,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(F1())r.flags|=8192;else throw za=kd,lg}else r.flags&=-16777217}function g1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!VS(s))if(F1())r.flags|=8192;else throw za=kd,lg}function Zd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?sd():536870912,r.lanes|=s,hl|=s)}function ou(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function JV(r,s,l){var u=s.pendingProps;switch(Zp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ir(Ut),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Jo(s)?Or(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tg())),yt(s),null;case 26:var p=s.type,g=s.memoizedState;return r===null?(Or(s),g!==null?(yt(s),g1(s,g)):(yt(s),Gg(s,p,null,u,l))):g?g!==r.memoizedState?(Or(s),yt(s),g1(s,g)):(yt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Or(s),yt(s),Gg(s,p,r,u,l)),null;case 27:if(Do(s),l=Ce.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return yt(s),null}r=de.current,Jo(s)?YE(s):(r=bS(p,u,l),s.stateNode=r,Or(s))}return yt(s),null;case 5:if(Do(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return yt(s),null}if(g=de.current,Jo(s))YE(s);else{var S=pf(Ce.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}g[jt]=s,g[en]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=g;e:switch(dn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Or(s)}}return yt(s),Gg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ce.current,Jo(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,p=cn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[jt]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dS(r.nodeValue,l)),r||ms(s,!0)}else r=pf(r).createTextNode(u),r[jt]=s,s.stateNode=r}return yt(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(u=Jo(s),l!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[jt]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),r=!1}else l=tg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Hn(s),s):(Hn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return yt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Jo(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[jt]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),p=!1}else p=tg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Hn(s),s):(Hn(s),null)}return Hn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,r=r!==null&&r.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),Zd(s,s.updateQueue),yt(s),null);case 4:return nt(),r===null&&fy(s.stateNode.containerInfo),yt(s),null;case 10:return Ir(s.type),yt(s),null;case 19:if(ie(Ot),u=s.memoizedState,u===null)return yt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)ou(u,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Ud(r),g!==null){for(s.flags|=128,ou(u,!1),r=g.updateQueue,s.updateQueue=r,Zd(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)HE(l,r),l=l.sibling;return ue(Ot,Ot.current&1|2),Ye&&wr(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&bn()>sf&&(s.flags|=128,p=!0,ou(u,!1),s.lanes=4194304)}else{if(!p)if(r=Ud(g),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Zd(s,r),ou(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ye)return yt(s),null}else 2*bn()-u.renderingStartTime>sf&&l!==536870912&&(s.flags|=128,p=!0,ou(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(r=u.last,r!==null?r.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=bn(),r.sibling=null,l=Ot.current,ue(Ot,p?l&1|2:l&1),Ye&&wr(s,u.treeForkCount),r):(yt(s),null);case 22:case 23:return Hn(s),mg(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),l=s.updateQueue,l!==null&&Zd(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&ie(ja),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ir(Ut),yt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ZV(r,s){switch(Zp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ir(Ut),nt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Do(s),null;case 31:if(s.memoizedState!==null){if(Hn(s),s.alternate===null)throw Error(i(340));Ma()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Hn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ma()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(Ot),null;case 4:return nt(),null;case 10:return Ir(s.type),null;case 22:case 23:return Hn(s),mg(),r!==null&&ie(ja),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ir(Ut),null;case 25:return null;default:return null}}function y1(r,s){switch(Zp(s),s.tag){case 3:Ir(Ut),nt();break;case 26:case 27:case 5:Do(s);break;case 4:nt();break;case 31:s.memoizedState!==null&&Hn(s);break;case 13:Hn(s);break;case 19:ie(Ot);break;case 10:Ir(s.type);break;case 22:case 23:Hn(s),mg(),r!==null&&ie(ja);break;case 24:Ir(Ut)}}function lu(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var g=l.create,S=l.inst;u=g(),S.destroy=u}l=l.next}while(l!==p)}}catch(A){st(s,s.return,A)}}function Ts(r,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&r)===r){var S=u.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,p=s;var L=l,W=A;try{W()}catch(re){st(p,L,re)}}}u=u.next}while(u!==g)}}catch(re){st(s,s.return,re)}}function v1(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{lT(s,l)}catch(u){st(r,r.return,u)}}}function _1(r,s,l){l.props=Fa(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){st(r,s,u)}}function cu(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){st(r,s,p)}}function or(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){st(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){st(r,s,p)}else l.current=null}function E1(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){st(r,r.return,p)}}function Kg(r,s,l){try{var u=r.stateNode;TO(u,r.type,l,s),u[en]=s}catch(p){st(r,r.return,p)}}function T1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Is(r.type)||r.tag===4}function Qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||T1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Is(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $g(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bi));else if(u!==4&&(u===27&&Is(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for($g(r,s,l),r=r.sibling;r!==null;)$g(r,s,l),r=r.sibling}function ef(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&Is(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(ef(r,s,l),r=r.sibling;r!==null;)ef(r,s,l),r=r.sibling}function S1(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);dn(s,u,l),s[jt]=r,s[en]=l}catch(g){st(r,r.return,g)}}var Pr=!1,qt=!1,Yg=!1,b1=typeof WeakSet=="function"?WeakSet:Set,nn=null;function eO(r,s){if(r=r.containerInfo,gy=Sf,r=NE(r),Fp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,A=-1,L=-1,W=0,re=0,ae=r,X=null;t:for(;;){for(var ee;ae!==l||p!==0&&ae.nodeType!==3||(A=S+p),ae!==g||u!==0&&ae.nodeType!==3||(L=S+u),ae.nodeType===3&&(S+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)X=ae,ae=ee;for(;;){if(ae===r)break t;if(X===l&&++W===p&&(A=S),X===g&&++re===u&&(L=S),(ee=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=ee}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(yy={focusedElem:r,selectionRange:l},Sf=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var pe=Fa(l.type,p);r=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(we){st(l,l.return,we)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)Ey(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ey(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function x1(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Nr(r,l),u&4&&lu(5,l);break;case 1:if(Nr(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(S){st(l,l.return,S)}else{var p=Fa(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(S){st(l,l.return,S)}}u&64&&v1(l),u&512&&cu(l,l.return);break;case 3:if(Nr(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{lT(r,s)}catch(S){st(l,l.return,S)}}break;case 27:s===null&&u&4&&S1(l);case 26:case 5:Nr(r,l),s===null&&u&4&&E1(l),u&512&&cu(l,l.return);break;case 12:Nr(r,l);break;case 31:Nr(r,l),u&4&&R1(r,l);break;case 13:Nr(r,l),u&4&&I1(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=cO.bind(null,l),CO(r,l))));break;case 22:if(u=l.memoizedState!==null||Pr,!u){s=s!==null&&s.memoizedState!==null||qt,p=Pr;var g=qt;Pr=u,(qt=s)&&!g?kr(r,l,(l.subtreeFlags&8772)!==0):Nr(r,l),Pr=p,qt=g}break;case 30:break;default:Nr(r,l)}}function A1(r){var s=r.alternate;s!==null&&(r.alternate=null,A1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&No(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Pn=!1;function Mr(r,s,l){for(l=l.child;l!==null;)w1(r,s,l),l=l.sibling}function w1(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(_i,l)}catch{}switch(l.tag){case 26:qt||or(l,s),Mr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qt||or(l,s);var u=_t,p=Pn;Is(l.type)&&(_t=l.stateNode,Pn=!1),Mr(r,s,l),vu(l.stateNode),_t=u,Pn=p;break;case 5:qt||or(l,s);case 6:if(u=_t,p=Pn,_t=null,Mr(r,s,l),_t=u,Pn=p,_t!==null)if(Pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(g){st(l,s,g)}else try{_t.removeChild(l.stateNode)}catch(g){st(l,s,g)}break;case 18:_t!==null&&(Pn?(r=_t,vS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),_l(r)):vS(_t,l.stateNode));break;case 4:u=_t,p=Pn,_t=l.stateNode.containerInfo,Pn=!0,Mr(r,s,l),_t=u,Pn=p;break;case 0:case 11:case 14:case 15:Ts(2,l,s),qt||Ts(4,l,s),Mr(r,s,l);break;case 1:qt||(or(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&_1(l,s,u)),Mr(r,s,l);break;case 21:Mr(r,s,l);break;case 22:qt=(u=qt)||l.memoizedState!==null,Mr(r,s,l),qt=u;break;default:Mr(r,s,l)}}function R1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{_l(r)}catch(l){st(s,s.return,l)}}}function I1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_l(r)}catch(l){st(s,s.return,l)}}function tO(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new b1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new b1),s;default:throw Error(i(435,r.tag))}}function tf(r,s){var l=tO(r);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=uO.bind(null,r,u);u.then(p,p)}})}function Mn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=r,S=s,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Is(A.type)){_t=A.stateNode,Pn=!1;break e}break;case 5:_t=A.stateNode,Pn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,Pn=!0;break e}A=A.return}if(_t===null)throw Error(i(160));w1(g,S,p),_t=null,Pn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)C1(s,r),s=s.sibling}var Ci=null;function C1(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Nn(r),u&4&&(Ts(3,r,r.return),lu(3,r),Ts(5,r,r.return));break;case 1:Mn(s,r),Nn(r),u&512&&(qt||l===null||or(l,l.return)),u&64&&Pr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Ci;if(Mn(s,r),Nn(r),u&512&&(qt||l===null||or(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Qi]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),dn(g,u,l),g[jt]=r,Lt(g),u=g;break e;case"link":var S=CS("link","href",p).get(u+(l.href||""));if(S){for(var A=0;A<S.length;A++)if(g=S[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(A,1);break t}}g=p.createElement(u),dn(g,u,l),p.head.appendChild(g);break;case"meta":if(S=CS("meta","content",p).get(u+(l.content||""))){for(A=0;A<S.length;A++)if(g=S[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(A,1);break t}}g=p.createElement(u),dn(g,u,l),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[jt]=r,Lt(g),u=g}r.stateNode=u}else DS(p,r.type,r.stateNode);else r.stateNode=IS(p,u,r.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?DS(p,r.type,r.stateNode):IS(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Kg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Mn(s,r),Nn(r),u&512&&(qt||l===null||or(l,l.return)),l!==null&&u&4&&Kg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Mn(s,r),Nn(r),u&512&&(qt||l===null||or(l,l.return)),r.flags&32){p=r.stateNode;try{On(p,"")}catch(pe){st(r,r.return,pe)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,Kg(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Yg=!0);break;case 6:if(Mn(s,r),Nn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(pe){st(r,r.return,pe)}}break;case 3:if(vf=null,p=Ci,Ci=gf(s.containerInfo),Mn(s,r),Ci=p,Nn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{_l(s.containerInfo)}catch(pe){st(r,r.return,pe)}Yg&&(Yg=!1,D1(r));break;case 4:u=Ci,Ci=gf(r.stateNode.containerInfo),Mn(s,r),Nn(r),Ci=u;break;case 12:Mn(s,r),Nn(r);break;case 31:Mn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,tf(r,u)));break;case 13:Mn(s,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rf=bn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,tf(r,u)));break;case 22:p=r.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=Pr,re=qt;if(Pr=W||p,qt=re||L,Mn(s,r),qt=re,Pr=W,Nn(r),u&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||L||Pr||qt||qa(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(g=L.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=L.stateNode;var ae=L.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){st(L,L.return,pe)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(pe){st(L,L.return,pe)}}}else if(s.tag===18){if(l===null){L=s;try{var ee=L.stateNode;p?_S(ee,!0):_S(L.stateNode,!1)}catch(pe){st(L,L.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,tf(r,l))));break;case 19:Mn(s,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,tf(r,u)));break;case 30:break;case 21:break;default:Mn(s,r),Nn(r)}}function Nn(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(T1(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=Qg(r);ef(r,g,p);break;case 5:var S=l.stateNode;l.flags&32&&(On(S,""),l.flags&=-33);var A=Qg(r);ef(r,A,S);break;case 3:case 4:var L=l.stateNode.containerInfo,W=Qg(r);$g(r,W,L);break;default:throw Error(i(161))}}catch(re){st(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function D1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;D1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Nr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x1(r,s.alternate,s),s=s.sibling}function qa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),qa(s);break;case 1:or(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&_1(s,s.return,l),qa(s);break;case 27:vu(s.stateNode);case 26:case 5:or(s,s.return),qa(s);break;case 22:s.memoizedState===null&&qa(s);break;case 30:qa(s);break;default:qa(s)}r=r.sibling}}function kr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:kr(p,g,l),lu(4,g);break;case 1:if(kr(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){st(u,u.return,W)}if(u=g,p=u.updateQueue,p!==null){var A=u.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)oT(L[p],A)}catch(W){st(u,u.return,W)}}l&&S&64&&v1(g),cu(g,g.return);break;case 27:S1(g);case 26:case 5:kr(p,g,l),l&&u===null&&S&4&&E1(g),cu(g,g.return);break;case 12:kr(p,g,l);break;case 31:kr(p,g,l),l&&S&4&&R1(p,g);break;case 13:kr(p,g,l),l&&S&4&&I1(p,g);break;case 22:g.memoizedState===null&&kr(p,g,l),cu(g,g.return);break;case 30:break;default:kr(p,g,l)}s=s.sibling}}function Wg(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Yc(l))}function Xg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yc(r))}function Di(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V1(r,s,l,u),s=s.sibling}function V1(r,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Di(r,s,l,u),p&2048&&lu(9,s);break;case 1:Di(r,s,l,u);break;case 3:Di(r,s,l,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yc(r)));break;case 12:if(p&2048){Di(r,s,l,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,A=g.onPostCommit;typeof A=="function"&&A(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){st(s,s.return,L)}}else Di(r,s,l,u);break;case 31:Di(r,s,l,u);break;case 13:Di(r,s,l,u);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?Di(r,s,l,u):uu(r,s):g._visibility&2?Di(r,s,l,u):(g._visibility|=2,ll(r,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Wg(S,s);break;case 24:Di(r,s,l,u),p&2048&&Xg(s.alternate,s);break;default:Di(r,s,l,u)}}function ll(r,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,S=s,A=l,L=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:ll(g,S,A,L,p),lu(8,S);break;case 23:break;case 22:var re=S.stateNode;S.memoizedState!==null?re._visibility&2?ll(g,S,A,L,p):uu(g,S):(re._visibility|=2,ll(g,S,A,L,p)),p&&W&2048&&Wg(S.alternate,S);break;case 24:ll(g,S,A,L,p),p&&W&2048&&Xg(S.alternate,S);break;default:ll(g,S,A,L,p)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,p=u.flags;switch(u.tag){case 22:uu(l,u),p&2048&&Wg(u.alternate,u);break;case 24:uu(l,u),p&2048&&Xg(u.alternate,u);break;default:uu(l,u)}s=s.sibling}}var hu=8192;function cl(r,s,l){if(r.subtreeFlags&hu)for(r=r.child;r!==null;)O1(r,s,l),r=r.sibling}function O1(r,s,l){switch(r.tag){case 26:cl(r,s,l),r.flags&hu&&r.memoizedState!==null&&BO(l,Ci,r.memoizedState,r.memoizedProps);break;case 5:cl(r,s,l);break;case 3:case 4:var u=Ci;Ci=gf(r.stateNode.containerInfo),cl(r,s,l),Ci=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=hu,hu=16777216,cl(r,s,l),hu=u):cl(r,s,l));break;default:cl(r,s,l)}}function P1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function du(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];nn=u,N1(u,r)}P1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M1(r),r=r.sibling}function M1(r){switch(r.tag){case 0:case 11:case 15:du(r),r.flags&2048&&Ts(9,r,r.return);break;case 3:du(r);break;case 12:du(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,nf(r)):du(r);break;default:du(r)}}function nf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];nn=u,N1(u,r)}P1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),nf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,nf(s));break;default:nf(s)}r=r.sibling}}function N1(r,s){for(;nn!==null;){var l=nn;switch(l.tag){case 0:case 11:case 15:Ts(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,nn=u;else e:for(l=r;nn!==null;){u=nn;var p=u.sibling,g=u.return;if(A1(u),u===l){nn=null;break e}if(p!==null){p.return=g,nn=p;break e}nn=g}}}var nO={getCacheForType:function(r){var s=un(Ut),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return un(Ut).controller.signal}},iO=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Fe=null,Ge=0,rt=0,Gn=null,Ss=!1,ul=!1,Jg=!1,jr=0,wt=0,bs=0,Ha=0,Zg=0,Kn=0,hl=0,fu=null,kn=null,ey=!1,rf=0,k1=0,sf=1/0,af=null,xs=null,Wt=0,As=null,dl=null,Lr=0,ty=0,ny=null,j1=null,mu=0,iy=null;function Qn(){return(et&2)!==0&&Ge!==0?Ge&-Ge:te.T!==null?cy():ad()}function L1(){if(Kn===0)if((Ge&536870912)===0||Ye){var r=ya;ya<<=1,(ya&3932160)===0&&(ya=262144),Kn=r}else Kn=536870912;return r=qn.current,r!==null&&(r.flags|=32),Kn}function jn(r,s,l){(r===ft&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(fl(r,0),ws(r,Ge,Kn,!1)),va(r,l),((et&2)===0||r!==ft)&&(r===ft&&((et&2)===0&&(Ha|=l),wt===4&&ws(r,Ge,Kn,!1)),lr(r))}function z1(r,s,l){if((et&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&r.expiredLanes)===0||Ei(r,s),p=u?aO(r,s):sy(r,s,!0),g=u;do{if(p===0){ul&&!u&&ws(r,s,0,!1);break}else{if(l=r.current.alternate,g&&!rO(l)){p=sy(r,s,!1),g=!1;continue}if(p===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var A=r;p=fu;var L=A.current.memoizedState.isDehydrated;if(L&&(fl(A,S).flags|=256),S=sy(A,S,!1),S!==2){if(Jg&&!L){A.errorRecoveryDisabledLanes|=g,Ha|=g,p=4;break e}g=kn,kn=p,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){fl(r,0),ws(r,s,0,!0);break}e:{switch(u=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ws(u,s,Kn,!Ss);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=rf+300-bn(),10<p)){if(ws(u,s,Kn,!Ss),Hi(u,0,!0)!==0)break e;Lr=s,u.timeoutHandle=gS(U1.bind(null,u,l,kn,af,ey,s,Kn,Ha,hl,Ss,g,"Throttled",-0,0),p);break e}U1(u,l,kn,af,ey,s,Kn,Ha,hl,Ss,g,null,-0,0)}}break}while(!0);lr(r)}function U1(r,s,l,u,p,g,S,A,L,W,re,ae,X,ee){if(r.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},O1(s,g,ae);var pe=(g&62914560)===g?rf-bn():(g&4194048)===g?k1-bn():0;if(pe=FO(ae,pe),pe!==null){Lr=g,r.cancelPendingCommit=pe($1.bind(null,r,s,g,l,u,p,S,A,L,re,ae,null,X,ee)),ws(r,g,S,!W);return}}$1(r,s,g,l,u,p,S,A,L)}function rO(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Bn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(r,s,l,u){s&=~Zg,s&=~Ha,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var g=31-Dt(p),S=1<<g;u[g]=-1,p&=~S}l!==0&&_a(r,l,s)}function of(){return(et&6)===0?(pu(0),!1):!0}function ry(){if(Fe!==null){if(rt===0)var r=Fe.return;else r=Fe,Rr=Na=null,Eg(r),il=null,Xc=0,r=Fe;for(;r!==null;)y1(r.alternate,r),r=r.return;Fe=null}}function fl(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,xO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Lr=0,ry(),ft=r,Fe=l=Ar(r.current,null),Ge=s,rt=0,Gn=null,Ss=!1,ul=Ei(r,s),Jg=!1,hl=Kn=Zg=Ha=bs=wt=0,kn=fu=null,ey=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-Dt(u),g=1<<p;s|=r[p],u&=~g}return jr=s,Rd(),l}function B1(r,s){Le=null,te.H=su,s===nl||s===Nd?(s=iT(),rt=3):s===lg?(s=iT(),rt=4):rt=s===kg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Fe===null&&(wt=1,Yd(r,si(s,r.current)))}function F1(){var r=qn.current;return r===null?!0:(Ge&4194048)===Ge?ci===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?r===ci:!1}function q1(){var r=te.H;return te.H=su,r===null?su:r}function H1(){var r=te.A;return te.A=nO,r}function lf(){wt=4,Ss||(Ge&4194048)!==Ge&&qn.current!==null||(ul=!0),(bs&134217727)===0&&(Ha&134217727)===0||ft===null||ws(ft,Ge,Kn,!1)}function sy(r,s,l){var u=et;et|=2;var p=q1(),g=H1();(ft!==r||Ge!==s)&&(af=null,fl(r,s)),s=!1;var S=wt;e:do try{if(rt!==0&&Fe!==null){var A=Fe,L=Gn;switch(rt){case 8:ry(),S=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var W=rt;if(rt=0,Gn=null,ml(r,A,L,W),l&&ul){S=0;break e}break;default:W=rt,rt=0,Gn=null,ml(r,A,L,W)}}sO(),S=wt;break}catch(re){B1(r,re)}while(!0);return s&&r.shellSuspendCounter++,Rr=Na=null,et=u,te.H=p,te.A=g,Fe===null&&(ft=null,Ge=0,Rd()),S}function sO(){for(;Fe!==null;)G1(Fe)}function aO(r,s){var l=et;et|=2;var u=q1(),p=H1();ft!==r||Ge!==s?(af=null,sf=bn()+500,fl(r,s)):ul=Ei(r,s);e:do try{if(rt!==0&&Fe!==null){s=Fe;var g=Gn;t:switch(rt){case 1:rt=0,Gn=null,ml(r,s,g,1);break;case 2:case 9:if(tT(g)){rt=0,Gn=null,K1(s);break}s=function(){rt!==2&&rt!==9||ft!==r||(rt=7),lr(r)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:tT(g)?(rt=0,Gn=null,K1(s)):(rt=0,Gn=null,ml(r,s,g,7));break;case 5:var S=null;switch(Fe.tag){case 26:S=Fe.memoizedState;case 5:case 27:var A=Fe;if(S?VS(S):A.stateNode.complete){rt=0,Gn=null;var L=A.sibling;if(L!==null)Fe=L;else{var W=A.return;W!==null?(Fe=W,cf(W)):Fe=null}break t}}rt=0,Gn=null,ml(r,s,g,5);break;case 6:rt=0,Gn=null,ml(r,s,g,6);break;case 8:ry(),wt=6;break e;default:throw Error(i(462))}}oO();break}catch(re){B1(r,re)}while(!0);return Rr=Na=null,te.H=u,te.A=p,et=l,Fe!==null?0:(ft=null,Ge=0,Rd(),wt)}function oO(){for(;Fe!==null&&!Np();)G1(Fe)}function G1(r){var s=p1(r.alternate,r,jr);r.memoizedProps=r.pendingProps,s===null?cf(r):Fe=s}function K1(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=c1(l,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=c1(l,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Eg(s);default:y1(l,s),s=Fe=HE(s,jr),s=p1(l,s,jr)}r.memoizedProps=r.pendingProps,s===null?cf(r):Fe=s}function ml(r,s,l,u){Rr=Na=null,Eg(s),il=null,Xc=0;var p=s.return;try{if(YV(r,p,s,l,Ge)){wt=1,Yd(r,si(l,r.current)),Fe=null;return}}catch(g){if(p!==null)throw Fe=p,g;wt=1,Yd(r,si(l,r.current)),Fe=null;return}s.flags&32768?(Ye||u===1?r=!0:ul||(Ge&536870912)!==0?r=!1:(Ss=r=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Q1(s,r)):cf(s)}function cf(r){var s=r;do{if((s.flags&32768)!==0){Q1(s,Ss);return}r=s.return;var l=JV(s.alternate,s,jr);if(l!==null){Fe=l;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=r}while(s!==null);wt===0&&(wt=5)}function Q1(r,s){do{var l=ZV(r.alternate,r);if(l!==null){l.flags&=32767,Fe=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Fe=r;return}Fe=r=l}while(r!==null);wt=6,Fe=null}function $1(r,s,l,u,p,g,S,A,L){r.cancelPendingCommit=null;do uf();while(Wt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Qp,Lp(r,l,g,S,A,L),r===ft&&(Fe=ft=null,Ge=0),dl=s,As=r,Lr=l,ty=g,ny=p,j1=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hO(ns,function(){return Z1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,p=oe.p,oe.p=2,S=et,et|=4;try{eO(r,s,l)}finally{et=S,oe.p=p,te.T=u}}Wt=1,Y1(),W1(),X1()}}function Y1(){if(Wt===1){Wt=0;var r=As,s=dl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var u=oe.p;oe.p=2;var p=et;et|=4;try{C1(s,r);var g=yy,S=NE(r.containerInfo),A=g.focusedElem,L=g.selectionRange;if(S!==A&&A&&A.ownerDocument&&ME(A.ownerDocument.documentElement,A)){if(L!==null&&Fp(A)){var W=L.start,re=L.end;if(re===void 0&&(re=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(re,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var ee=X.getSelection(),pe=A.textContent.length,we=Math.min(L.start,pe),dt=L.end===void 0?we:Math.min(L.end,pe);!ee.extend&&we>dt&&(S=dt,dt=we,we=S);var G=PE(A,we),F=PE(A,dt);if(G&&F&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var Y=ae.createRange();Y.setStart(G.node,G.offset),ee.removeAllRanges(),we>dt?(ee.addRange(Y),ee.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),ee.addRange(Y))}}}}for(ae=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var se=ae[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Sf=!!gy,yy=gy=null}finally{et=p,oe.p=u,te.T=l}}r.current=s,Wt=2}}function W1(){if(Wt===2){Wt=0;var r=As,s=dl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var u=oe.p;oe.p=2;var p=et;et|=4;try{x1(r,s.alternate,s)}finally{et=p,oe.p=u,te.T=l}}Wt=3}}function X1(){if(Wt===4||Wt===3){Wt=0,Zh();var r=As,s=dl,l=Lr,u=j1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,dl=As=null,J1(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(xs=null),Tr(l),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(_i,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=te.T,p=oe.p,oe.p=2,te.T=null;try{for(var g=r.onRecoverableError,S=0;S<u.length;S++){var A=u[S];g(A.value,{componentStack:A.stack})}}finally{te.T=s,oe.p=p}}(Lr&3)!==0&&uf(),lr(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===iy?mu++:(mu=0,iy=r):mu=0,pu(0)}}function J1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Yc(s)))}function uf(){return Y1(),W1(),X1(),Z1()}function Z1(){if(Wt!==5)return!1;var r=As,s=ty;ty=0;var l=Tr(Lr),u=te.T,p=oe.p;try{oe.p=32>l?32:l,te.T=null,l=ny,ny=null;var g=As,S=Lr;if(Wt=0,dl=As=null,Lr=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,M1(g.current),V1(g,g.current,S,l),et=A,pu(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(_i,g)}catch{}return!0}finally{oe.p=p,te.T=u,J1(r,s)}}function eS(r,s,l){s=si(l,s),s=Ng(r.stateNode,s,2),r=vs(r,s,2),r!==null&&(va(r,2),lr(r))}function st(r,s,l){if(r.tag===3)eS(r,r,l);else for(;s!==null;){if(s.tag===3){eS(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xs===null||!xs.has(u))){r=si(l,r),l=t1(2),u=vs(s,l,2),u!==null&&(n1(l,u,s,r),va(u,2),lr(u));break}}s=s.return}}function ay(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new iO;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Jg=!0,p.add(l),r=lO.bind(null,r,s,l),s.then(r,r))}function lO(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ft===r&&(Ge&l)===l&&(wt===4||wt===3&&(Ge&62914560)===Ge&&300>bn()-rf?(et&2)===0&&fl(r,0):Zg|=l,hl===Ge&&(hl=0)),lr(r)}function tS(r,s){s===0&&(s=sd()),r=Oa(r,s),r!==null&&(va(r,s),lr(r))}function cO(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),tS(r,l)}function uO(r,s){var l=0;switch(r.tag){case 31:case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),tS(r,l)}function hO(r,s){return Yt(r,s)}var hf=null,pl=null,oy=!1,df=!1,ly=!1,Rs=0;function lr(r){r!==pl&&r.next===null&&(pl===null?hf=pl=r:pl=pl.next=r),df=!0,oy||(oy=!0,fO())}function pu(r,s){if(!ly&&df){ly=!0;do for(var l=!1,u=hf;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var S=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Dt(42|r)+1)-1,g&=p&~(S&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,sS(u,g))}else g=Ge,g=Hi(u,u===ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ei(u,g)||(l=!0,sS(u,g));u=u.next}while(l);ly=!1}}function dO(){nS()}function nS(){df=oy=!1;var r=0;Rs!==0&&bO()&&(r=Rs);for(var s=bn(),l=null,u=hf;u!==null;){var p=u.next,g=iS(u,s);g===0?(u.next=null,l===null?hf=p:l.next=p,p===null&&(pl=l)):(l=u,(r!==0||(g&3)!==0)&&(df=!0)),u=p}Wt!==0&&Wt!==5||pu(r),Rs!==0&&(Rs=0)}function iS(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Dt(g),A=1<<S,L=p[S];L===-1?((A&l)===0||(A&u)!==0)&&(p[S]=jp(A,s)):L<=s&&(r.expiredLanes|=A),g&=~A}if(s=ft,l=Ge,l=Hi(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ts(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ei(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&ts(u),Tr(l)){case 2:case 8:l=Ac;break;case 32:l=ns;break;case 268435456:l=ed;break;default:l=ns}return u=rS.bind(null,r),l=Yt(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&ts(u),r.callbackPriority=2,r.callbackNode=null,2}function rS(r,s){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(uf()&&r.callbackNode!==l)return null;var u=Ge;return u=Hi(r,r===ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(z1(r,u,s),iS(r,bn()),r.callbackNode!=null&&r.callbackNode===l?rS.bind(null,r):null)}function sS(r,s){if(uf())return null;z1(r,s,!0)}function fO(){AO(function(){(et&6)!==0?Yt(xc,dO):nS()})}function cy(){if(Rs===0){var r=el;r===0&&(r=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Rs=r}return Rs}function aS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:zo(""+r)}function oS(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function mO(r,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var g=aS((p[en]||null).action),S=u.submitter;S&&(s=(s=S[en]||null)?aS(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var A=new tr("action","action",null,u,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rs!==0){var L=S?oS(p,S):new FormData(p);Cg(l,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(A.preventDefault(),L=S?oS(p,S):new FormData(p),Cg(l,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var uy=0;uy<Kp.length;uy++){var hy=Kp[uy],pO=hy.toLowerCase(),gO=hy[0].toUpperCase()+hy.slice(1);Ii(pO,"on"+gO)}Ii(LE,"onAnimationEnd"),Ii(zE,"onAnimationIteration"),Ii(UE,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(OV,"onTransitionRun"),Ii(PV,"onTransitionStart"),Ii(MV,"onTransitionCancel"),Ii(BE,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function lS(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var A=u[S],L=A.instance,W=A.currentTarget;if(A=A.listener,L!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=W;try{g(p)}catch(re){wd(re)}p.currentTarget=null,g=L}else for(S=0;S<u.length;S++){if(A=u[S],L=A.instance,W=A.currentTarget,A=A.listener,L!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=W;try{g(p)}catch(re){wd(re)}p.currentTarget=null,g=L}}}}function qe(r,s){var l=s[Mo];l===void 0&&(l=s[Mo]=new Set);var u=r+"__bubble";l.has(u)||(cS(s,r,2,!1),l.add(u))}function dy(r,s,l){var u=0;s&&(u|=4),cS(l,r,u,s)}var ff="_reactListening"+Math.random().toString(36).slice(2);function fy(r){if(!r[ff]){r[ff]=!0,Ic.forEach(function(l){l!=="selectionchange"&&(yO.has(l)||dy(l,!1,r),dy(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ff]||(s[ff]=!0,dy("selectionchange",!1,s))}}function cS(r,s,l,u){switch(LS(s)){case 2:var p=GO;break;case 8:p=KO;break;default:p=Iy}l=p.bind(null,s,l,r),p=void 0,!xa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function my(r,s,l,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var A=u.stateNode.containerInfo;if(A===p)break;if(S===4)for(S=u.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;A!==null;){if(S=$i(A),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){u=g=S;continue e}A=A.parentNode}}u=u.return}ls(function(){var W=g,re=ti(l),ae=[];e:{var X=FE.get(r);if(X!==void 0){var ee=tr,pe=r;switch(r){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":ee=bd;break;case"focusin":pe="focus",ee=Ia;break;case"focusout":pe="blur",ee=Ia;break;case"beforeblur":case"afterblur":ee=Ia;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=E;break;case LE:case zE:case UE:ee=gd;break;case BE:ee=R;break;case"scroll":case"scrollend":ee=Uc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=xr;break;case"toggle":case"beforetoggle":ee=je}var we=(s&4)!==0,dt=!we&&(r==="scroll"||r==="scrollend"),G=we?X!==null?X+"Capture":null:X;we=[];for(var F=W,Y;F!==null;){var se=F;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||G===null||(se=xi(F,G),se!=null&&we.push(yu(F,se,Y))),dt)break;F=F.return}0<we.length&&(X=new ee(X,pe,null,l,re),ae.push({event:X,listeners:we}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",X&&l!==jc&&(pe=l.relatedTarget||l.fromElement)&&($i(pe)||pe[Ki]))break e;if((ee||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(pe=l.relatedTarget||l.toElement,ee=W,pe=pe?$i(pe):null,pe!==null&&(dt=o(pe),we=pe.tag,pe!==dt||we!==5&&we!==27&&we!==6)&&(pe=null)):(ee=null,pe=W),ee!==pe)){if(we=Bc,se="onMouseLeave",G="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(we=xr,se="onPointerLeave",G="onPointerEnter",F="pointer"),dt=ee==null?X:zn(ee),Y=pe==null?X:zn(pe),X=new we(se,F+"leave",ee,l,re),X.target=dt,X.relatedTarget=Y,se=null,$i(re)===W&&(we=new we(G,F+"enter",pe,l,re),we.target=Y,we.relatedTarget=dt,se=we),dt=se,ee&&pe)t:{for(we=vO,G=ee,F=pe,Y=0,se=G;se;se=we(se))Y++;se=0;for(var Te=F;Te;Te=we(Te))se++;for(;0<Y-se;)G=we(G),Y--;for(;0<se-Y;)F=we(F),se--;for(;Y--;){if(G===F||F!==null&&G===F.alternate){we=G;break t}G=we(G),F=we(F)}we=null}else we=null;ee!==null&&uS(ae,X,ee,we,!1),pe!==null&&dt!==null&&uS(ae,dt,pe,we,!0)}}e:{if(X=W?zn(W):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Xe=RE;else if(AE(X))if(IE)Xe=CV;else{Xe=RV;var ve=wV}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Lo(W.elementType)&&(Xe=RE):Xe=IV;if(Xe&&(Xe=Xe(r,W))){wE(ae,Xe,l,re);break e}ve&&ve(r,X,W),r==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Mc(X,"number",X.value)}switch(ve=W?zn(W):window,r){case"focusin":(AE(ve)||ve.contentEditable==="true")&&(Ko=ve,qp=W,Kc=null);break;case"focusout":Kc=qp=Ko=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,kE(ae,l,re);break;case"selectionchange":if(VV)break;case"keydown":case"keyup":kE(ae,l,re)}var ze;if(Ze)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Go?Ca(r,l)&&(Ke="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(rr&&l.locale!=="ko"&&(Go||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Go&&(ze=zc()):(er=re,Lc="value"in er?er.value:er.textContent,Go=!0)),ve=mf(W,Ke),0<ve.length&&(Ke=new ir(Ke,r,null,l,re),ae.push({event:Ke,listeners:ve}),ze?Ke.data=ze:(ze=Ho(l),ze!==null&&(Ke.data=ze)))),(ze=ii?SV(r,l):bV(r,l))&&(Ke=mf(W,"onBeforeInput"),0<Ke.length&&(ve=new ir("onBeforeInput","beforeinput",null,l,re),ae.push({event:ve,listeners:Ke}),ve.data=ze)),mO(ae,r,W,l,re)}lS(ae,s)})}function yu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mf(r,s){for(var l=s+"Capture",u=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=xi(r,l),p!=null&&u.unshift(yu(r,p,g)),p=xi(r,s),p!=null&&u.push(yu(r,p,g))),r.tag===3)return u;r=r.return}return[]}function vO(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function uS(r,s,l,u,p){for(var g=s._reactName,S=[];l!==null&&l!==u;){var A=l,L=A.alternate,W=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||W===null||(L=W,p?(W=xi(l,g),W!=null&&S.unshift(yu(l,W,L))):p||(W=xi(l,g),W!=null&&S.push(yu(l,W,L)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var _O=/\r\n?/g,EO=/\u0000|\uFFFD/g;function hS(r){return(typeof r=="string"?r:""+r).replace(_O,`
`).replace(EO,"")}function dS(r,s){return s=hS(s),hS(r)===s}function ht(r,s,l,u,p,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||On(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&On(r,""+u);break;case"className":Un(r,"class",u);break;case"tabIndex":Un(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(r,l,u);break;case"style":kc(r,u,g);break;case"data":if(s!=="object"){Un(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=zo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ht(r,s,"name",p.name,p,null),ht(r,s,"formEncType",p.formEncType,p,null),ht(r,s,"formMethod",p.formMethod,p,null),ht(r,s,"formTarget",p.formTarget,p,null)):(ht(r,s,"encType",p.encType,p,null),ht(r,s,"method",p.method,p,null),ht(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=zo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=bi);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=zo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":qe("beforetoggle",r),qe("toggle",r),ko(r,"popover",u);break;case"xlinkActuate":zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fd.get(l)||l,ko(r,l,u))}}function py(r,s,l,u,p,g){switch(l){case"style":kc(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?On(r,u):(typeof u=="number"||typeof u=="bigint")&&On(r,""+u);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=r[en]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):ko(r,l,u)}}}function dn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,g,S,l,null)}}p&&ht(r,s,"srcSet",l.srcSet,l,null),u&&ht(r,s,"src",l.src,l,null);return;case"input":qe("invalid",r);var A=g=S=p=null,L=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var re=l[u];if(re!=null)switch(u){case"name":p=re;break;case"type":S=re;break;case"checked":L=re;break;case"defaultChecked":W=re;break;case"value":g=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:ht(r,s,u,re,l,null)}}ud(r,g,A,L,W,S,p,!1);return;case"select":qe("invalid",r),u=S=g=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":S=A;break;case"multiple":u=A;default:ht(r,s,p,A,l,null)}s=g,l=S,r.multiple=!!u,s!=null?rs(r,!!u,s,!1):l!=null&&rs(r,!!u,l,!0);return;case"textarea":qe("invalid",r),g=p=u=null;for(S in l)if(l.hasOwnProperty(S)&&(A=l[S],A!=null))switch(S){case"value":u=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ht(r,s,S,A,l,null)}ss(r,u,p,g);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":ht(r,s,L,u,l,null));return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(u=0;u<gu.length;u++)qe(gu[u],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,W,u,l,null)}return;default:if(Lo(s)){for(re in l)l.hasOwnProperty(re)&&(u=l[re],u!==void 0&&py(r,s,re,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ht(r,s,A,u,l,null))}function TO(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,A=null,L=null,W=null,re=null;for(ee in l){var ae=l[ee];if(l.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=ae;default:u.hasOwnProperty(ee)||ht(r,s,ee,null,u,ae)}}for(var X in u){var ee=u[X];if(ae=l[X],u.hasOwnProperty(X)&&(ee!=null||ae!=null))switch(X){case"type":g=ee;break;case"name":p=ee;break;case"checked":W=ee;break;case"defaultChecked":re=ee;break;case"value":S=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==ae&&ht(r,s,X,ee,u,ae)}}jo(r,S,A,L,W,re,g,p);return;case"select":ee=S=A=X=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":ee=L;default:u.hasOwnProperty(g)||ht(r,s,g,null,u,L)}for(p in u)if(g=u[p],L=l[p],u.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":S=g;default:g!==L&&ht(r,s,p,g,u,L)}s=A,l=S,u=ee,X!=null?rs(r,!!l,X,!1):!!u!=!!l&&(s!=null?rs(r,!!l,s,!0):rs(r,!!l,l?[]:"",!1));return;case"textarea":ee=X=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(r,s,A,null,u,p)}for(S in u)if(p=u[S],g=l[S],u.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":X=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&ht(r,s,S,p,u,g)}hd(r,X,ee);return;case"option":for(var pe in l)X=l[pe],l.hasOwnProperty(pe)&&X!=null&&!u.hasOwnProperty(pe)&&(pe==="selected"?r.selected=!1:ht(r,s,pe,null,u,X));for(L in u)X=u[L],ee=l[L],u.hasOwnProperty(L)&&X!==ee&&(X!=null||ee!=null)&&(L==="selected"?r.selected=X&&typeof X!="function"&&typeof X!="symbol":ht(r,s,L,X,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)X=l[we],l.hasOwnProperty(we)&&X!=null&&!u.hasOwnProperty(we)&&ht(r,s,we,null,u,X);for(W in u)if(X=u[W],ee=l[W],u.hasOwnProperty(W)&&X!==ee&&(X!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:ht(r,s,W,X,u,ee)}return;default:if(Lo(s)){for(var dt in l)X=l[dt],l.hasOwnProperty(dt)&&X!==void 0&&!u.hasOwnProperty(dt)&&py(r,s,dt,void 0,u,X);for(re in u)X=u[re],ee=l[re],!u.hasOwnProperty(re)||X===ee||X===void 0&&ee===void 0||py(r,s,re,X,u,ee);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&ht(r,s,G,null,u,X);for(ae in u)X=u[ae],ee=l[ae],!u.hasOwnProperty(ae)||X===ee||X==null&&ee==null||ht(r,s,ae,X,u,ee)}function fS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SO(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,S=p.initiatorType,A=p.duration;if(g&&A&&fS(S)){for(S=0,A=p.responseEnd,u+=1;u<l.length;u++){var L=l[u],W=L.startTime;if(W>A)break;var re=L.transferSize,ae=L.initiatorType;re&&fS(ae)&&(L=L.responseEnd,S+=re*(L<A?1:(A-W)/(L-W)))}if(--u,s+=8*(g+S)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var gy=null,yy=null;function pf(r){return r.nodeType===9?r:r.ownerDocument}function mS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pS(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function vy(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _y=null;function bO(){var r=window.event;return r&&r.type==="popstate"?r===_y?!1:(_y=r,!0):(_y=null,!1)}var gS=typeof setTimeout=="function"?setTimeout:void 0,xO=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,AO=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(r){return yS.resolve(null).then(r).catch(wO)}:gS;function wO(r){setTimeout(function(){throw r})}function Is(r){return r==="head"}function vS(r,s){var l=s,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){r.removeChild(p),_l(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")vu(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,vu(l);for(var g=l.firstChild;g;){var S=g.nextSibling,A=g.nodeName;g[Qi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=S}}else l==="body"&&vu(r.ownerDocument.body);l=p}while(l);_l(s)}function _S(r,s){var l=r;r=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=u}while(l)}function Ey(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ey(l),No(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function RO(r,s,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Qi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ui(r.nextSibling),r===null)break}return null}function IO(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ui(r.nextSibling),r===null))return null;return r}function ES(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ui(r.nextSibling),r===null))return null;return r}function Ty(r){return r.data==="$?"||r.data==="$~"}function Sy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function CO(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var by=null;function TS(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return ui(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function SS(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function bS(r,s,l){switch(s=pf(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);No(r)}var hi=new Map,xS=new Set;function gf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zr=oe.d;oe.d={f:DO,r:VO,D:OO,C:PO,L:MO,m:NO,X:jO,S:kO,M:LO};function DO(){var r=zr.f(),s=of();return r||s}function VO(r){var s=ei(r);s!==null&&s.tag===5&&s.type==="form"?BT(s):zr.r(r)}var gl=typeof document>"u"?null:document;function AS(r,s,l){var u=gl;if(u&&typeof s=="string"&&s){var p=Vn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),xS.has(p)||(xS.add(p),r={rel:r,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),dn(s,"link",r),Lt(s),u.head.appendChild(s)))}}function OO(r){zr.D(r),AS("dns-prefetch",r,null)}function PO(r,s){zr.C(r,s),AS("preconnect",r,s)}function MO(r,s,l){zr.L(r,s,l);var u=gl;if(u&&r&&s){var p='link[rel="preload"][as="'+Vn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Vn(l.imageSizes)+'"]')):p+='[href="'+Vn(r)+'"]';var g=p;switch(s){case"style":g=yl(r);break;case"script":g=vl(r)}hi.has(g)||(r=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),hi.set(g,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(_u(g))||s==="script"&&u.querySelector(Eu(g))||(s=u.createElement("link"),dn(s,"link",r),Lt(s),u.head.appendChild(s)))}}function NO(r,s){zr.m(r,s);var l=gl;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Vn(u)+'"][href="'+Vn(r)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vl(r)}if(!hi.has(g)&&(r=_({rel:"modulepreload",href:r},s),hi.set(g,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Eu(g)))return}u=l.createElement("link"),dn(u,"link",r),Lt(u),l.head.appendChild(u)}}}function kO(r,s,l){zr.S(r,s,l);var u=gl;if(u&&r){var p=Yi(u).hoistableStyles,g=yl(r);s=s||"default";var S=p.get(g);if(!S){var A={loading:0,preload:null};if(S=u.querySelector(_u(g)))A.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},l),(l=hi.get(g))&&xy(r,l);var L=S=u.createElement("link");Lt(L),dn(L,"link",r),L._p=new Promise(function(W,re){L.onload=W,L.onerror=re}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,yf(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:A},p.set(g,S)}}}function jO(r,s){zr.X(r,s);var l=gl;if(l&&r){var u=Yi(l).hoistableScripts,p=vl(r),g=u.get(p);g||(g=l.querySelector(Eu(p)),g||(r=_({src:r,async:!0},s),(s=hi.get(p))&&Ay(r,s),g=l.createElement("script"),Lt(g),dn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function LO(r,s){zr.M(r,s);var l=gl;if(l&&r){var u=Yi(l).hoistableScripts,p=vl(r),g=u.get(p);g||(g=l.querySelector(Eu(p)),g||(r=_({src:r,async:!0,type:"module"},s),(s=hi.get(p))&&Ay(r,s),g=l.createElement("script"),Lt(g),dn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function wS(r,s,l,u){var p=(p=Ce.current)?gf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=yl(l.href),l=Yi(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=yl(l.href);var g=Yi(p).hoistableStyles,S=g.get(r);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=p.querySelector(_u(r)))&&!g._p&&(S.instance=g,S.state.loading=5),hi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hi.set(r,l),g||zO(p,r,l,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vl(l),l=Yi(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yl(r){return'href="'+Vn(r)+'"'}function _u(r){return'link[rel="stylesheet"]['+r+"]"}function RS(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function zO(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dn(s,"link",l),Lt(s),r.head.appendChild(s))}function vl(r){return'[src="'+Vn(r)+'"]'}function Eu(r){return"script[async]"+r}function IS(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Vn(l.href)+'"]');if(u)return s.instance=u,Lt(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Lt(u),dn(u,"style",p),yf(u,l.precedence,r),s.instance=u;case"stylesheet":p=yl(l.href);var g=r.querySelector(_u(p));if(g)return s.state.loading|=4,s.instance=g,Lt(g),g;u=RS(l),(p=hi.get(p))&&xy(u,p),g=(r.ownerDocument||r).createElement("link"),Lt(g);var S=g;return S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),dn(g,"link",u),s.state.loading|=4,yf(g,l.precedence,r),s.instance=g;case"script":return g=vl(l.src),(p=r.querySelector(Eu(g)))?(s.instance=p,Lt(p),p):(u=l,(p=hi.get(g))&&(u=_({},l),Ay(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Lt(p),dn(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,yf(u,l.precedence,r));return s.instance}function yf(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,S=0;S<u.length;S++){var A=u[S];if(A.dataset.precedence===s)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function xy(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ay(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var vf=null;function CS(r,s,l){if(vf===null){var u=new Map,p=vf=new Map;p.set(l,u)}else p=vf,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var g=l[p];if(!(g[Qi]||g[jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var A=u.get(S);A?A.push(g):u.set(S,[g])}}return u}function DS(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function UO(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function VS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function BO(r,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=yl(u.href),g=s.querySelector(_u(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=_f.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=g,Lt(g);return}g=s.ownerDocument||s,u=RS(u),(p=hi.get(p))&&xy(u,p),g=g.createElement("link"),Lt(g);var S=g;S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),dn(g,"link",u),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=_f.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var wy=0;function FO(r,s){return r.stylesheets&&r.count===0&&Tf(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var u=setTimeout(function(){if(r.stylesheets&&Tf(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&wy===0&&(wy=62500*SO());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Tf(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>wy?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function _f(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ef=null;function Tf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ef=new Map,s.forEach(qO,r),Ef=null,_f.call(r))}function qO(r,s){if(!(s.state.loading&4)){var l=Ef.get(r);if(l)var u=l.get(null);else{l=new Map,Ef.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}p=s.instance,S=p.getAttribute("data-precedence"),g=l.get(S)||u,g===u&&l.set(null,p),l.set(S,p),this.count++,u=_f.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Tu={$$typeof:U,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function HO(r,s,l,u,p,g,S,A,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function OS(r,s,l,u,p,g,S,A,L,W,re,ae){return r=new HO(r,s,l,S,L,W,re,ae,A),s=1,g===!0&&(s|=24),g=Fn(3,null,null,s),r.current=g,g.stateNode=r,s=sg(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},cg(g),r}function PS(r){return r?(r=Yo,r):Yo}function MS(r,s,l,u,p,g){p=PS(p),u.context===null?u.context=p:u.pendingContext=p,u=ys(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=vs(r,u,s),l!==null&&(jn(l,r,s),Zc(l,r,s))}function NS(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ry(r,s){NS(r,s),(r=r.alternate)&&NS(r,s)}function kS(r){if(r.tag===13||r.tag===31){var s=Oa(r,67108864);s!==null&&jn(s,r,67108864),Ry(r,67108864)}}function jS(r){if(r.tag===13||r.tag===31){var s=Qn();s=Ea(s);var l=Oa(r,s);l!==null&&jn(l,r,s),Ry(r,s)}}var Sf=!0;function GO(r,s,l,u){var p=te.T;te.T=null;var g=oe.p;try{oe.p=2,Iy(r,s,l,u)}finally{oe.p=g,te.T=p}}function KO(r,s,l,u){var p=te.T;te.T=null;var g=oe.p;try{oe.p=8,Iy(r,s,l,u)}finally{oe.p=g,te.T=p}}function Iy(r,s,l,u){if(Sf){var p=Cy(u);if(p===null)my(r,s,u,bf,l),zS(r,u);else if($O(p,r,s,l,u))u.stopPropagation();else if(zS(r,u),s&4&&-1<QO.indexOf(r)){for(;p!==null;){var g=ei(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=qi(g.pendingLanes);if(S!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var L=1<<31-Dt(S);A.entanglements[1]|=L,S&=~L}lr(g),(et&6)===0&&(sf=bn()+500,pu(0))}}break;case 31:case 13:A=Oa(g,2),A!==null&&jn(A,g,2),of(),Ry(g,2)}if(g=Cy(u),g===null&&my(r,s,u,bf,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else my(r,s,u,null,l)}}function Cy(r){return r=ti(r),Dy(r)}var bf=null;function Dy(r){if(bf=null,r=$i(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=c(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return bf=r,null}function LS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case xc:return 2;case Ac:return 8;case ns:case kp:return 32;case ed:return 268435456;default:return 32}default:return 32}}var Vy=!1,Cs=null,Ds=null,Vs=null,Su=new Map,bu=new Map,Os=[],QO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zS(r,s){switch(r){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(s.pointerId)}}function xu(r,s,l,u,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ei(s),s!==null&&kS(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function $O(r,s,l,u,p){switch(s){case"focusin":return Cs=xu(Cs,r,s,l,u,p),!0;case"dragenter":return Ds=xu(Ds,r,s,l,u,p),!0;case"mouseover":return Vs=xu(Vs,r,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return Su.set(g,xu(Su.get(g)||null,r,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,bu.set(g,xu(bu.get(g)||null,r,s,l,u,p)),!0}return!1}function US(r){var s=$i(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){r.blockedOn=s,Ti(r.priority,function(){jS(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,Ti(r.priority,function(){jS(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Cy(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);jc=u,l.target.dispatchEvent(u),jc=null}else return s=ei(l),s!==null&&kS(s),r.blockedOn=l,!1;s.shift()}return!0}function BS(r,s,l){xf(r)&&l.delete(s)}function YO(){Vy=!1,Cs!==null&&xf(Cs)&&(Cs=null),Ds!==null&&xf(Ds)&&(Ds=null),Vs!==null&&xf(Vs)&&(Vs=null),Su.forEach(BS),bu.forEach(BS)}function Af(r,s){r.blockedOn===s&&(r.blockedOn=null,Vy||(Vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YO)))}var wf=null;function FS(r){wf!==r&&(wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wf===r&&(wf=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(Dy(u||l)===null)continue;break}var g=ei(l);g!==null&&(r.splice(s,3),s-=3,Cg(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function _l(r){function s(L){return Af(L,r)}Cs!==null&&Af(Cs,r),Ds!==null&&Af(Ds,r),Vs!==null&&Af(Vs,r),Su.forEach(s),bu.forEach(s);for(var l=0;l<Os.length;l++){var u=Os[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Os.length&&(l=Os[0],l.blockedOn===null);)US(l),l.blockedOn===null&&Os.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],S=p[en]||null;if(typeof g=="function")S||FS(l);else if(S){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[en]||null)A=S.formAction;else if(Dy(p)!==null)continue}else A=S.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),FS(l)}}}function qS(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Oy(r){this._internalRoot=r}Rf.prototype.render=Oy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Qn();MS(l,u,r,s,null,null)},Rf.prototype.unmount=Oy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;MS(r.current,2,null,r,null,null),of(),s[Ki]=null}};function Rf(r){this._internalRoot=r}Rf.prototype.unstable_scheduleHydration=function(r){if(r){var s=ad();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Os.length&&s!==0&&s<Os[l].priority;l++);Os.splice(l,0,r),l===0&&US(r)}};var HS=e.version;if(HS!=="19.2.4")throw Error(i(527,HS,"19.2.4"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var WO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{_i=If.inject(WO),on=If}catch{}}return wu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,u="",p=XT,g=JT,S=ZT;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=OS(r,1,!1,null,null,l,u,null,p,g,S,qS),r[Ki]=s.current,fy(r),new Oy(s)},wu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var u=!1,p="",g=XT,S=JT,A=ZT,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),s=OS(r,1,!0,s,l??null,u,p,L,g,S,A,qS),s.context=PS(null),l=s.current,u=Qn(),u=Ea(u),p=ys(u),p.callback=null,vs(l,p,u),l=u,s.current.lanes=l,va(s,l),lr(s),r[Ki]=s.current,fy(r),new Rf(s)},wu.version="19.2.4",wu}var eb;function oP(){if(eb)return Ny.exports;eb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ny.exports=aP(),Ny.exports}var lP=oP();var tb="popstate";function cP(n={}){function e(i,a){let{pathname:o,search:c,hash:h}=i.location;return xv("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:rh(a)}return hP(e,t,null,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ji(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uP(){return Math.random().toString(36).substring(2,10)}function nb(n,e){return{usr:n.state,key:n.key,idx:e}}function xv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:t,key:e&&e.key||i||uP()}}function rh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hP(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",d=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let N=y(),B=N==null?null:N-m;m=N,d&&d({action:h,location:M.location,delta:B})}function T(N,B){h="PUSH";let j=xv(M.location,N,B);m=y()+1;let U=nb(j,m),J=M.createHref(j);try{c.pushState(U,"",J)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(J)}o&&d&&d({action:h,location:M.location,delta:1})}function x(N,B){h="REPLACE";let j=xv(M.location,N,B);m=y();let U=nb(j,m),J=M.createHref(j);c.replaceState(U,"",J),o&&d&&d({action:h,location:M.location,delta:0})}function C(N){return dP(N)}let M={get action(){return h},get location(){return n(a,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,_),d=N,()=>{a.removeEventListener(tb,_),d=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let B=C(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:x,go(N){return c.go(N)}};return M}function dP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:rh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Pw(n,e,t="/"){return fP(n,e,t,!1)}function fP(n,e,t,i){let a=typeof e=="string"?ac(e):e,o=Gr(a.pathname||"/",t);if(o==null)return null;let c=Mw(n);mP(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=AP(o);h=bP(c[d],m,i)}return h}function Mw(n,e=[],t=[],i="",a=!1){let o=(c,h,d=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;Tt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=qr([i,y.relativePath]),T=t.concat(y);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Mw(c.children,e,T,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:TP(_,c.index),routesMeta:T})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of Nw(c.path))o(c,h,!0,d)}),e}function Nw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=Nw(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function mP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pP=/^:[\w-]+$/,gP=3,yP=2,vP=1,_P=10,EP=-2,ib=n=>n==="*";function TP(n,e){let t=n.split("/"),i=t.length;return t.some(ib)&&(i+=EP),e&&(i+=yP),t.filter(a=>!ib(a)).reduce((a,o)=>a+(pP.test(o)?gP:o===""?vP:_P),i)}function SP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function bP(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=gm({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),T=d.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=gm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:qr([o,_.pathname]),pathnameBase:CP(qr([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=qr([o,_.pathnameBase]))}return c}function gm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xP(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},T)=>{if(y==="*"){let C=h[T]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const x=h[T];return _&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function xP(n,e=!1,t=!0){ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function AP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var wP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RP(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ac(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=rb(t.substring(1),"/"):o=rb(t,e)):o=e,{pathname:o,search:DP(i),hash:VP(a)}}function rb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function zy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P0(n){let e=IP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function M0(n,e,t,i=!1){let a;typeof n=="string"?a=ac(n):(a={...n},Tt(!a.pathname||!a.pathname.includes("?"),zy("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),zy("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),zy("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}h=_>=0?e[_]:"/"}let d=RP(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),CP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,OP=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function PP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function MP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jw(n,e){let t=n;if(typeof t!="string"||!wP.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(kw)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Gr(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{ji(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lw=["POST","PUT","PATCH","DELETE"];new Set(Lw);var NP=["GET",...Lw];new Set(NP);var oc=P.createContext(null);oc.displayName="DataRouter";var ep=P.createContext(null);ep.displayName="DataRouterState";var kP=P.createContext(!1),zw=P.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var jP=P.createContext(new Map);jP.displayName="Fetchers";var LP=P.createContext(null);LP.displayName="Await";var Jn=P.createContext(null);Jn.displayName="Navigation";var Ih=P.createContext(null);Ih.displayName="Location";var zi=P.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var N0=P.createContext(null);N0.displayName="RouteError";var Uw="REACT_ROUTER_ERROR",zP="REDIRECT",UP="ROUTE_ERROR_RESPONSE";function BP(n){if(n.startsWith(`${Uw}:${zP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FP(n){if(n.startsWith(`${Uw}:${UP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OP(e.status,e.statusText,e.data)}catch{}}function qP(n,{relative:e}={}){Tt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=P.useContext(Jn),{hash:a,pathname:o,search:c}=Ch(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:qr([t,o])),i.createHref({pathname:h,search:c,hash:a})}function lc(){return P.useContext(Ih)!=null}function ca(){return Tt(lc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ih).location}var Bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(n){P.useContext(Jn).static||P.useLayoutEffect(n)}function an(){let{isDataRoute:n}=P.useContext(zi);return n?iM():HP()}function HP(){Tt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(oc),{basename:e,navigator:t}=P.useContext(Jn),{matches:i}=P.useContext(zi),{pathname:a}=ca(),o=JSON.stringify(P0(i)),c=P.useRef(!1);return Fw(()=>{c.current=!0}),P.useCallback((d,m={})=>{if(ji(c.current,Bw),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=M0(d,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qr([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,n])}P.createContext(null);function GP(){let{matches:n}=P.useContext(zi),e=n[n.length-1];return e?e.params:{}}function Ch(n,{relative:e}={}){let{matches:t}=P.useContext(zi),{pathname:i}=ca(),a=JSON.stringify(P0(t));return P.useMemo(()=>M0(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function KP(n,e){return qw(n,e)}function qw(n,e,t,i,a){Tt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(Jn),{matches:c}=P.useContext(zi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let j=_&&_.path||"";Gw(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=ca(),x;if(e){let j=typeof e=="string"?ac(e):e;Tt(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=T;let C=x.pathname||"/",M=C;if(y!=="/"){let j=y.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Pw(n,{pathname:M});ji(_||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ji(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=XP(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:qr([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:qr([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,t,i,a);return e&&B?P.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function QP(){let n=nM(),e=PP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:a},t):null,c)}var $P=P.createElement(QP,null),Hw=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=FP(n.digest);t&&(n=t)}let e=n!==void 0?P.createElement(zi.Provider,{value:this.props.routeContext},P.createElement(N0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(YP,{error:n},e):e}};Hw.contextType=kP;var Uy=new WeakMap;function YP({children:n,error:e}){let{basename:t}=P.useContext(Jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=BP(e.digest);if(i){let a=Uy.get(e);if(a)throw a;let o=jw(i.location,t);if(kw&&!Uy.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Uy.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function WP({routeContext:n,match:e,children:t}){let i=P.useContext(oc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(zi.Provider,{value:n},t)}function XP(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let y=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Tt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:T,errors:x}=t,C=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||C){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=t&&i?(y,_)=>{i(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:MP(t.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,T)=>{let x,C=!1,M=null,N=null;t&&(x=c&&_.route.id?c[_.route.id]:void 0,M=_.route.errorElement||$P,h&&(d<0&&T===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):d===T&&(C=!0,N=_.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,T+1)),j=()=>{let U;return x?U=M:C?U=N:_.route.Component?U=P.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=y,P.createElement(WP,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:U})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?P.createElement(Hw,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):j()},null)}function k0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JP(n){let e=P.useContext(oc);return Tt(e,k0(n)),e}function ZP(n){let e=P.useContext(ep);return Tt(e,k0(n)),e}function eM(n){let e=P.useContext(zi);return Tt(e,k0(n)),e}function j0(n){let e=eM(n),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tM(){return j0("useRouteId")}function nM(){let n=P.useContext(N0),e=ZP("useRouteError"),t=j0("useRouteError");return n!==void 0?n:e.errors?.[t]}function iM(){let{router:n}=JP("useNavigate"),e=j0("useNavigate"),t=P.useRef(!1);return Fw(()=>{t.current=!0}),P.useCallback(async(a,o={})=>{ji(t.current,Bw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var sb={};function Gw(n,e,t){!e&&!sb[n]&&(sb[n]=!0,ji(!1,t))}P.memo(rM);function rM({routes:n,future:e,state:t,onError:i}){return qw(n,void 0,t,i,e)}function Gl({to:n,replace:e,state:t,relative:i}){Tt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(Jn);ji(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(zi),{pathname:c}=ca(),h=an(),d=M0(n,P0(o),c,i==="path"),m=JSON.stringify(d);return P.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function fn(n){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sM({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Tt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof t=="string"&&(t=ac(t));let{pathname:m="/",search:y="",hash:_="",state:T=null,key:x="default"}=t,C=P.useMemo(()=>{let M=Gr(m,h);return M==null?null:{location:{pathname:M,search:y,hash:_,state:T,key:x},navigationType:i}},[h,m,y,_,T,x,i]);return ji(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(Jn.Provider,{value:d},P.createElement(Ih.Provider,{children:e,value:C}))}function aM({children:n,location:e}){return KP(Av(n),e)}function Av(n,e=[]){let t=[];return P.Children.forEach(n,(i,a)=>{if(!P.isValidElement(i))return;let o=[...e,a];if(i.type===P.Fragment){t.push.apply(t,Av(i.props.children,o));return}Tt(i.type===fn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Av(i.props.children,o)),t.push(c)}),t}var qf="get",Hf="application/x-www-form-urlencoded";function tp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function oM(n){return tp(n)&&n.tagName.toLowerCase()==="button"}function lM(n){return tp(n)&&n.tagName.toLowerCase()==="form"}function cM(n){return tp(n)&&n.tagName.toLowerCase()==="input"}function uM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hM(n,e){return n.button===0&&(!e||e==="_self")&&!uM(n)}var Df=null;function dM(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var fM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function By(n){return n!=null&&!fM.has(n)?(ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hf}"`),null):n}function mM(n,e){let t,i,a,o,c;if(lM(n)){let h=n.getAttribute("action");i=h?Gr(h,e):null,t=n.getAttribute("method")||qf,a=By(n.getAttribute("enctype"))||Hf,o=new FormData(n)}else if(oM(n)||cM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Gr(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||qf,a=By(n.getAttribute("formenctype"))||By(h.getAttribute("enctype"))||Hf,o=new FormData(h,n),!dM()){let{name:m,type:y,value:_}=n;if(y==="image"){let T=m?`${m}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else m&&o.append(m,_)}}else{if(tp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qf,i=null,a=Hf,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function L0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pM(n,e,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function gM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vM(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await gM(o,t);return c.links?c.links():[]}return[]}));return SM(i.flat(1).filter(yM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ab(n,e,t,i,a,o){let c=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>t[m].pathname!==d.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _M(n,e,{includeHydrateFallback:t}={}){return EM(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function EM(n){return[...new Set(n)]}function TM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function SM(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(TM(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function Kw(){let n=P.useContext(oc);return L0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bM(){let n=P.useContext(ep);return L0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var z0=P.createContext(void 0);z0.displayName="FrameworkContext";function Qw(){let n=P.useContext(z0);return L0(n,"You must render this element inside a <HydratedRouter> element"),n}function xM(n,e){let t=P.useContext(z0),[i,a]=P.useState(!1),[o,c]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,T=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=B=>{B.forEach(j=>{c(j.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[n]),P.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:Ru(h,x),onBlur:Ru(d,C),onMouseEnter:Ru(m,x),onMouseLeave:Ru(y,C),onTouchStart:Ru(_,x)}]:[!1,T,{}]}function Ru(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AM({page:n,...e}){let{router:t}=Kw(),i=P.useMemo(()=>Pw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?P.createElement(RM,{page:n,matches:i,...e}):null}function wM(n){let{manifest:e,routeModules:t}=Qw(),[i,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return vM(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),i}function RM({page:n,matches:e,...t}){let i=ca(),{future:a,manifest:o,routeModules:c}=Qw(),{basename:h}=Kw(),{loaderData:d,matches:m}=bM(),y=P.useMemo(()=>ab(n,e,m,o,i,"data"),[n,e,m,o,i]),_=P.useMemo(()=>ab(n,e,m,o,i,"assets"),[n,e,m,o,i]),T=P.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,N=!1;if(e.forEach(j=>{let U=o.routes[j.route.id];!U||!U.hasLoader||(!y.some(J=>J.route.id===j.route.id)&&j.route.id in d&&c[j.route.id]?.shouldRevalidate||U.hasClientLoader?N=!0:M.add(j.route.id))}),M.size===0)return[];let B=pM(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&M.size>0&&B.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,o,y,e,n,c]),x=P.useMemo(()=>_M(_,o),[_,o]),C=wM(_);return P.createElement(P.Fragment,null,T.map(M=>P.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),x.map(M=>P.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),C.map(({key:M,link:N})=>P.createElement("link",{key:M,nonce:t.nonce,...N,crossOrigin:N.crossOrigin??t.crossOrigin})))}function IM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CM&&(window.__reactRouterVersion="7.13.0")}catch{}function DM({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=P.useRef();a.current==null&&(a.current=cP({window:i,v5Compat:!0}));let o=a.current,[c,h]=P.useState({action:o.action,location:o.location}),d=P.useCallback(m=>{t===!1?h(m):P.startTransition(()=>h(m))},[t]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(sM,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yw=P.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...x},C){let{basename:M,unstable_useTransitions:N}=P.useContext(Jn),B=typeof m=="string"&&$w.test(m),j=jw(m,M);m=j.to;let U=qP(m,{relative:a}),[J,H,$]=xM(i,x),I=MM(m,{replace:c,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:N});function w(z){e&&e(z),z.defaultPrevented||I(z)}let D=P.createElement("a",{...x,...$,href:j.absoluteURL||U,onClick:j.isExternal||o?e:w,ref:IM(C,H),target:d,"data-discover":!B&&t==="render"?"true":void 0});return J&&!B?P.createElement(P.Fragment,null,D,P.createElement(AM,{page:U})):D});Yw.displayName="Link";var VM=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...m},y){let _=Ch(c,{relative:m.relative}),T=ca(),x=P.useContext(ep),{navigator:C,basename:M}=P.useContext(Jn),N=x!=null&&zM(_)&&h===!0,B=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=T.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(j=j.toLowerCase(),U=U?U.toLowerCase():null,B=B.toLowerCase()),U&&M&&(U=Gr(U,M)||U);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let H=j===B||!a&&j.startsWith(B)&&j.charAt(J)==="/",$=U!=null&&(U===B||!a&&U.startsWith(B)&&U.charAt(B.length)==="/"),I={isActive:H,isPending:$,isTransitioning:N},w=H?e:void 0,D;typeof i=="function"?D=i(I):D=[i,H?"active":null,$?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(I):o;return P.createElement(Yw,{...m,"aria-current":w,className:D,ref:y,style:z,to:c,viewTransition:h},typeof d=="function"?d(I):d)});VM.displayName="NavLink";var OM=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:c=qf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...x},C)=>{let{unstable_useTransitions:M}=P.useContext(Jn),N=jM(),B=LM(h,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&$w.test(h),J=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let $=H.nativeEvent.submitter,I=$?.getAttribute("formmethod")||c,w=()=>N($||H.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T});M&&t!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:C,method:j,action:B,onSubmit:i?d:J,...x,"data-discover":!U&&n==="render"?"true":void 0})});OM.displayName="Form";function PM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(n){let e=P.useContext(oc);return Tt(e,PM(n)),e}function MM(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=an(),y=ca(),_=Ch(n,{relative:o});return P.useCallback(T=>{if(hM(T,e)){T.preventDefault();let x=t!==void 0?t:rh(y)===rh(_),C=()=>m(n,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?P.startTransition(()=>C()):C()}},[y,m,_,t,i,e,n,a,o,c,h,d])}var NM=0,kM=()=>`__${String(++NM)}__`;function jM(){let{router:n}=Ww("useSubmit"),{basename:e}=P.useContext(Jn),t=tM(),i=n.fetch,a=n.navigate;return P.useCallback(async(o,c={})=>{let{action:h,method:d,encType:m,formData:y,body:_}=mM(o,e);if(c.navigate===!1){let T=c.fetcherKey||kM();await i(T,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function LM(n,{relative:e}={}){let{basename:t}=P.useContext(Jn),i=P.useContext(zi);Tt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Ch(n||".",{relative:e})},c=ca();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qr([t,o.pathname])),rh(o)}function zM(n,{relative:e}={}){let t=P.useContext(zw);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ww("useViewTransitionState"),a=Ch(n,{relative:e});if(!t.isTransitioning)return!1;let o=Gr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Gr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return gm(a.pathname,c)!=null||gm(a.pathname,o)!=null}const UM="modulepreload",BM=function(n){return"/ACAMP2026-ANTIGRAVITY/"+n},ob={},Xw=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let m=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var c=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(t.map(y=>{if(y=BM(y),y in ob)return;ob[y]=!0;const _=y.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${T}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":UM,_||(x.as="script"),x.crossOrigin="",x.href=y,d&&x.setAttribute("nonce",d),document.head.appendChild(x),_)return new Promise((C,M)=>{x.addEventListener("load",C),x.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},FM=()=>{};var lb={};const Jw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},qM=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,x=m&63;d||(x=64,c||(T=64)),i.push(t[y],t[_],t[T],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||_==null)throw new HM;const T=o<<2|h>>4;if(i.push(T),m!==64){const x=h<<4&240|m>>2;if(i.push(x),_!==64){const C=m<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GM=function(n){const e=Jw(n);return Zw.encodeByteArray(e,!0)},ym=function(n){return GM(n).replace(/\./g,"")},eR=function(n){try{return Zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KM=()=>tR().__FIREBASE_DEFAULTS__,QM=()=>{if(typeof process>"u"||typeof lb>"u")return;const n=lb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$M=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eR(n[1]);return e&&JSON.parse(e)},np=()=>{try{return FM()||KM()||QM()||$M()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nR=n=>np()?.emulatorHosts?.[n],YM=n=>{const e=nR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},iR=()=>np()?.config,rR=n=>np()?.[`_${n}`];class WM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sR(n){return(await fetch(n,{credentials:"include"})).ok}function XM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ym(JSON.stringify(t)),ym(JSON.stringify(c)),""].join(".")}const Hu={};function JM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?n.emulator.push(e):n.prod.push(e);return n}function ZM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cb=!1;function aR(n,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||Hu[n]===e||Hu[n]||cb)return;Hu[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=JM().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{cb=!0,c()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=ZM(i),x=t("text"),C=document.getElementById(x)||document.createElement("span"),M=t("learnmore"),N=document.getElementById(M)||document.createElement("a"),B=t("preprendIcon"),j=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const U=T.element;h(U),y(N,M);const J=m();d(j,B),U.append(j,C,N,J),document.body.appendChild(U)}o?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function oR(){const n=np()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){return!oR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const aN="FirebaseError";class Xr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=aN,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dh.prototype.create)}}class Dh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?oN(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Xr(a,h,i)}}function oN(n,e){return n.replace(lN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const lN=/\{\$([^}]+)}/g;function cN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ta(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],c=e[a];if(ub(o)&&ub(c)){if(!ta(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function ub(n){return n!==null&&typeof n=="object"}function Vh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uN(n,e){const t=new hN(n,e);return t.subscribe.bind(t)}class hN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Fy),a.error===void 0&&(a.error=Fy),a.complete===void 0&&(a.complete=Fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fy(){}function Mt(n){return n&&n._delegate?n._delegate:n}class ho{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qa="[DEFAULT]";class fN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new WM;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pN(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mN(n){return n===Qa?void 0:n}function pN(n){return n.instantiationMode==="EAGER"}class gN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const yN={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},vN=Qe.INFO,_N={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},EN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=_N[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=vN,this._logHandler=EN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const TN=(n,e)=>e.some(t=>n instanceof t);let hb,db;function SN(){return hb||(hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hR=new WeakMap,wv=new WeakMap,dR=new WeakMap,qy=new WeakMap,B0=new WeakMap;function xN(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ys(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&hR.set(t,n)}).catch(()=>{}),B0.set(e,n),e}function AN(n){if(wv.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});wv.set(n,e)}let Rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wN(n){Rv=n(Rv)}function RN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Hy(this),e,...t);return dR.set(i,e.sort?e.sort():[e]),Ys(i)}:bN().includes(n)?function(...e){return n.apply(Hy(this),e),Ys(hR.get(this))}:function(...e){return Ys(n.apply(Hy(this),e))}}function IN(n){return typeof n=="function"?RN(n):(n instanceof IDBTransaction&&AN(n),TN(n,SN())?new Proxy(n,Rv):n)}function Ys(n){if(n instanceof IDBRequest)return xN(n);if(qy.has(n))return qy.get(n);const e=IN(n);return e!==n&&(qy.set(n,e),B0.set(e,n)),e}const Hy=n=>B0.get(n);function CN(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=Ys(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ys(c.result),d.oldVersion,d.newVersion,Ys(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const DN=["get","getKey","getAll","getAllKeys","count"],VN=["put","add","delete","clear"],Gy=new Map;function fb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gy.get(e))return Gy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=VN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DN.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return Gy.set(e,o),o}wN(n=>({...n,get:(e,t,i)=>fb(e,t)||n.get(e,t,i),has:(e,t)=>!!fb(e,t)||n.has(e,t)}));class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PN(n){return n.getComponent()?.type==="VERSION"}const Iv="@firebase/app",mb="0.14.8";const Kr=new U0("@firebase/app"),MN="@firebase/app-compat",NN="@firebase/analytics-compat",kN="@firebase/analytics",jN="@firebase/app-check-compat",LN="@firebase/app-check",zN="@firebase/auth",UN="@firebase/auth-compat",BN="@firebase/database",FN="@firebase/data-connect",qN="@firebase/database-compat",HN="@firebase/functions",GN="@firebase/functions-compat",KN="@firebase/installations",QN="@firebase/installations-compat",$N="@firebase/messaging",YN="@firebase/messaging-compat",WN="@firebase/performance",XN="@firebase/performance-compat",JN="@firebase/remote-config",ZN="@firebase/remote-config-compat",ek="@firebase/storage",tk="@firebase/storage-compat",nk="@firebase/firestore",ik="@firebase/ai",rk="@firebase/firestore-compat",sk="firebase",ak="12.9.0";const Cv="[DEFAULT]",ok={[Iv]:"fire-core",[MN]:"fire-core-compat",[kN]:"fire-analytics",[NN]:"fire-analytics-compat",[LN]:"fire-app-check",[jN]:"fire-app-check-compat",[zN]:"fire-auth",[UN]:"fire-auth-compat",[BN]:"fire-rtdb",[FN]:"fire-data-connect",[qN]:"fire-rtdb-compat",[HN]:"fire-fn",[GN]:"fire-fn-compat",[KN]:"fire-iid",[QN]:"fire-iid-compat",[$N]:"fire-fcm",[YN]:"fire-fcm-compat",[WN]:"fire-perf",[XN]:"fire-perf-compat",[JN]:"fire-rc",[ZN]:"fire-rc-compat",[ek]:"fire-gcs",[tk]:"fire-gcs-compat",[nk]:"fire-fst",[rk]:"fire-fst-compat",[ik]:"fire-vertex","fire-js":"fire-js",[sk]:"fire-js-all"};const vm=new Map,lk=new Map,Dv=new Map;function pb(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kl(n){const e=n.name;if(Dv.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Dv.set(e,n);for(const t of vm.values())pb(t,n);for(const t of lk.values())pb(t,n);return!0}function F0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}const ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Dh("app","Firebase",ck);class uk{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const uc=ak;function fR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Cv,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ws.create("bad-app-name",{appName:String(a)});if(t||(t=iR()),!t)throw Ws.create("no-options");const o=vm.get(a);if(o){if(ta(t,o.options)&&ta(i,o.config))return o;throw Ws.create("duplicate-app",{appName:a})}const c=new gN(a);for(const d of Dv.values())c.addComponent(d);const h=new uk(t,i,c);return vm.set(a,h),h}function mR(n=Cv){const e=vm.get(n);if(!e&&n===Cv&&iR())return fR();if(!e)throw Ws.create("no-app",{appName:n});return e}function Xs(n,e,t){let i=ok[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}Kl(new ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hk="firebase-heartbeat-database",dk=1,sh="firebase-heartbeat-store";let Ky=null;function pR(){return Ky||(Ky=CN(hk,dk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),Ky}async function fk(n){try{const t=(await pR()).transaction(sh),i=await t.objectStore(sh).get(gR(n));return await t.done,i}catch(e){if(e instanceof Xr)Kr.warn(e.message);else{const t=Ws.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function gb(n,e){try{const i=(await pR()).transaction(sh,"readwrite");await i.objectStore(sh).put(e,gR(n)),await i.done}catch(t){if(t instanceof Xr)Kr.warn(t.message);else{const i=Ws.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(i.message)}}}function gR(n){return`${n.name}!${n.options.appId}`}const mk=1024,pk=30;class gk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>pk){const a=_k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yb(),{heartbeatsToSend:t,unsentEntries:i}=yk(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Kr.warn(e),""}}}function yb(){return new Date().toISOString().substring(0,10)}function yk(n,e=mk){const t=[];let i=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),vb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),vb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vb(n){return ym(JSON.stringify({version:2,heartbeats:n})).length}function _k(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function Ek(n){Kl(new ho("platform-logger",e=>new ON(e),"PRIVATE")),Kl(new ho("heartbeat",e=>new gk(e),"PRIVATE")),Xs(Iv,mb,n),Xs(Iv,mb,"esm2020"),Xs("fire-js","")}Ek("");var Tk="firebase",Sk="12.9.0";Xs(Tk,Sk,"app");var _b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,yR;(function(){var n;function e(I,w){function D(){}D.prototype=w.prototype,I.F=w.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(z,k,q){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return w.prototype[k].apply(z,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,D){D||(D=0);const z=Array(16);if(typeof w=="string")for(var k=0;k<16;++k)z[k]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(k=0;k<16;++k)z[k]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=I.g[0],D=I.g[1],k=I.g[2];let q=I.g[3],V;V=w+(q^D&(k^q))+z[0]+3614090360&4294967295,w=D+(V<<7&4294967295|V>>>25),V=q+(k^w&(D^k))+z[1]+3905402710&4294967295,q=w+(V<<12&4294967295|V>>>20),V=k+(D^q&(w^D))+z[2]+606105819&4294967295,k=q+(V<<17&4294967295|V>>>15),V=D+(w^k&(q^w))+z[3]+3250441966&4294967295,D=k+(V<<22&4294967295|V>>>10),V=w+(q^D&(k^q))+z[4]+4118548399&4294967295,w=D+(V<<7&4294967295|V>>>25),V=q+(k^w&(D^k))+z[5]+1200080426&4294967295,q=w+(V<<12&4294967295|V>>>20),V=k+(D^q&(w^D))+z[6]+2821735955&4294967295,k=q+(V<<17&4294967295|V>>>15),V=D+(w^k&(q^w))+z[7]+4249261313&4294967295,D=k+(V<<22&4294967295|V>>>10),V=w+(q^D&(k^q))+z[8]+1770035416&4294967295,w=D+(V<<7&4294967295|V>>>25),V=q+(k^w&(D^k))+z[9]+2336552879&4294967295,q=w+(V<<12&4294967295|V>>>20),V=k+(D^q&(w^D))+z[10]+4294925233&4294967295,k=q+(V<<17&4294967295|V>>>15),V=D+(w^k&(q^w))+z[11]+2304563134&4294967295,D=k+(V<<22&4294967295|V>>>10),V=w+(q^D&(k^q))+z[12]+1804603682&4294967295,w=D+(V<<7&4294967295|V>>>25),V=q+(k^w&(D^k))+z[13]+4254626195&4294967295,q=w+(V<<12&4294967295|V>>>20),V=k+(D^q&(w^D))+z[14]+2792965006&4294967295,k=q+(V<<17&4294967295|V>>>15),V=D+(w^k&(q^w))+z[15]+1236535329&4294967295,D=k+(V<<22&4294967295|V>>>10),V=w+(k^q&(D^k))+z[1]+4129170786&4294967295,w=D+(V<<5&4294967295|V>>>27),V=q+(D^k&(w^D))+z[6]+3225465664&4294967295,q=w+(V<<9&4294967295|V>>>23),V=k+(w^D&(q^w))+z[11]+643717713&4294967295,k=q+(V<<14&4294967295|V>>>18),V=D+(q^w&(k^q))+z[0]+3921069994&4294967295,D=k+(V<<20&4294967295|V>>>12),V=w+(k^q&(D^k))+z[5]+3593408605&4294967295,w=D+(V<<5&4294967295|V>>>27),V=q+(D^k&(w^D))+z[10]+38016083&4294967295,q=w+(V<<9&4294967295|V>>>23),V=k+(w^D&(q^w))+z[15]+3634488961&4294967295,k=q+(V<<14&4294967295|V>>>18),V=D+(q^w&(k^q))+z[4]+3889429448&4294967295,D=k+(V<<20&4294967295|V>>>12),V=w+(k^q&(D^k))+z[9]+568446438&4294967295,w=D+(V<<5&4294967295|V>>>27),V=q+(D^k&(w^D))+z[14]+3275163606&4294967295,q=w+(V<<9&4294967295|V>>>23),V=k+(w^D&(q^w))+z[3]+4107603335&4294967295,k=q+(V<<14&4294967295|V>>>18),V=D+(q^w&(k^q))+z[8]+1163531501&4294967295,D=k+(V<<20&4294967295|V>>>12),V=w+(k^q&(D^k))+z[13]+2850285829&4294967295,w=D+(V<<5&4294967295|V>>>27),V=q+(D^k&(w^D))+z[2]+4243563512&4294967295,q=w+(V<<9&4294967295|V>>>23),V=k+(w^D&(q^w))+z[7]+1735328473&4294967295,k=q+(V<<14&4294967295|V>>>18),V=D+(q^w&(k^q))+z[12]+2368359562&4294967295,D=k+(V<<20&4294967295|V>>>12),V=w+(D^k^q)+z[5]+4294588738&4294967295,w=D+(V<<4&4294967295|V>>>28),V=q+(w^D^k)+z[8]+2272392833&4294967295,q=w+(V<<11&4294967295|V>>>21),V=k+(q^w^D)+z[11]+1839030562&4294967295,k=q+(V<<16&4294967295|V>>>16),V=D+(k^q^w)+z[14]+4259657740&4294967295,D=k+(V<<23&4294967295|V>>>9),V=w+(D^k^q)+z[1]+2763975236&4294967295,w=D+(V<<4&4294967295|V>>>28),V=q+(w^D^k)+z[4]+1272893353&4294967295,q=w+(V<<11&4294967295|V>>>21),V=k+(q^w^D)+z[7]+4139469664&4294967295,k=q+(V<<16&4294967295|V>>>16),V=D+(k^q^w)+z[10]+3200236656&4294967295,D=k+(V<<23&4294967295|V>>>9),V=w+(D^k^q)+z[13]+681279174&4294967295,w=D+(V<<4&4294967295|V>>>28),V=q+(w^D^k)+z[0]+3936430074&4294967295,q=w+(V<<11&4294967295|V>>>21),V=k+(q^w^D)+z[3]+3572445317&4294967295,k=q+(V<<16&4294967295|V>>>16),V=D+(k^q^w)+z[6]+76029189&4294967295,D=k+(V<<23&4294967295|V>>>9),V=w+(D^k^q)+z[9]+3654602809&4294967295,w=D+(V<<4&4294967295|V>>>28),V=q+(w^D^k)+z[12]+3873151461&4294967295,q=w+(V<<11&4294967295|V>>>21),V=k+(q^w^D)+z[15]+530742520&4294967295,k=q+(V<<16&4294967295|V>>>16),V=D+(k^q^w)+z[2]+3299628645&4294967295,D=k+(V<<23&4294967295|V>>>9),V=w+(k^(D|~q))+z[0]+4096336452&4294967295,w=D+(V<<6&4294967295|V>>>26),V=q+(D^(w|~k))+z[7]+1126891415&4294967295,q=w+(V<<10&4294967295|V>>>22),V=k+(w^(q|~D))+z[14]+2878612391&4294967295,k=q+(V<<15&4294967295|V>>>17),V=D+(q^(k|~w))+z[5]+4237533241&4294967295,D=k+(V<<21&4294967295|V>>>11),V=w+(k^(D|~q))+z[12]+1700485571&4294967295,w=D+(V<<6&4294967295|V>>>26),V=q+(D^(w|~k))+z[3]+2399980690&4294967295,q=w+(V<<10&4294967295|V>>>22),V=k+(w^(q|~D))+z[10]+4293915773&4294967295,k=q+(V<<15&4294967295|V>>>17),V=D+(q^(k|~w))+z[1]+2240044497&4294967295,D=k+(V<<21&4294967295|V>>>11),V=w+(k^(D|~q))+z[8]+1873313359&4294967295,w=D+(V<<6&4294967295|V>>>26),V=q+(D^(w|~k))+z[15]+4264355552&4294967295,q=w+(V<<10&4294967295|V>>>22),V=k+(w^(q|~D))+z[6]+2734768916&4294967295,k=q+(V<<15&4294967295|V>>>17),V=D+(q^(k|~w))+z[13]+1309151649&4294967295,D=k+(V<<21&4294967295|V>>>11),V=w+(k^(D|~q))+z[4]+4149444226&4294967295,w=D+(V<<6&4294967295|V>>>26),V=q+(D^(w|~k))+z[11]+3174756917&4294967295,q=w+(V<<10&4294967295|V>>>22),V=k+(w^(q|~D))+z[2]+718787259&4294967295,k=q+(V<<15&4294967295|V>>>17),V=D+(q^(k|~w))+z[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+q&4294967295}i.prototype.v=function(I,w){w===void 0&&(w=I.length);const D=w-this.blockSize,z=this.C;let k=this.h,q=0;for(;q<w;){if(k==0)for(;q<=D;)a(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<w;)if(z[k++]=I.charCodeAt(q++),k==this.blockSize){a(this,z),k=0;break}}else for(;q<w;)if(z[k++]=I[q++],k==this.blockSize){a(this,z),k=0;break}}this.h=k,this.o+=w},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)I[w++]=this.g[D]>>>z&255;return I};function o(I,w){var D=h;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=w(I)}function c(I,w){this.h=w;const D=[];let z=!0;for(let k=I.length-1;k>=0;k--){const q=I[k]|0;z&&q==w||(D[k]=q,z=!1)}this.g=D}var h={};function d(I){return-128<=I&&I<128?o(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return N(m(-I));const w=[];let D=1;for(let z=0;I>=D;z++)w[z]=I/D|0,D*=4294967296;return new c(w,0)}function y(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return N(y(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(w,8));let z=_;for(let q=0;q<I.length;q+=8){var k=Math.min(8,I.length-q);const V=parseInt(I.substring(q,q+k),w);k<8?(k=m(Math.pow(w,k)),z=z.j(k).add(m(V))):(z=z.j(D),z=z.add(m(V)))}return z}var _=d(0),T=d(1),x=d(16777216);n=c.prototype,n.m=function(){if(M(this))return-N(this).m();let I=0,w=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);I+=(z>=0?z:4294967296+z)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(M(this))return"-"+N(this).toString(I);const w=m(Math.pow(I,6));var D=this;let z="";for(;;){const k=J(D,w).g;D=B(D,k.j(w));let q=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=k,C(D))return q+z;for(;q.length<6;)q="0"+q;z=q+z}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=B(this,I),M(I)?-1:C(I)?0:1};function N(I){const w=I.g.length,D=[];for(let z=0;z<w;z++)D[z]=~I.g[z];return new c(D,~I.h).add(T)}n.abs=function(){return M(this)?N(this):this},n.add=function(I){const w=Math.max(this.g.length,I.g.length),D=[];let z=0;for(let k=0;k<=w;k++){let q=z+(this.i(k)&65535)+(I.i(k)&65535),V=(q>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);z=V>>>16,q&=65535,V&=65535,D[k]=V<<16|q}return new c(D,D[D.length-1]&-2147483648?-1:0)};function B(I,w){return I.add(N(w))}n.j=function(I){if(C(this)||C(I))return _;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(this.l(x)<0&&I.l(x)<0)return m(this.m()*I.m());const w=this.g.length+I.g.length,D=[];for(var z=0;z<2*w;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let k=0;k<I.g.length;k++){const q=this.i(z)>>>16,V=this.i(z)&65535,Ae=I.i(k)>>>16,Ee=I.i(k)&65535;D[2*z+2*k]+=V*Ee,j(D,2*z+2*k),D[2*z+2*k+1]+=q*Ee,j(D,2*z+2*k+1),D[2*z+2*k+1]+=V*Ae,j(D,2*z+2*k+1),D[2*z+2*k+2]+=q*Ae,j(D,2*z+2*k+2)}for(I=0;I<w;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=w;I<2*w;I++)D[I]=0;return new c(D,0)};function j(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function U(I,w){this.g=I,this.h=w}function J(I,w){if(C(w))throw Error("division by zero");if(C(I))return new U(_,_);if(M(I))return w=J(N(I),w),new U(N(w.g),N(w.h));if(M(w))return w=J(I,N(w)),new U(N(w.g),w.h);if(I.g.length>30){if(M(I)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var D=T,z=w;z.l(I)<=0;)D=H(D),z=H(z);var k=$(D,1),q=$(z,1);for(z=$(z,2),D=$(D,2);!C(z);){var V=q.add(z);V.l(I)<=0&&(k=k.add(D),q=V),z=$(z,1),D=$(D,1)}return w=B(I,k.j(w)),new U(k,w)}for(k=_;I.l(w)>=0;){for(D=Math.max(1,Math.floor(I.m()/w.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),q=m(D),V=q.j(w);M(V)||V.l(I)>0;)D-=z,q=m(D),V=q.j(w);C(q)&&(q=T),k=k.add(q),I=B(I,V)}return new U(k,I)}n.B=function(I){return J(this,I).h},n.and=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<w;z++)D[z]=this.i(z)&I.i(z);return new c(D,this.h&I.h)},n.or=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<w;z++)D[z]=this.i(z)|I.i(z);return new c(D,this.h|I.h)},n.xor=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<w;z++)D[z]=this.i(z)^I.i(z);return new c(D,this.h^I.h)};function H(I){const w=I.g.length+1,D=[];for(let z=0;z<w;z++)D[z]=I.i(z)<<1|I.i(z-1)>>>31;return new c(D,I.h)}function $(I,w){const D=w>>5;w%=32;const z=I.g.length-D,k=[];for(let q=0;q<z;q++)k[q]=w>0?I.i(q+D)>>>w|I.i(q+D+1)<<32-w:I.i(q+D);return new c(k,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,yR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Js=c}).apply(typeof _b<"u"?_b:typeof self<"u"?self:typeof window<"u"?window:{});var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vR,ju,_R,Gf,Vv,ER,TR,SR;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vf=="object"&&Vf];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(f,E){if(E)e:{var b=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in b))break e;b=b[Q]}f=f[f.length-1],R=b[f],E=E(R),E!=R&&E!=null&&e(b,f,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(E){var b=[],R;for(R in E)Object.prototype.hasOwnProperty.call(E,R)&&b.push([R,E[R]]);return b}});var o=o||{},c=this||self;function h(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function d(f,E,b){return f.call.apply(f.bind,arguments)}function m(f,E,b){return m=d,m.apply(null,arguments)}function y(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,E){function b(){}b.prototype=E.prototype,f.Z=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(R,Q,Z){for(var he=Array(arguments.length-2),je=2;je<arguments.length;je++)he[je-2]=arguments[je];return E.prototype[Q].apply(R,he)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const E=f.length;if(E>0){const b=Array(E);for(let R=0;R<E;R++)b[R]=f[R];return b}return[]}function C(f,E){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var b=typeof Q;if(b=b!="object"?b:Q?Array.isArray(Q)?"array":b:"null",b=="array"||b=="object"&&typeof Q.length=="number"){b=f.length||0;const Z=Q.length||0;f.length=b+Z;for(let he=0;he<Z;he++)f[b+he]=Q[he]}else f.push(Q)}}class M{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function N(f){c.setTimeout(()=>{throw f},0)}function B(){var f=I;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class j{constructor(){this.h=this.g=null}add(E,b){const R=U.get();R.set(E,b),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new M(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let H,$=!1,I=new j,w=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(D)}};function D(){for(var f;f=B();){try{f.h.call(f.g)}catch(b){N(b)}var E=U;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}$=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};c.addEventListener("test",b,E),c.removeEventListener("test",b,E)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function Ae(f,E){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}_(Ae,k),Ae.prototype.init=function(f,E){const b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(f,E,b,R,Q){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!R,this.ha=Q,this.key=++te,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ie(f,E,b){for(const R in f)E.call(b,f[R],R,f)}function Ne(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function O(f){const E={};for(const b in f)E[b]=f[b];return E}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,E){let b,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(b in R)f[b]=R[b];for(let Z=0;Z<ie.length;Z++)b=ie[Z],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,E,b,R,Q){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const he=Ce(f,E,R,Q);return he>-1?(E=f[he],b||(E.fa=!1)):(E=new oe(E,this.src,Z,!!R,Q),E.fa=b,f.push(E)),E};function Se(f,E){const b=E.type;if(b in f.g){var R=f.g[b],Q=Array.prototype.indexOf.call(R,E,void 0),Z;(Z=Q>=0)&&Array.prototype.splice.call(R,Q,1),Z&&(me(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Ce(f,E,b,R){for(let Q=0;Q<f.length;++Q){const Z=f[Q];if(!Z.da&&Z.listener==E&&Z.capture==!!b&&Z.ha==R)return Q}return-1}var be="closure_lm_"+(Math.random()*1e6|0),lt={};function nt(f,E,b,R,Q){if(Array.isArray(E)){for(let Z=0;Z<E.length;Z++)nt(f,E[Z],b,R,Q);return null}return b=bc(b),f&&f[Ee]?f.J(E,b,h(R)?!!R.capture:!1,Q):Ui(f,E,b,!1,R,Q)}function Ui(f,E,b,R,Q,Z){if(!E)throw Error("Invalid event type");const he=h(Q)?!!Q.capture:!!Q;let je=pa(f);if(je||(f[be]=je=new de(f)),b=je.add(E,b,R,he,Z),b.proxy)return b;if(R=Do(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)q||(Q=he),Q===void 0&&(Q=!1),f.addEventListener(E.toString(),R,Q);else if(f.attachEvent)f.attachEvent(Bi(E.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Do(){function f(b){return E.call(f.src,f.listener,b)}const E=Tc;return f}function Vo(f,E,b,R,Q){if(Array.isArray(E))for(var Z=0;Z<E.length;Z++)Vo(f,E[Z],b,R,Q);else R=h(R)?!!R.capture:!!R,b=bc(b),f&&f[Ee]?(f=f.i,Z=String(E).toString(),Z in f.g&&(E=f.g[Z],b=Ce(E,b,R,Q),b>-1&&(me(E[b]),Array.prototype.splice.call(E,b,1),E.length==0&&(delete f.g[Z],f.h--)))):f&&(f=pa(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Ce(E,b,R,Q)),(b=f>-1?E[f]:null)&&Oo(b))}function Oo(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ee])Se(E.i,f);else{var b=f.type,R=f.proxy;E.removeEventListener?E.removeEventListener(b,R,f.capture):E.detachEvent?E.detachEvent(Bi(b),R):E.addListener&&E.removeListener&&E.removeListener(R),(b=pa(E))?(Se(b,f),b.h==0&&(b.src=null,E[be]=null)):me(f)}}}function Bi(f){return f in lt?lt[f]:lt[f]="on"+f}function Tc(f,E){if(f.da)f=!0;else{E=new Ae(E,this);const b=f.listener,R=f.ha||f.src;f.fa&&Oo(f),f=b.call(R,E)}return f}function pa(f){return f=f[be],f instanceof de?f:null}var Sc="__closure_events_fn_"+(Math.random()*1e9>>>0);function bc(f){return typeof f=="function"?f:(f[Sc]||(f[Sc]=function(E){return f.handleEvent(E)}),f[Sc])}function Nt(){z.call(this),this.i=new de(this),this.M=this,this.G=null}_(Nt,z),Nt.prototype[Ee]=!0,Nt.prototype.removeEventListener=function(f,E,b,R){Vo(this,f,E,b,R)};function Yt(f,E){var b,R=f.G;if(R)for(b=[];R;R=R.G)b.push(R);if(f=f.M,R=E.type||E,typeof E=="string")E=new k(E,f);else if(E instanceof k)E.target=E.target||f;else{var Q=E;E=new k(R,f),ue(E,Q)}Q=!0;let Z,he;if(b)for(he=b.length-1;he>=0;he--)Z=E.g=b[he],Q=ts(Z,R,!0,E)&&Q;if(Z=E.g=f,Q=ts(Z,R,!0,E)&&Q,Q=ts(Z,R,!1,E)&&Q,b)for(he=0;he<b.length;he++)Z=E.g=b[he],Q=ts(Z,R,!1,E)&&Q}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const b=f.g[E];for(let R=0;R<b.length;R++)me(b[R]);delete f.g[E],f.h--}}this.G=null},Nt.prototype.J=function(f,E,b,R){return this.i.add(String(f),E,!1,b,R)},Nt.prototype.K=function(f,E,b,R){return this.i.add(String(f),E,!0,b,R)};function ts(f,E,b,R){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let Q=!0;for(let Z=0;Z<E.length;++Z){const he=E[Z];if(he&&!he.da&&he.capture==b){const je=he.listener,Vt=he.ha||he.src;he.fa&&Se(f.i,he),Q=je.call(Vt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Np(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(f,E||0)}function Zh(f){f.g=Np(()=>{f.g=null,f.i&&(f.i=!1,Zh(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class bn extends z{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Zh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(f){z.call(this),this.h=f,this.g={}}_(ga,z);var xc=[];function Ac(f){Ie(f.g,function(E,b){this.g.hasOwnProperty(b)&&Oo(E)},f),f.g={}}ga.prototype.N=function(){ga.Z.N.call(this),Ac(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=c.JSON.stringify,kp=c.JSON.parse,ed=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function td(){}function nd(){}var _i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){k.call(this,"d")}_(on,k);function Zn(){k.call(this,"c")}_(Zn,k);var Dt={},id=null;function Po(){return id=id||new Nt}Dt.Ia="serverreachability";function rd(f){k.call(this,Dt.Ia,f)}_(rd,k);function Fi(f){const E=Po();Yt(E,new rd(E))}Dt.STAT_EVENT="statevent";function ya(f,E){k.call(this,Dt.STAT_EVENT,f),this.stat=E}_(ya,k);function kt(f){const E=Po();Yt(E,new ya(E,f))}Dt.Ja="timingevent";function qi(f,E){k.call(this,Dt.Ja,f),this.size=E}_(qi,k);function Hi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function Ei(){this.g=!0}Ei.prototype.ua=function(){this.g=!1};function jp(f,E,b,R,Q,Z){f.info(function(){if(f.g)if(Z){var he="",je=Z.split("&");for(let Ze=0;Ze<je.length;Ze++){var Vt=je[Ze].split("=");if(Vt.length>1){const vt=Vt[0];Vt=Vt[1];const ii=vt.split("_");he=ii.length>=2&&ii[1]=="type"?he+(vt+"="+Vt+"&"):he+(vt+"=redacted&")}}}else he=null;else he=Z;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+E+`
`+b+`
`+he})}function sd(f,E,b,R,Q,Z,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+E+`
`+b+`
`+Z+" "+he})}function Gi(f,E,b,R){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Lp(f,b)+(R?" "+R:"")})}function va(f,E){f.info(function(){return"TIMEOUT: "+E})}Ei.prototype.info=function(){};function Lp(f,E){if(!f.g)return E;if(!E)return null;try{const Z=JSON.parse(E);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var b=Z[f];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return ns(Z)}catch{return E}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rc;function Ea(){}_(Ea,td),Ea.prototype.g=function(){return new XMLHttpRequest},Rc=new Ea;function Tr(f){return encodeURIComponent(String(f))}function ad(f){var E=1;f=f.split(":");const b=[];for(;E>0&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function Ti(f,E,b,R){this.j=f,this.i=E,this.l=b,this.S=R||1,this.V=new ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var jt={},en={};function Ki(f,E,b){f.M=1,f.A=Ta(zt(E)),f.u=b,f.R=!0,Mo(f,null)}function Mo(f,E){f.F=Date.now(),Qi(f),f.B=zt(f.A);var b=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),Lo(b.i,"t",R),f.C=0,b=f.j.L,f.h=new Si,f.g=Td(f.j,b?E:null,!f.u),f.P>0&&(f.O=new bn(m(f.Y,f,f.g),f.P)),E=f.V,b=f.g,R=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(xc[0]=Q.toString()),Q=xc);for(let Z=0;Z<Q.length;Z++){const he=nt(b,Q[Z],R||E.handleEvent,!1,E.h||E);if(!he)break;E.g[he.key]=he}E=f.J?O(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),Fi(),jp(f.i,f.v,f.B,f.l,f.S,f.u)}Ti.prototype.ba=function(f){f=f.target;const E=this.O;E&&Ai(f)==3?E.j():this.Y(f)},Ti.prototype.Y=function(f){try{if(f==this.g)e:{const je=Ai(this.g),Vt=this.g.ya(),Ze=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||je!=4||Vt==7||(Vt==8||Ze<=0?Fi(3):Fi(2)),$i(this);var E=this.g.ca();this.X=E;var b=zp(this);if(this.o=E==200,sd(this.i,this.v,this.B,this.l,this.S,je,E),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var Z=R;break t}}Z=null}if(f=Z)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,f);else{this.o=!1,this.m=3,kt(12),zn(this),ei(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=ld(this,b),vt==en){je==4&&(this.m=4,kt(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==jt){this.m=4,kt(15),Gi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,vt,null),Yi(this,vt);if(od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,b,"[Invalid Chunked Response]"),zn(this),ei(this);else if(b.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Fc(he),he.P=!0,kt(11))}}else Gi(this.i,this.l,b,null),Yi(this,b);je==4&&zn(this),this.o&&!this.K&&(je==4?yd(this.j,this):(this.o=!1,Qi(this)))}else br(this.g),E==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),zn(this),ei(this)}}}catch{}};function zp(f){if(!od(f))return f.g.la();const E=ln(f.g);if(E==="")return"";let b="";const R=E.length,Q=Ai(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return zn(f),ei(f),"";f.h.i=new c.TextDecoder}for(let Z=0;Z<R;Z++)f.h.h=!0,b+=f.h.i.decode(E[Z],{stream:!(Q&&Z==R-1)});return E.length=0,f.h.g+=b,f.C=0,f.h.g}function od(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ld(f,E){var b=f.C,R=E.indexOf(`
`,b);return R==-1?en:(b=Number(E.substring(b,R)),isNaN(b)?jt:(R+=1,R+b>E.length?en:(E=E.slice(R,R+b),f.C=R+b,E)))}Ti.prototype.cancel=function(){this.K=!0,zn(this)};function Qi(f){f.T=Date.now()+f.H,No(f,f.H)}function No(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Hi(m(f.aa,f),E)}function $i(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(va(this.i,this.B),this.M!=2&&(Fi(),kt(17)),zn(this),this.m=2,ei(this)):No(this,this.T-f)};function ei(f){f.j.I==0||f.K||yd(f.j,f)}function zn(f){$i(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Ac(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Yi(f,E){try{var b=f.j;if(b.I!=0&&(b.g==f||Xi(b.h,f))){if(!f.L&&Xi(b.h,f)&&b.I==3){try{var R=b.Ba.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)qo(b),us(b);else break e;Ia(b),kt(18)}}else b.xa=Q[1],0<b.xa-b.K&&Q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Hi(m(b.Va,b),6e3));Wi(b.h)<=1&&b.ta&&(b.ta=void 0)}else ir(b,11)}else if((f.L||b.g==f)&&qo(b),!V(E))for(Q=b.Ba.g.parse(E),E=0;E<Q.length;E++){let Ze=Q[E];const vt=Ze[0];if(!(vt<=b.K))if(b.K=vt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const ii=Ze[3];ii!=null&&(b.ka=ii,b.j.info("VER="+b.ka));const rr=Ze[4];rr!=null&&(b.za=rr,b.j.info("SVER="+b.za));const wi=Ze[5];wi!=null&&typeof wi=="number"&&wi>0&&(R=1.5*wi,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Ri=f.g;if(Ri){const Ca=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var Z=R.h;Z.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Dc(Z,Z.h),Z.h=null))}if(R.G){const Ho=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(R.wa=Ho,it(R.J,R.G,Ho))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var he=f;if(R.na=Ed(R,R.L?R.ba:null,R.W),he.L){Vc(R.h,he);var je=he,Vt=R.O;Vt&&(je.H=Vt),je.D&&($i(je),Qi(je)),R.g=he}else pd(R);b.i.length>0&&nr(b)}else Ze[0]!="stop"&&Ze[0]!="close"||ir(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ir(b,7):Uc(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}Fi(4)}catch{}}var Lt=class{constructor(f,E){this.g=f,this.map=E}};function Ic(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wi(f){return f.h?1:f.g?f.g.size:0}function Xi(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Dc(f,E){f.g?f.g.add(E):f.h=E}function Vc(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Ic.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Oc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.G);return E}return x(f.i)}var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(f,E){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const R=f[b].indexOf("=");let Q,Z=null;R>=0?(Q=f[b].substring(0,R),Z=f[b].substring(R+1)):Q=f[b],E(Q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Un(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof Un?(this.l=f.l,tn(this,f.j),this.o=f.o,this.g=f.g,is(this,f.u),this.h=f.h,Pc(this,fd(f.i)),this.m=f.m):f&&(E=String(f).match(cd))?(this.l=!1,tn(this,E[1]||"",!0),this.o=Ji(E[2]||""),this.g=Ji(E[3]||"",!0),is(this,E[4]),this.h=Ji(E[5]||"",!0),Pc(this,E[6]||"",!0),this.m=Ji(E[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Un.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(Sa(E,jo,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Sa(E,jo,!0),"@"),f.push(Tr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Sa(b,b.charAt(0)=="/"?Mc:ud,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Sa(b,hd)),f.join("")},Un.prototype.resolve=function(f){const E=zt(this);let b=!!f.j;b?tn(E,f.j):b=!!f.o,b?E.o=f.o:b=!!f.g,b?E.g=f.g:b=f.u!=null;var R=f.h;if(b)is(E,f.u);else if(b=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=E.h.lastIndexOf("/");Q!=-1&&(R=E.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const Z=[];for(let he=0;he<Q.length;){const je=Q[he++];je=="."?R&&he==Q.length&&Z.push(""):je==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&he==Q.length&&Z.push("")):(Z.push(je),R=!0)}R=Z.join("/")}else R=Q}return b?E.h=R:b=f.i.toString()!=="",b?Pc(E,fd(f.i)):b=!!f.m,b&&(E.m=f.m),E};function zt(f){return new Un(f)}function tn(f,E,b){f.j=b?Ji(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function is(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Pc(f,E,b){E instanceof ss?(f.i=E,zo(f.i,f.l)):(b||(E=Sa(E,rs)),f.i=new ss(E,f.l))}function it(f,E,b){f.i.set(E,b)}function Ta(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ji(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sa(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,Vn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jo=/[#\/\?@]/g,ud=/[#\?:]/g,Mc=/[#\?]/g,rs=/[#\?@]/g,hd=/#/g;function ss(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&ko(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=ss.prototype,n.add=function(f,E){On(this),this.i=null,f=as(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function dd(f,E){On(f),E=as(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Nc(f,E){return On(f),E=as(f,E),f.g.has(E)}n.forEach=function(f,E){On(this),this.g.forEach(function(b,R){b.forEach(function(Q){f.call(E,Q,R,this)},this)},this)};function kc(f,E){On(f);let b=[];if(typeof E=="string")Nc(f,E)&&(b=b.concat(f.g.get(as(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)b=b.concat(f[E]);return b}n.set=function(f,E){return On(this),this.i=null,f=as(this,f),Nc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=kc(this,f),f.length>0?String(f[0]):E):E};function Lo(f,E,b){dd(f,E),b.length>0&&(f.i=null,f.g.set(as(f,E),x(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let R=0;R<E.length;R++){var b=E[R];const Q=Tr(b);b=kc(this,b);for(let Z=0;Z<b.length;Z++){let he=Q;b[Z]!==""&&(he+="="+Tr(b[Z])),f.push(he)}}return this.i=f.join("&")};function fd(f){const E=new ss;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function as(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function zo(f,E){E&&!f.j&&(On(f),f.i=null,f.g.forEach(function(b,R){const Q=R.toLowerCase();R!=Q&&(dd(this,R),Lo(this,Q,b))},f)),f.j=E}function bi(f,E){const b=new Ei;if(c.Image){const R=new Image;R.onload=y(ti,b,"TestLoadImage: loaded",!0,E,R),R.onerror=y(ti,b,"TestLoadImage: error",!1,E,R),R.onabort=y(ti,b,"TestLoadImage: abort",!1,E,R),R.ontimeout=y(ti,b,"TestLoadImage: timeout",!1,E,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else E(!1)}function jc(f,E){const b=new Ei,R=new AbortController,Q=setTimeout(()=>{R.abort(),ti(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:R.signal}).then(Z=>{clearTimeout(Q),Z.ok?ti(b,"TestPingServer: ok",!0,E):ti(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),ti(b,"TestPingServer: error",!1,E)})}function ti(f,E,b,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(b)}catch{}}function os(){this.g=new ed}function Zi(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Zi,td),Zi.prototype.g=function(){return new ba(this.i,this.h)};function ba(f,E){Nt.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ba,Nt),n=ba.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,xi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ls(this):xi(this),this.readyState==3&&Uo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ls(this))},n.Na=function(f){this.g&&(this.response=f,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,xi(f)}n.setRequestHeader=function(f,E){this.A.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function xi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ni(f){let E="";return Ie(f,function(b,R){E+=R,E+=":",E+=b,E+=`\r
`}),E}function xa(f,E,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ni(b),typeof f=="string"?b!=null&&Tr(b):it(f,E,b))}function ct(f){Nt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ct,Nt);var er=/^https?$/i,Lc=["POST","PUT"];n=ct.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,E,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rc.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Z){Aa(this,Z);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)b.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())b.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Lc,E,void 0)>=0)||R||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of b)this.g.setRequestHeader(Z,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){Aa(this,Z)}};function Aa(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,zc(f),Sr(f)}function zc(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Yt(this,"complete"),Yt(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ct.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},n.Xa=function(){wa(this)};function wa(f){if(f.h&&typeof o<"u"){if(f.v&&Ai(f)==4)setTimeout(f.Ca.bind(f),0);else if(Yt(f,"readystatechange"),Ai(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var R;if(R=Z===0){let he=String(f.D).match(cd)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),R=!er.test(he?he.toLowerCase():"")}b=R}if(b)Yt(f,"complete"),Yt(f,"success");else{f.o=6;try{var Q=Ai(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",zc(f)}}finally{Sr(f)}}}}function Sr(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,E||Yt(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ai(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),kp(E)}};function ln(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function br(f){const E={};f=(f.g&&Ai(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(V(f[R]))continue;var b=ad(f[R]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=E[Q]||[];E[Q]=Z,Z.push(b)}Ne(E,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function cs(f){this.za=0,this.i=[],this.j=new Ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,f),this.Za=tr("retryDelaySeedMs",1e4,f),this.Ta=tr("forwardChannelMaxRetries",2,f),this.va=tr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ic(f&&f.concurrentRequestLimit),this.Ba=new os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=cs.prototype,n.ka=8,n.I=1,n.connect=function(f,E,b,R){kt(0),this.W=f,this.H=E||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=Ed(this,null,this.W),nr(this)};function Uc(f){if(Bo(f),f.I==3){var E=f.V++,b=zt(f.J);if(it(b,"SID",f.M),it(b,"RID",E),it(b,"TYPE","terminate"),Ra(f,b),E=new Ti(f,f.j,E),E.M=2,E.A=Ta(zt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=E.A,b=!0),b||(E.g=Td(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Qi(E)}_d(f)}function us(f){f.g&&(Fc(f),f.g.cancel(),f.g=null)}function Bo(f){us(f),f.v&&(c.clearTimeout(f.v),f.v=null),qo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function nr(f){if(!Cc(f.h)&&!f.m){f.m=!0;var E=f.Ea;H||w(),$||(H(),$=!0),I.add(E,f),f.D=0}}function Fo(f,E){return Wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Hi(m(f.Ea,f,E),vd(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new Ti(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=O(Z),ue(Z,this.U)):Z=this.U),this.u!==null||this.R||(Q.J=Z,Z=null),this.S)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(E+=R,E>4096){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=md(this,Q,E),b=zt(this.J),it(b,"RID",f),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),Ra(this,b),Z&&(this.R?E="headers="+Tr(ni(Z))+"&"+E:this.u&&xa(b,this.u,Z)),Dc(this.h,Q),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",E),it(b,"SID","null"),Q.U=!0,Ki(Q,b,null)):Ki(Q,b,E),this.I=2}}else this.I==3&&(f?Bc(this,f):this.i.length==0||Cc(this.h)||Bc(this))};function Bc(f,E){var b;E?b=E.l:b=f.V++;const R=zt(f.J);it(R,"SID",f.M),it(R,"RID",b),it(R,"AID",f.K),Ra(f,R),f.u&&f.o&&xa(R,f.u,f.o),b=new Ti(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),E&&(f.i=E.G.concat(f.i)),E=md(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Dc(f.h,b),Ki(b,R,E)}function Ra(f,E){f.H&&Ie(f.H,function(b,R){it(E,R,b)}),f.l&&Ie({},function(b,R){it(E,R,b)})}function md(f,E,b){b=Math.min(f.i.length,b);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let je=-1;for(;;){const Vt=["count="+b];je==-1?b>0?(je=Q[0].g,Vt.push("ofs="+je)):je=0:Vt.push("ofs="+je);let Ze=!0;for(let vt=0;vt<b;vt++){var Z=Q[vt].g;const ii=Q[vt].map;if(Z-=je,Z<0)je=Math.max(0,Q[vt].g-100),Ze=!1;else try{Z="req"+Z+"_"||"";try{var he=ii instanceof Map?ii:Object.entries(ii);for(const[rr,wi]of he){let Ri=wi;h(wi)&&(Ri=ns(wi)),Vt.push(Z+rr+"="+encodeURIComponent(Ri))}}catch(rr){throw Vt.push(Z+"type="+encodeURIComponent("_badmap")),rr}}catch{R&&R(ii)}}if(Ze){he=Vt.join("&");break e}}he=void 0}return f=f.i.splice(0,b),E.G=f,he}function pd(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;H||w(),$||(H(),$=!0),I.add(E,f),f.A=0}}function Ia(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Hi(m(f.Da,f),vd(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,gd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Hi(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),us(this),gd(this))};function Fc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function gd(f){f.g=new Ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=zt(f.na);it(E,"RID","rpc"),it(E,"SID",f.M),it(E,"AID",f.K),it(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(E,"TO",f.ia),it(E,"TYPE","xmlhttp"),Ra(f,E),f.u&&f.o&&xa(E,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=Ta(zt(E)),b.u=null,b.R=!0,Mo(b,f)}n.Va=function(){this.C!=null&&(this.C=null,us(this),Ia(this),kt(19))};function qo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function yd(f,E){var b=null;if(f.g==E){qo(f),Fc(f),f.g=null;var R=2}else if(Xi(f.h,E))b=E.G,Vc(f.h,E),R=1;else return;if(f.I!=0){if(E.o)if(R==1){b=E.u?E.u.length:0,E=Date.now()-E.F;var Q=f.D;R=Po(),Yt(R,new qi(R,b)),nr(f)}else pd(f);else if(Q=E.m,Q==3||Q==0&&E.X>0||!(R==1&&Fo(f,E)||R==2&&Ia(f)))switch(b&&b.length>0&&(E=f.h,E.i=E.i.concat(b)),Q){case 1:ir(f,5);break;case 4:ir(f,10);break;case 3:ir(f,6);break;default:ir(f,2)}}}function vd(f,E){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*E}function ir(f,E){if(f.j.info("Error code "+E),E==2){var b=m(f.bb,f),R=f.Ua;const Q=!R;R=new Un(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(R,"https"),Ta(R),Q?bi(R.toString(),b):jc(R.toString(),b)}else kt(2);f.I=0,f.l&&f.l.pa(E),_d(f),Bo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function _d(f){if(f.I=0,f.ja=[],f.l){const E=Oc(f.h);(E.length!=0||f.i.length!=0)&&(C(f.ja,E),C(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function Ed(f,E,b){var R=b instanceof Un?zt(b):new Un(b);if(R.g!="")E&&(R.g=E+"."+R.g),is(R,R.u);else{var Q=c.location;R=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;const Z=new Un(null);R&&tn(Z,R),E&&(Z.g=E),Q&&is(Z,Q),b&&(Z.h=b),R=Z}return b=f.G,E=f.wa,b&&E&&it(R,b,E),it(R,"VER",f.ka),Ra(f,R),R}function Td(f,E,b){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new ct(new Zi({ab:b})):new ct(f.ma),E.Fa(f.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}n=Sd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function hs(){}hs.prototype.g=function(f,E){return new xn(f,E)};function xn(f,E){Nt.call(this),this.g=new cs(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!V(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new xr(this)}_(xn,Nt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Uc(this.g)},xn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=ns(f),f=b);E.i.push(new Lt(E.Ya++,f)),E.I==3&&nr(E)},xn.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,xn.Z.N.call(this)};function bd(f){on.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const b in E){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}_(bd,on);function xd(){Zn.call(this),this.status=1}_(xd,Zn);function xr(f){this.g=f}_(xr,Sd),xr.prototype.ra=function(){Yt(this.g,"a")},xr.prototype.qa=function(f){Yt(this.g,new bd(f))},xr.prototype.pa=function(f){Yt(this.g,new xd)},xr.prototype.oa=function(){Yt(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,SR=function(){return new hs},TR=function(){return Po()},ER=Dt,Vv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Gf=_a,wc.COMPLETE="complete",_R=wc,nd.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,ju=nd,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,vR=ct}).apply(typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{});let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let hc="12.9.0";function bk(n){hc=n}const fo=new U0("@firebase/firestore");function wl(){return fo.logLevel}function le(n,...e){if(fo.logLevel<=Qe.DEBUG){const t=e.map(q0);fo.debug(`Firestore (${hc}): ${n}`,...t)}}function wn(n,...e){if(fo.logLevel<=Qe.ERROR){const t=e.map(q0);fo.error(`Firestore (${hc}): ${n}`,...t)}}function na(n,...e){if(fo.logLevel<=Qe.WARN){const t=e.map(q0);fo.warn(`Firestore (${hc}): ${n}`,...t)}}function q0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,bR(n,i,t)}function bR(n,e,t){let i=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw wn(i),new Error(i)}function _e(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||bR(e,a,i)}function Ve(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class Ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wk{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new xR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class Rk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ik{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Rk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ck{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Eb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Eb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class H0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Dk(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Ov(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),o=e.charAt(i);if(a!==o)return Qy(a)===Qy(o)?De(a,o):Qy(a)?1:-1}return De(n.length,e.length)}const Vk=55296,Ok=57343;function Qy(n){const e=n.charCodeAt(0);return e>=Vk&&e<=Ok}function Ql(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}function AR(n){return n+"\0"}const Tb="__name__";class ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=ur.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const i=ur.isNumericId(e),a=ur.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ur.extractNumericId(e).compare(ur.extractNumericId(t)):Ov(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class tt extends ur{construct(e,t,i){return new tt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const Pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ur{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return Pk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tb}static keyField(){return new bt([Tb])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function wR(n,e,t){if(!t)throw new ce(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Mk(n,e,t,i){if(e===!0&&i===!0)throw new ce(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sb(n){if(!fe.isDocumentKey(n))throw new ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bb(n){if(fe.isDocumentKey(n))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ip(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ip(n);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Oh(n,e){if(!RR(n))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new ce(ne.INVALID_ARGUMENT,t);return!0}const xb=-62135596800,Ab=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ab);return new He(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xb)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ab}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oh(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Kt("string",He._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new He(0,0))}static max(){return new xe(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ah=-1;class _m{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Pv(n){return n.fields.find((e=>e.kind===2))}function $a(n){return n.fields.filter((e=>e.kind!==2))}_m.UNKNOWN_ID=-1;class Kf{constructor(e,t){this.fieldPath=e,this.kind=t}}class oh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new oh(0,Xn.min())}}function Nk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(i===1e9?new He(t+1,0):new He(t,i));return new Xn(a,fe.empty(),e)}function IR(n){return new Xn(n.readTime,n.key,ah)}class Xn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xn(xe.min(),fe.empty(),ah)}static max(){return new Xn(xe.max(),fe.empty(),ah)}}function G0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==CR)throw n;le("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,i)=>{t(e)}))}static reject(e){return new K(((t,i)=>{i(e)}))}static waitFor(e){return new K(((t,i)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&t()}),(d=>i(d)))})),c=!0,o===a&&t()}))}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next((a=>a?K.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,o)=>{i.push(t.call(this,a,o))})),this.waitFor(i)}static mapArray(e,t){return new K(((i,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(e,t){return new K(((i,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):i()};o()}))}}const Yn="SimpleDb";class rp{static open(e,t,i,a){try{return new rp(t,e.transaction(a,i))}catch(o){throw new Gu(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new fr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Gu(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=K0(i.target.error);this.S.reject(new Gu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(Yn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jk(t)}}class Zs{static delete(e){return le(Yn,"Removing database:",e),Xa(tR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!uR())return!1;if(Zs.F())return!0;const e=Jt(),t=Zs.M(e),i=0<t&&t<10,a=VR(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Zs.M(Jt())===12.2&&wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(Yn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{i(new Gu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?i(new ce(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ce(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Gu(e,c))},a.onupgradeneeded=o=>{le(Yn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{le(Yn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=rp.open(this.db,e,o?"readonly":"readwrite",i),d=a(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),K.reject(m)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,m=d.name!=="FirebaseError"&&c<3;if(le(Yn,"Transaction failed with error:",d.message,"Retrying:",m),this.close(),!m)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class kk{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Xa(this.U.delete())}}class Gu extends ce{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ua(n){return n.name==="IndexedDbTransactionError"}class jk{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(le(Yn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(le(Yn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Xa(i)}add(e){return le(Yn,"ADD",this.store.name,e,e),Xa(this.store.add(e))}get(e){return Xa(this.store.get(e)).next((t=>(t===void 0&&(t=null),le(Yn,"GET",this.store.name,e,t),t)))}delete(e){return le(Yn,"DELETE",this.store.name,e),Xa(this.store.delete(e))}count(){return le(Yn,"COUNT",this.store.name),Xa(this.store.count())}H(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(i.range);return new K(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(i),c=[];return this.J(o,((h,d)=>{c.push(d)})).next((()=>c))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new K(((a,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}X(e,t){le(Yn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.J(a,((o,c,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.J(a,t)}te(e){const t=this.cursor({});return new K(((i,a)=>{t.onerror=o=>{const c=K0(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():i()})):i()}}))}J(e,t){const i=[];return new K(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void a();const d=new kk(h),m=t(h.primaryKey,h.value,d);if(m instanceof K){const y=m.catch((_=>(d.done(),K.reject(_))));i.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>K.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xa(n){return new K(((e,t)=>{n.onsuccess=i=>{const a=i.target.result;e(a)},n.onerror=i=>{const a=K0(i.target.error);t(a)}}))}let wb=!1;function K0(n){const e=Zs.M(Jt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wb||(wb=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Ku="IndexBackfiller";class Lk{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(Ku,`Documents written: ${t}`)}catch(t){ua(t)?le(Ku,"Ignoring IndexedDB error during index backfill: ",t):await Ro(t)}await this.re(6e4)}))}}class zk{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,o=!0;return K.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return le(Ku,`Processing collection: ${c}`),this.oe(e,c,a).next((h=>{a-=h,i.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((h=>(le(Ku,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,o)=>{const c=IR(o);G0(c,i)>0&&(i=c)})),new Xn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class mi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mi.ce=-1;const so=-1;function sp(n){return n==null}function lh(n){return n===0&&1/n==-1/0}function Uk(n){return typeof n=="number"&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Em="";function Sn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rb(e)),e=Bk(n.get(t),e);return Rb(e)}function Bk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Em:t+="";break;default:t+=o}}return t}function Rb(n){return n+Em+""}function hr(n){const e=n.length;if(_e(e>=2,64408,{path:n}),e===2)return _e(n.charAt(0)===Em&&n.charAt(1)==="",56145,{path:n}),tt.emptyPath();const t=e-2,i=[];let a="";for(let o=0;o<e;){const c=n.indexOf(Em,o);switch((c<0||c>t)&&ye(50515,{path:n}),n.charAt(c+1)){case"":const h=n.substring(o,c);let d;a.length===0?d=h:(a+=h,d=a,a=""),i.push(d);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:ye(61167,{path:n})}o=c+2}return new tt(i)}const Ya="remoteDocuments",Ph="owner",El="owner",ch="mutationQueues",Fk="userId",Pi="mutations",Ib="batchId",to="userMutationsIndex",Cb=["userId","batchId"];function Qf(n,e){return[n,Sn(e)]}function OR(n,e,t){return[n,Sn(e),t]}const qk={},$l="documentMutations",Tm="remoteDocumentsV14",Hk=["prefixPath","collectionGroup","readTime","documentId"],$f="documentKeyIndex",Gk=["prefixPath","collectionGroup","documentId"],PR="collectionGroupIndex",Kk=["collectionGroup","readTime","prefixPath","documentId"],uh="remoteDocumentGlobal",Mv="remoteDocumentGlobalKey",Yl="targets",MR="queryTargetsIndex",Qk=["canonicalId","targetId"],Wl="targetDocuments",$k=["targetId","path"],Q0="documentTargetsIndex",Yk=["path","targetId"],Sm="targetGlobalKey",ao="targetGlobal",hh="collectionParents",Wk=["collectionId","parent"],Xl="clientMetadata",Xk="clientId",ap="bundles",Jk="bundleId",op="namedQueries",Zk="name",$0="indexConfiguration",e4="indexId",Nv="collectionGroupIndex",t4="collectionGroup",Qu="indexState",n4=["indexId","uid"],NR="sequenceNumberIndex",i4=["uid","sequenceNumber"],$u="indexEntries",r4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kR="documentKeyIndex",s4=["indexId","uid","orderedDocumentKey"],lp="documentOverlays",a4=["userId","collectionPath","documentId"],kv="collectionPathOverlayIndex",o4=["userId","collectionPath","largestBatchId"],jR="collectionGroupOverlayIndex",l4=["userId","collectionGroup","largestBatchId"],Y0="globals",c4="name",LR=[ch,Pi,$l,Ya,Yl,Ph,ao,Wl,Xl,uh,hh,ap,op],u4=[...LR,lp],zR=[ch,Pi,$l,Tm,Yl,Ph,ao,Wl,Xl,uh,hh,ap,op,lp],UR=zR,W0=[...UR,$0,Qu,$u],h4=W0,BR=[...W0,Y0],d4=BR;class jv extends DR{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Zt(n,e){const t=Ve(n);return Zs.O(t.le,e)}function Db(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=o??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new gn(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ot{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ot(this.comparator);return t.data=e,t}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tl(n){return n.hasNext()?n.getNext():void 0}class Ln{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new ot(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class qR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qR("Invalid base64 string: "+o):o}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const f4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(n){if(_e(!!n,39018),typeof n=="string"){let e=0;const t=f4.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}const HR="server_timestamp",GR="__type__",KR="__previous_value__",QR="__local_write_time__";function X0(n){return(n?.mapValue?.fields||{})[GR]?.stringValue===HR}function cp(n){const e=n.mapValue.fields[KR];return X0(e)?cp(e):e}function dh(n){const e=Qr(n.mapValue.fields[QR].timestampValue);return new He(e.seconds,e.nanos)}class m4{constructor(e,t,i,a,o,c,h,d,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const bm="(default)";class mo{constructor(e,t){this.projectId=e,this.database=t||bm}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===bm}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function p4(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(n.options.projectId,e)}const J0="__type__",$R="__max__",Ks={mapValue:{fields:{__type__:{stringValue:$R}}}},Z0="__vector__",Jl="value",Yf={nullValue:"NULL_VALUE"};function ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:YR(n)?9007199254740991:up(n)?10:11:ye(28295,{value:n})}function vr(n,e){if(n===e)return!0;const t=ia(n);if(t!==ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dh(n).isEqual(dh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Qr(a.timestampValue),h=Qr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return $r(a.bytesValue).isEqual($r(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Et(a.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Et(a.integerValue)===Et(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Et(a.doubleValue),h=Et(o.doubleValue);return c===h?lh(c)===lh(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Db(c)!==Db(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!vr(c[d],h[d])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function fh(n,e){return(n.values||[]).find((t=>vr(t,e)))!==void 0}function ra(n,e){if(n===e)return 0;const t=ia(n),i=ia(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Et(o.integerValue||o.doubleValue),d=Et(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return Ob(n.timestampValue,e.timestampValue);case 4:return Ob(dh(n),dh(e));case 5:return Ov(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=$r(o),d=$r(c);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=De(h[m],d[m]);if(y!==0)return y}return De(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=De(Et(o.latitude),Et(c.latitude));return h!==0?h:De(Et(o.longitude),Et(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Pb(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},m=h[Jl]?.arrayValue,y=d[Jl]?.arrayValue,_=De(m?.values?.length||0,y?.values?.length||0);return _!==0?_:Pb(m,y)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Ks.mapValue&&c===Ks.mapValue)return 0;if(o===Ks.mapValue)return 1;if(c===Ks.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=c.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const T=Ov(d[_],y[_]);if(T!==0)return T;const x=ra(h[d[_]],m[y[_]]);if(x!==0)return x}return De(d.length,y.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function Ob(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Qr(n),i=Qr(e),a=De(t.seconds,i.seconds);return a!==0?a:De(t.nanos,i.nanos)}function Pb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=ra(t[a],i[a]);if(o)return o}return De(t.length,i.length)}function Zl(n){return Lv(n)}function Lv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Qr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=Lv(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Lv(t.fields[c])}`;return a+"}"})(n.mapValue):ye(61005,{value:n})}function Wf(n){switch(ia(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cp(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Wf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ha(i.fields,((o,c)=>{a+=o.length+Wf(c)})),a})(n.mapValue);default:throw ye(13486,{value:n})}}function mh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zv(n){return!!n&&"integerValue"in n}function ph(n){return!!n&&"arrayValue"in n}function Mb(n){return!!n&&"nullValue"in n}function Nb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function up(n){return(n?.mapValue?.fields||{})[J0]?.stringValue===Z0}function Yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ha(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Yu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return{...n}}function YR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$R}const WR={mapValue:{fields:{[J0]:{stringValue:Z0},[Jl]:{arrayValue:{}}}}};function g4(n){return"nullValue"in n?Yf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mh(mo.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?up(n)?WR:{mapValue:{}}:ye(35942,{value:n})}function y4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mh(mo.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?WR:"mapValue"in n?up(n)?{mapValue:{}}:Ks:ye(61959,{value:n})}function kb(n,e){const t=ra(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function jb(n,e){const t=ra(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=bt.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=Yu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ha(t,((a,o)=>e[a]=o));for(const a of i)delete e[a]}clone(){return new En(Yu(this.value))}}function XR(n){const e=[];return ha(n.fields,((t,i)=>{const a=new bt([t]);if(Xf(i)){const o=XR(i.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Ln(e)}class It{constructor(e,t,i,a,o,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new It(e,0,xe.min(),xe.min(),xe.min(),En.empty(),0)}static newFoundDocument(e,t,i,a){return new It(e,1,t,xe.min(),i,a,0)}static newNoDocument(e,t){return new It(e,2,t,xe.min(),xe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,xe.min(),xe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function Lb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?i=fe.comparator(fe.fromName(c.referenceValue),t.key):i=ra(c,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function zb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function v4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JR{}class $e extends JR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new _4(e,t,i):t==="array-contains"?new S4(e,i):t==="in"?new rI(e,i):t==="not-in"?new b4(e,i):t==="array-contains-any"?new x4(e,i):new $e(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new E4(e,i):new T4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ra(t,this.value)):t!==null&&ia(this.value)===ia(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends JR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new at(e,t)}matches(e){return tc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tc(n){return n.op==="and"}function Uv(n){return n.op==="or"}function e_(n){return ZR(n)&&tc(n)}function ZR(n){for(const e of n.filters)if(e instanceof at)return!1;return!0}function Bv(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Zl(n.value);if(e_(n))return n.filters.map((e=>Bv(e))).join(",");{const e=n.filters.map((t=>Bv(t))).join(",");return`${n.op}(${e})`}}function eI(n,e){return n instanceof $e?(function(i,a){return a instanceof $e&&i.op===a.op&&i.field.isEqual(a.field)&&vr(i.value,a.value)})(n,e):n instanceof at?(function(i,a){return a instanceof at&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&eI(c,a.filters[h])),!0):!1})(n,e):void ye(19439)}function tI(n,e){const t=n.filters.concat(e);return at.create(t,n.op)}function nI(n){return n instanceof $e?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zl(t.value)}`})(n):n instanceof at?(function(t){return t.op.toString()+" {"+t.getFilters().map(nI).join(" ,")+"}"})(n):"Filter"}class _4 extends $e{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class E4 extends $e{constructor(e,t){super(e,"in",t),this.keys=iI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class T4 extends $e{constructor(e,t){super(e,"not-in",t),this.keys=iI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function iI(n,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class S4 extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ph(t)&&fh(t.arrayValue,this.value)}}class rI extends $e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fh(this.value.arrayValue,t)}}class b4 extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fh(this.value.arrayValue,t)}}class x4 extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>fh(this.value.arrayValue,i)))}}class A4{constructor(e,t=null,i=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Fv(n,e=null,t=[],i=[],a=null,o=null,c=null){return new A4(n,e,t,i,a,o,c)}function po(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Bv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),sp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Zl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Zl(i))).join(",")),e.Te=t}return e.Te}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zb(n.startAt,e.startAt)&&zb(n.endAt,e.endAt)}function xm(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Am(n,e){return n.filters.filter((t=>t instanceof $e&&t.field.isEqual(e)))}function Ub(n,e,t){let i=Yf,a=!0;for(const o of Am(n,e)){let c=Yf,h=!0;switch(o.op){case"<":case"<=":c=g4(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Yf}kb({value:i,inclusive:a},{value:c,inclusive:h})<0&&(i=c,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];kb({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function Bb(n,e,t){let i=Ks,a=!0;for(const o of Am(n,e)){let c=Ks,h=!0;switch(o.op){case">=":case">":c=y4(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Ks}jb({value:i,inclusive:a},{value:c,inclusive:h})>0&&(i=c,a=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];jb({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class dc{constructor(e,t=null,i=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w4(n,e,t,i,a,o,c,h){return new dc(n,e,t,i,a,o,c,h)}function Nh(n){return new dc(n)}function Fb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R4(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function sI(n){return n.collectionGroup!==null}function Wu(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ot(bt.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new gh(o,i))})),t.has(bt.keyField().canonicalString())||e.Ie.push(new gh(bt.keyField(),i))}return e.Ie}function gi(n){const e=Ve(n);return e.Ee||(e.Ee=I4(e,Wu(n))),e.Ee}function I4(n,e){if(n.limitType==="F")return Fv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new gh(a.field,o)}));const t=n.endAt?new ec(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ec(n.startAt.position,n.startAt.inclusive):null;return Fv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function qv(n,e){const t=n.filters.concat([e]);return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function C4(n,e){const t=n.explicitOrderBy.concat([e]);return new dc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hp(n,e){return Mh(gi(n),gi(e))&&n.limitType===e.limitType}function aI(n){return`${po(gi(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>nI(a))).join(", ")}]`),sp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Zl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Zl(a))).join(",")),`Target(${i})`})(gi(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):fe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,a){for(const o of Wu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const m=Lb(c,h,d);return c.inclusive?m<=0:m<0})(i.startAt,Wu(i),a)||i.endAt&&!(function(c,h,d){const m=Lb(c,h,d);return c.inclusive?m>=0:m>0})(i.endAt,Wu(i),a))})(n,e)}function D4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oI(n){return(e,t)=>{let i=!1;for(const a of Wu(n)){const o=V4(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function V4(n,e,t){const i=n.field.isKeyField()?fe.comparator(e.key,t.key):(function(o,c,h){const d=c.data.field(o),m=h.data.field(o);return d!==null&&m!==null?ra(d,m):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}class Jr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((t,i)=>{for(const[a,o]of i)e(a,o)}))}isEmpty(){return FR(this.inner)}size(){return this.innerSize}}const O4=new St(fe.comparator);function Wn(){return O4}const lI=new St(fe.comparator);function Lu(...n){let e=lI;for(const t of n)e=e.insert(t.key,t);return e}function cI(n){let e=lI;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function dr(){return Xu()}function uI(){return Xu()}function Xu(){return new Jr((n=>n.toString()),((n,e)=>n.isEqual(e)))}const P4=new St(fe.comparator),M4=new ot(fe.comparator);function Ue(...n){let e=M4;for(const t of n)e=e.add(t);return e}const N4=new ot(De);function k4(){return N4}function t_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function hI(n){return{integerValue:""+n}}function j4(n,e){return Uk(e)?hI(e):t_(n,e)}class dp{constructor(){this._=void 0}}function L4(n,e,t){return n instanceof yh?(function(a,o){const c={fields:{[GR]:{stringValue:HR},[QR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&X0(o)&&(o=cp(o)),o&&(c.fields[KR]=o),{mapValue:c}})(t,e):n instanceof go?fI(n,e):n instanceof nc?mI(n,e):(function(a,o){const c=dI(a,o),h=qb(c)+qb(a.Ae);return zv(c)&&zv(a.Ae)?hI(h):t_(a.serializer,h)})(n,e)}function z4(n,e,t){return n instanceof go?fI(n,e):n instanceof nc?mI(n,e):t}function dI(n,e){return n instanceof vh?(function(i){return zv(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class yh extends dp{}class go extends dp{constructor(e){super(),this.elements=e}}function fI(n,e){const t=pI(e);for(const i of n.elements)t.some((a=>vr(a,i)))||t.push(i);return{arrayValue:{values:t}}}class nc extends dp{constructor(e){super(),this.elements=e}}function mI(n,e){let t=pI(e);for(const i of n.elements)t=t.filter((a=>!vr(a,i)));return{arrayValue:{values:t}}}class vh extends dp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qb(n){return Et(n.integerValue||n.doubleValue)}function pI(n){return ph(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gI{constructor(e,t){this.field=e,this.transform=t}}function U4(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof go&&a instanceof go||i instanceof nc&&a instanceof nc?Ql(i.elements,a.elements,vr):i instanceof vh&&a instanceof vh?vr(i.Ae,a.Ae):i instanceof yh&&a instanceof yh})(n.transform,e.transform)}class B4{constructor(e,t){this.version=e,this.transformResults=t}}class sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fp{}function yI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jh(n.key,sn.none()):new fc(n.key,n.data,sn.none());{const t=n.data,i=En.empty();let a=new ot(bt.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Zr(n.key,i,new Ln(a.toArray()),sn.none())}}function F4(n,e,t){n instanceof fc?(function(a,o,c){const h=a.value.clone(),d=Gb(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Zr?(function(a,o,c){if(!Jf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Gb(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(vI(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ju(n,e,t,i){return n instanceof fc?(function(o,c,h,d){if(!Jf(o.precondition,c))return h;const m=o.value.clone(),y=Kb(o.fieldTransforms,d,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Zr?(function(o,c,h,d){if(!Jf(o.precondition,c))return h;const m=Kb(o.fieldTransforms,d,c),y=c.data;return y.setAll(vI(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(o,c,h){return Jf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function q4(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=dI(i.transform,a||null);o!=null&&(t===null&&(t=En.empty()),t.set(i.field,o))}return t||null}function Hb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ql(i,a,((o,c)=>U4(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends fp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zr extends fp{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Gb(n,e,t){const i=new Map;_e(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);i.set(o.field,z4(c,h,t[a]))}return i}function Kb(n,e,t){const i=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);i.set(a.field,L4(o,c,e))}return i}class jh extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&F4(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ju(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ju(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=uI();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const d=yI(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,((t,i)=>Hb(t,i)))&&Ql(this.baseMutations,e.baseMutations,((t,i)=>Hb(t,i)))}}class i_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return P4})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new i_(e,t,i,a)}}class r_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H4{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,We;function G4(n){switch(n){case ne.OK:return ye(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function EI(n){if(n===void 0)return wn("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ht.OK:return ne.OK;case Ht.CANCELLED:return ne.CANCELLED;case Ht.UNKNOWN:return ne.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ne.INTERNAL;case Ht.UNAVAILABLE:return ne.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ne.NOT_FOUND;case Ht.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ht.ABORTED:return ne.ABORTED;case Ht.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ht.DATA_LOSS:return ne.DATA_LOSS;default:return ye(39323,{code:n})}}(We=Ht||(Ht={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function K4(){return new TextEncoder}const Q4=new Js([4294967295,4294967295],0);function Qb(n){const e=K4().encode(n),t=new yR;return t.update(e),new Uint8Array(t.digest())}function $b(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,o],0)]}class s_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new zu(`Invalid padding: ${t}`);if(i<0)throw new zu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new zu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Js.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(Q4)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Qb(e),[i,a]=$b(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new s_(o,a,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Qb(e),[i,a]=$b(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mp{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new mp(xe.min(),a,new St(De),Wn(),Ue())}}class Lh{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lh(i,t,Ue(),Ue(),Ue())}}class Zf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class TI{constructor(e,t){this.targetId=e,this.Ce=t}}class SI{constructor(e,t,i=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Yb{constructor(){this.ve=0,this.Fe=Wb(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ye(38017,{changeType:o})}})),new Lh(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Wb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wn(),this.He=Pf(),this.Je=Pf(),this.Ze=new St(De)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(xm(o))if(i===0){const c=new fe(o.path);this.et(t,c,It.newNoDocument(c,xe.min()))}else _e(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=$r(i).toUint8Array()}catch(d){if(d instanceof qR)return na("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new s_(c,a,o)}catch(d){return na(d instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&xm(h.target)){const d=new fe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,It.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let i=Ue();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new mp(e,t,this.Ze,this.je,i);return this.je=Wn(),this.He=Pf(),this.Je=Pf(),this.Ze=new St(De),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Yb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ot(De),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ot(De),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Pf(){return new St(fe.comparator)}function Wb(){return new St(fe.comparator)}const Y4={asc:"ASCENDING",desc:"DESCENDING"},W4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X4={and:"AND",or:"OR"};class J4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hv(n,e){return n.useProto3Json||sp(e)?e:{value:e}}function ic(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(n,e){return ic(n,e.toTimestamp())}function Dn(n){return _e(!!n,49232),xe.fromTimestamp((function(t){const i=Qr(t);return new He(i.seconds,i.nanos)})(n))}function a_(n,e){return Gv(n,e).canonicalString()}function Gv(n,e){const t=(function(a){return new tt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function xI(n){const e=tt.fromString(n);return _e(PI(e),10190,{key:e.toString()}),e}function Rm(n,e){return a_(n.databaseId,e.path)}function oo(n,e){const t=xI(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(RI(t))}function AI(n,e){return a_(n.databaseId,e)}function wI(n){const e=xI(n);return e.length===4?tt.emptyPath():RI(e)}function Kv(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RI(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xb(n,e,t){return{name:Rm(n,e),fields:t.value.mapValue.fields}}function ej(n,e,t){const i=oo(n,e.name),a=Dn(e.updateTime),o=e.createTime?Dn(e.createTime):xe.min(),c=new En({mapValue:{fields:e.fields}}),h=It.newFoundDocument(i,a,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function tj(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ye(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(_e(y===void 0||typeof y=="string",58123),$t.fromBase64String(y||"")):(_e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$t.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?ne.UNKNOWN:EI(m.code);return new ce(y,m.message||"")})(c);t=new SI(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=oo(n,i.document.name),o=Dn(i.document.updateTime),c=i.document.createTime?Dn(i.document.createTime):xe.min(),h=new En({mapValue:{fields:i.document.fields}}),d=It.newFoundDocument(a,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Zf(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=oo(n,i.document),o=i.readTime?Dn(i.readTime):xe.min(),c=It.newNoDocument(a,o),h=i.removedTargetIds||[];t=new Zf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=oo(n,i.document),o=i.removedTargetIds||[];t=new Zf([],o,a,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new H4(a,o),h=i.targetId;t=new TI(h,c)}}return t}function Im(n,e){let t;if(e instanceof fc)t={update:Xb(n,e.key,e.value)};else if(e instanceof jh)t={delete:Rm(n,e.key)};else if(e instanceof Zr)t={update:Xb(n,e.key,e.data),updateMask:oj(e.fieldMask)};else{if(!(e instanceof _I))return ye(16599,{dt:e.type});t={verify:Rm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof yh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof go)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof vh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ye(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:Z4(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function Qv(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?sn.updateTime(Dn(o.updateTime)):o.exists!==void 0?sn.exists(o.exists):sn.none()})(e.currentDocument):sn.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,h){let d=null;if("setToServerValue"in h)_e(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new yh;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new go(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new nc(y)}else"increment"in h?d=new vh(c,h.increment):ye(16584,{proto:h});const m=bt.fromServerFormat(h.fieldPath);return new gI(m,d)})(n,a))):[];if(e.update){e.update.name;const a=oo(n,e.update.name),o=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const m=d.fieldPaths||[];return new Ln(m.map((y=>bt.fromServerFormat(y))))})(e.updateMask);return new Zr(a,o,c,t,i)}return new fc(a,o,t,i)}if(e.delete){const a=oo(n,e.delete);return new jh(a,t)}if(e.verify){const a=oo(n,e.verify);return new _I(a,t)}return ye(1463,{proto:e})}function nj(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Dn(a.updateTime):Dn(o);return c.isEqual(xe.min())&&(c=Dn(o)),new B4(c,a.transformResults||[])})(t,e)))):[]}function II(n,e){return{documents:[AI(n,e.path)]}}function CI(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=AI(n,a);const o=(function(m){if(m.length!==0)return OI(at.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:Il(T.field),direction:rj(T.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Hv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function DI(n){let e=wI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_e(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const T=VI(_);return T instanceof at&&e_(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((T=>(function(C){return new gh(Cl(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,sp(T)?null:T})(t.limit));let d=null;t.startAt&&(d=(function(_){const T=!!_.before,x=_.values||[];return new ec(x,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const T=!_.before,x=_.values||[];return new ec(x,T)})(t.endAt)),w4(e,a,c,o,h,"F",d,m)}function ij(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Cl(t.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(t.unaryFilter.field);return $e.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(t.unaryFilter.field);return $e.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $e.create(Cl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return at.create(t.compositeFilter.filters.map((i=>VI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function rj(n){return Y4[n]}function sj(n){return W4[n]}function aj(n){return X4[n]}function Il(n){return{fieldPath:n.canonicalString()}}function Cl(n){return bt.fromServerFormat(n.fieldPath)}function OI(n){return n instanceof $e?(function(t){if(t.op==="=="){if(Nb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Nb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:sj(t.op),value:t.value}}})(n):n instanceof at?(function(t){const i=t.getFilters().map((a=>OI(a)));return i.length===1?i[0]:{compositeFilter:{op:aj(t.op),filters:i}}})(n):ye(54877,{filter:n})}function oj(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function PI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function MI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ur{constructor(e,t,i,a,o=xe.min(),c=xe.min(),h=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NI{constructor(e){this.yt=e}}function lj(n,e){let t;if(e.document)t=ej(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=fe.fromSegments(e.noDocument.path),a=vo(e.noDocument.readTime);t=It.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=fe.fromSegments(e.unknownDocument.path),a=vo(e.unknownDocument.version);t=It.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const o=new He(a[0],a[1]);return xe.fromTimestamp(o)})(e.readTime)),t}function Jb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,c){return{name:Rm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:ic(o,c.version.toTimestamp()),createTime:ic(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:yo(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:yo(e.version)}}return i}function Cm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yo(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vo(n){const e=new He(n.seconds,n.nanoseconds);return xe.fromTimestamp(e)}function Ja(n,e){const t=(e.baseMutations||[]).map((o=>Qv(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>Qv(n.yt,o))),a=He.fromMillis(e.localWriteTimeMs);return new n_(e.batchId,a,t,i)}function Uu(n){const e=vo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?vo(n.lastLimboFreeSnapshotVersion):xe.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return _e(c===1,1966,{count:c}),gi(Nh(wI(o.documents[0])))})(n.query):(function(o){return gi(DI(o))})(n.query),new Ur(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$t.fromBase64String(n.resumeToken))}function kI(n,e){const t=yo(e.snapshotVersion),i=yo(e.lastLimboFreeSnapshotVersion);let a;a=xm(e.target)?II(n.yt,e.target):CI(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function jI(n){const e=DI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wm(e,e.limit,"L"):e}function $y(n,e){return new r_(e.largestBatchId,Qv(n.yt,e.overlayMutation))}function Zb(n,e){const t=e.path.lastSegment();return[n,Sn(e.path.popLast()),t]}function ex(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:yo(i.readTime),documentKey:Sn(i.documentKey.path),largestBatchId:i.largestBatchId}}class cj{getBundleMetadata(e,t){return tx(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:vo(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return tx(e).put((function(a){return{bundleId:a.id,createTime:yo(Dn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return nx(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:jI(o.bundledQuery),readTime:vo(o.readTime)}})(i)}))}saveNamedQuery(e,t){return nx(e).put((function(a){return{name:a.name,readTime:yo(Dn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function tx(n){return Zt(n,ap)}function nx(n){return Zt(n,op)}class pp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new pp(e,i)}getOverlay(e,t){return Iu(e).get(Zb(this.userId,t)).next((i=>i?$y(this.serializer,i):null))}getOverlays(e,t){const i=dr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((o,c)=>{const h=new r_(t,c);a.push(this.bt(e,h))})),K.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(Sn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(Iu(e).X(kv,h))})),K.waitFor(o)}getOverlaysForCollection(e,t,i){const a=dr(),o=Sn(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Iu(e).H(kv,c).next((h=>{for(const d of h){const m=$y(this.serializer,d);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const o=dr();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iu(e).ee({index:jR,range:h},((d,m,y)=>{const _=$y(this.serializer,m);o.size()<a||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):y.done()})).next((()=>o))}bt(e,t){return Iu(e).put((function(a,o,c){const[h,d,m]=Zb(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Im(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Iu(n){return Zt(n,lp)}class uj{St(e){return Zt(e,Y0)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t?.value;return i?$t.fromUint8Array(i):$t.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Za{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Et(e.integerValue));else if("doubleValue"in e){const i=Et(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),lh(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Qr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt($r(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?YR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):up(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ye(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Jl,o=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Et(o)),this.Ot(a,t),this.Ct(i[a],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),fe.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Za.Wt=new Za;const Sl=255;function hj(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function ix(n){const e=64-(function(i){let a=0;for(let o=0;o<8;++o){const c=hj(255&i[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class dj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),i=ix(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=ix(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Sl),this.sn(255)}_n(){this.an(Sl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Sl?(this.sn(Sl),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Sl?(this.an(Sl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class fj{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class mj{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Cu{constructor(){this.cn=new dj,this.ascending=new fj(this.cn),this.descending=new mj(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class eo{constructor(e,t,i,a){this.hn=e,this.Pn=t,this.Tn=i,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new eo(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:em(this.Tn),directionalValue:em(this.In),orderedDocumentKey:em(t),documentKey:i.path.toArray()}}An(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ms(n,e){let t=n.hn-e.hn;return t!==0?t:(t=rx(n.Tn,e.Tn),t!==0?t:(t=rx(n.In,e.In),t!==0?t:fe.comparator(n.Pn,e.Pn)))}function rx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function em(n){return cR()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(n):n}function sx(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(n)}class ax{constructor(e){this.Vn=new ot(((t,i)=>bt.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Pv(e);if(t!==void 0&&!this.pn(t))return!1;const i=$a(e);let a=new Set,o=0,c=0;for(;o<i.length&&this.pn(i[o]);++o)a=a.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=i[o];if(!this.yn(h,d)||!this.wn(this.dn[c++],d))return!1}++o}for(;o<i.length;++o){const h=i[o];if(c>=this.dn.length||!this.wn(this.dn[c++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new ot(bt.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Kf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Kf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Kf(i.field,i.dir==="asc"?0:1)));return new _m(_m.UNKNOWN_ID,this.collectionId,t,oh.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function LI(n){if(_e(n instanceof $e||n instanceof at,20012),n instanceof $e){if(n instanceof rI){const t=n.value.arrayValue?.values?.map((i=>$e.create(n.field,"==",i)))||[];return at.create(t,"or")}return n}const e=n.filters.map((t=>LI(t)));return at.create(e,n.op)}function pj(n){if(n.getFilters().length===0)return[];const e=Wv(LI(n));return _e(zI(e),7391),$v(e)||Yv(e)?[e]:e.getFilters()}function $v(n){return n instanceof $e}function Yv(n){return n instanceof at&&e_(n)}function zI(n){return $v(n)||Yv(n)||(function(t){if(t instanceof at&&Uv(t)){for(const i of t.getFilters())if(!$v(i)&&!Yv(i))return!1;return!0}return!1})(n)}function Wv(n){if(_e(n instanceof $e||n instanceof at,34018),n instanceof $e)return n;if(n.filters.length===1)return Wv(n.filters[0]);const e=n.filters.map((i=>Wv(i)));let t=at.create(e,n.op);return t=Dm(t),zI(t)?t:(_e(t instanceof at,64498),_e(tc(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((i,a)=>o_(i,a))))}function o_(n,e){let t;return _e(n instanceof $e||n instanceof at,38388),_e(e instanceof $e||e instanceof at,25473),t=n instanceof $e?e instanceof $e?(function(a,o){return at.create([a,o],"and")})(n,e):ox(n,e):e instanceof $e?ox(e,n):(function(a,o){if(_e(a.filters.length>0&&o.filters.length>0,48005),tc(a)&&tc(o))return tI(a,o.getFilters());const c=Uv(a)?a:o,h=Uv(a)?o:a,d=c.filters.map((m=>o_(m,h)));return at.create(d,"or")})(n,e),Dm(t)}function ox(n,e){if(tc(e))return tI(e,n.getFilters());{const t=e.filters.map((i=>o_(n,i)));return at.create(t,"or")}}function Dm(n){if(_e(n instanceof $e||n instanceof at,11850),n instanceof $e)return n;const e=n.getFilters();if(e.length===1)return Dm(e[0]);if(ZR(n))return n;const t=e.map((a=>Dm(a))),i=[];return t.forEach((a=>{a instanceof $e?i.push(a):a instanceof at&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:at.create(i,n.op)}class gj{constructor(){this.Sn=new l_}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Xn.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class l_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new ot(tt.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new ot(tt.comparator)).toArray()}}const lx="IndexedDbIndexManager",Mf=new Uint8Array(0);class yj{constructor(e,t){this.databaseId=t,this.Dn=new l_,this.Cn=new Jr((i=>po(i)),((i,a)=>Mh(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:i,parent:Sn(a)};return cx(e).put(o)}return K.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[AR(t),""],!1,!0);return cx(e).H(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;i.push(hr(c.parent))}return i}))}addFieldIndex(e,t){const i=Du(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete a.indexId;const o=i.add(a);if(t.indexState){const c=xl(e);return o.next((h=>{c.put(ex(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Du(e),a=xl(e),o=bl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Du(e),i=bl(e),a=xl(e);return t.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(e,t){return K.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const o=new ax(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=bl(e);let a=!0;const o=new Map;return K.forEach(this.vn(t),(c=>this.Fn(e,c).next((h=>{a&&(a=!!h),o.set(c,h)})))).next((()=>{if(a){let c=Ue();const h=[];return K.forEach(o,((d,m)=>{le(lx,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(d)} to execute ${po(t)}`);const y=(function(U,J){const H=Pv(J);if(H===void 0)return null;for(const $ of Am(U,H.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null})(m,d),_=(function(U,J){const H=new Map;for(const $ of $a(J))for(const I of Am(U,$.fieldPath))switch(I.op){case"==":case"in":H.set($.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return H.set($.fieldPath.canonicalString(),I.value),Array.from(H.values())}return null})(m,d),T=(function(U,J){const H=[];let $=!0;for(const I of $a(J)){const w=I.kind===0?Ub(U,I.fieldPath,U.startAt):Bb(U,I.fieldPath,U.startAt);H.push(w.value),$&&($=w.inclusive)}return new ec(H,$)})(m,d),x=(function(U,J){const H=[];let $=!0;for(const I of $a(J)){const w=I.kind===0?Bb(U,I.fieldPath,U.endAt):Ub(U,I.fieldPath,U.endAt);H.push(w.value),$&&($=w.inclusive)}return new ec(H,$)})(m,d),C=this.Mn(d,m,T),M=this.Mn(d,m,x),N=this.xn(d,m,_),B=this.On(d.indexId,y,C,T.inclusive,M,x.inclusive,N);return K.forEach(B,(j=>i.Z(j,t.limit).next((U=>{U.forEach((J=>{const H=fe.fromSegments(J.documentKey);c.has(H)||(c=c.add(H),h.push(H))}))}))))})).next((()=>h))}return K.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=pj(at.create(e.filters,"and")).map((i=>Fv(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,a,o,c,h){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),m=d/(t!=null?t.length:1),y=[];for(let _=0;_<d;++_){const T=t?this.Nn(t[_/m]):Mf,x=this.Bn(e,T,i[_%m],a),C=this.Ln(e,T,o[_%m],c),M=h.map((N=>this.Bn(e,T,N,!0)));y.push(...this.createRange(x,C,M))}return y}Bn(e,t,i,a){const o=new eo(e,fe.empty(),t,i);return a?o:o.En()}Ln(e,t,i,a){const o=new eo(e,fe.empty(),t,i);return a?o.En():o}Fn(e,t){const i=new ax(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const h of o)i.gn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,t){let i=2;const a=this.vn(t);return K.forEach(a,(o=>this.Fn(e,o).next((c=>{c?i!==0&&c.fields.length<(function(d){let m=new ot(bt.comparator),y=!1;for(const _ of d.filters)for(const T of _.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?y=!0:m=m.add(T.field));for(const _ of d.orderBy)_.field.isKeyField()||(m=m.add(_.field));return m.size+(y?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}kn(e,t){const i=new Cu;for(const a of $a(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=i.ln(a.kind);Za.Wt.Dt(o,c)}return i.un()}Nn(e){const t=new Cu;return Za.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new Cu;return Za.Wt.Dt(mh(this.databaseId,t),i.ln((function(o){const c=$a(o);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let a=[];a.push(new Cu);let o=0;for(const c of $a(e)){const h=i[o++];for(const d of a)if(this.qn(t,c.fieldPath)&&ph(h))a=this.Un(a,c,h);else{const m=d.ln(c.kind);Za.Wt.Dt(h,m)}}return this.$n(a)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const a=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of a){const d=new Cu;d.seed(h.un()),Za.Wt.Dt(c,d.ln(t.kind)),o.push(d)}return o}qn(e,t){return!!e.filters.find((i=>i instanceof $e&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Du(e),a=xl(e);return(t?i.H(Nv,IDBKeyRange.bound(t,t)):i.H()).next((o=>{const c=[];return K.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{c.push((function(y,_){const T=_?new oh(_.sequenceNumber,new Xn(vo(_.readTime),new fe(hr(_.documentKey)),_.largestBatchId)):oh.empty(),x=y.fields.map((([C,M])=>new Kf(bt.fromServerFormat(C),M)));return new _m(y.indexId,y.collectionGroup,x,T)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const o=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:De(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=Du(e),o=xl(e);return this.Wn(e).next((c=>a.H(Nv,IDBKeyRange.bound(t,t)).next((h=>K.forEach(h,(d=>o.put(ex(d.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,((a,o)=>{const c=i.get(a.collectionGroup);return(c?K.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),K.forEach(h,(d=>this.Qn(e,a,d).next((m=>{const y=this.Gn(o,d);return m.isEqual(y)?K.resolve():this.zn(e,o,d,m,y)})))))))}))}jn(e,t,i,a){return bl(e).put(a.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,a){return bl(e).delete(a.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const a=bl(e);let o=new ot(Ms);return a.ee({index:kR,range:IDBKeyRange.only([i.indexId,this.uid,em(this.Kn(i,t))])},((c,h)=>{o=o.add(new eo(i.indexId,t,sx(h.arrayValue),sx(h.directionalValue)))})).next((()=>o))}Gn(e,t){let i=new ot(Ms);const a=this.kn(t,e);if(a==null)return i;const o=Pv(t);if(o!=null){const c=e.data.field(o.fieldPath);if(ph(c))for(const h of c.arrayValue.values||[])i=i.add(new eo(t.indexId,e.key,this.Nn(h),a))}else i=i.add(new eo(t.indexId,e.key,Mf,a));return i}zn(e,t,i,a,o){le(lx,"Updating index entries for document '%s'",t.key);const c=[];return(function(d,m,y,_,T){const x=d.getIterator(),C=m.getIterator();let M=Tl(x),N=Tl(C);for(;M||N;){let B=!1,j=!1;if(M&&N){const U=y(M,N);U<0?j=!0:U>0&&(B=!0)}else M!=null?j=!0:B=!0;B?(_(N),N=Tl(C)):j?(T(M),M=Tl(x)):(M=Tl(x),N=Tl(C))}})(a,o,Ms,(h=>{c.push(this.jn(e,t,i,h))}),(h=>{c.push(this.Hn(e,t,i,h))})),K.waitFor(c)}Wn(e){let t=1;return xl(e).ee({index:NR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,h)=>Ms(c,h))).filter(((c,h,d)=>!h||Ms(c,d[h-1])!==0));const a=[];a.push(e);for(const c of i){const h=Ms(c,e),d=Ms(c,t);if(h===0)a[0]=e.En();else if(h>0&&d<0)a.push(c),a.push(c.En());else if(d>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const h=a[c].An(this.uid,Mf,fe.empty()),d=a[c+1].An(this.uid,Mf,fe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Jn(e,t){return Ms(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ux)}getMinOffset(e,t){return K.mapArray(this.vn(t),(i=>this.Fn(e,i).next((a=>a||ye(44426))))).next(ux)}}function cx(n){return Zt(n,hh)}function bl(n){return Zt(n,$u)}function Du(n){return Zt(n,$0)}function xl(n){return Zt(n,Qu)}function ux(n){_e(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;G0(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Xn(e.readTime,e.documentKey,t)}const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UI=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function BI(n,e,t){const i=n.store(Pi),a=n.store($l),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const d=i.ee({range:c},((y,_,T)=>(h++,T.delete())));o.push(d.next((()=>{_e(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const _=OR(e,y.key.path,t.batchId);o.push(a.delete(_)),m.push(y.key)}return K.waitFor(o).next((()=>m))}function Vm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(UI,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class gp{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(e,t,i,a){_e(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new gp(o,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).ee({index:to,range:i},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const o=Dl(e),c=Ns(e);return c.add({}).next((h=>{_e(typeof h=="number",49019);const d=new n_(h,t,i,a),m=(function(x,C,M){const N=M.baseMutations.map((j=>Im(x.yt,j))),B=M.mutations.map((j=>Im(x.yt,j)));return{userId:C,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:N,mutations:B}})(this.serializer,this.userId,d),y=[];let _=new ot(((T,x)=>De(T.canonicalString(),x.canonicalString())));for(const T of a){const x=OR(this.userId,T.key.path,h);_=_.add(T.key.path.popLast()),y.push(c.put(m)),y.push(o.put(x,qk))}return _.forEach((T=>{y.push(this.indexManager.addToCollectionParentIndex(e,T))})),e.addOnCommittedListener((()=>{this.Zn[h]=d.keys()})),K.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,t){return Ns(e).get(t).next((i=>i?(_e(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Ja(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?K.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ns(e).ee({index:to,range:a},((c,h,d)=>{h.userId===this.userId&&(_e(h.batchId>=i,47524,{Yn:i}),o=Ja(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=so;return Ns(e).ee({index:to,range:t,reverse:!0},((a,o,c)=>{i=o.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,so],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).H(to,t).next((i=>i.map((a=>Ja(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Qf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),o=[];return Dl(e).ee({range:a},((c,h,d)=>{const[m,y,_]=c,T=hr(y);if(m===this.userId&&t.path.isEqual(T))return Ns(e).get(_).next((x=>{if(!x)throw ye(61480,{er:c,batchId:_});_e(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:_}),o.push(Ja(this.serializer,x))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ot(De);const a=[];return t.forEach((o=>{const c=Qf(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Dl(e).ee({range:h},((m,y,_)=>{const[T,x,C]=m,M=hr(x);T===this.userId&&o.path.isEqual(M)?i=i.add(C):_.done()}));a.push(d)})),K.waitFor(a).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,o=Qf(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new ot(De);return Dl(e).ee({range:c},((d,m,y)=>{const[_,T,x]=d,C=hr(T);_===this.userId&&i.isPrefixOf(C)?C.length===a&&(h=h.add(x)):y.done()})).next((()=>this.tr(e,h)))}tr(e,t){const i=[],a=[];return t.forEach((o=>{a.push(Ns(e).get(o).next((c=>{if(c===null)throw ye(35274,{batchId:o});_e(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),i.push(Ja(this.serializer,c))})))})),K.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return BI(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),K.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Dl(e).ee({range:i},((o,c,h)=>{if(o[0]===this.userId){const d=hr(o[1]);a.push(d)}else h.done()})).next((()=>{_e(a.length===0,56720,{rr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return FI(e,this.userId,t)}ir(e){return qI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:so,lastStreamToken:""}))}}function FI(n,e,t){const i=Qf(e,t.path),a=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return Dl(n).ee({range:o,Y:!0},((h,d,m)=>{const[y,_,T]=h;y===e&&_===a&&(c=!0),m.done()})).next((()=>c))}function Ns(n){return Zt(n,Pi)}function Dl(n){return Zt(n,$l)}function qI(n){return Zt(n,ch)}class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}class vj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new _o(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>xe.fromTimestamp(new He(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Al(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(_e(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let a=0;const o=[];return Al(e).ee(((c,h)=>{const d=Uu(h);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>K.waitFor(o))).next((()=>a))}forEachTarget(e,t){return Al(e).ee(((i,a)=>{const o=Uu(a);t(o)}))}ur(e){return dx(e).get(Sm).next((t=>(_e(t!==null,2888),t)))}cr(e,t){return dx(e).put(Sm,t)}lr(e,t){return Al(e).put(kI(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=po(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Al(e).ee({range:a,index:MR},((c,h,d)=>{const m=Uu(h);Mh(t,m.target)&&(o=m,d.done())})).next((()=>o))}addMatchingKeys(e,t,i){const a=[],o=Bs(e);return t.forEach((c=>{const h=Sn(c.path);a.push(o.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(e,i,c))})),K.waitFor(a)}removeMatchingKeys(e,t,i){const a=Bs(e);return K.forEach(t,(o=>{const c=Sn(o.path);return K.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=Bs(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Bs(e);let o=Ue();return a.ee({range:i,Y:!0},((c,h,d)=>{const m=hr(c[1]),y=new fe(m);o=o.add(y)})).next((()=>o))}containsKey(e,t){const i=Sn(t.path),a=IDBKeyRange.bound([i],[AR(i)],!1,!0);let o=0;return Bs(e).ee({index:Q0,Y:!0,range:a},(([c,h],d,m)=>{c!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return Al(e).get(t).next((i=>i?Uu(i):null))}}function Al(n){return Zt(n,Yl)}function dx(n){return Zt(n,ao)}function Bs(n){return Zt(n,Wl)}const fx="LruGarbageCollector",_j=1048576;function mx([n,e],[t,i]){const a=De(n,t);return a===0?De(e,i):a}class Ej{constructor(e){this.Pr=e,this.buffer=new ot(mx),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();mx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(fx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?le(fx,"Ignoring IndexedDB error during garbage collection: ",t):await Ro(t)}await this.Ar(3e5)}))}}class Tj{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(mi.ce);const i=new Ej(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(hx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hx):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,o,c,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(e,i,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(m=Date.now(),wl()<=Qe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function GI(n,e){return new Tj(n,e)}class Sj{constructor(e,t){this.db=e,this.garbageCollector=GI(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,a)=>t(a)))}addReference(e,t,i){return Nf(e,i)}removeReference(e,t,i){return Nf(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Nf(e,t)}wr(e,t){return(function(a,o){let c=!1;return qI(a).te((h=>FI(a,h,o).next((d=>(d&&(c=!0),K.resolve(!d)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.yr(e,((c,h)=>{if(h<=t){const d=this.wr(e,c).next((m=>{if(!m)return o++,i.getEntry(e,c).next((()=>(i.removeEntry(c,xe.min()),Bs(e).delete((function(_){return[0,Sn(_.path)]})(c)))))}));a.push(d)}})).next((()=>K.waitFor(a))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Nf(e,t)}yr(e,t){const i=Bs(e);let a,o=mi.ce;return i.ee({index:Q0},(([c,h],{path:d,sequenceNumber:m})=>{c===0?(o!==mi.ce&&t(new fe(hr(a)),o),o=m,a=d):o=mi.ce})).next((()=>{o!==mi.ce&&t(new fe(hr(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nf(n,e){return Bs(n).put((function(i,a){return{targetId:0,path:Sn(i.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class KI{constructor(){this.changes=new Jr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ga(e).put(i)}removeEntry(e,t,i){return Ga(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Cm(c),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=It.newInvalidDocument(t);return Ga(e).ee({index:$f,range:IDBKeyRange.only(Vu(t))},((a,o)=>{i=this.Sr(t,o)})).next((()=>i))}Dr(e,t){let i={size:0,document:It.newInvalidDocument(t)};return Ga(e).ee({index:$f,range:IDBKeyRange.only(Vu(t))},((a,o)=>{i={document:this.Sr(t,o),size:Vm(o)}})).next((()=>i))}getEntries(e,t){let i=Wn();return this.Cr(e,t,((a,o)=>{const c=this.Sr(a,o);i=i.insert(a,c)})).next((()=>i))}vr(e,t){let i=Wn(),a=new St(fe.comparator);return this.Cr(e,t,((o,c)=>{const h=this.Sr(o,c);i=i.insert(o,h),a=a.insert(o,Vm(c))})).next((()=>({documents:i,Fr:a})))}Cr(e,t,i){if(t.isEmpty())return K.resolve();let a=new ot(yx);t.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Vu(a.first()),Vu(a.last())),c=a.getIterator();let h=c.getNext();return Ga(e).ee({index:$f,range:o},((d,m,y)=>{const _=fe.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&yx(h,_)<0;)i(h,null),h=c.getNext();h&&h.isEqual(_)&&(i(h,m),h=c.hasNext()?c.getNext():null),h?y.j(Vu(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,o){const c=t.path,h=[c.popLast().toArray(),c.lastSegment(),Cm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ga(e).H(IDBKeyRange.bound(h,d,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let y=Wn();for(const _ of m){const T=this.Sr(fe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);T.isFoundDocument()&&(kh(t,T)||a.has(T.key))&&(y=y.insert(T.key,T))}return y}))}getAllFromCollectionGroup(e,t,i,a){let o=Wn();const c=gx(t,i),h=gx(t,Xn.max());return Ga(e).ee({index:PR,range:IDBKeyRange.bound(c,h,!0)},((d,m,y)=>{const _=this.Sr(fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(_.key,_),o.size===a&&y.done()})).next((()=>o))}newChangeBuffer(e){return new xj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return px(e).get(Mv).next((t=>(_e(!!t,20021),t)))}br(e,t){return px(e).put(Mv,t)}Sr(e,t){if(t){const i=lj(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(xe.min())))return i}return It.newInvalidDocument(e)}}function QI(n){return new bj(n)}class xj extends KI{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Jr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new ot(((o,c)=>De(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=Jb(this.Mr.serializer,c);a=a.add(o.path.popLast());const m=Vm(d);i+=m-h.size,t.push(this.Mr.addEntry(e,o,d))}else if(i-=h.size,this.trackRemovals){const d=Jb(this.Mr.serializer,c.convertToNoDocument(xe.min()));t.push(this.Mr.addEntry(e,o,d))}})),a.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:a})=>(a.forEach(((o,c)=>{this.Or.set(o,{size:c,readTime:i.get(o).readTime})})),i)))}}function px(n){return Zt(n,uh)}function Ga(n){return Zt(n,Tm)}function Vu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gx(n,e){const t=e.documentKey.path.toArray();return[n,Cm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yx(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(a=De(t[o],i[o]),a)return a;return a=De(t.length,i.length),a||(a=De(t[t.length-2],i[i.length-2]),a||De(t[t.length-1],i[i.length-1]))}class Aj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $I{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Ju(i.mutation,a,Ln.empty(),He.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const a=dr();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((o=>{let c=Lu();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=dr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const a=[];return i.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,a){let o=Wn();const c=Xu(),h=(function(){return Xu()})();return t.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Zr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Ju(y.mutation,m,y.mutation.getFieldMask(),He.now())):c.set(m.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>c.set(m,y))),t.forEach(((m,y)=>h.set(m,new Aj(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Xu();let a=new St(((c,h)=>c-h)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let y=i.get(d)||Ln.empty();y=h.applyToLocalView(m,y),i.set(d,y);const _=(a.get(h.batchId)||Ue()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,_=uI();y.forEach((T=>{if(!o.has(T)){const x=yI(t.get(T),i.get(T));x!==null&&_.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return K.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return R4(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):K.resolve(dr());let h=ah,d=o;return c.next((m=>K.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?K.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,Ue()))).next((y=>({batchId:h,changes:cI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let a=Lu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,o).next((h=>K.forEach(h,(d=>{const m=(function(_,T){return new dc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((y=>{y.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a)))).next((c=>{o.forEach(((d,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,It.newInvalidDocument(y)))}));let h=Lu();return c.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Ju(y.mutation,m,Ln.empty(),He.now()),kh(t,m)&&(h=h.insert(d,m))})),h}))}}class wj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Dn(a.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:jI(a.bundledQuery),readTime:Dn(a.readTime)}})(t)),K.resolve()}}class Rj{constructor(){this.overlays=new St(fe.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=dr();return K.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,o)=>{this.bt(e,t,o)})),K.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const a=dr(),o=t.length+1,c=new fe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return K.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new St(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=dr(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=dr(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return K.resolve(h)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new r_(t,i));let o=this.Lr.get(t);o===void 0&&(o=Ue(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class Ij{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class c_{constructor(){this.kr=new ot(rn.Kr),this.qr=new ot(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new rn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new fe(new tt([])),i=new rn(t,e),a=new rn(t,e+1),o=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new fe(new tt([])),i=new rn(t,e),a=new rn(t,e+1);let o=Ue();return this.qr.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new rn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return fe.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||fe.comparator(e.key,t.key)}}class Cj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ot(rn.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new n_(o,t,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),o=a<0?0:a;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?so:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);o.push(h)})),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ot(De);return t.forEach((a=>{const o=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{i=i.add(h.Hr)}))})),K.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;fe.isDocumentKey(o)||(o=o.child(""));const c=new rn(new fe(o),0);let h=new ot(De);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),K.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return K.forEach(t.mutations,(a=>{const o=new rn(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new rn(t,0),a=this.Jr.firstAfterOrEqual(i);return K.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dj{constructor(e){this.ti=e,this.docs=(function(){return new St(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let i=Wn();return t.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():It.newInvalidDocument(a))})),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=Wn();const c=t.path,h=new fe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||G0(IR(y),i)<=0||(a.has(y.key)||kh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,i,a){ye(9500)}ni(e,t){return K.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Vj(this)}getSize(e){return K.resolve(this.size)}}class Vj extends KI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Oj{constructor(e){this.persistence=e,this.ri=new Jr((t=>po(t)),Mh),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new c_,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),K.waitFor(o).next((()=>a))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class u_{constructor(e,t){this._i={},this.overlays={},this.ai=new mi(0),this.ui=!1,this.ui=!0,this.ci=new Ij,this.referenceDelegate=e(this),this.li=new Oj(this),this.indexManager=new gj,this.remoteDocumentCache=(function(a){return new Dj(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new NI(t),this.Pi=new wj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new Cj(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const a=new Pj(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return K.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class Pj extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new c_,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(i=>{const a=fe.fromPath(i);return this.mi(e,a).next((o=>{o||t.removeEntry(a,xe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Om{constructor(e,t){this.persistence=e,this.fi=new Jr((i=>Sn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=GI(this,t)}static Vi(e,t){return new Om(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((o=>o?K.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(i++,o.removeEntry(c,xe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}wr(e,t,i){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return K.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mj{constructor(e){this.serializer=e}k(e,t,i,a){const o=new rp("createOrUpgrade",t);i<1&&a>=1&&((function(d){d.createObjectStore(Ph)})(e),(function(d){d.createObjectStore(ch,{keyPath:Fk}),d.createObjectStore(Pi,{keyPath:Ib,autoIncrement:!0}).createIndex(to,Cb,{unique:!0}),d.createObjectStore($l)})(e),vx(e),(function(d){d.createObjectStore(Ya)})(e));let c=K.resolve();return i<3&&a>=3&&(i!==0&&((function(d){d.deleteObjectStore(Wl),d.deleteObjectStore(Yl),d.deleteObjectStore(ao)})(e),vx(e)),c=c.next((()=>(function(d){const m=d.store(ao),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return m.put(Sm,y)})(o)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(d,m){return m.store(Pi).H().next((_=>{d.deleteObjectStore(Pi),d.createObjectStore(Pi,{keyPath:Ib,autoIncrement:!0}).createIndex(to,Cb,{unique:!0});const T=m.store(Pi),x=_.map((C=>T.put(C)));return K.waitFor(x)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Xl,{keyPath:Xk})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.gi(o)))),i<6&&a>=6&&(c=c.next((()=>((function(d){d.createObjectStore(uh)})(e),this.pi(o))))),i<7&&a>=7&&(c=c.next((()=>this.yi(o)))),i<8&&a>=8&&(c=c.next((()=>this.wi(e,o)))),i<9&&a>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.bi(o)))),i<11&&a>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(ap,{keyPath:Jk})})(e),(function(d){d.createObjectStore(op,{keyPath:Zk})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(d){const m=d.createObjectStore(lp,{keyPath:a4});m.createIndex(kv,o4,{unique:!1}),m.createIndex(jR,l4,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(d){const m=d.createObjectStore(Tm,{keyPath:Hk});m.createIndex($f,Gk),m.createIndex(PR,Kk)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Ya)))),i<14&&a>=14&&(c=c.next((()=>this.Di(e,o)))),i<15&&a>=15&&(c=c.next((()=>(function(d){d.createObjectStore($0,{keyPath:e4,autoIncrement:!0}).createIndex(Nv,t4,{unique:!1}),d.createObjectStore(Qu,{keyPath:n4}).createIndex(NR,i4,{unique:!1}),d.createObjectStore($u,{keyPath:r4}).createIndex(kR,s4,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore($u).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Y0,{keyPath:c4})})(e)}))),i<18&&a>=18&&cR()&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore($u).clear()}))),c}pi(e){let t=0;return e.store(Ya).ee(((i,a)=>{t+=Vm(a)})).next((()=>{const i={byteSize:t};return e.store(uh).put(Mv,i)}))}gi(e){const t=e.store(ch),i=e.store(Pi);return t.H().next((a=>K.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,so],[o.userId,o.lastAcknowledgedBatchId]);return i.H(to,c).next((h=>K.forEach(h,(d=>{_e(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const m=Ja(this.serializer,d);return BI(e,o.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(Wl),i=e.store(Ya);return e.store(ao).get(Sm).next((a=>{const o=[];return i.ee(((c,h)=>{const d=new tt(c),m=(function(_){return[0,Sn(_)]})(d);o.push(t.get(m).next((y=>y?K.resolve():(_=>t.put({targetId:0,path:Sn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>K.waitFor(o)))}))}wi(e,t){e.createObjectStore(hh,{keyPath:Wk});const i=t.store(hh),a=new l_,o=c=>{if(a.add(c)){const h=c.lastSegment(),d=c.popLast();return i.put({collectionId:h,parent:Sn(d)})}};return t.store(Ya).ee({Y:!0},((c,h)=>{const d=new tt(c);return o(d.popLast())})).next((()=>t.store($l).ee({Y:!0},(([c,h,d],m)=>{const y=hr(h);return o(y.popLast())}))))}bi(e){const t=e.store(Yl);return t.ee(((i,a)=>{const o=Uu(a),c=kI(this.serializer,o);return t.put(c)}))}Si(e,t){const i=t.store(Ya),a=[];return i.ee(((o,c)=>{const h=t.store(Tm),d=(function(_){return _.document?new fe(tt.fromString(_.document.name).popFirst(5)):_.noDocument?fe.fromSegments(_.noDocument.path):_.unknownDocument?fe.fromSegments(_.unknownDocument.path):ye(36783)})(c).path.toArray(),m={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(h.put(m))})).next((()=>K.waitFor(a)))}Di(e,t){const i=t.store(Pi),a=QI(this.serializer),o=new u_(yp.Vi,this.serializer.yt);return i.H().next((c=>{const h=new Map;return c.forEach((d=>{let m=h.get(d.userId)??Ue();Ja(this.serializer,d).keys().forEach((y=>m=m.add(y))),h.set(d.userId,m)})),K.forEach(h,((d,m)=>{const y=new pn(m),_=pp.wt(this.serializer,y),T=o.getIndexManager(y),x=gp.wt(y,this.serializer,T,o.referenceDelegate);return new $I(a,x,_,T).recalculateAndSaveOverlaysForDocumentKeys(new jv(t,mi.ce),d).next()}))}))}}function vx(n){n.createObjectStore(Wl,{keyPath:$k}).createIndex(Q0,Yk,{unique:!0}),n.createObjectStore(Yl,{keyPath:"targetId"}).createIndex(MR,Qk,{unique:!0}),n.createObjectStore(ao)}const ks="IndexedDbPersistence",Yy=18e5,Wy=5e3,Xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nj="main";class h_{constructor(e,t,i,a,o,c,h,d,m,y,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=o,this.window=c,this.document=h,this.Fi=m,this.Mi=y,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=T=>Promise.resolve(),!h_.v())throw new ce(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sj(this,a),this.Ki=t+Nj,this.serializer=new NI(d),this.qi=new Zs(this.Ki,this.xi,new Mj(this.serializer)),this.ci=new uj,this.li=new vj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QI(this.serializer),this.Pi=new cj,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&wn(ks,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(ne.FAILED_PRECONDITION,Xy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new mi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>kf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(ua(e))return le(ks,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(ks,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Ou(e).get(El).next((t=>K.resolve(this.Xi(t))))}Yi(e){return kf(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Yy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Zt(t,Xl);return i.H().next((a=>{const o=this.ns(a,Yy),c=a.filter((h=>o.indexOf(h)===-1));return K.forEach(c,(h=>i.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?K.resolve(!0):Ou(e).get(El).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Wy)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ce(ne.FAILED_PRECONDITION,Xy);return!1}}return!(!this.networkEnabled||!this.inForeground)||kf(e).H().next((i=>this.ns(i,Wy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(ks,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Ph,Xl],(e=>{const t=new jv(e,mi.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>kf(e).H().next((t=>this.ns(t,Yy).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return gp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yj(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return pp.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){le(ks,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?d4:d===17?BR:d===16?h4:d===15?W0:d===14?UR:d===13?zR:d===12?u4:d===11?LR:void ye(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,o,(h=>(c=new jv(h,this.ai?this.ai.next():mi.ce),t==="readwrite-primary"?this.ji(c).next((d=>!!d||this.Hi(c))).next((d=>{if(!d)throw wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ce(ne.FAILED_PRECONDITION,CR);return i(c)})).next((d=>this.Zi(c).next((()=>d)))):this.Ps(c).next((()=>i(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Ps(e){return Ou(e).get(El).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Wy)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ce(ne.FAILED_PRECONDITION,Xy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ou(e).put(El,t)}static v(){return Zs.v()}Ji(e){const t=Ou(e);return t.get(El).next((i=>this.Xi(i)?(le(ks,"Releasing primary lease."),t.delete(El)):K.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(wn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;lR()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return le(ks,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return wn(ks,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){wn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ou(n){return Zt(n,Ph)}function kf(n){return Zt(n,Xl)}function kj(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class d_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=Ue(),a=Ue();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new d_(e,t.fromCache,i,a)}}class jj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lR()?8:VR(Jt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new jj;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(wl()<=Qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(wl()<=Qe.DEBUG&&le("QueryEngine","Query:",Rl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(wl()<=Qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):K.resolve())}gs(e,t){if(Fb(t))return K.resolve(null);let i=gi(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=wm(t,null,"F"),i=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=Ue(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.bs(t,h);return this.Ss(t,m,c,d.readTime)?this.gs(e,wm(t,null,"F")):this.Ds(e,m,t,d)}))))})))))}ps(e,t,i,a){return Fb(t)||a.isEqual(xe.min())?K.resolve(null):this.fs.getDocuments(e,i).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,i,a)?K.resolve(null):(wl()<=Qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rl(t)),this.Ds(e,c,t,Nk(a,ah)).next((h=>h)))}))}bs(e,t){let i=new ot(oI(e));return t.forEach(((a,o)=>{kh(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,i){return wl()<=Qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Rl(t)),this.fs.getDocumentsMatchingQuery(e,t,Xn.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const f_="LocalStore",Lj=3e8;class zj{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new St(De),this.Fs=new Jr((o=>po(o)),Mh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $I(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function WI(n,e,t,i){return new zj(n,e,t,i)}async function XI(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=Ue();for(const m of a){c.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Uj(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const _=m.batch,T=_.keys();let x=K.resolve();return T.forEach((C=>{x=x.next((()=>y.getEntry(d,C))).next((M=>{const N=m.docVersions.get(C);_e(N!==null,48541),M.version.compareTo(N)<0&&(_.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Ue();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function JI(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Bj(n,e){const t=Ve(n),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;h.push(t.li.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.li.addMatchingKeys(o,y.addedDocuments,_))));let x=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken($t.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),a=a.insert(_,x),(function(M,N,B){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Lj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,x,y)&&h.push(t.li.updateTargetData(o,x))}));let d=Wn(),m=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(Fj(o,c,e.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(xe.min())){const y=t.li.getLastRemoteSnapshotVersion(o).next((_=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return K.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(t.vs=a,o)))}function Fj(n,e,t){let i=Ue(),a=Ue();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let c=Wn();return t.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(xe.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):le(f_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function qj(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=so),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Hj(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((o=>o?(a=o,K.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Ur(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Xv(n,e,t){const i=Ve(n),a=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ua(c))throw c;le(f_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function _x(n,e,t){const i=Ve(n);let a=xe.min(),o=Ue();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,y){const _=Ve(d),T=_.Fs.get(y);return T!==void 0?K.resolve(_.vs.get(T)):_.li.getTargetData(m,y)})(i,c,gi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:xe.min(),t?o:Ue()))).next((h=>(Gj(i,D4(e),h),{documents:h,ks:o})))))}function Gj(n,e,t){let i=n.Ms.get(e)||xe.min();t.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(e,i)}class Ex{constructor(){this.activeTargetIds=k4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this.vo=new Ex,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ex,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kj{Mo(e){}shutdown(){}}const Tx="ConnectivityMonitor";class Sx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jf=null;function Jv(){return jf===null?jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():jf++,"0x"+jf.toString(16)}const Jy="RestConnection",Qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $j{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===bm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,o){const c=Jv(),h=this.Qo(e,t.toUriEncodedString());le(Jy,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=cc(m);return this.zo(e,h,d,i,y).then((_=>(le(Jy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw na(Jy,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}jo(e,t,i,a,o,c){return this.Wo(e,t,i,a,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),i&&i.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const i=Qj[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Yj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vn="WebChannelConnection",Pu=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class zl extends $j{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zl.c_){const e=TR();Pu(e,ER.STAT_EVENT,(t=>{t.stat===Vv.PROXY?le(vn,"STAT_EVENT: detected buffering proxy"):t.stat===Vv.NOPROXY&&le(vn,"STAT_EVENT: detected no buffering proxy")})),zl.c_=!0}}zo(e,t,i,a,o){const c=Jv();return new Promise(((h,d)=>{const m=new vR;m.setWithCredentials(!0),m.listenOnce(_R.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Gf.NO_ERROR:const _=m.getResponseJson();le(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case Gf.TIMEOUT:le(vn,`RPC '${e}' ${c} timed out`),d(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const T=m.getStatus();if(le(vn,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x?.error;if(C&&C.status&&C.message){const M=(function(B){const j=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(j)>=0?j:ne.UNKNOWN})(C.status);d(new ce(M,C.message))}else d(new ce(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(vn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);le(vn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=Jv(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const m=o.join("");le(vn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let _=!1,T=!1;const x=new Yj({Ho:C=>{T?le(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(_||(le(vn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),le(vn,`RPC '${e}' stream ${a} sending:`,C),y.send(C))},Jo:()=>y.close()});return Pu(y,ju.EventType.OPEN,(()=>{T||(le(vn,`RPC '${e}' stream ${a} transport opened.`),x.i_())})),Pu(y,ju.EventType.CLOSE,(()=>{T||(T=!0,le(vn,`RPC '${e}' stream ${a} transport closed`),x.o_(),this.E_(y))})),Pu(y,ju.EventType.ERROR,(C=>{T||(T=!0,na(vn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),x.o_(new ce(ne.UNAVAILABLE,"The operation could not be completed")))})),Pu(y,ju.EventType.MESSAGE,(C=>{if(!T){const M=C.data[0];_e(!!M,16349);const N=M,B=N?.error||N[0]?.error;if(B){le(vn,`RPC '${e}' stream ${a} received error:`,B);const j=B.status;let U=(function($){const I=Ht[$];if(I!==void 0)return EI(I)})(j),J=B.message;j==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),U===void 0&&(U=ne.INTERNAL,J="Unknown error status: "+j+" with message "+B.message),T=!0,x.o_(new ce(U,J)),y.close()}else le(vn,`RPC '${e}' stream ${a} received:`,M),x.__(M)}})),zl.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return SR()}}function Wj(n){return new zl(n)}function Xj(){return typeof window<"u"?window:null}function tm(){return typeof document<"u"?document:null}function vp(n){return new J4(n,!0)}zl.c_=!1;class eC{constructor(e,t,i=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bx="PersistentStream";class tC{constructor(e,t,i,a,o,c,h,d){this.Ci=e,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(wn(t.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ce(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(le(bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jj extends tC{constructor(e,t,i,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=tj(this.serializer,e),i=(function(o){if(!("targetChange"in o))return xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Dn(c.readTime):xe.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Kv(this.serializer),t.addTarget=(function(o,c){let h;const d=c.target;if(h=xm(d)?{documents:II(o,d)}:{query:CI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=bI(o,c.resumeToken);const m=Hv(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(xe.min())>0){h.readTime=ic(o,c.snapshotVersion.toTimestamp());const m=Hv(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=ij(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Kv(this.serializer),t.removeTarget=e,this.K_(t)}}class Zj extends tC{constructor(e,t,i,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=nj(e.writeResults,e.commitTime),i=Dn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Kv(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Im(this.serializer,i)))};this.K_(t)}}class e5{}class t5 extends e5{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,Gv(t,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(ne.UNKNOWN,o.toString())}))}jo(e,t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,Gv(t,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function n5(n,e,t,i){return new t5(n,e,t,i)}class i5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wn(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Eo="RemoteStore";class r5{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Io(this)&&(le(Eo,"Restarting streams for network reachability change."),await(async function(d){const m=Ve(d);m.Ea.add(4),await zh(m),m.Va.set("Unknown"),m.Ea.delete(4),await _p(m)})(this))}))})),this.Va=new i5(i,a)}}async function _p(n){if(Io(n))for(const e of n.Ra)await e(!0)}async function zh(n){for(const e of n.Ra)await e(!1)}function nC(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),y_(t)?g_(t):mc(t).O_()&&p_(t,e))}function m_(n,e){const t=Ve(n),i=mc(t);t.Ia.delete(e),i.O_()&&iC(t,e),t.Ia.size===0&&(i.O_()?i.L_():Io(t)&&t.Va.set("Unknown"))}function p_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mc(n).Z_(e)}function iC(n,e){n.da.$e(e),mc(n).X_(e)}function g_(n){n.da=new $4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),mc(n).start(),n.Va.ua()}function y_(n){return Io(n)&&!mc(n).x_()&&n.Ia.size>0}function Io(n){return Ve(n).Ea.size===0}function rC(n){n.da=void 0}async function s5(n){n.Va.set("Online")}async function a5(n){n.Ia.forEach(((e,t)=>{p_(n,e)}))}async function o5(n,e){rC(n),y_(n)?(n.Va.ha(e),g_(n)):n.Va.set("Unknown")}async function l5(n,e,t){if(n.Va.set("Online"),e instanceof SI&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(i){le(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Pm(n,i)}else if(e instanceof Zf?n.da.Xe(e):e instanceof TI?n.da.st(e):n.da.tt(e),!t.isEqual(xe.min()))try{const i=await JI(n.localStore);t.compareTo(i)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),iC(o,d);const _=new Ur(y.target,d,m,y.sequenceNumber);p_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){le(Eo,"Failed to raise snapshot:",i),await Pm(n,i)}}async function Pm(n,e,t){if(!ua(e))throw e;n.Ea.add(1),await zh(n),n.Va.set("Offline"),t||(t=()=>JI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Eo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _p(n)}))}function sC(n,e){return e().catch((t=>Pm(n,t,e)))}async function Uh(n){const e=Ve(n),t=sa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:so;for(;c5(e);)try{const a=await qj(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,u5(e,a)}catch(a){await Pm(e,a)}aC(e)&&oC(e)}function c5(n){return Io(n)&&n.Ta.length<10}function u5(n,e){n.Ta.push(e);const t=sa(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function aC(n){return Io(n)&&!sa(n).x_()&&n.Ta.length>0}function oC(n){sa(n).start()}async function h5(n){sa(n).ra()}async function d5(n){const e=sa(n);for(const t of n.Ta)e.ea(t.mutations)}async function f5(n,e,t){const i=n.Ta.shift(),a=i_.from(i,e,t);await sC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Uh(n)}async function m5(n,e){e&&sa(n).Y_&&await(async function(i,a){if((function(c){return G4(c)&&c!==ne.ABORTED})(a.code)){const o=i.Ta.shift();sa(i).B_(),await sC(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Uh(i)}})(n,e),aC(n)&&oC(n)}async function xx(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),le(Eo,"RemoteStore received new credentials");const i=Io(t);t.Ea.add(3),await zh(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _p(t)}async function p5(n,e){const t=Ve(n);e?(t.Ea.delete(2),await _p(t)):e||(t.Ea.add(2),await zh(t),t.Va.set("Unknown"))}function mc(n){return n.ma||(n.ma=(function(t,i,a){const o=Ve(t);return o.sa(),new Jj(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:s5.bind(null,n),Yo:a5.bind(null,n),t_:o5.bind(null,n),J_:l5.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),y_(n)?g_(n):n.Va.set("Unknown")):(await n.ma.stop(),rC(n))}))),n.ma}function sa(n){return n.fa||(n.fa=(function(t,i,a){const o=Ve(t);return o.sa(),new Zj(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h5.bind(null,n),t_:m5.bind(null,n),ta:d5.bind(null,n),na:f5.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Uh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class v_{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const c=Date.now()+i,h=new v_(e,t,c,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __(n,e){if(wn("AsyncQueue",`${e}: ${n}`),ua(n))return new ce(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Lu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Ax{constructor(){this.ga=new St(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class rc{constructor(e,t,i,a,o,c,h,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new rc(e,t,Ul.emptySet(t),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class g5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class y5{constructor(){this.queries=wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ve(t),o=a.queries;a.queries=wx(),o.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function wx(){return new Jr((n=>aI(n)),hp)}async function E_(n,e){const t=Ve(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(i=2):(o=new g5,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=__(c,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&S_(t)}async function T_(n,e){const t=Ve(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function v5(n,e){const t=Ve(n);let i=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&S_(t)}function _5(n,e,t){const i=Ve(n),a=i.queries.get(e);if(a)for(const o of a.ba)o.onError(t);i.queries.delete(e)}function S_(n){n.Ca.forEach((e=>{e.next()}))}var Zv,Rx;(Rx=Zv||(Zv={})).Ma="default",Rx.Cache="cache";class b_{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new rc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zv.Cache}}class lC{constructor(e){this.key=e}}class cC{constructor(e){this.key=e}}class E5{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=oI(e),this.tu=new Ul(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Ax,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const T=a.get(y),x=kh(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;T&&x?T.data.isEqual(x.data)?C!==M&&(i.track({type:3,doc:x}),N=!0):this.su(T,x)||(i.track({type:2,doc:x}),N=!0,(d&&this.eu(x,d)>0||m&&this.eu(x,m)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),N=!0):T&&!x&&(i.track({type:1,doc:T}),N=!0,(d||m)&&(h=!0)),N&&(x?(c=c.add(x),o=M?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(x,C){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:N})}};return M(x)-M(C)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new rc(this.query,e.tu,o,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ax,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new cC(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new lC(i))})),t}cu(e){this.Za=e.ks,this.Ya=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const x_="SyncEngine";class T5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class S5{constructor(e){this.key=e,this.hu=!1}}class b5{constructor(e,t,i,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Jr((h=>aI(h)),hp),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(fe.comparator),this.Au=new Map,this.Vu=new c_,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x5(n,e,t=!0){const i=pC(n);let a;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await uC(i,e,t,!0),a}async function A5(n,e){const t=pC(n);await uC(t,e,!0,!1)}async function uC(n,e,t,i){const a=await Hj(n.localStore,gi(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await w5(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&nC(n.remoteStore,a),h}async function w5(n,e,t,i,a){n.pu=(_,T,x)=>(async function(M,N,B,j){let U=N.view.ru(B);U.Ss&&(U=await _x(M.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,U))));const J=j&&j.targetChanges.get(N.targetId),H=j&&j.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(U,M.isPrimaryClient,J,H);return Cx(M,N.targetId,$.au),$.snapshot})(n,_,T,x);const o=await _x(n.localStore,e,!0),c=new E5(e,o.ks),h=c.ru(o.documents),d=Lh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,d);Cx(n,t,m.au);const y=new T5(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function R5(n,e,t){const i=Ve(n),a=i.Tu.get(e),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!hp(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Xv(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&m_(i.remoteStore,a.targetId),e0(i,a.targetId)})).catch(Ro)):(e0(i,a.targetId),await Xv(i.localStore,a.targetId,!0))}async function I5(n,e){const t=Ve(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),m_(t.remoteStore,i.targetId))}async function C5(n,e,t){const i=gC(n);try{const a=await(function(c,h){const d=Ve(c),m=He.now(),y=h.reduce(((x,C)=>x.add(C.key)),Ue());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let C=Wn(),M=Ue();return d.xs.getEntries(x,y).next((N=>{C=N,C.forEach(((B,j)=>{j.isValidDocument()||(M=M.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,C))).next((N=>{_=N;const B=[];for(const j of h){const U=q4(j,_.get(j.key).overlayedDocument);U!=null&&B.push(new Zr(j.key,U,XR(U.value.mapValue),sn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,m,B,h)})).next((N=>{T=N;const B=N.applyToLocalDocumentSet(_,M);return d.documentOverlayCache.saveOverlays(x,N.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:cI(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new St(De)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(i,a.batchId,t),await Bh(i,a.changes),await Uh(i.remoteStore)}catch(a){const o=__(a,"Failed to persist write");t.reject(o)}}async function hC(n,e){const t=Ve(n);try{const i=await Bj(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_e(c.hu,14607):a.removedDocuments.size>0&&(_e(c.hu,42227),c.hu=!1))})),await Bh(t,i,e)}catch(i){await Ro(i)}}function Ix(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Ve(c);d.onlineState=h;let m=!1;d.queries.forEach(((y,_)=>{for(const T of _.ba)T.va(h)&&(m=!0)})),m&&S_(d)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function D5(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),o=a&&a.key;if(o){let c=new St(fe.comparator);c=c.insert(o,It.newNoDocument(o,xe.min()));const h=Ue().add(o),d=new mp(xe.min(),new Map,new St(De),c,h);await hC(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),A_(i)}else await Xv(i.localStore,e,!1).then((()=>e0(i,e,t))).catch(Ro)}async function V5(n,e){const t=Ve(n),i=e.batch.batchId;try{const a=await Uj(t.localStore,e);fC(t,i,null),dC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Bh(t,a)}catch(a){await Ro(a)}}async function O5(n,e,t){const i=Ve(n);try{const a=await(function(c,h){const d=Ve(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((_=>(_e(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);fC(i,e,t),dC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Bh(i,a)}catch(a){await Ro(a)}}function dC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function fC(n,e,t){const i=Ve(n);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function e0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||mC(n,i)}))}function mC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(m_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),A_(n))}function Cx(n,e,t){for(const i of t)i instanceof lC?(n.Vu.addReference(i.key,e),P5(n,i)):i instanceof cC?(le(x_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||mC(n,i.key)):ye(19791,{wu:i})}function P5(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(le(x_,"New document in limbo: "+t),n.Eu.add(i),A_(n))}function A_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new fe(tt.fromString(e)),i=n.fu.next();n.Au.set(i,new S5(t)),n.Ru=n.Ru.insert(t,i),nC(n.remoteStore,new Ur(gi(Nh(t.path)),i,"TargetPurposeLimboResolution",mi.ce))}}async function Bh(n,e,t){const i=Ve(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=d_.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(d,m){const y=Ve(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>K.forEach(m,(T=>K.forEach(T.Ts,(x=>y.persistence.referenceDelegate.addReference(_,T.targetId,x))).next((()=>K.forEach(T.Is,(x=>y.persistence.referenceDelegate.removeReference(_,T.targetId,x)))))))))}catch(_){if(!ua(_))throw _;le(f_,"Failed to update sequence numbers: "+_)}for(const _ of m){const T=_.targetId;if(!_.fromCache){const x=y.vs.get(T),C=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(C);y.vs=y.vs.insert(T,M)}}})(i.localStore,o))}async function M5(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){le(x_,"User change. New user:",e.toKey());const i=await XI(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ce(ne.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bh(t,i.Ns)}}function N5(n,e){const t=Ve(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let a=Ue();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function pC(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D5.bind(null,e),e.Pu.J_=v5.bind(null,e.eventManager),e.Pu.yu=_5.bind(null,e.eventManager),e}function gC(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O5.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return WI(this.persistence,new YI,e.initialUser,this.serializer)}Cu(e){return new u_(yp.Vi,this.serializer)}Du(e){return new ZI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class k5 extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof Om,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HI(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new u_((i=>Om.Vi(i,t)),this.serializer)}}class j5 extends _h{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await gC(this.xu.syncEngine),await Uh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return WI(this.persistence,new YI,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new HI(i,e.asyncQueue,t)}Mu(e,t){const i=new zk(t,this.persistence);return new Lk(e.asyncQueue,i)}Cu(e){const t=kj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new h_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Xj(),tm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ZI}}class Mm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ix(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M5.bind(null,this.syncEngine),await p5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y5})()}createDatastore(e){const t=vp(e.databaseInfo.databaseId),i=Wj(e.databaseInfo);return n5(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,o,c,h){return new r5(i,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ix(this.syncEngine,t,0)),(function(){return Sx.v()?new Sx:new Kj})())}createSyncEngine(e,t){return(function(a,o,c,h,d,m,y){const _=new b5(a,o,c,h,d,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ve(t);le(Eo,"RemoteStore shutting down."),i.Ea.add(5),await zh(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const aa="FirestoreClient";class L5{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{le(aa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(le(aa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=__(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zy(n,e){n.asyncQueue.verifyOperationInProgress(),le(aa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await XI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Dx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await z5(n);le(aa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>xx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>xx(e.remoteStore,a))),n._onlineComponents=e}async function z5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(aa,"Using user provided OfflineComponentProvider");try{await Zy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await Zy(n,new _h)}}else le(aa,"Using default OfflineComponentProvider"),await Zy(n,new k5(void 0));return n._offlineComponents}async function yC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(aa,"Using user provided OnlineComponentProvider"),await Dx(n,n._uninitializedComponentsProvider._online)):(le(aa,"Using default OnlineComponentProvider"),await Dx(n,new Mm))),n._onlineComponents}function U5(n){return yC(n).then((e=>e.syncEngine))}async function Nm(n){const e=await yC(n),t=e.eventManager;return t.onListen=x5.bind(null,e.syncEngine),t.onUnlisten=R5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I5.bind(null,e.syncEngine),t}function B5(n,e,t,i){const a=new w_(i),o=new b_(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>E_(await Nm(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>T_(await Nm(n),o)))}}function F5(n,e,t={}){const i=new fr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,m){const y=new w_({next:T=>{y.Nu(),c.enqueueAndForget((()=>T_(o,_)));const x=T.docs.has(h);!x&&T.fromCache?m.reject(new ce(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&d&&d.source==="server"?m.reject(new ce(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new b_(Nh(h.path),y,{includeMetadataChanges:!0,Ka:!0});return E_(o,_)})(await Nm(n),n.asyncQueue,e,t,i))),i.promise}function q5(n,e,t={}){const i=new fr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,m){const y=new w_({next:T=>{y.Nu(),c.enqueueAndForget((()=>T_(o,_))),T.fromCache&&d.source==="server"?m.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new b_(h,y,{includeMetadataChanges:!0,Ka:!0});return E_(o,_)})(await Nm(n),n.asyncQueue,e,t,i))),i.promise}function H5(n,e){const t=new fr;return n.asyncQueue.enqueueAndForget((async()=>C5(await U5(n),e,t))),t.promise}function vC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const G5="ComponentProvider",Vx=new Map;function K5(n,e,t,i,a){return new m4(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,vC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const _C="firestore.googleapis.com",Ox=!0;class Px{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_C,this.ssl=Ox}else this.host=e.host,this.ssl=e.ssl??Ox;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_j)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Px({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Px(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new xk;switch(i.type){case"firstParty":return new Ik(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Vx.get(t);i&&(le(G5,"Removing Datastore"),Vx.delete(t),i.terminate())})(this),Promise.resolve()}}function Q5(n,e,t,i={}){n=Cn(n,Ep);const a=cc(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(sR(`https://${h}`),aR("Firestore",!0)),o.host!==_C&&o.host!==h&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!ta(d,c)&&(n._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=pn.MOCK_USER;else{m=XM(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(_)}n._authCredentials=new Ak(new xR(m,y))}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ct{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Oh(t,Ct._jsonSchema))return new Ct(e,i||null,new fe(tt.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Kt("string",Ct._jsonSchemaVersion),referencePath:Kt("string")};class ea extends es{constructor(e,t,i){super(e,t,Nh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new fe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function Eh(n,e,...t){if(n=Mt(n),wR("collection","path",e),n instanceof Ep){const i=tt.fromString(e,...t);return bb(i),new ea(n,null,i)}{if(!(n instanceof Ct||n instanceof ea))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tt.fromString(e,...t));return bb(i),new ea(n.firestore,null,i)}}function Qt(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=H0.newId()),wR("doc","path",e),n instanceof Ep){const i=tt.fromString(e,...t);return Sb(i),new Ct(n,null,new fe(i))}{if(!(n instanceof Ct||n instanceof ea))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tt.fromString(e,...t));return Sb(i),new Ct(n.firestore,n instanceof ea?n.converter:null,new fe(i))}}const Mx="AsyncQueue";class Nx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eC(this,"async_queue_retry"),this._c=()=>{const i=tm();i&&le(Mx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;le(Mx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,wn("INTERNAL UNHANDLED ERROR: ",kx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=v_.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class _r extends Ep{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Nx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nx(e),this._firestoreClient=void 0,await e}}}function $5(n,e){const t=typeof n=="object"?n:mR(),i=typeof n=="string"?n:bm,a=F0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=YM("firestore");o&&Q5(a,...o)}return a}function Fh(n){if(n._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EC(n),n._firestoreClient}function EC(n){const e=n._freezeSettings(),t=K5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new L5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}function Y5(n,e){na("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return W5(n,Mm.provider,{build:i=>new j5(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function W5(n,e,t){if((n=Cn(n,_r))._firestoreClient||n._terminated)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ce(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},EC(n)}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi($t.fromBase64String(e))}catch(t){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fi($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oh(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Kt("string",fi._jsonSchemaVersion),bytes:Kt("string")};class Tp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._methodName=e}}class mr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Oh(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:Kt("string",mr._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Ni{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oh(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ni(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Kt("string",Ni._jsonSchemaVersion),vectorValues:Kt("object")};const X5=/^__.*__$/;class J5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class TC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:n})}}class bp{constructor(e,t,i,a,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return km(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(SC(this.dataSource)&&X5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Z5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vp(e)}createContext(e,t,i,a=!1){return new bp({dataSource:e,methodName:t,targetDoc:i,path:bt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xp(n){const e=n._freezeSettings(),t=vp(n._databaseId);return new Z5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bC(n,e,t,i,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);I_("Data must be an object, but it was:",c,i);const h=wC(i,c);let d,m;if(o.merge)d=new Ln(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const T=To(e,_,t);if(!c.contains(T))throw new ce(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);CC(y,T)||y.push(T)}d=new Ln(y),m=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=c.fieldTransforms;return new J5(new En(h),d,m)}class Ap extends Sp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function eL(n,e,t){return new bp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R_ extends Sp{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=eL(this,e,!0),i=this.Ac.map((o=>pc(o,t))),a=new go(i);return new gI(e.path,a)}isEqual(e){return e instanceof R_&&ta(this.Ac,e.Ac)}}function xC(n,e,t,i){const a=n.createContext(1,e,t);I_("Data must be an object, but it was:",a,i);const o=[],c=En.empty();ha(i,((d,m)=>{const y=IC(e,d,t);m=Mt(m);const _=a.childContextForFieldPath(y);if(m instanceof Ap)o.push(y);else{const T=pc(m,_);T!=null&&(o.push(y),c.set(y,T))}}));const h=new Ln(o);return new TC(c,h,a.fieldTransforms)}function AC(n,e,t,i,a,o){const c=n.createContext(1,e,t),h=[To(e,i,t)],d=[a];if(o.length%2!=0)throw new ce(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(To(e,o[T])),d.push(o[T+1]);const m=[],y=En.empty();for(let T=h.length-1;T>=0;--T)if(!CC(m,h[T])){const x=h[T];let C=d[T];C=Mt(C);const M=c.childContextForFieldPath(x);if(C instanceof Ap)m.push(x);else{const N=pc(C,M);N!=null&&(m.push(x),y.set(x,N))}}const _=new Ln(m);return new TC(y,_,c.fieldTransforms)}function tL(n,e,t,i=!1){return pc(t,n.createContext(i?4:3,e))}function pc(n,e){if(RC(n=Mt(n)))return I_("Unsupported field value:",e,n),wC(n,e);if(n instanceof Sp)return(function(i,a){if(!SC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let d=pc(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(i,a){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return j4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=He.fromDate(i);return{timestampValue:ic(a.serializer,o)}}if(i instanceof He){const o=new He(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ic(a.serializer,o)}}if(i instanceof mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fi)return{bytesValue:bI(a.serializer,i._byteString)};if(i instanceof Ct){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ni)return(function(c,h){const d=c instanceof Ni?c.toArray():c;return{mapValue:{fields:{[J0]:{stringValue:Z0},[Jl]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return t_(h.serializer,y)}))}}}}}})(i,a);if(MI(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${ip(i)}`)})(n,e)}function wC(n,e){const t={};return FR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,((i,a)=>{const o=pc(a,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function RC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof He||n instanceof mr||n instanceof fi||n instanceof Ct||n instanceof Sp||n instanceof Ni||MI(n))}function I_(n,e,t){if(!RC(t)||!RR(t)){const i=ip(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function To(n,e,t){if((e=Mt(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return IC(n,e);throw km("Field path arguments must be of type string or ",n,!1,void 0,t)}const nL=new RegExp("[~\\*/\\[\\]]");function IC(n,e,t){if(e.search(nL)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tp(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function km(n,e,t,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new ce(ne.INVALID_ARGUMENT,h+n+d)}function CC(n,e){return n.some((t=>t.isEqual(e)))}class iL{convertValue(e,t="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ha(e,((a,o)=>{i[a]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Jl].arrayValue?.values?.map((i=>Et(i.doubleValue)));return new Ni(t)}convertGeoPoint(e){return new mr(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const t=Qr(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tt.fromString(e);_e(PI(i),9688,{name:e});const a=new mo(i.get(1),i.get(3)),o=new fe(i.popFirst(5));return a.isEqual(t)||wn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class C_ extends iL{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function D_(...n){return new R_("arrayUnion",n)}const jx="@firebase/firestore",Lx="4.11.0";function zx(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class DC{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(To("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rL extends DC{data(){return super.data()}}function VC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class O_ extends V_{}function P_(n,e,...t){let i=[];e instanceof V_&&i.push(e),i=i.concat(t),(function(o){const c=o.filter((d=>d instanceof M_)).length,h=o.filter((d=>d instanceof wp)).length;if(c>1||c>0&&h>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class wp extends O_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wp(e,t,i)}_apply(e){const t=this._parse(e);return OC(e._query,t),new es(e.firestore,e.converter,qv(e._query,t))}_parse(e){const t=xp(e.firestore);return(function(o,c,h,d,m,y,_){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Bx(_,y);const C=[];for(const M of _)C.push(Ux(d,o,M));T={arrayValue:{values:C}}}else T=Ux(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Bx(_,y),T=tL(h,c,_,y==="in"||y==="not-in");return $e.create(m,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sL(n,e,t){const i=e,a=To("where",n);return wp._create(a,i,t)}class M_ extends V_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new M_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:at.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)OC(c,d),c=qv(c,d)})(e._query,t),new es(e.firestore,e.converter,qv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class N_ extends O_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new N_(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gh(o,c)})(e._query,this._field,this._direction);return new es(e.firestore,e.converter,C4(e._query,t))}}function aL(n,e="asc"){const t=e,i=To("orderBy",n);return N_._create(i,t)}class k_ extends O_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new k_(e,t,i)}_apply(e){return new es(e.firestore,e.converter,wm(e._query,this._limit,this._limitType))}}function oL(n){return k_._create("limit",n,"F")}function Ux(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sI(e)&&t.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(tt.fromString(t));if(!fe.isDocumentKey(i))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mh(n,new fe(i))}if(t instanceof Ct)return mh(n,t._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(t)}.`)}function Bx(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(n,e){const t=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function PC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends DC{constructor(e,t,i,a,o,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(To("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Kt("string",lo._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class nm extends lo{data(e={}){return super.data(e)}}class co{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Bu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new nm(this._firestore,this._userDataWriter,i.key,i,new Bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new nm(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Bu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new nm(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Bu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:lL(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Kt("string",co._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class cL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xp(e)}set(e,t,i){this._verifyNotCommitted();const a=ev(e,this._firestore),o=PC(a.converter,t,i),c=bC(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,sn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const o=ev(e,this._firestore);let c;return c=typeof(t=Mt(t))=="string"||t instanceof Tp?AC(this._dataReader,"WriteBatch.update",o._key,t,i,a):xC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ev(e,this._firestore);return this._mutations=this._mutations.concat(new jh(t._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ev(n,e){if((n=Mt(n)).firestore!==e)throw new ce(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function jm(n){n=Cn(n,Ct);const e=Cn(n.firestore,_r),t=Fh(e);return F5(t,n._key).then((i=>NC(e,n,i)))}function uL(n){n=Cn(n,es);const e=Cn(n.firestore,_r),t=Fh(e),i=new C_(e);return VC(n._query),q5(t,n._query).then((a=>new co(e,i,n,a)))}function Lm(n,e,t){n=Cn(n,Ct);const i=Cn(n.firestore,_r),a=PC(n.converter,e,t),o=xp(i);return Rp(i,[bC(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,sn.none())])}function qh(n,e,t,...i){n=Cn(n,Ct);const a=Cn(n.firestore,_r),o=xp(a);let c;return c=typeof(e=Mt(e))=="string"||e instanceof Tp?AC(o,"updateDoc",n._key,e,t,i):xC(o,"updateDoc",n._key,e),Rp(a,[c.toMutation(n._key,sn.exists(!0))])}function MC(n){return Rp(Cn(n.firestore,_r),[new jh(n._key,sn.none())])}function So(n,...e){n=Mt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||zx(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(zx(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let o,c,h;if(n instanceof Ct)c=Cn(n.firestore,_r),h=Nh(n._key.path),o={next:m=>{e[i]&&e[i](NC(c,n,m))},error:e[i+1],complete:e[i+2]};else{const m=Cn(n,es);c=Cn(m.firestore,_r),h=m._query;const y=new C_(c);o={next:_=>{e[i]&&e[i](new co(c,y,m,_))},error:e[i+1],complete:e[i+2]},VC(n._query)}const d=Fh(c);return B5(d,h,a,o)}function Rp(n,e){const t=Fh(n);return H5(t,e)}function NC(n,e,t){const i=t.docs.get(e._key),a=new C_(n);return new lo(n,a,e._key,i,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}function hL(n){return n=Cn(n,_r),Fh(n),new cL(n,(e=>Rp(n,e)))}(function(e,t=!0){bk(uc),Kl(new ho("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new _r(new wk(i.getProvider("auth-internal")),new Ck(c,i.getProvider("app-check-internal")),p4(c,a),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xs(jx,Lx,e),Xs(jx,Lx,"esm2020")})();function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dL=kC,jC=new Dh("auth","Firebase",kC());const zm=new U0("@firebase/auth");function fL(n,...e){zm.logLevel<=Qe.WARN&&zm.warn(`Auth (${uc}): ${n}`,...e)}function im(n,...e){zm.logLevel<=Qe.ERROR&&zm.error(`Auth (${uc}): ${n}`,...e)}function Li(n,...e){throw j_(n,...e)}function pr(n,...e){return j_(n,...e)}function LC(n,e,t){const i={...dL(),[e]:t};return new Dh("auth","Firebase",i).create(e,{appName:n.name})}function Hr(n){return LC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return jC.create(n,...e)}function Re(n,e,...t){if(!n)throw j_(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw im(e),new Error(e)}function Yr(n,e){n||Br(e)}function t0(){return typeof self<"u"&&self.location?.href||""}function mL(){return Fx()==="http:"||Fx()==="https:"}function Fx(){return typeof self<"u"&&self.location?.protocol||null}function pL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||nN()||"connection"in navigator)?navigator.onLine:!0}function gL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=eN()||iN()}get(){return pL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L_(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class zC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_L=new Hh(3e4,6e4);function da(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fa(n,e,t,i,a={}){return UC(n,a,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Vh({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...o};return tN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&cc(n.emulatorConfig.host)&&(m.credentials="include"),zC.fetch()(await BC(n,n.config.apiHost,t,h),m)})}async function UC(n,e,t){n._canInitEmulator=!1;const i={...yL,...e};try{const a=new TL(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Lf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Lf(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw LC(n,y,m);Li(n,y)}}catch(a){if(a instanceof Xr)throw a;Li(n,"network-request-failed",{message:String(a)})}}async function Gh(n,e,t,i,a={}){const o=await fa(n,e,t,i,a);return"mfaPendingCredential"in o&&Li(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function BC(n,e,t,i){const a=`${e}${t}?${i}`,o=n,c=o.config.emulator?L_(n.config,a):`${n.config.apiScheme}://${a}`;return vL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function EL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(pr(this.auth,"network-request-failed")),_L.get())})}}function Lf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=pr(n,e,i);return a.customData._tokenResponse=t,a}function qx(n){return n!==void 0&&n.enterprise!==void 0}class SL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bL(n,e){return fa(n,"GET","/v2/recaptchaConfig",da(n,e))}async function xL(n,e){return fa(n,"POST","/v1/accounts:delete",e)}async function Um(n,e){return fa(n,"POST","/v1/accounts:lookup",e)}function Zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(n,e=!1){const t=Mt(n),i=await t.getIdToken(e),a=z_(i);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Zu(tv(a.auth_time)),issuedAtTime:Zu(tv(a.iat)),expirationTime:Zu(tv(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function tv(n){return Number(n)*1e3}function z_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const a=eR(t);return a?JSON.parse(a):(im("Failed to decode base64 JWT payload"),null)}catch(a){return im("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Hx(n){const e=z_(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Th(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xr&&wL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function wL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class RL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class n0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bm(n){const e=n.auth,t=await n.getIdToken(),i=await Th(n,Um(e,{idToken:t}));Re(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?FC(a.providerUserInfo):[],c=CL(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!c?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function IL(n){const e=Mt(n);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CL(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function FC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function DL(n,e){const t=await UC(n,{},async()=>{const i=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await BC(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&cc(n.emulatorConfig.host)&&(d.credentials="include"),zC.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VL(n,e){return fa(n,"POST","/v2/accounts:revokeToken",da(n,e))}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=Hx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await DL(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,c=new Bl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Br("not implemented")}}function js(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new n0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Th(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AL(this,e)}reload(){return IL(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Th(this,xL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:C,stsTokenManager:M}=t;Re(_&&M,e,"internal-error");const N=Bl.fromJSON(this.name,M);Re(typeof _=="string",e,"internal-error"),js(i,e.name),js(a,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof x=="boolean",e,"internal-error"),js(o,e.name),js(c,e.name),js(h,e.name),js(d,e.name),js(m,e.name),js(y,e.name);const B=new Mi({uid:_,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(B.providerData=C.map(j=>({...j}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,t,i=!1){const a=new Bl;a.updateFromServerResponse(t);const o=new Mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Bm(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?FC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Bl;h.updateFromIdToken(i);const d=new Mi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}const Gx=new Map;function Fr(n){Yr(n instanceof Function,"Expected a class definition");let e=Gx.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Gx.set(n,e),e)}class qC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qC.type="NONE";const Kx=qC;function rm(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=rm(this.userKey,a.apiKey,o),this.fullPersistenceKey=rm("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Um(this.auth,{idToken:e}).catch(()=>{});return t?Mi._fromGetAccountInfoResponse(this.auth,t,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fl(Fr(Kx),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Fr(Kx);const c=rm(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const T=await Um(e,{idToken:y}).catch(()=>{});if(!T)break;_=await Mi._fromGetAccountInfoResponse(e,T,y)}else _=Mi._fromJSON(e,y);m!==o&&(h=_),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Fl(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Fl(o,e,i))}}function Qx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(WC(e))return"Webos";if(GC(e))return"Safari";if((e.includes("chrome/")||KC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function HC(n=Jt()){return/firefox\//i.test(n)}function GC(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KC(n=Jt()){return/crios\//i.test(n)}function QC(n=Jt()){return/iemobile/i.test(n)}function $C(n=Jt()){return/android/i.test(n)}function YC(n=Jt()){return/blackberry/i.test(n)}function WC(n=Jt()){return/webos/i.test(n)}function U_(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OL(n=Jt()){return U_(n)&&!!window.navigator?.standalone}function PL(){return rN()&&document.documentMode===10}function XC(n=Jt()){return U_(n)||$C(n)||WC(n)||YC(n)||/windows phone/i.test(n)||QC(n)}function JC(n,e=[]){let t;switch(n){case"Browser":t=Qx(Jt());break;case"Worker":t=`${Qx(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uc}/${i}`}class ML{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function NL(n,e={}){return fa(n,"GET","/v2/passwordPolicy",da(n,e))}const kL=6;class jL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class LL{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $x(this),this.idTokenSubscription=new $x(this),this.beforeStateQueue=new ML(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Um(this,{idToken:e}),i=await Mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Hr(this));const t=e?Mt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NL(this),t=new jL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await VL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,a);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(n){return Mt(n)}class $x{constructor(e){this.auth=e,this.observer=null,this.addObserver=uN(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zL(n){Ip=n}function ZC(n){return Ip.loadJS(n)}function UL(){return Ip.recaptchaEnterpriseScript}function BL(){return Ip.gapiScript}function FL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qL{constructor(){this.enterprise=new HL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GL="recaptcha-enterprise",e2="NO_RECAPTCHA";class KL{constructor(e){this.type=GL,this.auth=Co(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{bL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new SL(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,c,h){const d=window.grecaptcha;qx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(e2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qL().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!t&&qx(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=UL();d.length!==0&&(d+=h),ZC(d).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Yx(n,e,t,i=!1,a=!1){const o=new KL(n);let c;if(a)c=e2;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function i0(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yx(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Yx(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function QL(n,e){const t=F0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ta(o,e??{}))return a;Li(a,"already-initialized")}return t.initialize({options:e})}function $L(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function YL(n,e,t){const i=Co(n);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=t2(e),{host:c,port:h}=WL(e),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(ta(m,i.config.emulator)&&ta(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,cc(c)?(sR(`${o}//${c}${d}`),aR("Auth",!0)):XL()}function t2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WL(n){const e=t2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:Wx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Wx(c)}}}function Wx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class B_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function JL(n,e){return fa(n,"POST","/v1/accounts:signUp",e)}async function ZL(n,e){return Gh(n,"POST","/v1/accounts:signInWithPassword",da(n,e))}async function e3(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",da(n,e))}async function t3(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",da(n,e))}class Sh extends B_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Sh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Sh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,t,"signInWithPassword",ZL);case"emailLink":return e3(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,i,"signUpPassword",JL);case"emailLink":return t3(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ql(n,e){return Gh(n,"POST","/v1/accounts:signInWithIdp",da(n,e))}const n3="http://localhost";class bo extends B_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...o}=t;if(!i||!a)return null;const c=new bo(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ql(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ql(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ql(e,t)}buildRequest(){const e={requestUri:n3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vh(t)}return e}}function i3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r3(n){const e=Nu(ku(n)).link,t=e?Nu(ku(e)).deep_link_id:null,i=Nu(ku(n)).deep_link_id;return(i?Nu(ku(i)).link:null)||i||t||e||n}class F_{constructor(e){const t=Nu(ku(e)),i=t.apiKey??null,a=t.oobCode??null,o=i3(t.mode??null);Re(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=r3(e);try{return new F_(t)}catch{return null}}}class gc{constructor(){this.providerId=gc.PROVIDER_ID}static credential(e,t){return Sh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=F_.parseLink(t);return Re(i,"argument-error"),Sh._fromEmailAndCode(e,i.code,i.tenantId)}}gc.PROVIDER_ID="password";gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class n2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kh extends n2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fs extends Kh{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class qs extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Kh{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends Kh{constructor(){super("twitter.com")}static credential(e,t){return bo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function s3(n,e){return Gh(n,"POST","/v1/accounts:signUp",da(n,e))}class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await Mi._fromIdTokenResponse(e,i,a),c=Xx(i);return new xo({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Xx(i);return new xo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Xx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fm extends Xr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Fm(e,t,i,a)}}function i2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(n,o,e,i):o})}async function a3(n,e,t=!1){const i=await Th(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xo._forOperation(n,"link",i)}async function o3(n,e,t=!1){const{auth:i}=n;if(di(i.app))return Promise.reject(Hr(i));const a="reauthenticate";try{const o=await Th(n,i2(i,a,e,n),t);Re(o.idToken,i,"internal-error");const c=z_(o.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(n.uid===h,i,"user-mismatch"),xo._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Li(i,"user-mismatch"),o}}async function r2(n,e,t=!1){if(di(n.app))return Promise.reject(Hr(n));const i="signIn",a=await i2(n,i,e),o=await xo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function l3(n,e){return r2(Co(n),e)}async function s2(n){const e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a2(n,e,t){if(di(n.app))return Promise.reject(Hr(n));const i=Co(n),c=await i0(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s3).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&s2(n),d}),h=await xo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function c3(n,e,t){return di(n.app)?Promise.reject(Hr(n)):l3(Mt(n),gc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&s2(n),i})}function u3(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function h3(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function o2(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function d3(n){return Mt(n).signOut()}const qm="__sak";class l2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const f3=1e3,m3=10;class c2 extends l2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);PL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,m3):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},f3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}c2.type="LOCAL";const p3=c2;class u2 extends l2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u2.type="SESSION";const h2=u2;function g3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,o)),d=await g3(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];function q_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=q_("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gr(){return window}function v3(n){gr().location.href=n}function d2(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function _3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E3(){return navigator?.serviceWorker?.controller||null}function T3(){return d2()?self:null}const f2="firebaseLocalStorageDb",S3=1,Hm="firebaseLocalStorage",m2="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dp(n,e){return n.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function b3(){const n=indexedDB.deleteDatabase(f2);return new Qh(n).toPromise()}function r0(){const n=indexedDB.open(f2,S3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hm,{keyPath:m2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hm)?e(i):(i.close(),await b3(),e(await r0()))})})}async function Jx(n,e,t){const i=Dp(n,!0).put({[m2]:e,value:t});return new Qh(i).toPromise()}async function x3(n,e){const t=Dp(n,!1).get(e),i=await new Qh(t).toPromise();return i===void 0?null:i.value}function Zx(n,e){const t=Dp(n,!0).delete(e);return new Qh(t).toPromise()}const A3=800,w3=3;class p2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>w3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(T3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r0();return await Jx(e,qm,"1"),await Zx(e,qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>x3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Dp(a,!1).getAll();return new Qh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p2.type="LOCAL";const R3=p2;new Hh(3e4,6e4);function I3(n,e){return e?Fr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class H_ extends B_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function C3(n){return r2(n.auth,new H_(n),n.bypassAuthState)}function D3(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),o3(t,new H_(n),n.bypassAuthState)}async function V3(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),a3(t,new H_(n),n.bypassAuthState)}class g2{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C3;case"linkViaPopup":case"linkViaRedirect":return V3;case"reauthViaPopup":case"reauthViaRedirect":return D3;default:Li(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const O3=new Hh(2e3,1e4);class Ol extends g2{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O3.get())};e()}}Ol.currentPopupAction=null;const P3="pendingRedirect",sm=new Map;class M3 extends g2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sm.get(this.auth._key());if(!e){try{const i=await N3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N3(n,e){const t=L3(e),i=j3(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function k3(n,e){sm.set(n._key(),e)}function j3(n){return Fr(n._redirectPersistence)}function L3(n){return rm(P3,n.config.apiKey,n.name)}async function z3(n,e,t=!1){if(di(n.app))return Promise.reject(Hr(n));const i=Co(n),a=I3(i,e),c=await new M3(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const U3=600*1e3;class B3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!y2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U3&&this.cachedEventUids.clear(),this.cachedEventUids.has(eA(e))}saveEventToCache(e){this.cachedEventUids.add(eA(e)),this.lastProcessedEventTime=Date.now()}}function eA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function y2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function F3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y2(n);default:return!1}}async function q3(n,e={}){return fa(n,"GET","/v1/projects",e)}const H3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G3=/^https?/;async function K3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await q3(n);for(const t of e)try{if(Q3(t))return}catch{}Li(n,"unauthorized-domain")}function Q3(n){const e=t0(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!G3.test(t))return!1;if(H3.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const $3=new Hh(3e4,6e4);function tA(){const n=gr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Y3(n){return new Promise((e,t)=>{function i(){tA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tA(),t(pr(n,"network-request-failed"))},timeout:$3.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)i();else{const a=FL("iframefcb");return gr()[a]=()=>{gapi.load?i():t(pr(n,"network-request-failed"))},ZC(`${BL()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw am=null,e})}let am=null;function W3(n){return am=am||Y3(n),am}const X3=new Hh(5e3,15e3),J3="__/auth/iframe",Z3="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?L_(e,Z3):`https://${n.config.authDomain}/${J3}`,i={apiKey:e.apiKey,appName:n.name,v:uc},a=t6.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Vh(i).slice(1)}`}async function i6(n){const e=await W3(n),t=gr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:n6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=pr(n,"network-request-failed"),h=gr().setTimeout(()=>{o(c)},X3.get());function d(){gr().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{o(c)})}))}const r6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,a6=600,o6="_blank",l6="http://localhost";class nA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c6(n,e,t,i=s6,a=a6){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...r6,width:i.toString(),height:a.toString(),top:o,left:c},m=Jt().toLowerCase();t&&(h=KC(m)?o6:t),HC(m)&&(e=e||l6,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[x,C])=>`${T}${x}=${C},`,"");if(OL(m)&&h!=="_self")return u6(e||"",h),new nA(null);const _=window.open(e||"",h,y);Re(_,n,"popup-blocked");try{_.focus()}catch{}return new nA(_)}function u6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const h6="__/auth/handler",d6="emulator/auth/handler",f6=encodeURIComponent("fac");async function iA(n,e,t,i,a,o){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:uc,eventId:a};if(e instanceof n2){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",cN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Kh){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${f6}=${encodeURIComponent(d)}`:"";return`${m6(n)}?${Vh(h).slice(1)}${m}`}function m6({config:n}){return n.emulator?L_(n,d6):`https://${n.authDomain}/${h6}`}const nv="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h2,this._completeRedirectFn=z3,this._overrideRedirectResult=k3}async _openPopup(e,t,i,a){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await iA(e,t,i,t0(),a);return c6(e,o,q_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await iA(e,t,i,t0(),a);return v3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await i6(e),i=new B3(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nv,{type:nv},a=>{const o=a?.[0]?.[nv];o!==void 0&&t(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=K3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XC()||GC()||U_()}}const g6=p6;var rA="@firebase/auth",sA="1.12.0";class y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(n){Kl(new ho("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(n)},m=new LL(i,a,o,d);return $L(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Kl(new ho("auth-internal",e=>{const t=Co(e.getProvider("auth").getImmediate());return(i=>new y6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(rA,sA,v6(n)),Xs(rA,sA,"esm2020")}const E6=300,T6=rR("authIdTokenMaxAge")||E6;let aA=null;const S6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>T6)return;const a=t?.token;aA!==a&&(aA=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function b6(n=mR()){const e=F0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=QL(n,{popupRedirectResolver:g6,persistence:[R3,p3,h2]}),i=rR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=S6(o.toString());h3(t,c,()=>c(t.currentUser)),u3(t,h=>c(h))}}const a=nR("auth");return a&&YL(t,`http://${a}`),t}function x6(){return document.getElementsByTagName("head")?.[0]??document}zL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=pr("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",x6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");const A6={apiKey:"AIzaSyDQXzO10EZsD_XIR3Jxn61MwroAym8ZkZ0",authDomain:"acampfiladelfia.firebaseapp.com",projectId:"acampfiladelfia",storageBucket:"acampfiladelfia.firebasestorage.app",messagingSenderId:"462365534474",appId:"1:462365534474:web:258ea893b55077839b32f3",measurementId:"G-6CZCJ3RFNM"},v2=fR(A6),pt=$5(v2);Y5(pt).catch(n=>{n.code=="failed-precondition"?console.warn("Persistncia offline falhou: Mltiplas abas abertas."):n.code=="unimplemented"&&console.warn("Persistncia offline no suportada neste navegador.")});const no=b6(v2),_2=P.createContext();function vi(){return P.useContext(_2)}function w6({children:n}){const[e,t]=P.useState(null),[i,a]=P.useState(!0);function o(m,y){return c3(no,m,y)}function c(m,y){return a2(no,m,y)}function h(){return d3(no)}P.useEffect(()=>o2(no,async y=>{try{if(y){const{getUserProfile:_}=await Xw(async()=>{const{getUserProfile:x}=await Promise.resolve().then(()=>D6);return{getUserProfile:x}},[]),T=await _(y.uid);t({...y,profile:T})}else t(null)}catch(_){console.error("Erro ao carregar perfil:",_),t(null)}finally{a(!1)}}),[]);const d={currentUser:e,login:o,signup:c,logout:h};return v.jsx(_2.Provider,{value:d,children:!i&&n})}const $h=n=>typeof n=="string"?["igrejafiladelfiacorrente@gmail.com","admin@acamp.forja.com"].includes(n):n?.role==="admin",R6=async n=>{try{const e=Qt(pt,"users",n),t=await jm(e);if(t.exists())return t.data().role==="admin";const i=Qt(pt,"admins",n);return(await jm(i)).exists()}catch{return!1}},E2=async(n,e)=>{try{const t=$h(e.email||`${e.nomeGuerra.toLowerCase()}@acamp.forja.com`),i=Qt(pt,"users",n);await Lm(i,{...e,status:t?"approved":"pending",role:t?"admin":"soldier",updatedAt:He.now()},{merge:!0})}catch(t){console.error("Erro ao salvar perfil:",t)}},I6=async n=>{try{const e=Qt(pt,"users",n),t=await jm(e);return t.exists()?t.data():null}catch(e){return console.error("Erro ao buscar perfil:",e),null}},T2=async n=>{try{const e=Qt(pt,"users",n);return await qh(e,{status:"approved",approvedAt:He.now()}),{success:!0}}catch(e){return console.error("Erro ao aprovar usurio:",e),{success:!1,error:e}}},S2=async n=>{try{return await MC(Qt(pt,"users",n)),{success:!0}}catch(e){return console.error("Erro ao rejeitar usurio:",e),{success:!1,error:e}}},b2=async(n,e,t="soldier")=>{try{const a=`${n.trim().toLowerCase().replace(/\s+/g,".")}@acamp.forja.com`,o=`${e}@acamp2026`,h=(await a2(no,a,o)).user.uid,d=Qt(pt,"users",h);return await Lm(d,{nomeGuerra:n,email:a,pin:e,role:t,status:"approved",createdAt:new Date().toISOString(),createdByAdmin:!0,updatedAt:He.now()}),{success:!0,uid:h}}catch(i){console.error("Erro ao criar usurio:",i);let a="Erro desconhecido";return i.code==="auth/email-already-in-use"?a="Esse nome de guerra j est em uso!":i.code==="auth/weak-password"&&(a="PIN muito fraco. Use 4 dgitos."),{success:!1,error:a}}},x2=async(n,e)=>{try{const t=Qt(pt,"users",n);return await qh(t,{role:e,updatedAt:He.now()}),{success:!0}}catch(t){return console.error("Erro ao atualizar role:",t),{success:!1,error:t}}},C6=async(n,e)=>{try{const t=Qt(pt,"users",n);return await qh(t,{...e,updatedAt:He.now()}),{success:!0}}catch(t){return console.error("Erro ao atualizar perfil:",t),{success:!1,error:t}}},D6=Object.freeze(Object.defineProperty({__proto__:null,approveUser:T2,checkAdminStatus:R6,checkIsAdmin:$h,createUserByAdmin:b2,getUserProfile:I6,rejectUser:S2,saveUserProfile:E2,updateUserProfile:C6,updateUserRole:x2},Symbol.toStringTag,{value:"Module"})),V6="_btn_7pqsz_1",O6="_primary_7pqsz_89",P6="_secondary_7pqsz_101",M6="_full_7pqsz_113",iv={btn:V6,primary:O6,secondary:P6,full:M6},Pe=({children:n,onClick:e,disabled:t,type:i="button",variant:a="primary",fullWidth:o=!1})=>v.jsx("button",{type:i,className:`${iv.btn} ${iv[a]} ${o?iv.full:""}`,onClick:e,disabled:t,children:n}),s0=({label:n,type:e="text",value:t,onChange:i,placeholder:a,required:o=!1})=>v.jsxs("div",{style:{marginBottom:"1rem"},children:[n&&v.jsxs("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"1rem",color:"var(--color-gold)",fontFamily:"var(--font-display)",letterSpacing:"1px"},children:[n," ",o&&v.jsx("span",{style:{color:"var(--color-fire)"},children:"*"})]}),v.jsx("input",{type:e,value:t,onChange:i,placeholder:a,required:o,style:{width:"100%",padding:"14px",backgroundColor:"rgba(0,0,0,0.4)",border:"2px solid var(--color-wood-light)",borderRadius:"var(--radius-rustic)",color:"var(--text-main)",fontFamily:"var(--font-body)",fontSize:"1rem",boxSizing:"border-box",outline:"none",transition:"border-color 0.2s",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.5)"},onFocus:c=>c.target.style.borderColor="var(--color-gold)",onBlur:c=>c.target.style.borderColor="var(--color-wood-light)"})]}),ke=({children:n,className:e="",style:t={},onClick:i})=>v.jsxs("div",{onClick:i,style:{backgroundColor:"var(--bg-card)",border:"var(--border-rustic)",borderRadius:"var(--radius-rustic)",padding:"1.5rem",position:"relative",boxShadow:"var(--shadow-rustic)",backgroundImage:"linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px)",backgroundSize:"20px 20px",cursor:i?"pointer":"default",transition:i?"transform 0.2s ease":"none",...t},className:e,children:[v.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),v.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderTop:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),v.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderLeft:"2px solid var(--color-gold)"}}),v.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"8px",height:"8px",borderBottom:"2px solid var(--color-gold)",borderRight:"2px solid var(--color-gold)"}}),n]}),G_=P.createContext({});function K_(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const A2=typeof window<"u",w2=A2?P.useLayoutEffect:P.useEffect,Vp=P.createContext(null);function Q_(n,e){n.indexOf(e)===-1&&n.push(e)}function Gm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Er=(n,e,t)=>t>e?e:t<n?n:t;let $_=()=>{};const Wr={},R2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function I2(n){return typeof n=="object"&&n!==null}const C2=n=>/^0[^.\s]+$/u.test(n);function Y_(n){let e;return()=>(e===void 0&&(e=n()),e)}const yi=n=>n,N6=(n,e)=>t=>e(n(t)),Yh=(...n)=>n.reduce(N6),bh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class W_{constructor(){this.subscriptions=[]}add(e){return Q_(this.subscriptions,e),()=>Gm(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ki=n=>n*1e3,pi=n=>n/1e3;function D2(n,e){return e?n*(1e3/e):0}const V2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,k6=1e-7,j6=12;function L6(n,e,t,i,a){let o,c,h=0;do c=e+(t-e)/2,o=V2(c,i,a)-n,o>0?t=c:e=c;while(Math.abs(o)>k6&&++h<j6);return c}function Wh(n,e,t,i){if(n===e&&t===i)return yi;const a=o=>L6(o,0,1,n,t);return o=>o===0||o===1?o:V2(a(o),e,i)}const O2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,P2=n=>e=>1-n(1-e),M2=Wh(.33,1.53,.69,.99),X_=P2(M2),N2=O2(X_),k2=n=>(n*=2)<1?.5*X_(n):.5*(2-Math.pow(2,-10*(n-1))),J_=n=>1-Math.sin(Math.acos(n)),j2=P2(J_),L2=O2(J_),z6=Wh(.42,0,1,1),U6=Wh(0,0,.58,1),z2=Wh(.42,0,.58,1),B6=n=>Array.isArray(n)&&typeof n[0]!="number",U2=n=>Array.isArray(n)&&typeof n[0]=="number",F6={linear:yi,easeIn:z6,easeInOut:z2,easeOut:U6,circIn:J_,circInOut:L2,circOut:j2,backIn:X_,backInOut:N2,backOut:M2,anticipate:k2},q6=n=>typeof n=="string",oA=n=>{if(U2(n)){$_(n.length===4);const[e,t,i,a]=n;return Wh(e,t,i,a)}else if(q6(n))return F6[n];return n},zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function H6(n,e){let t=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){c.has(y)&&(m.schedule(y),n()),y(h)}const m={schedule:(y,_=!1,T=!1)=>{const C=T&&a?t:i;return _&&c.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(d),t.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const G6=40;function B2(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=zf.reduce((U,J)=>(U[J]=H6(o),U),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:_,preRender:T,render:x,postRender:C}=c,M=()=>{const U=Wr.useManualTiming?a.timestamp:performance.now();t=!1,Wr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(U-a.timestamp,G6),1)),a.timestamp=U,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),_.process(a),T.process(a),x.process(a),C.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(M))},N=()=>{t=!0,i=!0,a.isProcessing||n(M)};return{schedule:zf.reduce((U,J)=>{const H=c[J];return U[J]=($,I=!1,w=!1)=>(t||N(),H.schedule($,I,w)),U},{}),cancel:U=>{for(let J=0;J<zf.length;J++)c[zf[J]].cancel(U)},state:a,steps:c}}const{schedule:mt,cancel:oa,state:mn,steps:rv}=B2(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let om;function K6(){om=void 0}const Rn={now:()=>(om===void 0&&Rn.set(mn.isProcessing||Wr.useManualTiming?mn.timestamp:performance.now()),om),set:n=>{om=n,queueMicrotask(K6)}},F2=n=>e=>typeof e=="string"&&e.startsWith(n),q2=F2("--"),Q6=F2("var(--"),Z_=n=>Q6(n)?$6.test(n.split("/*")[0].trim()):!1,$6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const yc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xh={...yc,transform:n=>Er(0,1,n)},Uf={...yc,default:1},eh=n=>Math.round(n*1e5)/1e5,eE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y6(n){return n==null}const W6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tE=(n,e)=>t=>!!(typeof t=="string"&&W6.test(t)&&t.startsWith(n)||e&&!Y6(t)&&Object.prototype.hasOwnProperty.call(t,e)),H2=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,c,h]=i.match(eE);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},X6=n=>Er(0,255,n),sv={...yc,transform:n=>Math.round(X6(n))},io={test:tE("rgb","red"),parse:H2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+sv.transform(n)+", "+sv.transform(e)+", "+sv.transform(t)+", "+eh(xh.transform(i))+")"};function J6(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const a0={test:tE("#"),parse:J6,transform:io.transform},Xh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),zs=Xh("deg"),yr=Xh("%"),ge=Xh("px"),Z6=Xh("vh"),ez=Xh("vw"),cA={...yr,parse:n=>yr.parse(n)/100,transform:n=>yr.transform(n*100)},Pl={test:tE("hsl","hue"),parse:H2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+yr.transform(eh(e))+", "+yr.transform(eh(t))+", "+eh(xh.transform(i))+")"},Gt={test:n=>io.test(n)||a0.test(n)||Pl.test(n),parse:n=>io.test(n)?io.parse(n):Pl.test(n)?Pl.parse(n):a0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?io.transform(n):Pl.transform(n),getAnimatableNone:n=>{const e=Gt.parse(n);return e.alpha=0,Gt.transform(e)}},tz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nz(n){return isNaN(n)&&typeof n=="string"&&(n.match(eE)?.length||0)+(n.match(tz)?.length||0)>0}const G2="number",K2="color",iz="var",rz="var(",uA="${}",sz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ah(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(sz,d=>(Gt.test(d)?(i.color.push(o),a.push(K2),t.push(Gt.parse(d))):d.startsWith(rz)?(i.var.push(o),a.push(iz),t.push(d)):(i.number.push(o),a.push(G2),t.push(parseFloat(d))),++o,uA)).split(uA);return{values:t,split:h,indexes:i,types:a}}function Q2(n){return Ah(n).values}function $2(n){const{split:e,types:t}=Ah(n),i=e.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=e[c],a[c]!==void 0){const h=t[c];h===G2?o+=eh(a[c]):h===K2?o+=Gt.transform(a[c]):o+=a[c]}return o}}const az=n=>typeof n=="number"?0:Gt.test(n)?Gt.getAnimatableNone(n):n;function oz(n){const e=Q2(n);return $2(n)(e.map(az))}const la={test:nz,parse:Q2,createTransformer:$2,getAnimatableNone:oz};function av(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function lz({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,c=0;if(!e)a=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;a=av(d,h,n+1/3),o=av(d,h,n),c=av(d,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Km(n,e){return t=>t>0?e:n}const xt=(n,e,t)=>n+(e-n)*t,ov=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},cz=[a0,io,Pl],uz=n=>cz.find(e=>e.test(n));function hA(n){const e=uz(n);if(!e)return!1;let t=e.parse(n);return e===Pl&&(t=lz(t)),t}const dA=(n,e)=>{const t=hA(n),i=hA(e);if(!t||!i)return Km(n,e);const a={...t};return o=>(a.red=ov(t.red,i.red,o),a.green=ov(t.green,i.green,o),a.blue=ov(t.blue,i.blue,o),a.alpha=xt(t.alpha,i.alpha,o),io.transform(a))},o0=new Set(["none","hidden"]);function hz(n,e){return o0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function dz(n,e){return t=>xt(n,e,t)}function nE(n){return typeof n=="number"?dz:typeof n=="string"?Z_(n)?Km:Gt.test(n)?dA:pz:Array.isArray(n)?Y2:typeof n=="object"?Gt.test(n)?dA:fz:Km}function Y2(n,e){const t=[...n],i=t.length,a=n.map((o,c)=>nE(o)(o,e[c]));return o=>{for(let c=0;c<i;c++)t[c]=a[c](o);return t}}function fz(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=nE(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function mz(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=n.indexes[o][i[o]],h=n.values[c]??0;t[a]=h,i[o]++}return t}const pz=(n,e)=>{const t=la.createTransformer(e),i=Ah(n),a=Ah(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?o0.has(n)&&!a.values.length||o0.has(e)&&!i.values.length?hz(n,e):Yh(Y2(mz(i,a),a.values),t):Km(n,e)};function W2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?xt(n,e,t):nE(n)(n,e)}const gz=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>mt.update(e,t),stop:()=>oa(e),now:()=>mn.isProcessing?mn.timestamp:Rn.now()}},X2=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Qm=2e4;function iE(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Qm;)e+=t,i=n.next(e);return e>=Qm?1/0:e}function yz(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(iE(i),Qm);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:pi(a)}}const vz=5;function J2(n,e,t){const i=Math.max(e-vz,0);return D2(t-n(i),e-i)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lv=.001;function _z({duration:n=Rt.duration,bounce:e=Rt.bounce,velocity:t=Rt.velocity,mass:i=Rt.mass}){let a,o,c=1-e;c=Er(Rt.minDamping,Rt.maxDamping,c),n=Er(Rt.minDuration,Rt.maxDuration,pi(n)),c<1?(a=m=>{const y=m*c,_=y*n,T=y-t,x=l0(m,c),C=Math.exp(-_);return lv-T/x*C},o=m=>{const _=m*c*n,T=_*t+t,x=Math.pow(c,2)*Math.pow(m,2)*n,C=Math.exp(-_),M=l0(Math.pow(m,2),c);return(-a(m)+lv>0?-1:1)*((T-x)*C)/M}):(a=m=>{const y=Math.exp(-m*n),_=(m-t)*n+1;return-lv+y*_},o=m=>{const y=Math.exp(-m*n),_=(t-m)*(n*n);return y*_});const h=5/n,d=Tz(a,o,h);if(n=ki(n),isNaN(d))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:n};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:n}}}const Ez=12;function Tz(n,e,t){let i=t;for(let a=1;a<Ez;a++)i=i-n(i)/e(i);return i}function l0(n,e){return n*Math.sqrt(1-e*e)}const Sz=["duration","bounce"],bz=["stiffness","damping","mass"];function fA(n,e){return e.some(t=>n[t]!==void 0)}function xz(n){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...n};if(!fA(n,bz)&&fA(n,Sz))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*Er(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:o}}else{const t=_z(n);e={...e,...t,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function $m(n=Rt.visualDuration,e=Rt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:_,velocity:T,isResolvedFromDuration:x}=xz({...t,velocity:-pi(t.velocity||0)}),C=T||0,M=m/(2*Math.sqrt(d*y)),N=c-o,B=pi(Math.sqrt(d/y)),j=Math.abs(N)<5;i||(i=j?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=j?Rt.restDelta.granular:Rt.restDelta.default);let U;if(M<1){const H=l0(B,M);U=$=>{const I=Math.exp(-M*B*$);return c-I*((C+M*B*N)/H*Math.sin(H*$)+N*Math.cos(H*$))}}else if(M===1)U=H=>c-Math.exp(-B*H)*(N+(C+B*N)*H);else{const H=B*Math.sqrt(M*M-1);U=$=>{const I=Math.exp(-M*B*$),w=Math.min(H*$,300);return c-I*((C+M*B*N)*Math.sinh(w)+H*N*Math.cosh(w))/H}}const J={calculatedDuration:x&&_||null,next:H=>{const $=U(H);if(x)h.done=H>=_;else{let I=H===0?C:0;M<1&&(I=H===0?ki(C):J2(U,H,$));const w=Math.abs(I)<=i,D=Math.abs(c-$)<=a;h.done=w&&D}return h.value=h.done?c:$,h},toString:()=>{const H=Math.min(iE(J),Qm),$=X2(I=>J.next(H*I).value,H,30);return H+"ms "+$},toTransition:()=>{}};return J}$m.applyToOptions=n=>{const e=yz(n,100,$m);return n.ease=e.ease,n.duration=ki(e.duration),n.type="keyframes",n};function c0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:y}){const _=n[0],T={done:!1,value:_},x=w=>h!==void 0&&w<h||d!==void 0&&w>d,C=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let M=t*e;const N=_+M,B=c===void 0?N:c(N);B!==N&&(M=B-_);const j=w=>-M*Math.exp(-w/i),U=w=>B+j(w),J=w=>{const D=j(w),z=U(w);T.done=Math.abs(D)<=m,T.value=T.done?B:z};let H,$;const I=w=>{x(T.value)&&(H=w,$=$m({keyframes:[T.value,C(T.value)],velocity:J2(U,w,T.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:w=>{let D=!1;return!$&&H===void 0&&(D=!0,J(w),I(w)),H!==void 0&&w>=H?$.next(w-H):(!D&&J(w),T)}}}function Az(n,e,t){const i=[],a=t||Wr.mix||W2,o=n.length-1;for(let c=0;c<o;c++){let h=a(n[c],n[c+1]);if(e){const d=Array.isArray(e)?e[c]||yi:e;h=Yh(d,h)}i.push(h)}return i}function wz(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if($_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=Az(e,i,a),d=h.length,m=y=>{if(c&&y<n[0])return e[0];let _=0;if(d>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const T=bh(n[_],n[_+1],y);return h[_](T)};return t?y=>m(Er(n[0],n[o-1],y)):m}function Rz(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=bh(0,e,i);n.push(xt(t,1,a))}}function Iz(n){const e=[0];return Rz(e,n.length-1),e}function Cz(n,e){return n.map(t=>t*e)}function Dz(n,e){return n.map(()=>e||z2).splice(0,n.length-1)}function th({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=B6(i)?i.map(oA):oA(i),o={done:!1,value:e[0]},c=Cz(t&&t.length===e.length?t:Iz(e),n),h=wz(c,e,{ease:Array.isArray(a)?a:Dz(e,a)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const Vz=n=>n!==null;function rE(n,{repeat:e,repeatType:t="loop"},i,a=1){const o=n.filter(Vz),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const Oz={decay:c0,inertia:c0,tween:th,keyframes:th,spring:$m};function Z2(n){typeof n.type=="string"&&(n.type=Oz[n.type])}class sE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Pz=n=>n/100;class aE extends sE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z2(e);const{type:t=th,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const d=t||th;d!==th&&typeof h[0]!="number"&&(this.mixKeyframes=Yh(Pz,W2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=iE(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:x,type:C,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const B=this.currentTime-m*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,J=i;if(_){const w=Math.min(this.currentTime,a)/h;let D=Math.floor(w),z=w%1;!z&&w>=1&&(z=1),z===1&&D--,D=Math.min(D,_+1),D%2&&(T==="reverse"?(z=1-z,x&&(z-=x/h)):T==="mirror"&&(J=c)),U=Er(0,1,z)*h}const H=j?{done:!1,value:y[0]}:J.next(U);o&&(H.value=o(H.value));let{done:$}=H;!j&&d!==null&&($=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return I&&C!==c0&&(H.value=rE(y,this.options,N,this.speed)),M&&M(H.value),I&&this.finish(),H}then(e,t){return this.finished.then(e,t)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(this.currentTime)}set time(e){e=ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gz,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Mz(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ro=n=>n*180/Math.PI,u0=n=>{const e=ro(Math.atan2(n[1],n[0]));return h0(e)},Nz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:u0,rotateZ:u0,skewX:n=>ro(Math.atan(n[1])),skewY:n=>ro(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},h0=n=>(n=n%360,n<0&&(n+=360),n),mA=u0,pA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),gA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),kz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pA,scaleY:gA,scale:n=>(pA(n)+gA(n))/2,rotateX:n=>h0(ro(Math.atan2(n[6],n[5]))),rotateY:n=>h0(ro(Math.atan2(-n[2],n[0]))),rotateZ:mA,rotate:mA,skewX:n=>ro(Math.atan(n[4])),skewY:n=>ro(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function d0(n){return n.includes("scale")?1:0}function f0(n,e){if(!n||n==="none")return d0(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=kz,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Nz,a=h}if(!a)return d0(e);const o=i[e],c=a[1].split(",").map(Lz);return typeof o=="function"?o(c):c[o]}const jz=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return f0(t,e)};function Lz(n){return parseFloat(n.trim())}const vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_c=new Set(vc),yA=n=>n===yc||n===ge,zz=new Set(["x","y","z"]),Uz=vc.filter(n=>!zz.has(n));function Bz(n){const e=[];return Uz.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Qs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>f0(e,"x"),y:(n,{transform:e})=>f0(e,"y")};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const uo=new Set;let m0=!1,p0=!1,g0=!1;function eD(){if(p0){const n=Array.from(uo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=Bz(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}p0=!1,m0=!1,uo.forEach(n=>n.complete(g0)),uo.clear()}function tD(){uo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(p0=!0)})}function Fz(){g0=!0,tD(),eD(),g0=!1}class oE{constructor(e,t,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),m0||(m0=!0,mt.read(tD),mt.resolveKeyframes(eD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const o=a?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}Mz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qz=n=>n.startsWith("--");function Hz(n,e,t){qz(e)?n.style.setProperty(e,t):n.style[e]=t}const Gz=Y_(()=>window.ScrollTimeline!==void 0),Kz={};function Qz(n,e){const t=Y_(n);return()=>Kz[e]??t()}const nD=Qz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fu=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,vA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fu([0,.65,.55,1]),circOut:Fu([.55,0,1,.45]),backIn:Fu([.31,.01,.66,-.59]),backOut:Fu([.33,1.53,.69,.99])};function iD(n,e){if(n)return typeof n=="function"?nD()?X2(n,e):"ease-out":U2(n)?Fu(n):Array.isArray(n)?n.map(t=>iD(t,e)||vA.easeOut):vA[n]}function $z(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:t};d&&(y.offset=d);const _=iD(h,a);Array.isArray(_)&&(y.easing=_);const T={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(T.pseudoElement=m),n.animate(y,T)}function rD(n){return typeof n=="function"&&"applyToOptions"in n}function Yz({type:n,...e}){return rD(n)&&nD()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sD extends sE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,$_(typeof e.type!="string");const m=Yz(e);this.animation=$z(t,i,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=rE(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Hz(t,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Gz()?(this.animation.timeline=e,yi):t(this)}}const aD={anticipate:k2,backInOut:N2,circInOut:L2};function Wz(n){return n in aD}function Xz(n){typeof n.ease=="string"&&Wz(n.ease)&&(n.ease=aD[n.ease])}const cv=10;class Jz extends sD{constructor(e){Xz(e),Z2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new aE({...c,autoplay:!1}),d=Math.max(cv,Rn.now()-this.startTime),m=Er(0,cv,d-cv);t.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const _A=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(la.test(n)||n==="0")&&!n.startsWith("url("));function Zz(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function eU(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=_A(a,e),h=_A(o,e);return!c||!h?!1:Zz(n)||(t==="spring"||rD(t))&&i}function y0(n){n.duration=0,n.type="keyframes"}const tU=new Set(["opacity","clipPath","filter","transform"]),nU=Y_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iU(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:o,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return nU()&&t&&tU.has(t)&&(t!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const rU=40;class sU extends sE{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const T={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:c,name:d,motionValue:m,element:y,..._},x=y?.KeyframeResolver||oE;this.keyframeResolver=new x(h,(C,M,N)=>this.onKeyframesResolved(C,M,T,!N),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Rn.now(),eU(e,o,c,h)||((Wr.instantAnimations||!d)&&y?.(rE(e,i,t)),e[0]=e[e.length-1],y0(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},x=!m&&iU(T),C=T.motionValue?.owner?.current,M=x?new Jz({...T,element:C}):new aE(T);M.finished.then(()=>{this.notifyFinished()}).catch(yi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Fz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function oD(n,e,t,i=0,a=1){const o=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=n.size,h=(c-1)*i;return typeof t=="function"?t(o,c):a===1?o*i:h-o*i}const aU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oU(n){const e=aU.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function lD(n,e,t=1){const[i,a]=oU(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return R2(c)?parseFloat(c):c}return Z_(a)?lD(a,e,t+1):a}const lU={type:"spring",stiffness:500,damping:25,restSpeed:10},cU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),uU={type:"keyframes",duration:.8},hU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dU=(n,{keyframes:e})=>e.length>2?uU:_c.has(n)?n.startsWith("scale")?cU(e[1]):lU:hU,fU=n=>n!==null;function mU(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(fU),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}function cD(n,e){if(n?.inherit&&e){const{inherit:t,...i}=n;return{...e,...i}}return n}function lE(n,e){const t=n?.[e]??n?.default??n;return t!==n?cD(t,n):t}function pU({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const cE=(n,e,t,i={},a,o)=>c=>{const h=lE(i,n)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-ki(d);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};pU(h)||Object.assign(y,dU(n,y)),y.duration&&(y.duration=ki(y.duration)),y.repeatDelay&&(y.repeatDelay=ki(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y0(y),y.delay===0&&(_=!0)),(Wr.instantAnimations||Wr.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,y0(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!o&&e.get()!==void 0){const T=mU(y.keyframes,h);if(T!==void 0){mt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new aE(y):new sU(y)};function EA(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function uE(n,e,t,i){if(typeof e=="function"){const[a,o]=EA(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=EA(i);e=e(t!==void 0?t:n.custom,a,o)}return e}function Hl(n,e,t){const i=n.getProps();return uE(i,e,t!==void 0?t:i.custom,n)}const uD=new Set(["width","height","top","left","right","bottom",...vc]),TA=30,gU=n=>!isNaN(parseFloat(n));class yU{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new W_);const i=this.events[e].add(t);return e==="change"?()=>{i(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TA)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,TA);return D2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(n,e){return new yU(n,e)}const v0=n=>Array.isArray(n);function vU(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,sc(t))}function _U(n){return v0(n)?n[n.length-1]||0:n}function EU(n,e){const t=Hl(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const c in o){const h=_U(o[c]);vU(n,c,h)}}const Tn=n=>!!(n&&n.getVelocity);function TU(n){return!!(Tn(n)&&n.add)}function _0(n,e){const t=n.getValue("willChange");if(TU(t))return t.add(e);if(!t&&Wr.WillChange){const i=new Wr.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function hE(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const SU="framerAppearId",hD="data-"+hE(SU);function dD(n){return n.props[hD]}function bU({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function fD(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o,transitionEnd:c,...h}=e;const d=n.getDefaultTransition();o=o?cD(o,d):d;const m=o?.reduceMotion;i&&(o=i);const y=[],_=a&&n.animationState&&n.animationState.getState()[a];for(const T in h){const x=n.getValue(T,n.latestValues[T]??null),C=h[T];if(C===void 0||_&&bU(_,T))continue;const M={delay:t,...lE(o||{},T)},N=x.get();if(N!==void 0&&!x.isAnimating&&!Array.isArray(C)&&C===N&&!M.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const J=dD(n);if(J){const H=window.MotionHandoffAnimation(J,T,mt);H!==null&&(M.startTime=H,B=!0)}}_0(n,T);const j=m??n.shouldReduceMotion;x.start(cE(T,x,C,j&&uD.has(T)?{type:!1}:M,n,B));const U=x.animation;U&&y.push(U)}if(c){const T=()=>mt.update(()=>{c&&EU(n,c)});y.length?Promise.all(y).then(T):T()}return y}function E0(n,e,t={}){const i=Hl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(fD(n,i,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=a;return xU(n,e,d,m,y,_,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[o,c]:[c,o];return d().then(()=>m())}else return Promise.all([o(),c(t.delay)])}function xU(n,e,t=0,i=0,a=0,o=1,c){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(E0(d,e,{...c,delay:t+(typeof i=="function"?0:i)+oD(n.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function AU(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>E0(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=E0(n,e,t);else{const a=typeof e=="function"?Hl(n,e,t.custom):e;i=Promise.all(fD(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const wU={test:n=>n==="auto",parse:n=>n},mD=n=>e=>e.test(n),pD=[yc,ge,yr,zs,ez,Z6,wU],SA=n=>pD.find(mD(n));function RU(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||C2(n):!0}const IU=new Set(["brightness","contrast","saturate","opacity"]);function CU(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(eE)||[];if(!i)return n;const a=t.replace(i,"");let o=IU.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const DU=/\b([a-z-]*)\(.*?\)/gu,T0={...la,getAnimatableNone:n=>{const e=n.match(DU);return e?e.map(CU).join(" "):n}},bA={...yc,transform:Math.round},VU={rotate:zs,rotateX:zs,rotateY:zs,rotateZ:zs,scale:Uf,scaleX:Uf,scaleY:Uf,scaleZ:Uf,skew:zs,skewX:zs,skewY:zs,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:xh,originX:cA,originY:cA,originZ:ge},dE={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...VU,zIndex:bA,fillOpacity:xh,strokeOpacity:xh,numOctaves:bA},OU={...dE,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:T0,WebkitFilter:T0},gD=n=>OU[n];function yD(n,e){let t=gD(n);return t!==T0&&(t=la),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const PU=new Set(["auto","none","0"]);function MU(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!PU.has(o)&&Ah(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=yD(t,a)}class NU extends oE{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),Z_(_))){const T=lD(_,t.current);T!==void 0&&(e[y]=T),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!uD.has(i)||e.length!==2)return;const[a,o]=e,c=SA(a),h=SA(o),d=lA(a),m=lA(o);if(d!==m&&Qs[i]){this.needsMeasurement=!0;return}if(c!==h)if(yA(c)&&yA(h))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else Qs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||RU(e[a]))&&i.push(a);i.length&&MU(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=Qs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}const kU=new Set(["opacity","clipPath","filter","transform"]);function vD(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const _D=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function S0(n){return I2(n)&&"offsetHeight"in n}const{schedule:fE}=B2(queueMicrotask,!1),Oi={x:!1,y:!1};function ED(){return Oi.x||Oi.y}function jU(n){return n==="x"||n==="y"?Oi[n]?null:(Oi[n]=!0,()=>{Oi[n]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function TD(n,e){const t=vD(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function LU(n){return!(n.pointerType==="touch"||ED())}function zU(n,e,t={}){const[i,a,o]=TD(n,t);return i.forEach(c=>{let h=!1,d=!1,m;const y=()=>{c.removeEventListener("pointerleave",C)},_=N=>{m&&(m(N),m=void 0),y()},T=N=>{h=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),d&&(d=!1,_(N))},x=()=>{h=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},C=N=>{if(N.pointerType!=="touch"){if(h){d=!0;return}_(N)}},M=N=>{if(!LU(N))return;d=!1;const B=e(c,N);typeof B=="function"&&(m=B,c.addEventListener("pointerleave",C,a))};c.addEventListener("pointerenter",M,a),c.addEventListener("pointerdown",x,a)}),o}const SD=(n,e)=>e?n===e?!0:SD(n,e.parentElement):!1,mE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,UU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BU(n){return UU.has(n.tagName)||n.isContentEditable===!0}const FU=new Set(["INPUT","SELECT","TEXTAREA"]);function qU(n){return FU.has(n.tagName)||n.isContentEditable===!0}const lm=new WeakSet;function xA(n){return e=>{e.key==="Enter"&&n(e)}}function uv(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HU=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=xA(()=>{if(lm.has(t))return;uv(t,"down");const a=xA(()=>{uv(t,"up")}),o=()=>uv(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function AA(n){return mE(n)&&!ED()}const wA=new WeakSet;function GU(n,e,t={}){const[i,a,o]=TD(n,t),c=h=>{const d=h.currentTarget;if(!AA(h)||wA.has(h))return;lm.add(d),t.stopPropagation&&wA.add(h);const m=e(d,h),y=(x,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),lm.has(d)&&lm.delete(d),AA(x)&&typeof m=="function"&&m(x,{success:C})},_=x=>{y(x,d===window||d===document||t.useGlobalTarget||SD(d,x.target))},T=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),S0(h)&&(h.addEventListener("focus",m=>HU(m,a)),!BU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function pE(n){return I2(n)&&"ownerSVGElement"in n}const cm=new WeakMap;let um;const bD=(n,e,t)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:pE(i)&&"getBBox"in i?i.getBBox()[e]:i[t],KU=bD("inline","width","offsetWidth"),QU=bD("block","height","offsetHeight");function $U({target:n,borderBoxSize:e}){cm.get(n)?.forEach(t=>{t(n,{get width(){return KU(n,e)},get height(){return QU(n,e)}})})}function YU(n){n.forEach($U)}function WU(){typeof ResizeObserver>"u"||(um=new ResizeObserver(YU))}function XU(n,e){um||WU();const t=vD(n);return t.forEach(i=>{let a=cm.get(i);a||(a=new Set,cm.set(i,a)),a.add(e),um?.observe(i)}),()=>{t.forEach(i=>{const a=cm.get(i);a?.delete(e),a?.size||um?.unobserve(i)})}}const hm=new Set;let Ml;function JU(){Ml=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};hm.forEach(e=>e(n))},window.addEventListener("resize",Ml)}function ZU(n){return hm.add(n),Ml||JU(),()=>{hm.delete(n),!hm.size&&typeof Ml=="function"&&(window.removeEventListener("resize",Ml),Ml=void 0)}}function RA(n,e){return typeof n=="function"?ZU(n):XU(n,e)}function e9(n){return pE(n)&&n.tagName==="svg"}const t9=[...pD,Gt,la],n9=n=>t9.find(mD(n)),IA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:IA(),y:IA()}),CA=()=>({min:0,max:0}),Xt=()=>({x:CA(),y:CA()}),i9=new WeakMap;function Op(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wh(n){return typeof n=="string"||Array.isArray(n)}const gE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yE=["initial",...gE];function Pp(n){return Op(n.animate)||yE.some(e=>wh(n[e]))}function xD(n){return!!(Pp(n)||n.variants)}function r9(n,e,t){for(const i in e){const a=e[i],o=t[i];if(Tn(a))n.addValue(i,a);else if(Tn(o))n.addValue(i,sc(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,sc(c!==void 0?c:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const b0={current:null},AD={current:!1},s9=typeof window<"u";function a9(){if(AD.current=!0,!!s9)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>b0.current=n.matches;n.addEventListener("change",e),e()}else b0.current=!1}const DA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ym={};function wD(n){Ym=n}function o9(){return Ym}class l9{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,skipAnimations:o,blockInitialAnimation:c,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=oE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Rn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=Pp(t),this.isVariantNode=xD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in T){const C=T[x];m[x]!==void 0&&Tn(C)&&C.set(m[x])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,i9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(AD.current||a9(),this.shouldReduceMotion=b0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&kU.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:d,ease:m,duration:y}=t.accelerate,_=new sD({element:this.current,name:e,keyframes:h,times:d,ease:m,duration:ki(y)}),T=c(_);this.valueSubscriptions.set(e,()=>{T(),_.cancel()});return}const i=_c.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ym){const t=Ym[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<DA.length;i++){const a=DA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=r9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=sc(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(R2(i)||C2(i))?i=parseFloat(i):!n9(i)&&la.test(t)&&(i=yD(e,t)),this.setBaseTarget(e,Tn(i)?i.get():i)),Tn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=uE(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new W_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){fE.render(this.render)}}class RD extends l9{constructor(){super(...arguments),this.KeyframeResolver=NU}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class ma{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ID({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function c9({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function u9(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function hv(n){return n===void 0||n===1}function x0({scale:n,scaleX:e,scaleY:t}){return!hv(n)||!hv(e)||!hv(t)}function Wa(n){return x0(n)||CD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function CD(n){return VA(n.x)||VA(n.y)}function VA(n){return n&&n!=="0%"}function Wm(n,e,t){const i=n-t,a=e*i;return t+a}function OA(n,e,t,i,a){return a!==void 0&&(n=Wm(n,a,i)),Wm(n,t,i)+e}function A0(n,e=0,t=1,i,a){n.min=OA(n.min,e,t,i,a),n.max=OA(n.max,e,t,i,a)}function DD(n,{x:e,y:t}){A0(n.x,e.translate,e.scale,e.originPoint),A0(n.y,t.translate,t.scale,t.originPoint)}const PA=.999999999999,MA=1.0000000000001;function h9(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,c;for(let h=0;h<a;h++){o=t[h],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&jl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,DD(n,c)),i&&Wa(o.latestValues)&&jl(n,o.latestValues))}e.x<MA&&e.x>PA&&(e.x=1),e.y<MA&&e.y>PA&&(e.y=1)}function kl(n,e){n.min=n.min+e,n.max=n.max+e}function NA(n,e,t,i,a=.5){const o=xt(n.min,n.max,a);A0(n,e,t,o,i)}function jl(n,e){NA(n.x,e.x,e.scaleX,e.scale,e.originX),NA(n.y,e.y,e.scaleY,e.scale,e.originY)}function VD(n,e){return ID(u9(n.getBoundingClientRect(),e))}function d9(n,e,t){const i=VD(n,t),{scroll:a}=e;return a&&(kl(i.x,a.offset.x),kl(i.y,a.offset.y)),i}const f9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m9=vc.length;function p9(n,e,t){let i="",a=!0;for(let o=0;o<m9;o++){const c=vc[o],h=n[c];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(c.startsWith("scale")?1:0);else{const m=parseFloat(h);d=c.startsWith("scale")?m===1:m===0}if(!d||t){const m=_D(h,dE[c]);if(!d){a=!1;const y=f9[c]||c;i+=`${y}(${m}) `}t&&(e[c]=m)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function vE(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let c=!1,h=!1;for(const d in e){const m=e[d];if(_c.has(d)){c=!0;continue}else if(q2(d)){a[d]=m;continue}else{const y=_D(m,dE[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(c||t?i.transform=p9(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}function OD(n,{style:e,vars:t},i,a){const o=n.style;let c;for(c in e)o[c]=e[c];a?.applyProjectionStyles(o,i);for(c in t)o.setProperty(c,t[c])}function kA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Mu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ge.test(n))n=parseFloat(n);else return n;const t=kA(n,e.target.x),i=kA(n,e.target.y);return`${t}% ${i}%`}},g9={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=la.parse(n);if(a.length>5)return i;const o=la.createTransformer(n),c=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=xt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}},w0={borderRadius:{...Mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:g9};function PD(n,{layout:e,layoutId:t}){return _c.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!w0[n]||n==="opacity")}function _E(n,e,t){const i=n.style,a=e?.style,o={};if(!i)return o;for(const c in i)(Tn(i[c])||a&&Tn(a[c])||PD(c,n)||t?.getValue(c)?.liveStyle!==void 0)&&(o[c]=i[c]);return o}function y9(n){return window.getComputedStyle(n)}class v9 extends RD{constructor(){super(...arguments),this.type="html",this.renderInstance=OD}readValueFromInstance(e,t){if(_c.has(t))return this.projection?.isProjecting?d0(t):jz(e,t);{const i=y9(e),a=(q2(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return VD(e,t)}build(e,t,i){vE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return _E(e,t,i)}}const _9={offset:"stroke-dashoffset",array:"stroke-dasharray"},E9={offset:"strokeDashoffset",array:"strokeDasharray"};function T9(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?_9:E9;n[o.offset]=`${-i}`,n[o.array]=`${e} ${t}`}const S9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function MD(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...h},d,m,y){if(vE(n,h,m),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T}=n;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const x of S9)_[x]!==void 0&&(T[x]=_[x],delete _[x]);e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),a!==void 0&&T9(_,a,o,c,!1)}const ND=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),kD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function b9(n,e,t,i){OD(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(ND.has(a)?a:hE(a),e.attrs[a])}function jD(n,e,t){const i=_E(n,e,t);for(const a in n)if(Tn(n[a])||Tn(e[a])){const o=vc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}class x9 extends RD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_c.has(t)){const i=gD(t);return i&&i.default||0}return t=ND.has(t)?t:hE(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return jD(e,t,i)}build(e,t,i){MD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){b9(e,t,i,a)}mount(e){this.isSVGTag=kD(e.tagName),super.mount(e)}}const A9=yE.length;function LD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?LD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<A9;t++){const i=yE[t],a=n.props[i];(wh(a)||a===!1)&&(e[i]=a)}return e}function zD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const w9=[...gE].reverse(),R9=gE.length;function I9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>AU(n,t,i)))}function C9(n){let e=I9(n),t=jA(),i=!0;const a=d=>(m,y)=>{const _=Hl(n,y,d==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:x,...C}=_;m={...m,...C,...x}}return m};function o(d){e=d(n)}function c(d){const{props:m}=n,y=LD(n.parent)||{},_=[],T=new Set;let x={},C=1/0;for(let N=0;N<R9;N++){const B=w9[N],j=t[B],U=m[B]!==void 0?m[B]:y[B],J=wh(U),H=B===d?j.isActive:null;H===!1&&(C=N);let $=U===y[B]&&U!==m[B]&&J;if($&&i&&n.manuallyAnimateOnMount&&($=!1),j.protectedKeys={...x},!j.isActive&&H===null||!U&&!j.prevProp||Op(U)||typeof U=="boolean")continue;if(B==="exit"&&j.isActive&&H!==!0){j.prevResolvedValues&&(x={...x,...j.prevResolvedValues});continue}const I=D9(j.prevProp,U);let w=I||B===d&&j.isActive&&!$&&J||N>C&&J,D=!1;const z=Array.isArray(U)?U:[U];let k=z.reduce(a(B),{});H===!1&&(k={});const{prevResolvedValues:q={}}=j,V={...q,...k},Ae=oe=>{w=!0,T.has(oe)&&(D=!0,T.delete(oe)),j.needsAnimating[oe]=!0;const me=n.getValue(oe);me&&(me.liveStyle=!1)};for(const oe in V){const me=k[oe],Ie=q[oe];if(x.hasOwnProperty(oe))continue;let Ne=!1;v0(me)&&v0(Ie)?Ne=!zD(me,Ie):Ne=me!==Ie,Ne?me!=null?Ae(oe):T.add(oe):me!==void 0&&T.has(oe)?Ae(oe):j.protectedKeys[oe]=!0}j.prevProp=U,j.prevResolvedValues=k,j.isActive&&(x={...x,...k}),i&&n.blockInitialAnimation&&(w=!1);const Ee=$&&I;w&&(!Ee||D)&&_.push(...z.map(oe=>{const me={type:B};if(typeof oe=="string"&&i&&!Ee&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ie}=n,Ne=Hl(Ie,oe);if(Ie.enteringChildren&&Ne){const{delayChildren:O}=Ne.transition||{};me.delay=oD(Ie.enteringChildren,n,O)}}return{animation:oe,options:me}}))}if(T.size){const N={};if(typeof m.initial!="boolean"){const B=Hl(n,Array.isArray(m.initial)?m.initial[0]:m.initial);B&&B.transition&&(N.transition=B.transition)}T.forEach(B=>{const j=n.getBaseTarget(B),U=n.getValue(B);U&&(U.liveStyle=!0),N[B]=j??null}),_.push({animation:N})}let M=!!_.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(_):Promise.resolve()}function h(d,m){if(t[d].isActive===m)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(d,m)),t[d].isActive=m;const y=c(d);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=jA()}}}function D9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!zD(e,n):!1}function Ka(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jA(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}function LA(n,e){n.min=e.min,n.max=e.max}function Vi(n,e){LA(n.x,e.x),LA(n.y,e.y)}function zA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const UD=1e-4,V9=1-UD,O9=1+UD,BD=.01,P9=0-BD,M9=0+BD;function In(n){return n.max-n.min}function N9(n,e,t){return Math.abs(n-e)<=t}function UA(n,e,t,i=.5){n.origin=i,n.originPoint=xt(e.min,e.max,n.origin),n.scale=In(t)/In(e),n.translate=xt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=V9&&n.scale<=O9||isNaN(n.scale))&&(n.scale=1),(n.translate>=P9&&n.translate<=M9||isNaN(n.translate))&&(n.translate=0)}function nh(n,e,t,i){UA(n.x,e.x,t.x,i?i.originX:void 0),UA(n.y,e.y,t.y,i?i.originY:void 0)}function BA(n,e,t){n.min=t.min+e.min,n.max=n.min+In(e)}function k9(n,e,t){BA(n.x,e.x,t.x),BA(n.y,e.y,t.y)}function FA(n,e,t){n.min=e.min-t.min,n.max=n.min+In(e)}function Xm(n,e,t){FA(n.x,e.x,t.x),FA(n.y,e.y,t.y)}function qA(n,e,t,i,a){return n-=e,n=Wm(n,1/t,i),a!==void 0&&(n=Wm(n,1/a,i)),n}function j9(n,e=0,t=1,i=.5,a,o=n,c=n){if(yr.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=xt(o.min,o.max,i);n===o&&(h-=e),n.min=qA(n.min,e,t,h,a),n.max=qA(n.max,e,t,h,a)}function HA(n,e,[t,i,a],o,c){j9(n,e[t],e[i],e[a],e.scale,o,c)}const L9=["x","scaleX","originX"],z9=["y","scaleY","originY"];function GA(n,e,t,i){HA(n.x,e,L9,t?t.x:void 0,i?i.x:void 0),HA(n.y,e,z9,t?t.y:void 0,i?i.y:void 0)}function KA(n){return n.translate===0&&n.scale===1}function FD(n){return KA(n.x)&&KA(n.y)}function QA(n,e){return n.min===e.min&&n.max===e.max}function U9(n,e){return QA(n.x,e.x)&&QA(n.y,e.y)}function $A(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function qD(n,e){return $A(n.x,e.x)&&$A(n.y,e.y)}function YA(n){return In(n.x)/In(n.y)}function WA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function cr(n){return[n("x"),n("y")]}function B9(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,c=t?.z||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:T,skewX:x,skewY:C}=t;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),x&&(i+=`skewX(${x}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const HD=["TopLeft","TopRight","BottomLeft","BottomRight"],F9=HD.length,XA=n=>typeof n=="string"?parseFloat(n):n,JA=n=>typeof n=="number"||ge.test(n);function q9(n,e,t,i,a,o){a?(n.opacity=xt(0,t.opacity??1,H9(i)),n.opacityExit=xt(e.opacity??1,0,G9(i))):o&&(n.opacity=xt(e.opacity??1,t.opacity??1,i));for(let c=0;c<F9;c++){const h=`border${HD[c]}Radius`;let d=ZA(e,h),m=ZA(t,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||JA(d)===JA(m)?(n[h]=Math.max(xt(XA(d),XA(m),i),0),(yr.test(m)||yr.test(d))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=xt(e.rotate||0,t.rotate||0,i))}function ZA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const H9=GD(0,.5,j2),G9=GD(.5,.95,yi);function GD(n,e,t){return i=>i<n?0:i>e?1:t(bh(n,e,i))}function K9(n,e,t){const i=Tn(n)?n:sc(n);return i.start(cE("",i,e,t)),i.animation}function Rh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const Q9=(n,e)=>n.depth-e.depth;class $9{constructor(){this.children=[],this.isDirty=!1}add(e){Q_(this.children,e),this.isDirty=!0}remove(e){Gm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q9),this.isDirty=!1,this.children.forEach(e)}}function Y9(n,e){const t=Rn.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(oa(i),n(o-e))};return mt.setup(i,!0),()=>oa(i)}function dm(n){return Tn(n)?n.get():n}class W9{constructor(){this.members=[]}add(e){Q_(this.members,e);for(let t=this.members.length-1;t>=0;t--){const i=this.members[t];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Gm(this.members,i)}e.scheduleRender()}remove(e){if(Gm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a],c=o.instance;if(o.isPresent!==!1&&(!c||c.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,o=e.options.layoutDependency;if(!(a!==void 0&&o!==void 0&&a===o)){const d=i.instance;d&&d.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const fm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},dv=["","X","Y","Z"],X9=1e3;let J9=0;function fv(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function KD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=dD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",mt,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&KD(i)}function QD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=J9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tB),this.nodes.forEach(sB),this.nodes.forEach(aB),this.nodes.forEach(nB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new $9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new W_),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=pE(c)&&!e9(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{_=window.innerWidth}),n(c,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,y&&y(),y=Y9(T,250),fm.hasAnimatedSinceResize&&(fm.hasAnimatedSinceResize=!1,this.nodes.forEach(nw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||hB,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=m.getProps(),B=!this.targetLayout||!qD(this.targetLayout,x),j=!_&&T;if(this.options.layoutRoot||this.resumeFrom||j||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...lE(C,"layout"),onPlay:M,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(y,j)}else _||nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oB),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ew);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rB),this.nodes.forEach(Z9),this.nodes.forEach(eB)):this.nodes.forEach(tw),this.clearAllSnapshots();const h=Rn.now();mn.delta=Er(0,1e3/60,h-mn.timestamp),mn.timestamp=h,mn.isProcessing=!0,rv.update.process(mn),rv.preRender.process(mn),rv.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iB),this.sharedNodes.forEach(lB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FD(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Wa(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),dB(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Xt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fB))){const{scroll:m}=this.root;m&&(kl(h.x,m.offset.x),kl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Xt();if(Vi(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Vi(h,c),kl(h.x,y.offset.x),kl(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const d=Xt();Vi(d,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&jl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Wa(y.latestValues)&&jl(d,y.latestValues)}return Wa(this.latestValues)&&jl(d,this.latestValues),d}removeTransform(c){const h=Xt();Vi(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Wa(m.latestValues))continue;x0(m.latestValues)&&m.updateSnapshot();const y=Xt(),_=m.measurePageBox();Vi(y,_),GA(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Wa(this.latestValues)&&GA(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=mn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),DD(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||x0(this.parent.latestValues)||CD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Xm(this.relativeTargetOrigin,h,d),Vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Vi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;h9(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Xt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zA(this.prevProjectionDelta.x,this.projectionDelta.x),zA(this.prevProjectionDelta.y,this.projectionDelta.y)),nh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!WA(this.projectionDelta.x,this.prevProjectionDelta.x)||!WA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},_=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Xt(),x=d?d.source:void 0,C=this.layout?this.layout.source:void 0,M=x!==C,N=this.getStack(),B=!N||N.members.length<=1,j=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some(uB));this.animationProgress=0;let U;this.mixTargetDelta=J=>{const H=J/1e3;iw(_.x,c.x,H),iw(_.y,c.y,H),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xm(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cB(this.relativeTarget,this.relativeTargetOrigin,T,H),U&&U9(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Xt()),Vi(U,this.relativeTarget)),M&&(this.animationValues=y,q9(y,m,this.latestValues,H,j,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{fm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sc(0)),this.currentAnimation=K9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&$D(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Xt();const _=In(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+_;const T=In(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+T}Vi(h,d),jl(h,y),nh(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new W9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&fv("z",c,m,this.animationValues);for(let y=0;y<dv.length;y++)fv(`rotate${dv[y]}`,c,m,this.animationValues),fv(`skew${dv[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=dm(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=dm(h?.pointerEvents)||""),this.hasProjected&&!Wa(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=B9(this.projectionDeltaWithTransform,this.treeScale,y);d&&(_=d(y,_)),c.transform=_;const{x:T,y:x}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in w0){if(y[C]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:B}=w0[C],j=_==="none"?y[C]:M(y[C],m);if(N){const U=N.length;for(let J=0;J<U;J++)c[N[J]]=j}else B?this.options.visualElement.renderState.vars[C]=j:c[C]=j}this.options.layoutId&&(c.pointerEvents=m===this?dm(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(ew),this.root.sharedNodes.clear()}}}function Z9(n){n.updateLayout()}function eB(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?cr(y=>{const _=o?e.measuredBox[y]:e.layoutBox[y],T=In(_);_.min=t[y].min,_.max=_.min+T}):$D(a,e.layoutBox,t)&&cr(y=>{const _=o?e.measuredBox[y]:e.layoutBox[y],T=In(t[y]);_.max=_.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+T)});const c=Nl();nh(c,t,e.layoutBox);const h=Nl();o?nh(h,n.applyTransform(i,!0),e.measuredBox):nh(h,t,e.layoutBox);const d=!FD(c);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const x=Xt();Xm(x,e.layoutBox,_.layoutBox);const C=Xt();Xm(C,t,T.layoutBox),qD(x,C)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function tB(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function nB(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function iB(n){n.clearSnapshot()}function ew(n){n.clearMeasurements()}function tw(n){n.isLayoutDirty=!1}function rB(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function nw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sB(n){n.resolveTargetDelta()}function aB(n){n.calcProjection()}function oB(n){n.resetSkewAndRotation()}function lB(n){n.removeLeadSnapshot()}function iw(n,e,t){n.translate=xt(e.translate,0,t),n.scale=xt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function rw(n,e,t,i){n.min=xt(e.min,t.min,i),n.max=xt(e.max,t.max,i)}function cB(n,e,t,i){rw(n.x,e.x,t.x,i),rw(n.y,e.y,t.y,i)}function uB(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hB={duration:.45,ease:[.4,0,.1,1]},sw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),aw=sw("applewebkit/")&&!sw("chrome/")?Math.round:yi;function ow(n){n.min=aw(n.min),n.max=aw(n.max)}function dB(n){ow(n.x),ow(n.y)}function $D(n,e,t){return n==="position"||n==="preserve-aspect"&&!N9(YA(e),YA(t),.2)}function fB(n){return n!==n.root&&n.scroll?.wasRoot}const mB=QD({attachResizeListener:(n,e)=>Rh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),mv={current:void 0},YD=QD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!mv.current){const n=new mB({});n.mount(window),n.setOptions({layoutScroll:!0}),mv.current=n}return mv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),EE=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function lw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function pB(...n){return e=>{let t=!1;const i=n.map(a=>{const o=lw(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():lw(n[a],null)}}}}function gB(...n){return P.useCallback(pB(...n),n)}class yB extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=t.offsetParent,a=S0(i)&&i.offsetWidth||0,o=S0(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=t.offsetHeight||0,c.width=t.offsetWidth||0,c.top=t.offsetTop,c.left=t.offsetLeft,c.right=a-c.width-c.left,c.bottom=o-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function vB({children:n,isPresent:e,anchorX:t,anchorY:i,root:a,pop:o}){const c=P.useId(),h=P.useRef(null),d=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=P.useContext(EE),y=n.props?.ref??n?.ref,_=gB(h,y);return P.useInsertionEffect(()=>{const{width:T,height:x,top:C,left:M,right:N,bottom:B}=d.current;if(e||o===!1||!h.current||!T||!x)return;const j=t==="left"?`left: ${M}`:`right: ${N}`,U=i==="bottom"?`bottom: ${B}`:`top: ${C}`;h.current.dataset.motionPopId=c;const J=document.createElement("style");m&&(J.nonce=m);const H=a??document.head;return H.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${x}px !important;
            ${j}px !important;
            ${U}px !important;
          }
        `),()=>{H.contains(J)&&H.removeChild(J)}},[e]),v.jsx(yB,{isPresent:e,childRef:h,sizeRef:d,pop:o,children:o===!1?n:P.cloneElement(n,{ref:_})})}const _B=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c,anchorX:h,anchorY:d,root:m})=>{const y=K_(EB),_=P.useId();let T=!0,x=P.useMemo(()=>(T=!1,{id:_,initial:e,isPresent:t,custom:a,onExitComplete:C=>{y.set(C,!0);for(const M of y.values())if(!M)return;i&&i()},register:C=>(y.set(C,!1),()=>y.delete(C))}),[t,y,i]);return o&&T&&(x={...x}),P.useMemo(()=>{y.forEach((C,M)=>y.set(M,!1))},[t]),P.useEffect(()=>{!t&&!y.size&&i&&i()},[t]),n=v.jsx(vB,{pop:c==="popLayout",isPresent:t,anchorX:h,anchorY:d,root:m,children:n}),v.jsx(Vp.Provider,{value:x,children:n})};function EB(){return new Map}function WD(n=!0){const e=P.useContext(Vp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=P.useId();P.useEffect(()=>{if(n)return a(o)},[n]);const c=P.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,c]:[!0]}const Bf=n=>n.key||"";function cw(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const Ec=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[y,_]=WD(c),T=P.useMemo(()=>cw(n),[n]),x=c&&!y?[]:T.map(Bf),C=P.useRef(!0),M=P.useRef(T),N=K_(()=>new Map),B=P.useRef(new Set),[j,U]=P.useState(T),[J,H]=P.useState(T);w2(()=>{C.current=!1,M.current=T;for(let w=0;w<J.length;w++){const D=Bf(J[w]);x.includes(D)?(N.delete(D),B.current.delete(D)):N.get(D)!==!0&&N.set(D,!1)}},[J,x.length,x.join("-")]);const $=[];if(T!==j){let w=[...T];for(let D=0;D<J.length;D++){const z=J[D],k=Bf(z);x.includes(k)||(w.splice(D,0,z),$.push(z))}return o==="wait"&&$.length&&(w=$),H(cw(w)),U(T),null}const{forceRender:I}=P.useContext(G_);return v.jsx(v.Fragment,{children:J.map(w=>{const D=Bf(w),z=c&&!y?!1:T===J||x.includes(D),k=()=>{if(B.current.has(D))return;if(B.current.add(D),N.has(D))N.set(D,!0);else return;let q=!0;N.forEach(V=>{V||(q=!1)}),q&&(I?.(),H(M.current),c&&_?.(),i&&i())};return v.jsx(_B,{isPresent:z,initial:!C.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:m,onExitComplete:z?void 0:k,anchorX:h,anchorY:d,children:w},D)})})},XD=P.createContext({strict:!1}),uw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hw=!1;function TB(){if(hw)return;const n={};for(const e in uw)n[e]={isEnabled:t=>uw[e].some(i=>!!t[i])};wD(n),hw=!0}function JD(){return TB(),o9()}function SB(n){const e=JD();for(const t in n)e[t]={...e[t],...n[t]};wD(e)}const bB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Jm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bB.has(n)}let ZD=n=>!Jm(n);function xB(n){typeof n=="function"&&(ZD=e=>e.startsWith("on")?!Jm(e):n(e))}try{xB(require("@emotion/is-prop-valid").default)}catch{}function AB(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(ZD(a)||t===!0&&Jm(a)||!e&&!Jm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Mp=P.createContext({});function wB(n,e){if(Pp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||wh(t)?t:void 0,animate:wh(i)?i:void 0}}return n.inherit!==!1?e:{}}function RB(n){const{initial:e,animate:t}=wB(n,P.useContext(Mp));return P.useMemo(()=>({initial:e,animate:t}),[dw(e),dw(t)])}function dw(n){return Array.isArray(n)?n.join(" "):n}const TE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eV(n,e,t){for(const i in e)!Tn(e[i])&&!PD(i,t)&&(n[i]=e[i])}function IB({transformTemplate:n},e){return P.useMemo(()=>{const t=TE();return vE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function CB(n,e){const t=n.style||{},i={};return eV(i,t,n),Object.assign(i,IB(n,e)),i}function DB(n,e){const t={},i=CB(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const tV=()=>({...TE(),attrs:{}});function VB(n,e,t,i){const a=P.useMemo(()=>{const o=tV();return MD(o,e,kD(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};eV(o,n.style,n),a.style={...o,...a.style}}return a}const OB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SE(n){return typeof n!="string"||n.includes("-")?!1:!!(OB.indexOf(n)>-1||/[A-Z]/u.test(n))}function PB(n,e,t,{latestValues:i},a,o=!1,c){const d=(c??SE(n)?VB:DB)(e,i,a,n),m=AB(e,typeof n=="string",o),y=n!==P.Fragment?{...m,...d,ref:t}:{},{children:_}=e,T=P.useMemo(()=>Tn(_)?_.get():_,[_]);return P.createElement(n,{...y,children:T})}function MB({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:NB(t,i,a,n),renderState:e()}}function NB(n,e,t,i){const a={},o=i(n,{});for(const T in o)a[T]=dm(o[T]);let{initial:c,animate:h}=n;const d=Pp(n),m=xD(n);e&&m&&!d&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||c===!1;const _=y?h:c;if(_&&typeof _!="boolean"&&!Op(_)){const T=Array.isArray(_)?_:[_];for(let x=0;x<T.length;x++){const C=uE(n,T[x]);if(C){const{transitionEnd:M,transition:N,...B}=C;for(const j in B){let U=B[j];if(Array.isArray(U)){const J=y?U.length-1:0;U=U[J]}U!==null&&(a[j]=U)}for(const j in M)a[j]=M[j]}}}return a}const nV=n=>(e,t)=>{const i=P.useContext(Mp),a=P.useContext(Vp),o=()=>MB(n,e,i,a);return t?o():K_(o)},kB=nV({scrapeMotionValuesFromProps:_E,createRenderState:TE}),jB=nV({scrapeMotionValuesFromProps:jD,createRenderState:tV}),LB=Symbol.for("motionComponentSymbol");function zB(n,e,t){const i=P.useRef(t);P.useInsertionEffect(()=>{i.current=t});const a=P.useRef(null);return P.useCallback(o=>{o&&n.onMount?.(o),e&&(o?e.mount(o):e.unmount());const c=i.current;if(typeof c=="function")if(o){const h=c(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(o);else c&&(c.current=o)},[e])}const iV=P.createContext({});function Vl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UB(n,e,t,i,a,o){const{visualElement:c}=P.useContext(Mp),h=P.useContext(XD),d=P.useContext(Vp),m=P.useContext(EE),y=m.reducedMotion,_=m.skipAnimations,T=P.useRef(null),x=P.useRef(!1);i=i||h.renderer,!T.current&&i&&(T.current=i(n,{visualState:e,parent:c,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:o}),x.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const C=T.current,M=P.useContext(iV);C&&!C.projection&&a&&(C.type==="html"||C.type==="svg")&&BB(T.current,t,a,M);const N=P.useRef(!1);P.useInsertionEffect(()=>{C&&N.current&&C.update(t,d)});const B=t[hD],j=P.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return w2(()=>{x.current=!0,C&&(N.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),j.current&&C.animationState&&C.animationState.animateChanges())}),P.useEffect(()=>{C&&(!j.current&&C.animationState&&C.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),j.current=!1),C.enteringChildren=void 0)}),C}function BB(n,e,t,i){const{layoutId:a,layout:o,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:rV(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||h&&Vl(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function rV(n){if(n)return n.options.allowProjection!==!1?n.projection:rV(n.parent)}function pv(n,{forwardMotionProps:e=!1,type:t}={},i,a){i&&SB(i);const o=t?t==="svg":SE(n),c=o?jB:kB;function h(m,y){let _;const T={...P.useContext(EE),...m,layoutId:FB(m)},{isStatic:x}=T,C=RB(m),M=c(m,x);if(!x&&A2){qB();const N=HB(T);_=N.MeasureLayout,C.visualElement=UB(n,M,T,a,N.ProjectionNode,o)}return v.jsxs(Mp.Provider,{value:C,children:[_&&C.visualElement?v.jsx(_,{visualElement:C.visualElement,...T}):null,PB(n,m,zB(M,C.visualElement,y),M,x,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=P.forwardRef(h);return d[LB]=n,d}function FB({layoutId:n}){const e=P.useContext(G_).id;return e&&n!==void 0?e+"-"+n:n}function qB(n,e){P.useContext(XD).strict}function HB(n){const e=JD(),{drag:t,layout:i}=e;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function GB(n,e){if(typeof Proxy>"u")return pv;const t=new Map,i=(o,c)=>pv(o,c,n,e),a=(o,c)=>i(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?i:(t.has(c)||t.set(c,pv(c,void 0,n,e)),t.get(c))})}const KB=(n,e)=>e.isSVG??SE(n)?new x9(e):new v9(e,{allowProjection:n!==P.Fragment});class QB extends ma{constructor(e){super(e),e.animationState||(e.animationState=C9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $B=0;class YB extends ma{constructor(){super(...arguments),this.id=$B++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WB={animation:{Feature:QB},exit:{Feature:YB}};function Jh(n){return{point:{x:n.pageX,y:n.pageY}}}const XB=n=>e=>mE(e)&&n(e,Jh(e));function ih(n,e,t,i){return Rh(n,e,XB(t),i)}const sV=({current:n})=>n?n.ownerDocument.defaultView:null,fw=(n,e)=>Math.abs(n-e);function JB(n,e){const t=fw(n.x,e.x),i=fw(n.y,e.y);return Math.sqrt(t**2+i**2)}const mw=new Set(["auto","scroll"]);class aV{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yv(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,M=JB(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!M)return;const{point:N}=x,{timestamp:B}=mn;this.history.push({...N,timestamp:B});const{onStart:j,onMove:U}=this.handlers;C||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=gv(C,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:M,onSessionEnd:N,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=yv(x.type==="pointercancel"?this.lastMoveEventInfo:gv(C,this.transformPagePoint),this.history);this.startEvent&&M&&M(x,j),N&&N(x,j)},!mE(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Jh(e),m=gv(d,this.transformPagePoint),{point:y}=m,{timestamp:_}=mn;this.history=[{...y,timestamp:_}];const{onSessionStart:T}=t;T&&T(e,yv(m,this.history)),this.removeListeners=Yh(ih(this.contextWindow,"pointermove",this.handlePointerMove),ih(this.contextWindow,"pointerup",this.handlePointerUp),ih(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(mw.has(i.overflowX)||mw.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),mt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),oa(this.updatePoint)}}function gv(n,e){return e?{point:e(n.point)}:n}function pw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function yv({point:n},e){return{point:n,delta:pw(n,oV(e)),offset:pw(n,ZB(e)),velocity:e8(e,.1)}}function ZB(n){return n[0]}function oV(n){return n[n.length-1]}function e8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=oV(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>ki(e)));)t--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>ki(e)*2&&(i=n[1]);const o=pi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function t8(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?xt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?xt(t,n,i.max):Math.min(n,t)),n}function gw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function n8(n,{top:e,left:t,bottom:i,right:a}){return{x:gw(n.x,t,a),y:gw(n.y,e,i)}}function yw(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function i8(n,e){return{x:yw(n.x,e.x),y:yw(n.y,e.y)}}function r8(n,e){let t=.5;const i=In(n),a=In(e);return a>i?t=bh(e.min,e.max-i,n.min):i>a&&(t=bh(n.min,n.max-a,e.min)),Er(0,1,t)}function s8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const R0=.35;function a8(n=R0){return n===!1?n=0:n===!0&&(n=R0),{x:vw(n,"left","right"),y:vw(n,"top","bottom")}}function vw(n,e,t){return{min:_w(n,e),max:_w(n,t)}}function _w(n,e){return typeof n=="number"?n:n[e]||0}const o8=new WeakMap;class l8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=_=>{t&&this.snapToCursor(Jh(_).point),this.stopAnimation()},c=(_,T)=>{const{drag:x,dragPropagation:C,onDragStart:M}=this.getProps();if(x&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jU(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(B=>{let j=this.getAxisMotionValue(B).get()||0;if(yr.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const J=U.layout.layoutBox[B];J&&(j=In(J)*(parseFloat(j)/100))}}this.originPoint[B]=j}),M&&mt.update(()=>M(_,T),!1,!0),_0(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:x,dragDirectionLock:C,onDirectionLock:M,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:B}=T;if(C&&this.currentDirection===null){this.currentDirection=u8(B),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),N&&mt.update(()=>N(_,T),!1,!0)},d=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new aV(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:sV(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&mt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Ff(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=t8(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Vl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=n8(i.layoutBox,e):this.constraints=!1,this.elastic=a8(t),a!==this.constraints&&!Vl(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&cr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=s8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=d9(i,a.root,this.visualElement.getTransformPagePoint());let c=i8(a.layout.layoutBox,o);if(t){const h=t(c9(c));this.hasMutatedConstraints=!!h,h&&(c=ID(h))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=cr(y=>{if(!Ff(y,t,this.currentDirection))return;let _=d&&d[y]||{};c&&(_={min:0,max:0});const T=a?200:1e6,x=a?40:1e7,C={type:"inertia",velocity:i?e[y]:0,bounceStiffness:T,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return _0(this.visualElement,e),i.start(cE(e,i,0,t,this.visualElement,!1))}stopAnimation(){cr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){cr(t=>{const{drag:i}=this.getProps();if(!Ff(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[t],d=o.get()||0;o.set(e[t]-xt(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Vl(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};cr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=r8({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),cr(c=>{if(!Ff(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(xt(d,m,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;o8.set(this.visualElement,this);const e=this.visualElement.current,t=ih(e,"pointerdown",m=>{const{drag:y,dragListener:_=!0}=this.getProps(),T=m.target,x=T!==e&&qU(T);y&&_&&!x&&this.start(m)});let i;const a=()=>{const{dragConstraints:m}=this.getProps();Vl(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),i||(i=c8(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),mt.read(a);const h=Rh(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(cr(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=m[_].translate,T.set(T.get()+m[_].translate))}),this.visualElement.render())}));return()=>{h(),t(),c(),d&&d(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=R0,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function Ew(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function c8(n,e,t){const i=RA(n,Ew(t)),a=RA(e,Ew(t));return()=>{i(),a()}}function Ff(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function u8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class h8 extends ma{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new l8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const vv=n=>(e,t)=>{n&&mt.update(()=>n(e,t),!1,!0)};class d8 extends ma{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new aV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:vv(e),onStart:vv(t),onMove:vv(i),onEnd:(o,c)=>{delete this.session,a&&mt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=ih(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _v=!1;class f8 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),_v&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),fm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,e.layoutDependency!==t&&c.setOptions({...c.options,layoutDependency:t}),_v=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||mt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;_v=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lV(n){const[e,t]=WD(),i=P.useContext(G_);return v.jsx(f8,{...n,layoutGroup:i,switchLayoutGroup:P.useContext(iV),isPresent:e,safeToRemove:t})}const m8={pan:{Feature:d8},drag:{Feature:h8,ProjectionNode:YD,MeasureLayout:lV}};function Tw(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&mt.postRender(()=>o(e,Jh(e)))}class p8 extends ma{mount(){const{current:e}=this.node;e&&(this.unmount=zU(e,(t,i)=>(Tw(this.node,i,"Start"),a=>Tw(this.node,a,"End"))))}unmount(){}}class g8 extends ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yh(Rh(this.node.current,"focus",()=>this.onFocus()),Rh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sw(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&mt.postRender(()=>o(e,Jh(e)))}class y8 extends ma{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:i}=this.node.props;this.unmount=GU(e,(a,o)=>(Sw(this.node,o,"Start"),(c,{success:h})=>Sw(this.node,c,h?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:i?.tap===!1})}unmount(){}}const I0=new WeakMap,Ev=new WeakMap,v8=n=>{const e=I0.get(n.target);e&&e(n)},_8=n=>{n.forEach(v8)};function E8({root:n,...e}){const t=n||document;Ev.has(t)||Ev.set(t,{});const i=Ev.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(_8,{root:n,...e})),i[a]}function T8(n,e,t){const i=E8(e);return I0.set(n,t),i.observe(n),()=>{I0.delete(n),i.unobserve(n)}}const S8={some:0,all:1};class b8 extends ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:S8[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=m?y:_;T&&T(d)};return T8(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(x8(e,t))&&this.startObserver()}unmount(){}}function x8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const A8={inView:{Feature:b8},tap:{Feature:y8},focus:{Feature:g8},hover:{Feature:p8}},w8={layout:{ProjectionNode:YD,MeasureLayout:lV}},R8={...WB,...A8,...m8,...w8},Be=GB(R8,KB);const cV=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();const I8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const C8=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());const bw=n=>{const e=C8(n);return e.charAt(0).toUpperCase()+e.slice(1)};var D8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V8=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const O8=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},d)=>P.createElement("svg",{ref:d,...D8,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:cV("lucide",a),...!o&&!V8(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>P.createElement(m,y)),...Array.isArray(o)?o:[o]]));const Me=(n,e)=>{const t=P.forwardRef(({className:i,...a},o)=>P.createElement(O8,{ref:o,iconNode:e,className:cV(`lucide-${I8(bw(n))}`,`lucide-${n}`,i),...a}));return t.displayName=bw(n),t};const P8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xw=Me("arrow-right",P8);const M8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mm=Me("award",M8);const N8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uV=Me("book-open",N8);const k8=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],j8=Me("brush",k8);const L8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],C0=Me("calendar",L8);const z8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Aw=Me("chart-column",z8);const U8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ao=Me("chevron-left",U8);const B8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zm=Me("circle-check-big",B8);const F8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],q8=Me("circle-user",F8);const H8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],G8=Me("circle-x",H8);const K8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hV=Me("clock",K8);const Q8=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ww=Me("crown",Q8);const $8=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Y8=Me("droplets",$8);const W8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],dV=Me("flame",W8);const X8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fV=Me("house",X8);const J8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Z8=Me("key",J8);const eF=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],tF=Me("list-checks",eF);const nF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iF=Me("lock",nF);const rF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mV=Me("log-out",rF);const sF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],aF=Me("map",sF);const oF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Rw=Me("mic",oF);const lF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cF=Me("plus",lF);const uF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pV=Me("rotate-ccw",uF);const hF=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],dF=Me("scroll",hF);const fF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mF=Me("search",fF);const pF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gF=Me("send",pF);const yF=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],vF=Me("settings-2",yF);const _F=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],EF=Me("share-2",_F);const TF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],bE=Me("shield-alert",TF);const SF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bF=Me("shield-check",SF);const xF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AF=Me("shield",xF);const wF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],RF=Me("target",wF);const IF=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],CF=Me("ticket",IF);const DF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VF=Me("trash-2",DF);const OF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],PF=Me("trending-up",OF);const MF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],NF=Me("triangle-alert",MF);const kF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gV=Me("trophy",kF);const jF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LF=Me("user-check",jF);const zF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D0=Me("user-plus",zF);const UF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yV=Me("user",UF);const BF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xE=Me("users",BF);const FF=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],qF=Me("utensils",FF);const HF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GF=Me("x",HF);const KF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Iw=Me("zap",KF);function QF(){const[n,e]=P.useState("WELCOME"),[t,i]=P.useState(!0),[a,o]=P.useState(""),[c,h]=P.useState(""),[d,m]=P.useState(""),[y,_]=P.useState(!1),{login:T,signup:x}=vi(),C=an(),M=B=>`${B.trim().toLowerCase().replace(/\s+/g,".")}@acamp.forja.com`,N=async B=>{if(B.preventDefault(),m(""),_(!0),a.length<3){m("Nome de Guerra muito curto."),_(!1);return}if(c.length<4){m("PIN deve ter 4 dgitos."),_(!1);return}const j=M(a),U=`${c}@acamp2026`;try{if(t){const H=(await x(j,U)).user.uid;await E2(H,{uid:H,nomeGuerra:a,pin:c,email:j,createdAt:new Date().toISOString()})}else await T(j,U);C("/home")}catch(J){console.error("Erro na autenticao:",J),J.code==="auth/email-already-in-use"?m('Este Nome de Guerra j est em combate. Use "J SOU ALISTADO"'):J.code==="auth/wrong-password"?m("PIN incorreto para este soldado."):m("Falha na comunicao com o QG. Tente novamente.")}finally{_(!1)}};return v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",overflow:"hidden"},children:[v.jsxs(Be.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{textAlign:"center",marginBottom:"2.5rem"},children:[v.jsx("img",{src:"/ACAMP2026-ANTIGRAVITY/logo.png",alt:"Logo A Forja",style:{width:"160px",height:"auto",marginBottom:"1rem",filter:"drop-shadow(0 0 20px rgba(211, 84, 0, 0.3))"}}),v.jsx("h1",{style:{fontSize:"3rem",margin:0,color:"var(--color-gold)"},children:"A FORJA"}),v.jsx("p",{style:{color:"var(--color-fire)",fontWeight:"bold",letterSpacing:"2px",fontSize:"0.8rem"},children:"ACAMPAMENTO 2026"})]}),v.jsxs(Ec,{mode:"wait",children:[n==="WELCOME"&&v.jsx(Be.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:v.jsxs(ke,{style:{textAlign:"center"},children:[v.jsx("h2",{style:{fontSize:"1.8rem",color:"var(--color-gold)",marginBottom:"1.5rem"},children:"BEM-VINDO, GUERREIRO"}),v.jsx("p",{style:{color:"var(--text-dim)",marginBottom:"2rem",fontSize:"0.9rem"},children:"O alistamento para a Forja 2026 est aberto."}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx(Pe,{onClick:()=>{m(""),e("AUTH"),i(!0)},fullWidth:!0,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(D0,{size:20})," ALISTAR-SE AGORA"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>{m(""),e("AUTH"),i(!1)},fullWidth:!0,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(Z8,{size:20})," J SOU ALISTADO"]})})]})]})},"welcome"),n==="AUTH"&&v.jsx(Be.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},exit:{x:-50,opacity:0},style:{width:"100%",maxWidth:"340px"},children:v.jsx(ke,{children:v.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("h3",{style:{margin:0,color:"var(--color-gold)"},children:t?"NOVO ALISTAMENTO":"RETORNO AO FRONT"}),v.jsx("p",{style:{fontSize:"0.8rem",opacity:.7},children:t?"Defina sua identidade militar":"Identifique-se para entrar."})]}),d&&v.jsx("div",{style:{color:"#ff6b6b",background:"rgba(255,0,0,0.1)",padding:"0.5rem",border:"1px solid #ff6b6b",borderRadius:"4px",fontSize:"0.8rem",textAlign:"center"},children:d}),v.jsx(s0,{label:"NOME DE GUERRA (SEM ESPAOS)",placeholder:"EX: GIDEO",value:a,onChange:B=>o(B.target.value.toUpperCase()),required:!0}),v.jsx(s0,{label:"CDIGO (PIN DE 4 DGITOS)",type:"tel",placeholder:"****",value:c,onChange:B=>h(B.target.value.replace(/\D/g,"").slice(0,4)),required:!0}),v.jsxs("div",{style:{marginTop:"0.5rem"},children:[v.jsx(Pe,{type:"submit",disabled:y,fullWidth:!0,children:y?"PROCESSANDO...":t?"ENVIAR ALISTAMENTO":"ENTRAR"}),v.jsx(Pe,{variant:"secondary",onClick:()=>{m(""),e("WELCOME")},fullWidth:!0,style:{marginTop:"0.5rem"},children:"VOLTAR"})]}),t&&v.jsx("p",{style:{fontSize:"0.7rem",opacity:.5,textAlign:"center",marginTop:"10px"},children:"* Seu alistamento passar por aprovao do comando."})]})})},"auth")]}),v.jsx("div",{style:{marginTop:"3rem",opacity:.3,fontSize:"0.6rem",letterSpacing:"2px",textAlign:"center"},children:"FILADLFIA  DIVISO DE OPERAES 2026"})]})}function $F(){const{logout:n,currentUser:e}=vi(),t=an(),i=async()=>{await n(),t("/")};return v.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",background:"var(--bg-main)",textAlign:"center"},children:v.jsx(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{width:"100%",maxWidth:"400px"},children:v.jsx(ke,{children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",padding:"1rem 0"},children:[v.jsx(bE,{size:64,color:"var(--color-fire)"}),v.jsxs("div",{children:[v.jsx("h2",{style:{color:"var(--color-gold)",margin:"0 0 0.5rem 0"},children:"ALISTAMENTO REALIZADO"}),v.jsxs("p",{style:{color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"bold"},children:["SOLDADO: ",e?.profile?.nomeGuerra||"RECRUTA"]})]}),v.jsxs("div",{style:{background:"rgba(255, 165, 0, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[v.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"var(--text-dim)"},children:"Seus dados foram enviados ao Comando. Aguarde a aprovao oficial para acessar o sistema."}),v.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"var(--text-dim)",fontStyle:"italic"},children:['"Nenhum soldado em servio se envolve em negcios desta vida, porque o seu objetivo  satisfazer aquele que o arregimentou."',v.jsx("br",{}),"2 Timteo 2:4"]})]}),v.jsx(Pe,{variant:"secondary",onClick:i,fullWidth:!0,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(mV,{size:20})," SAIR / RETORNAR"]})})]})})})})}const $s=[{dia:"Sbado",eventos:[{hora:"13:00",nome:"Sada da Igreja",desc:"Concentrao para partida"},{hora:"15:00",nome:"Organizao",desc:"Chegada e montagem de acampamento"},{hora:"19:00",nome:"Culto de Abertura",desc:"Primeira palavra oficial"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"Livre",desc:"Tempo de confraternizao"}]},{dia:"Domingo",eventos:[{hora:"07:00",nome:"Despertar",desc:"Toque de alvorada"},{hora:"07:30",nome:"Devocional",desc:"Primeiro contato com o Mestre"},{hora:"07:45",nome:"Caf da Manh",desc:"Energia para o dia"},{hora:"08:30",nome:"Culto - BATISMO",desc:"Celebrao e compromisso pblico"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinamento de campo"},{hora:"12:30",nome:"Almoo",desc:"Refeio comunitria"},{hora:"15:00",nome:"Gincana",desc:"Competio por pelotes"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio no QG"},{hora:"21:30",nome:"LUAU",desc:"Fogo e adorao"},{hora:"23:00",nome:"Apagar Luzes",desc:"Silncio total"}]},{dia:"Segunda",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Competio"},{hora:"19:00",nome:"Culto",desc:"Palavra da Noite"},{hora:"20:30",nome:"Jantar",desc:"Refeio"},{hora:"21:30",nome:"CINEMA",desc:"Filme selecionado"},{hora:"23:00",nome:"Apagar Luzes",desc:"Descanso"}]},{dia:"Tera",eventos:[{hora:"07:00",nome:"Despertar",desc:"Alvorada"},{hora:"07:30",nome:"Devocional",desc:"Caf espiritual"},{hora:"07:45",nome:"Caf da Manh",desc:"Refeio"},{hora:"08:30",nome:"Culto",desc:"Mensagem matinal"},{hora:"10:00",nome:"Atividades ao Ar Livre",desc:"Treinos"},{hora:"12:30",nome:"Almoo",desc:"Refeio"},{hora:"15:00",nome:"Gincana",desc:"Final das competies"},{hora:"19:00",nome:"Culto",desc:"Mensagem de Encerramento"},{hora:"20:30",nome:"Jantar",desc:"Jantar Especial"},{hora:"21:30",nome:"Jornal e Luau",desc:"Retrospectiva do Acampamento"},{hora:"23:00",nome:"Encerramento Oficial",desc:"ltimos avisos"},{hora:"00:00",nome:"Apagar Luzes",desc:"Silncio Final"}]}];function YF(){const{currentUser:n,logout:e}=vi(),t=an(),i=async()=>{try{await e(),t("/")}catch(_){console.error("Erro ao sair",_)}},a=n?.email?.split("@")[0].toUpperCase().replace("."," ")||"SOLDADO",c=(()=>{const _=new Date,x=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][_.getDay()],C=_.getHours().toString().padStart(2,"0")+":"+_.getMinutes().toString().padStart(2,"0");let M=$s.find(j=>j.dia===x);if(M){const j=M.eventos.find(U=>U.hora>C);if(j)return{...j,dia:"HOJE"}}const N=$s.findIndex(j=>j.dia===x),B=$s[(N+1)%$s.length];return{...B.eventos[0],dia:B.dia}})(),[h,d]=P.useState(!1),m=$h(n?.email);P.useEffect(()=>{if(n){const _=n.email.split("@")[0].toLowerCase();Xw(async()=>{const{EscalasService:T}=await Promise.resolve().then(()=>nq);return{EscalasService:T}},void 0).then(({EscalasService:T})=>{T.getEscalas().then(x=>{const C=x.some(M=>M.equipe.some(N=>N.toLowerCase().includes(_)));d(C)})})}},[n]);const y=[{label:"PROGRAMAO",route:"/programacao",icon:v.jsx(hV,{size:32,color:"var(--color-gold)"}),desc:"Horrio das misses"},{label:"REGRAS DO ACAMP",route:"/regras",icon:v.jsx(uV,{size:32,color:"var(--color-gold)"}),desc:"Cdigo de Conduta"},{label:"EU + DEUS",route:"/sermoes",icon:v.jsx(dF,{size:32,color:"var(--color-gold)"}),desc:"Minha intimidade"},{label:"PASSAPORTE",route:"/passaporte",icon:v.jsx(aF,{size:32,color:"var(--color-gold)"}),desc:"Sua jornada militar"},{label:"FERRAMENTAS",route:"/ferramentas",icon:v.jsx(vF,{size:32,color:"var(--color-gold)"}),desc:"Diagnsticos e Perfis"},{label:"RANKING",route:"/ranking",icon:v.jsx(gV,{size:32,color:"var(--color-gold)"}),desc:"Honra e Glria"},{label:"ACAMPANTES",route:"/acampantes",icon:v.jsx(xE,{size:32,color:"var(--color-gold)"}),desc:"Todos os guerreiros"},{label:"MINHAS INFORMAES",route:"/meu-perfil",icon:v.jsx(q8,{size:32,color:"var(--color-gold)"}),desc:"Meu perfil e diagnstico"}];return h&&y.splice(5,0,{label:"ESCALAS",route:"/escalas",icon:v.jsx(tF,{size:32,color:"var(--color-gold)"}),desc:"Seu posto hoje"}),m&&y.push({label:"COMANDO",route:"/admin",icon:v.jsx(bE,{size:32,color:"var(--color-fire)"}),desc:"Controle Master"}),v.jsxs("div",{style:{padding:"1rem",maxWidth:"600px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[v.jsxs(Be.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",background:"var(--bg-card)",padding:"1rem",borderRadius:"var(--radius-rustic)",borderBottom:"2px solid var(--color-gold)",boxShadow:"var(--shadow-rustic)"},children:[v.jsxs("div",{children:[v.jsx("h2",{style:{margin:0,fontSize:"1.8rem",lineHeight:1},children:"QG PRINCIPAL"}),v.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--color-gold)",opacity:.8,fontWeight:"bold"},children:["MATRCULA: ",a]})]}),v.jsx("div",{style:{width:"48px",height:"48px",background:"var(--color-wood-dark)",borderRadius:"var(--radius-rustic)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--color-gold)",boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"},children:v.jsx(Iw,{size:24,color:"var(--color-fire)"})})]}),v.jsx("section",{style:{marginBottom:"2rem"},children:v.jsx(Be.div,{whileHover:{scale:1.02},children:v.jsxs(ke,{style:{display:"flex",alignItems:"center",gap:"1.5rem",borderColor:"var(--color-fire)",backgroundColor:"rgba(211, 84, 0, 0.15)",borderLeft:"4px solid var(--color-fire)"},children:[v.jsx("div",{style:{background:"var(--color-fire)",padding:"10px",borderRadius:"50%",boxShadow:"0 0 15px rgba(211, 84, 0, 0.4)"},children:v.jsx(Iw,{size:24,color:"white"})}),v.jsxs("div",{children:[v.jsxs("h3",{style:{margin:0,fontSize:"1.4rem",color:"var(--color-fire-glow)"},children:["MISSO URGENTE: ",c.dia]}),v.jsxs("p",{style:{margin:0,fontSize:"1.2rem",color:"var(--text-main)",fontWeight:"bold"},children:[c.hora," - ",c.nome]}),v.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:c.desc})]})]})})}),v.jsxs("section",{style:{flex:1},children:[v.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",fontSize:"1.5rem"},children:[v.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}}),"ARSENAL DISPONVEL",v.jsx("span",{style:{width:"12px",height:"12px",background:"var(--color-gold)",transform:"rotate(45deg)"}})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:y.map((_,T)=>v.jsx(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:T*.1},whileTap:{scale:.95},children:v.jsxs(ke,{onClick:()=>t(_.route),style:{textAlign:"center",padding:"1.5rem 1rem",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.8rem"},children:[_.icon,v.jsxs("div",{children:[v.jsx("strong",{style:{display:"block",color:"var(--color-gold)",fontSize:"1.2rem",marginBottom:"2px"},children:_.label}),v.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-dim)",textTransform:"uppercase",letterSpacing:"0.5px"},children:_.desc})]})]})},_.label))})]}),v.jsx("div",{style:{marginTop:"2rem",padding:"1rem 0"},children:v.jsx(Pe,{onClick:i,variant:"secondary",fullWidth:!0,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(mV,{size:20}),"ABANDONAR POSTO (SAIR)"]})})})]})}const wo=[{id:"1",titulo:"RENNCIA: O PREO DO CHAMADO",pregador:"Pr. Gilvan",data:"Domingo - 08:30",tema:"Renncia",senhaSelo:"4821",icon:"",perguntas:[{q:"O que significa renncia no contexto do Reino?",opts:["Fugir das responsabilidades","Trocar o que  bom pelo que  excelente","Abrir mo de tudo sem motivo","Ignorar os problemas"],correta:1},{q:'Qual o principal "preo" mencionado no chamado?',opts:["Dinheiro e bens","Conforto e vontade prpria","Tempo de sono","Popularidade nas redes"],correta:1},{q:"Seguir a Cristo exige uma deciso:",opts:["Semanal","Mental apenas","Diria de negar-se a si mesmo","Opcional"],correta:2}]},{id:"2",titulo:"A FORJA DA MENTE",pregador:"Pra. Dbora",data:"Domingo - 19:00",tema:"Renovao",senhaSelo:"7356",icon:"",perguntas:[{q:"Segundo o sermo, onde comea a verdadeira batalha?",opts:["Nas circunstncias externas","Na mente","No comportamento","Nas palavras"],correta:1},{q:"Como renovamos nossa mente segundo Romanos 12?",opts:["Lendo mais notcias","No nos conformando com este sculo","Esquecendo o passado","Sendo pessoas positivas"],correta:1},{q:"Uma mente forjada em Deus :",opts:["Inabalvel e focada no Reino","Lgica e fria","Confusa e mstica","Sempre feliz"],correta:0}]},{id:"3",titulo:"IDENTIDADE DO GUERREIRO",pregador:"Pr. Marcos",data:"Segunda - 08:30",tema:"Identidade",senhaSelo:"1947",icon:"",perguntas:[{q:"Quem define a identidade do guerreiro?",opts:["Sua famlia","Seu desempenho","O Criador (Deus)","A sociedade"],correta:2},{q:"Qual a principal arma defensiva mencionada?",opts:["Espada do Esprito","Escudo da F","Capacete da Salvao","Sandlias da Paz"],correta:1},{q:"Um guerreiro que no conhece sua identidade:",opts:["Luta melhor"," vulnervel aos ataques do inimigo","No precisa de armadura"," independente"],correta:1}]},{id:"4",titulo:"COMUNHO NO FRONT",pregador:"Miss. Ana",data:"Segunda - 19:00",tema:"Comunho",senhaSelo:"6283",icon:"",perguntas:[{q:"Por que o isolamento  perigoso no front?",opts:["Porque  chato","Porque o soldado sozinho  alvo fcil","Porque gasta mais recursos","No  perigoso"],correta:1},{q:"O que sustenta a comunho verdadeira?",opts:["Interesses em comum","O amor sacrificial de Cristo","Apenas amizade social","Concordar em tudo"],correta:1},{q:"No corpo de Cristo, cada membro :",opts:["Indispensvel","Opcional","Substituvel","Superior aos outros"],correta:0}]},{id:"5",titulo:"HONRA E LEALDADE",pregador:"Pr. Silas",data:"Tera - 08:30",tema:"Honra",senhaSelo:"5094",icon:"",perguntas:[{q:"Honra  uma questo de:",opts:["Poder","Princpio e corao","Status","Troca de favores"],correta:1},{q:"A quem devemos honra primeiro?",opts:["Aos lderes","Aos pais","A Deus","A ns mesmos"],correta:2},{q:"A deslealdade no exrcito de Deus causa:",opts:["Crescimento","Diviso e fraqueza","Nada demais","Independncia"],correta:1}]},{id:"6",titulo:"PRONTIDO PARA O SERVIO",pregador:"Ev. Lucas",data:"Tera - 19:00",tema:"Servio",senhaSelo:"3617",icon:"",perguntas:[{q:"O que define a prontido de um servo?",opts:["Sua disposio em obedecer logo","Seu conhecimento tcnico","Seus anos de igreja","Sua vontade prpria"],correta:0},{q:"Servir no Reino  um:",opts:["Fardo pesado","Privilgio e misso","Emprego espiritual","Hobbie"],correta:1},{q:"O maior no Reino  aquele que:",opts:["Manda mais","Sermoneia melhor","Serve a todos","Tem mais ttulos"],correta:2}]},{id:"7",titulo:"ENVIO: A GRANDE COMISSO",pregador:"Coordenao",data:"Quarta - 07:30",tema:"Envio",senhaSelo:"8472",icon:"",perguntas:[{q:"Qual a nossa principal misso aps o acampamento?",opts:["Descansar","Fazer discpulos de todas as naes","Apenas guardar as memrias","Mudar de igreja"],correta:1},{q:"Onde comea o campo missionrio?",opts:["Na frica","Em Corrente-PI","Onde quer que nossos ps pisem","No prdio da igreja"],correta:2},{q:"Quem nos capacita para o envio?",opts:["Nossa inteligncia","O Esprito Santo","Os cursos que fizemos","A diretoria do acampamento"],correta:1}]}],Cw="anotacoes_sermoes",pm={getListaSermoes(){return wo},async getAnotacao(n,e){const t=Qt(pt,Cw,`${n}_${e}`),i=await jm(t);return i.exists()&&i.data().conteudo||""},async salvarAnotacao(n,e,t){const i=Qt(pt,Cw,`${n}_${e}`);await Lm(i,{userId:n,sermaoId:e,conteudo:t,updatedAt:new Date},{merge:!0})},async validarSelo(n,e,t){const i=wo.find(a=>a.id===e);if(!i||i.senhaSelo!==t)return{success:!1,message:"Senha incorreta para este selo."};try{const a=Qt(pt,"users",n);return await Lm(a,{selos:D_(e)},{merge:!0}),{success:!0}}catch(a){return console.error("Erro ao validar selo:",a),{success:!1,message:"Erro na conexo com o QG."}}}};function WF(){const{currentUser:n}=vi(),[e,t]=P.useState(null),i=an();P.useEffect(()=>{if(!n)return;const o=So(Qt(pt,"users",n.uid),c=>{c.exists()&&t(c.data())});return()=>o()},[n]);const a=e?.selos||[];return v.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[v.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[v.jsx(mm,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),v.jsx("h2",{style:{color:"var(--color-gold)",margin:0,fontSize:"2rem"},children:"PASSAPORTE DO GUERREIRO"}),v.jsx("p",{style:{opacity:.7,fontSize:"0.9rem"},children:"STATUS DE PRONTIDO"})]}),v.jsxs(ke,{style:{marginBottom:"2rem",textAlign:"center",borderColor:"var(--color-gold)"},children:[v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"CONQUISTAS:"}),v.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--color-gold)"},children:[a.length,v.jsxs("span",{style:{fontSize:"1rem",opacity:.5},children:[" / ",wo.length]})]})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:wo.map(o=>{const c=a.includes(o.id);return v.jsx(Be.div,{whileHover:c?{scale:1.05}:{},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:v.jsxs(ke,{style:{opacity:c?1:.3,border:c?"2px solid var(--color-gold)":"1px dashed var(--color-wood-light)",background:c?"var(--color-wood-dark)":"transparent",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",aspectRatio:"1",padding:"1rem"},children:[v.jsx("span",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:c?o.icon:v.jsx(iF,{size:32,opacity:.5})}),v.jsx("strong",{style:{fontSize:"0.7rem",color:c?"var(--color-gold)":"var(--text-dim)",textTransform:"uppercase",letterSpacing:"1px"},children:o.tema})]})},o.id)})}),v.jsx("div",{style:{marginTop:"3rem",textAlign:"center"},children:v.jsx(Pe,{onClick:()=>i("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function XF(){const n=an(),e=pm.getListaSermoes();return v.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[v.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[v.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"CADERNO DE GUERRA"}),v.jsx("p",{style:{opacity:.7},children:"Anotaes e Reflexes"})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:e.map(t=>v.jsx(ke,{style:{cursor:"pointer",borderLeft:"4px solid var(--color-burnt-orange)"},onClick:()=>n(`/sermoes/${t.id}`),children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[v.jsxs("div",{children:[v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-sage-green)",textTransform:"uppercase"},children:t.data}),v.jsx("h3",{style:{margin:"0.2rem 0",fontSize:"1.2rem"},children:t.titulo})]}),v.jsx("span",{style:{fontSize:"1.5rem"},children:""})]})},t.id))}),v.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:v.jsx(Pe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}var Tv,Dw;function JF(){if(Dw)return Tv;Dw=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,d=typeof Cf=="object"&&Cf&&Cf.Object===Object&&Cf,m=typeof self=="object"&&self&&self.Object===Object&&self,y=d||m||Function("return this")(),_=Object.prototype,T=_.toString,x=Math.max,C=Math.min,M=function(){return y.Date.now()};function N(H,$,I){var w,D,z,k,q,V,Ae=0,Ee=!1,te=!1,oe=!0;if(typeof H!="function")throw new TypeError(n);$=J($)||0,B(I)&&(Ee=!!I.leading,te="maxWait"in I,z=te?x(J(I.maxWait)||0,$):z,oe="trailing"in I?!!I.trailing:oe);function me(be){var lt=w,nt=D;return w=D=void 0,Ae=be,k=H.apply(nt,lt),k}function Ie(be){return Ae=be,q=setTimeout(ie,$),Ee?me(be):k}function Ne(be){var lt=be-V,nt=be-Ae,Ui=$-lt;return te?C(Ui,z-nt):Ui}function O(be){var lt=be-V,nt=be-Ae;return V===void 0||lt>=$||lt<0||te&&nt>=z}function ie(){var be=M();if(O(be))return ue(be);q=setTimeout(ie,Ne(be))}function ue(be){return q=void 0,oe&&w?me(be):(w=D=void 0,k)}function de(){q!==void 0&&clearTimeout(q),Ae=0,w=V=D=q=void 0}function Se(){return q===void 0?k:ue(M())}function Ce(){var be=M(),lt=O(be);if(w=arguments,D=this,V=be,lt){if(q===void 0)return Ie(V);if(te)return q=setTimeout(ie,$),me(V)}return q===void 0&&(q=setTimeout(ie,$)),k}return Ce.cancel=de,Ce.flush=Se,Ce}function B(H){var $=typeof H;return!!H&&($=="object"||$=="function")}function j(H){return!!H&&typeof H=="object"}function U(H){return typeof H=="symbol"||j(H)&&T.call(H)==t}function J(H){if(typeof H=="number")return H;if(U(H))return e;if(B(H)){var $=typeof H.valueOf=="function"?H.valueOf():H;H=B($)?$+"":$}if(typeof H!="string")return H===0?H:+H;H=H.replace(i,"");var I=o.test(H);return I||c.test(H)?h(H.slice(2),I?2:8):a.test(H)?e:+H}return Tv=N,Tv}var ZF=JF();const eq=JO(ZF);function tq(){const{id:n}=GP(),e=an(),{currentUser:t}=vi(),[i,a]=P.useState(""),[o,c]=P.useState(!1),[h,d]=P.useState(!1),[m,y]=P.useState(""),[_,T]=P.useState(!1),[x,C]=P.useState(!1),[M,N]=P.useState(""),B=wo.find(V=>V.id===n);P.useEffect(()=>{let V;if(t&&n){try{pm.getAnotacao(t.uid,n).then(Ee=>{a(Ee||"")}).catch(Ee=>console.error("Erro ao carregar anotaes:",Ee))}catch(Ee){console.error(Ee)}const Ae=Qt(pt,"users",t.uid);V=So(Ae,Ee=>{Ee.exists()&&(Ee.data().selos||[]).includes(n)&&T(!0)},Ee=>console.error("Erro ao escutar selos:",Ee))}return()=>V&&V()},[t,n]);const j=()=>{if(!("webkitSpeechRecognition"in window)){alert("Seu navegador no suporta reconhecimento de voz.");return}const V=new window.webkitSpeechRecognition;V.lang="pt-BR",V.continuous=!1,V.onstart=()=>C(!0),V.onend=()=>C(!1),V.onresult=Ae=>{const Ee=Ae.results[0][0].transcript;a(te=>te+(te?" ":"")+Ee),t&&U(t.uid,n,i+" "+Ee)},V.start()},U=P.useCallback(eq((V,Ae,Ee)=>{c(!0),pm.salvarAnotacao(V,Ae,Ee).then(()=>{c(!1)})},1e3),[]),J=V=>{const Ae=V.target.value;a(Ae),t&&(c(!0),U(t.uid,n,Ae))},[H,$]=P.useState(0),[I,w]=P.useState([]),[D,z]=P.useState(!1),k=async()=>{N("");const V=await pm.validarSelo(t.uid,n,m);V.success?(T(!0),N("SELO CONQUISTADO COM SUCESSO!"),setTimeout(()=>{d(!1),$(0),w([])},2e3)):N(V.message)},q=V=>{const Ae=B.perguntas[H-1];V===Ae.correta?(z(!1),H<3?$(H+1):$(4)):(z(!0),N("RESPOSTA INCORRETA. REVISE SUAS ANOTAES!"))};return B?v.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"var(--bg-main)"},children:[v.jsxs("header",{style:{padding:"1rem",background:"rgba(45, 30, 23, 0.9)",borderBottom:"2px solid var(--color-wood-light)",display:"flex",alignItems:"center",gap:"1rem",zIndex:10},children:[v.jsx("button",{onClick:()=>e("/sermoes"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer"},children:v.jsx(Be.div,{whileTap:{scale:.9},children:" VOLTAR"})}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-gold)",textTransform:"uppercase",letterSpacing:"1px"},children:B.titulo}),v.jsx("span",{style:{fontSize:"0.7rem",color:o?"var(--color-fire)":"var(--color-gold)"},children:o?"MARCANDO PAPEL...":"REGISTRADO NO ARQUIVO"})]}),!_&&v.jsx(Be.button,{whileTap:{scale:.95},onClick:()=>d(!0),style:{background:"linear-gradient(135deg, var(--color-fire), #e74c3c)",border:"2px solid var(--color-gold)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.65rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",color:"white",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 0 12px rgba(211, 84, 0, 0.5)",animation:"pulse 2s infinite"},children:" TESTE"}),_&&v.jsxs("div",{style:{color:"var(--color-gold)",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(Zm,{size:16})," ",v.jsx("span",{style:{fontSize:"0.7rem"},children:"SELADO"})]})]}),v.jsx("div",{style:{flex:1,padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:v.jsxs("div",{style:{position:"relative",flex:1,display:"flex",flexDirection:"column"},children:[v.jsx("textarea",{value:i,onChange:J,placeholder:"Anote aqui o que DEUS falou contigo nessa ministrao.",style:{flex:1,width:"100%",background:"rgba(0,0,0,0.3)",backgroundImage:"radial-gradient(var(--color-wood-light) 0.5px, transparent 0.5px)",backgroundSize:"20px 20px",border:"1px solid var(--color-wood-medium)",color:"#e0d6c5",fontFamily:"var(--font-body)",fontSize:"1.1rem",padding:"1.5rem",resize:"none",borderRadius:"8px",outline:"none",lineHeight:"1.8"}}),v.jsx(Be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j,style:{position:"absolute",bottom:"20px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",background:x?"var(--color-fire)":"var(--color-gold)",border:"none",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--color-wood-dark)"},children:x?v.jsx(Be.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0},children:v.jsx(Rw,{size:24})}):v.jsx(Rw,{size:24})})]})}),v.jsx(Ec,{children:h&&v.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.92)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,padding:"1rem"},children:v.jsx(Be.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},style:{width:"100%",maxWidth:"400px"},children:v.jsxs(ke,{style:{padding:"2rem"},children:[H===0&&v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),v.jsx("h3",{style:{color:"var(--color-gold)",fontSize:"1.4rem",textTransform:"uppercase",letterSpacing:"2px",textShadow:"0 0 10px rgba(218, 165, 32, 0.3)"},children:"TESTE O QUE VOC APRENDEU"}),v.jsx("div",{style:{width:"60px",height:"3px",background:"var(--color-gold)",margin:"0.8rem auto 1.5rem",borderRadius:"2px"}}),v.jsx("p",{style:{opacity:.8,marginBottom:"2rem",lineHeight:1.5},children:"Soldado, para receber o selo em seu passaporte, responda corretamente 3 perguntas sobre a ministrao."}),v.jsx(Pe,{onClick:()=>$(1),fullWidth:!0,children:" INICIAR TESTE"}),v.jsx(Pe,{variant:"secondary",onClick:()=>d(!1),fullWidth:!0,style:{marginTop:"0.5rem"},children:"CANCELAR"})]}),H>=1&&H<=3&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[v.jsxs("span",{style:{color:"var(--color-gold)",fontSize:"0.8rem"},children:["PERGUNTA ",H,"/3"]}),v.jsx("div",{style:{width:"60px",height:"4px",background:"#333",borderRadius:"2px",alignSelf:"center"},children:v.jsx("div",{style:{width:`${H/3*100}%`,height:"100%",background:"var(--color-gold)"}})})]}),v.jsx("h4",{style:{marginBottom:"1.5rem",minHeight:"3.6rem"},children:B.perguntas[H-1].q}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:B.perguntas[H-1].opts.map((V,Ae)=>v.jsx("button",{onClick:()=>q(Ae),style:{padding:"1rem",textAlign:"left",background:"rgba(255,255,255,0.05)",border:"1px solid var(--color-gold-dim)",borderRadius:"4px",color:"white",cursor:"pointer",transition:"all 0.2s"},children:V},Ae))}),D&&v.jsx("p",{style:{color:"var(--color-fire)",fontSize:"0.8rem",marginTop:"1rem",textAlign:"center"},children:M})]}),H===4&&v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx(Zm,{size:40,color:"#4cd137",style:{marginBottom:"1rem"}}),v.jsx("h3",{style:{color:"var(--color-gold)"},children:"TESTE CONCLUDO "}),v.jsx("p",{style:{fontSize:"0.8rem",opacity:.7,marginBottom:"1.5rem"},children:"Parabns! Agora insira o PIN de 4 dgitos para SELAR seu passaporte."}),M&&v.jsx("div",{style:{color:_?"#4cd137":"var(--color-fire)",marginBottom:"1rem",fontSize:"0.9rem",fontWeight:"bold"},children:M}),v.jsx(s0,{type:"tel",placeholder:"XXXX",value:m,onChange:V=>y(V.target.value.replace(/\D/g,"").slice(0,4)),style:{textAlign:"center",fontSize:"1.5rem",letterSpacing:"10px"}}),v.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsx(Pe,{onClick:k,fullWidth:!0,disabled:_||m.length<4,children:_?"CONQUISTADO!":"SELAR AGORA"}),v.jsx(Pe,{variant:"secondary",onClick:()=>{d(!1),$(0)},fullWidth:!0,children:"VOLTAR"})]})]})]})})})})]}):v.jsx("div",{style:{color:"white",padding:"2rem"},children:"Sermo no encontrado no arsenal."})}const V0=[{id:"cozinha_sab_almoco",titulo:"COZINHA - Sbado Almoo",horario:"11:00 - 13:00",lider:"Sgt. Marta",equipe:["Gideo","Dbora","Sanso","Samuel"]},{id:"limpeza_sab_tarde",titulo:"LIMPEZA - Banheiros",horario:"14:00 - 15:00",lider:"Cb. Davi",equipe:["Pedro","Tiago","Joo"]},{id:"seguranca_noite",titulo:"VIGLIA NOTURNA",horario:"00:00 - 02:00",lider:"Ten. Josu",equipe:["Elias","Eliseu","Moiss"]}],vV={getEscalas(){return Promise.resolve(V0)},getMinhasEscalas(n){return Promise.resolve(V0.filter(e=>e.equipe.some(t=>t.toLowerCase()===n.toLowerCase())))}},nq=Object.freeze(Object.defineProperty({__proto__:null,ESCALAS_DATA:V0,EscalasService:vV},Symbol.toStringTag,{value:"Module"}));function iq(){const n=an(),{currentUser:e}=vi(),[t,i]=P.useState([]),[a,o]=P.useState(!1);P.useEffect(()=>{vV.getEscalas().then(i)},[]);const c=e?.email?.split("@")[0]||"",h=a?t.filter(d=>d.equipe.some(m=>m.toLowerCase().includes(c.toLowerCase()))):t;return v.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem"},children:[v.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[v.jsx("h2",{style:{color:"var(--color-old-gold)",margin:0},children:"ORDENS DE SERVIO"}),v.jsx("p",{style:{opacity:.7},children:"Escalas e Turnos"})]}),v.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",justifyContent:"center",gap:"1rem"},children:[v.jsx(Pe,{onClick:()=>o(!1),variant:a?"secondary":"primary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"TODAS"}),v.jsx(Pe,{onClick:()=>o(!0),variant:a?"primary":"secondary",style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},children:"MINHAS MISSES"})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.map(d=>v.jsxs(ke,{style:{borderLeft:"4px solid var(--color-sage-green)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-old-gold)",fontWeight:"bold",textTransform:"uppercase"},children:d.horario}),v.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:["Lder: ",d.lider]})]}),v.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.2rem"},children:d.titulo}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:d.equipe.map(m=>v.jsx("span",{style:{backgroundColor:m.toLowerCase().includes(c.toLowerCase())?"var(--color-burnt-orange)":"rgba(255,255,255,0.1)",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.8rem",color:"var(--color-paper-white)"},children:m},m))})]},d.id)),h.length===0&&v.jsx("div",{style:{textAlign:"center",opacity:.5,marginTop:"2rem"},children:v.jsx("p",{children:"Nenhuma misso encontrada."})})]}),v.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:v.jsx(Pe,{onClick:()=>n("/home"),variant:"secondary",children:"VOLTAR AO QG"})})]})}const qu=[{id:"renuncia",name:"Renncia e Compromisso",icon:"",color:"#ef4444"},{id:"mente",name:"Renovao da Mente",icon:"",color:"#6c5ce7"},{id:"comunhao",name:"Comunho e Relacionamento",icon:"",color:"#00cec9"},{id:"honra",name:"Honra e Lealdade",icon:"",color:"#ffd700"},{id:"servico",name:"Servio e Multiplicao",icon:"",color:"#f97316"}],Ls=[{catId:"renuncia",q:"Quando algo que eu quero conflita com o que Deus pede, eu:",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{catId:"renuncia",q:"Minha vida de orao e devocional pessoal :",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{catId:"renuncia",q:"Quando enfrento dificuldade por causa da f, eu:",opts:["Questiono se vale a pena seguir a Jesus","Fico desanimado e me afasto um pouco","Me apoio em Deus mas sinto o peso","Entendo que faz parte e persevero com alegria"]},{catId:"renuncia",q:"Meu compromisso com a igreja local :",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{catId:"renuncia",q:"Em relao ao meu tempo, dinheiro e talentos para o Reino:",opts:["No penso nisso como algo que devo a Deus","Contribuo quando sobra ou  conveniente","Dizimo e oferto, mas ainda sou apegado ao controle","Entendo que tudo  de Deus e administro como mordomo"]},{catId:"mente",q:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",opts:['Ignoro ou descarto como "radical demais"',"Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{catId:"mente",q:"Minha mentalidade em relao  igreja  mais de:",opts:['"O que a igreja faz por mim?" (consumidor)','"Eu vou quando me convm" (visitante)',"Estou disposto a contribuir (participante)",'"O que eu posso fazer pelo Reino?" (discpulo)']},{catId:"mente",q:"Quando passo por uma crise pessoal, minha reao :",opts:["Reclamar de Deus e da liderana","Ficar distante e resolver sozinho","Buscar ajuda mas com certa resistncia","Interceder, buscar a Palavra e apoiar a comunidade"]},{catId:"mente",q:"Em relao  renovao da mente (mudar padres de pensamento):",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{catId:"mente",q:"Quando vejo outro cristo errando, minha primeira reao :",opts:["Comentar com outros sobre o erro","Julgar internamente","Sentir compaixo mas no fazer nada","Orar e, se apropriado, restaurar com mansido"]},{catId:"comunhao",q:"Meu envolvimento com um pequeno grupo ou clula :",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{catId:"comunhao",q:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratico transparncia e vulnerabilidade na comunidade"]},{catId:"comunhao",q:"Quando um irmo/irm da f est passando por dificuldade:",opts:["Geralmente nem fico sabendo",'Digo "vou orar" mas esqueo',"Oro e mando uma mensagem de apoio","Vou at a pessoa, ajudo com ao prtica e oro junto"]},{catId:"comunhao",q:"Sobre construir relacionamentos de discipulado (mentoria):",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{catId:"comunhao",q:"Quando h conflito entre irmos na igreja, eu:",opts:["Fico de um lado e falo mal do outro","Evito o assunto completamente","Tento ser pacificador mas de longe","Vou diretamente buscar reconciliao conforme Mateus 18"]},{catId:"honra",q:"Quando a liderana da igreja toma uma deciso com a qual discordo:",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{catId:"honra",q:"Em relao  honra e reconhecimento dos meus lderes:",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{catId:"honra",q:"Quando ouo fofoca sobre um lder ou irmo, eu:",opts:["Ouo e passo para frente","Ouo mas no compartilho","Mudo de assunto","Interrompo e defendo o ausente"]},{catId:"honra",q:"Minha postura em relao  autoridade (pais, chefes, lderes):",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o principio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{catId:"honra",q:"Se meu lder comete um erro pblico, minha reao :",opts:["Contar para outros e usar como justificativa para sair","Perder a confiana e me afastar","Ficar decepcionado mas manter distncia",'"Cobrir" com orao, apoiar a restaurao e manter lealdade']},{catId:"servico",q:"Em relao ao voluntariado na igreja, eu:",opts:["No sirvo em nenhuma rea","Servo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{catId:"servico",q:"Eu conheo meus dons espirituais e como us-los?",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{catId:"servico",q:"Sobre evangelismo e compartilhar minha f:",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]},{catId:"servico",q:"Se algum me pedisse para discipular um novo convertido, eu:",opts:["No me sentiria capaz de forma alguma","Ficaria inseguro e provavelmente recusaria","Tentaria com auxlio de material","Aceitaria com alegria  j fao ou estou pronto"]},{catId:"servico",q:"Minha viso sobre o meu papel na expanso do Reino de Deus:",opts:["Isso  trabalho de pastor e missionrio","Sei que deveria participar mas no sei como","Estou comeando a entender meu papel","Sei que EU sou o agente do Reino onde piso"]}],_V=async(n,e)=>{try{const t=Qt(pt,"users",n),i={date:He.now(),...e};return await qh(t,{diagnostico:D_(i),lastDiagnostico:i}),!0}catch(t){throw console.error("Error saving diagnostic result: ",t),t}},rq=async(n,e)=>{try{const t=Qt(pt,"users",n),i={date:He.now(),...e};return await qh(t,{diagnosticoMinisterial:D_(i),lastDiagnosticoMinisterial:i}),!0}catch(t){throw console.error("Error saving ministerial diagnostic result: ",t),t}};function sq(n,e,t,i){function a(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(y){try{m(i.next(y))}catch(_){c(_)}}function d(y){try{m(i.throw(y))}catch(_){c(_)}}function m(y){y.done?o(y.value):a(y.value).then(h,d)}m((i=i.apply(n,[])).next())})}function aq(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(y){return d([m,y])}}function d(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(o=m[0]&2?a.return:m[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,m[1])).done)return o;switch(a=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){t.label=m[1];break}if(m[0]===6&&t.label<o[1]){t.label=o[1],o=m;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(m);break}o[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(y){m=[6,y],a=0}finally{i=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ll=function(){return Ll=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ll.apply(this,arguments)},EV=function(n){return{loading:n==null,value:n}},oq=function(){return function(n,e){switch(e.type){case"error":return Ll(Ll({},n),{error:e.error,loading:!1,value:void 0});case"reset":return EV(e.defaultValue);case"value":return Ll(Ll({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},lq=(function(n){var e=n?n():void 0,t=P.useReducer(oq(),EV(e)),i=t[0],a=t[1],o=P.useCallback(function(){var d=n?n():void 0;a({type:"reset",defaultValue:d})},[n]),c=P.useCallback(function(d){a({type:"error",error:d})},[]),h=P.useCallback(function(d){a({type:"value",value:d})},[]);return P.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:c,setValue:h,value:i.value}},[i.error,i.loading,o,c,h,i.value])}),TV=(function(n,e){var t=lq(function(){return n.currentUser}),i=t.error,a=t.loading,o=t.setError,c=t.setValue,h=t.value;return P.useEffect(function(){var d=o2(n,function(m){return sq(void 0,void 0,void 0,function(){var y;return aq(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return _.sent(),[3,4];case 3:return y=_.sent(),o(y),[3,4];case 4:return c(m),[2]}})})},o);return function(){d()}},[n]),[h,a,i]});const Sv=[{maxScore:40,icon:"",title:"SEMENTE",subtitle:"Incio da Jornada",gradient:"linear-gradient(135deg, #4ade80, #22c55e)",color:"#22c55e",desc:"Voc est no comeo do caminho do discipulado. Isso no  ruim  toda grande rvore comeou como semente! Busque um mentor, inscreva-se em um pequeno grupo e comprometa-se com a Palavra diariamente. Seus prximos passos so fundamentais."},{maxScore:60,icon:"",title:"MUDA",subtitle:"Crescendo e Firmando Razes",gradient:"linear-gradient(135deg, #34d399, #059669)",color:"#059669",desc:"Voc j deu passos importantes, mas ainda precisa firmar suas razes para no ser levado por qualquer vento. Foque na renovao da mente, no compromisso com a comunidade e na prtica da honra. A fase de crescimento requer nutrientes constantes."},{maxScore:80,icon:"",title:"RVORE",subtitle:"Amadurecendo para o Servio",gradient:"linear-gradient(135deg, #f59e0b, #d97706)",color:"#d97706",desc:"Voc est amadurecendo de forma bonita! Tem conhecimento, compromisso e corao para servir. Agora  hora de descobrir (ou aprofundar) seus dons e comear a gerar frutos: sirva ativamente, mentoreie algum e amplie sua tenda. Voc est pronto!"},{maxScore:100,icon:"",title:"DISCPULO RADICAL",subtitle:"Pronto para Multiplicar",gradient:"linear-gradient(135deg, #ef4444, #dc2626)",color:"#dc2626",desc:"Voc  uma referncia de maturidade. Sua vida  marcada por renncia, mente renovada, comunho profunda, honra  liderana e servio apaixonado. Seu prximo desafio: MULTIPLICAR. Forme discpulos, lidere com excelncia e nunca pare de crescer. O Reino depende de radicais como voc!"}],cq=n=>{for(const e of Sv)if(n<=e.maxScore)return e;return Sv[Sv.length-1]},uq=()=>{const[n]=TV(no),e=an(),[t,i]=P.useState(0),[a,o]=P.useState(Array(Ls.length).fill(null)),[c,h]=P.useState(!1),[d,m]=P.useState({}),[y,_]=P.useState(0),[T,x]=P.useState(!1),[C,M]=P.useState(null),N=$=>{const I=[...a];I[t]=$,o(I),t<Ls.length-1?setTimeout(()=>i(t+1),300):B(I)},B=async $=>{x(!0);let I={};qu.forEach(k=>I[k.id]=0),$.forEach((k,q)=>{const V=Ls[q];I[V.catId]+=k});let w={},D=0;qu.forEach(k=>w[k.id]=0),$.forEach((k,q)=>{const V=Ls[q],Ae=k!==null?k+1:0;w[V.catId]+=Ae,D+=Ae});const z=cq(D);m(w),_(D),M(z),h(!0),n&&await _V(n.uid,{answers:$,scores:w,totalScore:D,perfil:z.title,perfilSubtitle:z.subtitle}),x(!1)},j=$=>(d&&d[$]||0)/20*100;if(T)return v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-main)"},children:v.jsx(Be.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},style:{fontSize:"3rem"},children:""})});if(c&&C)return v.jsxs(Be.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",paddingBottom:"5rem"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx(Be.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.8},style:{fontSize:"5rem",marginBottom:"0.5rem"},children:C.icon}),v.jsx("h2",{style:{fontSize:"2rem",margin:"0 0 4px",fontFamily:"var(--font-display)"},children:"RELATRIO DE CAMPO"}),v.jsx("p",{style:{color:"var(--text-dim)",margin:0},children:"Perfil do Discpulo  ACAMP 2026"})]}),v.jsxs(ke,{style:{textAlign:"center",marginBottom:"1.5rem",border:"2px solid var(--color-gold)",overflow:"hidden"},children:[v.jsxs("div",{style:{background:C.gradient,padding:"1.5rem 1rem",margin:"-1rem -1rem 1rem -1rem"},children:[v.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"0.3rem"},children:C.icon}),v.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px",fontFamily:"var(--font-display)",color:"#fff",textShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:C.title}),v.jsx("div",{style:{display:"inline-block",padding:"4px 16px",background:"rgba(255,255,255,0.2)",borderRadius:"20px",color:"#fff",fontSize:"0.85rem",fontWeight:"bold",backdropFilter:"blur(4px)"},children:C.subtitle})]}),v.jsxs("div",{style:{fontSize:"3rem",color:"var(--color-gold)",lineHeight:1,margin:"10px 0",fontFamily:"var(--font-display)"},children:[y,v.jsx("span",{style:{fontSize:"1.2rem",color:"var(--text-dim)"},children:"/100"})]})]}),v.jsx(ke,{style:{marginBottom:"1.5rem",borderLeft:`4px solid ${C.color}`},children:v.jsx("p",{style:{margin:0,lineHeight:1.6,fontSize:"0.95rem"},children:C.desc})}),v.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-gold)",fontFamily:"var(--font-display)"},children:" DETALHAMENTO POR REA"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem",marginBottom:"2rem"},children:qu.map($=>v.jsxs(ke,{style:{padding:"0.8rem 1rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.4rem"},children:[v.jsxs("span",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:[$.icon," ",$.name]}),v.jsxs("span",{style:{color:$.color,fontWeight:"bold"},children:[d[$.id],"/20"]})]}),v.jsx("div",{style:{height:"8px",background:"var(--color-wood-dark)",borderRadius:"4px",overflow:"hidden"},children:v.jsx(Be.div,{initial:{width:0},animate:{width:`${j($.id)}%`},transition:{duration:1,delay:.3},style:{height:"100%",background:$.color||"var(--color-gold)",borderRadius:"4px"}})})]},$.id))}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx(Pe,{onClick:()=>e("/meu-perfil"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(yV,{size:20})," MINHAS INFORMAES"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>{h(!1),i(0),o(Array(Ls.length).fill(null)),M(null)},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(pV,{size:20})," REFAZER DIAGNSTICO"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>e("/home"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(fV,{size:20})," VOLTAR AO QG"]})})]})]});const U=Ls[t],J=qu.find($=>$.id===U.catId),H=t/Ls.length*100;return v.jsxs("div",{style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[v.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsxs("button",{onClick:()=>e("/home"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center"},children:[v.jsx(Ao,{})," VOLTAR"]}),v.jsxs("div",{style:{fontFamily:"var(--font-display)",color:"var(--color-gold)",fontSize:"0.85rem"},children:[t+1," / ",Ls.length]})]}),v.jsx("div",{style:{height:"4px",background:"var(--bg-card)",borderRadius:"2px",marginBottom:"2rem",overflow:"hidden"},children:v.jsx(Be.div,{animate:{width:`${H}%`},style:{height:"100%",background:"var(--color-fire)"}})}),v.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:v.jsxs("div",{style:{display:"inline-block",padding:"4px 12px",background:"var(--color-gold)",color:"var(--color-wood-dark)",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:[J?.icon," ",J?.name.toUpperCase()]})}),v.jsx(Ec,{mode:"wait",children:v.jsxs(Be.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},style:{flex:1},children:[v.jsx("h2",{style:{fontSize:"1.5rem",lineHeight:1.3,marginBottom:"2rem",textAlign:"center"},children:U.q}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.opts.map(($,I)=>v.jsx(ke,{onClick:()=>N(I),style:{borderColor:a[t]===I?"var(--color-fire)":"var(--color-wood-light)",background:a[t]===I?"rgba(211, 84, 0, 0.1)":"var(--bg-card)",padding:"1rem",transition:"all 0.2s",cursor:"pointer"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("div",{style:{width:"22px",height:"22px",border:"2px solid var(--color-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a[t]===I&&v.jsx("div",{style:{width:"10px",height:"10px",background:"var(--color-fire)",borderRadius:"50%"}})}),v.jsx("span",{style:{fontSize:"0.95rem",fontWeight:a[t]===I?"bold":"normal"},children:$})]})},I))})]},t)}),v.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:v.jsx(Pe,{variant:"secondary",disabled:t===0,onClick:()=>i($=>$-1),children:"ANTERIOR"})})]})},hq=[{id:1,text:"Quando algo que eu quero conflita com o que Deus pede, eu:",category:"Renncia",opts:["Sigo minha vontade sem pensar","Fico dividido e geralmente fao o que quero","Luto internamente mas tento obedecer","Renuncio minha vontade com convico"]},{id:2,text:"Minha vida de orao e devocional pessoal :",category:"Renncia",opts:["Praticamente inexistente","Espordica, s quando preciso de algo","Regular, mas ainda inconsistente","Diria e intencional   prioridade"]},{id:3,text:"Meu compromisso com a igreja local :",category:"Renncia",opts:["Vou quando tenho vontade ou no tenho nada melhor","Frequento mas sem muito envolvimento","Sou presente e participo das atividades","Estou comprometido como aliana, no como opo"]},{id:4,text:"Quando ouo um ensino bblico que confronta meu estilo de vida, eu:",category:"Mente",opts:["Ignoro ou descarto como 'radical demais'","Fico incomodado mas no mudo nada","Reflito e comeo a fazer ajustes","Abrao a mudana mesmo que doa"]},{id:5,text:"Minha mentalidade em relao  igreja  mais de:",category:"Mente",opts:["'O que a igreja faz por mim?' (consumidor)","'Eu vou quando me convm' (visitante)","Estou disposto a contribuir (participante)","'O que eu posso fazer pelo Reino?' (discpulo)"]},{id:6,text:"Em relao  renovao da mente (mudar padres de pensamento):",category:"Mente",opts:["No entendo do que se trata","Sei que preciso mas no sei como","Estou no processo, lendo e meditando na Palavra","Minha mente  constantemente alimentada por verdades bblicas"]},{id:7,text:"Meu envolvimento com um pequeno grupo ou clula :",category:"Comunho",opts:["No participo de nenhum grupo","Participo s vezes quando posso","Frequento regularmente","Sou comprometido e ajudo o grupo a crescer"]},{id:8,text:"Em relao a compartilhar minhas lutas e vitrias com outros cristos:",category:"Comunho",opts:["No me abro com ningum","Falo superficialmente quando perguntam","Tenho uma ou duas pessoas de confiana","Pratica transparncia e vulnerabilidade na comunidade"]},{id:9,text:"Sobre construir relacionamentos de discipulado (mentoria):",category:"Comunho",opts:["Nunca tive um mentor espiritual","J tive mas no deu certo","Tenho algum que me acompanha s vezes","Tenho mentor e tambm mentoreio algum"]},{id:10,text:"Quando a liderana da igreja toma uma deciso com a qual discordo:",category:"Honra",opts:["Reclamo com outros membros","Critico internamente e fico ressentido","Fico em silncio mas no apoio","Converso em particular com respeito e apoio a deciso final"]},{id:11,text:"Em relao  honra e reconhecimento dos meus lderes:",category:"Honra",opts:["Raramente penso nisso","Honro quando  conveniente","Respeito a posio mas nem sempre a pessoa","Honro a uno e a pessoa, independente de falhas"]},{id:12,text:"Minha postura em relao  autoridade (pais, chefes, lderes):",category:"Honra",opts:["Tenho problema com autoridade em geral","Respeito quando merecem","Entendo o princpio mas nem sempre pratico","Honro como princpio bblico, mesmo quando  difcil"]},{id:13,text:"Em relao ao voluntariado na igreja, eu:",category:"Servio",opts:["No sirvo em nenhuma rea","Sirvo quando pedem, mas sem compromisso","Sirvo em uma rea com regularidade","Sirvo por chamado e procuro novas oportunidades"]},{id:14,text:"Eu conheo meus dons espirituais e como us-los?",category:"Servio",opts:["No sei quais so meus dons","Tenho uma ideia vaga","Conheo alguns e uso quando posso","Conheo bem e sirvo ativamente com eles"]},{id:15,text:"Sobre evangelismo e compartilhar minha f:",category:"Servio",opts:["Nunca falei de Jesus para algum","Falo muito raramente e com vergonha","Compartilho quando surge oportunidade","Busco intencionalmente oportunidades para testemunhar"]}],bv=[{id:"apostolo",name:"Apstolo",icon:"",color:"#ef4444",greek:'Apostolos  "Enviado"'},{id:"profeta",name:"Profeta",icon:"",color:"#8b5cf6",greek:'Prophetes  "Aquele que fala diante"'},{id:"evangelista",name:"Evangelista",icon:"",color:"#22c55e",greek:'Euangelistes  "Mensageiro de boas novas"'},{id:"pastor",name:"Pastor",icon:"",color:"#3b82f6",greek:'Poimen  "Aquele que apascenta"'},{id:"mestre",name:"Mestre",icon:"",color:"#f59e0b",greek:'Didaskalos  "Aquele que ensina"'}],Vw={apostolo:{icon:"",title:"APSTOLO",subtitle:"O Pioneiro e Fundador",gradient:"linear-gradient(135deg, #ef4444, #b91c1c)",color:"#ef4444",verse:'"Portanto, vo e faam discpulos de todas as naes."  Mateus 28:19',desc:'Voc tem o perfil apostlico! Apstolos so os "enviados"  visionrios que enxergam o que Deus quer fazer no futuro e trabalham para tornar isso realidade. Voc tem o impulso de iniciar coisas novas, expandir fronteiras e estabelecer fundamentos. Como Paulo, voc no se contenta com o status quo: quer plantar, inaugurar, abrir caminhos onde ningum foi antes. Sua grande fora  a viso estratgica e a capacidade de mobilizar pessoas para uma misso maior.',traits:["Visionrio","Pioneiro","Estratgico","Fundador","Corajoso","Empreendedor","Mobilizador","Adaptvel"],heroes:"Paulo, Barnab, Silas, Neemias"},profeta:{icon:"",title:"PROFETA",subtitle:"A Voz e a Conscincia",gradient:"linear-gradient(135deg, #8b5cf6, #6d28d9)",color:"#8b5cf6",verse:'"Certamente, o Senhor Deus no far coisa alguma, sem primeiro revelar o seu segredo aos seus servos, os profetas."  Ams 3:7',desc:"Voc tem o perfil proftico! Profetas so conectados ao corao de Deus  conseguem discernir o que est errado antes que outros vejam, e sentem compulso de falar a verdade mesmo quando  desconfortvel. Voc tem sensibilidade espiritual aguada, uma paixo ardente pela santidade e pela justia, e no suporta hipocrisia ou superficialidade. Como Jeremias ou Joo Batista, sua misso  chamar o povo de volta ao caminho correto. Sua grande fora  a clareza moral e a coragem de confrontar.",traits:["Sensvel ao Esprito","Corajoso","Discernimento","Confrontador","Intercessor","Visionrio","Zeloso","Direto"],heroes:"Elias, Jeremias, Joo Batista, Isaas"},evangelista:{icon:"",title:"EVANGELISTA",subtitle:"O Comunicador e Recrutador",gradient:"linear-gradient(135deg, #22c55e, #15803d)",color:"#22c55e",verse:'"Como so belos os ps dos que anunciam boas novas!"  Romanos 10:15',desc:"Voc tem o perfil evangelstico! Evangelistas so apaixonados por pessoas que ainda no conhecem Jesus  voc tem uma habilidade natural de comunicar o Evangelho de forma relevante e atraente. Como Filipe no livro de Atos, voc sabe adaptar a mensagem ao ouvinte, percebe oportunidades de compartilhar sua f em qualquer contexto e se entristece quando v pessoas vivendo sem esperana. Sua grande fora  o carisma relacional e a capacidade de tornar Jesus irresistvel para quem ainda no O conhece.",traits:["Comunicador","Carismtico","Apaixonado","Persuasivo","Relacional","Adaptvel","Entusiasta","Ousado"],heroes:"Filipe, Pedro (Pentecostes), Stephen, Billy Graham"},pastor:{icon:"",title:"PASTOR",subtitle:"O Cuidador e Protetor",gradient:"linear-gradient(135deg, #3b82f6, #1d4ed8)",color:"#3b82f6",verse:'"Apascenta as minhas ovelhas."  Joo 21:17',desc:'Voc tem o perfil pastoral! Pastores so os guardies do rebanho  voc sente profunda compaixo pelas pessoas, percebe quando algum est sofrendo e tem o impulso de cuidar, nutrir e proteger. Como o Bom Pastor de Joo 10, voc conhece as "ovelhas" pelo nome e est disposto a sacrificar seu tempo e conforto para que elas cresam. Sua grande fora  a empatia, a pacincia e a capacidade de criar ambientes seguros onde as pessoas se sentem amadas e podem florescer.',traits:["Emptico","Paciente","Acolhedor","Protetor","Bom ouvinte","Conselheiro","Fiel","Compassivo"],heroes:"Jesus (O Bom Pastor), Tito, Barnab, Davi"},mestre:{icon:"",title:"MESTRE",subtitle:"O Ensinador e Formador",gradient:"linear-gradient(135deg, #f59e0b, #b45309)",color:"#f59e0b",verse:'"Procura apresentar-te a Deus aprovado, como obreiro que no tem de que se envergonhar, que maneja bem a palavra da verdade."  2 Timteo 2:15',desc:'Voc tem o perfil de mestre! Mestres so apaixonados pela Palavra de Deus e tm a capacidade de torn-la clara, prtica e transformadora para os outros. Como Esdras, que "dedicou-se a estudar a Lei do Senhor, a pratic-la e a ensin-la" (Esdras 7:10), voc ama pesquisar, aprofundar-se nas Escrituras e comunicar com clareza o que aprendeu. Sua grande fora  a capacidade de fundamentar pessoas na verdade, protegendo-as de enganos e ajudando-as a crescer com razes profundas.',traits:["Estudioso","Didtico","Analtico","Fundamentado","Paciente","Detalhista","Articulado","Sistemtico"],heroes:"Esdras, Apolo, Paulo (em feso), Gamaliel"}},Us=[{id:1,text:"Quando vejo uma necessidade no atendida na igreja ou na sociedade, eu:",category:"apostolo",opts:["Espero que algum resolva","Comento sobre o problema mas no ajo","Penso em solues mas raramente executo","Sinto uma compulso de iniciar algo novo para resolver"]},{id:2,text:"Em relao a ir para lugares difceis onde o Evangelho no chegou:",category:"apostolo",opts:["No penso nisso","Admiro quem vai mas no  pra mim","Tenho interesse mas no me sinto pronto","Sinto um chamado forte para fronteiras e lugares no alcanados"]},{id:3,text:"Quando trabalho em equipe, meu papel natural :",category:"apostolo",opts:["Sigo o que os outros decidem","Contribuo com ideias quando pedem","Organizo e ajudo na execuo","Lano a viso e mobilizo as pessoas para a ao"]},{id:4,text:"Minha relao com mudana e inovao na igreja :",category:"apostolo",opts:["Prefiro que tudo fique como est","Aceito mudanas quando so necessrias","Gosto de melhorar o que j existe","Amo criar coisas novas  projetos, ministrios, estratgias"]},{id:5,text:"Quando penso no futuro da igreja e do Reino, eu:",category:"apostolo",opts:["No costumo pensar nisso","Espero que Deus cuide dos detalhes","Tenho algumas ideias do que poderia ser feito","Enxergo claramente o que Deus quer fazer e trabalho para isso acontecer"]},{id:6,text:"Quando vejo injustia ou pecado sendo tolerado na comunidade, eu:",category:"profeta",opts:["Finjo que no vi","Fico incomodado mas no falo nada","Converso com algum de confiana sobre","Sinto uma urgncia de confrontar com amor, mesmo que seja difcil"]},{id:7,text:"Em relao a ouvir a voz de Deus e receber direo espiritual:",category:"profeta",opts:["Nunca tive essa experincia","s vezes sinto algo mas no tenho certeza","Busco direo e j tive confirmaes","Tenho sensibilidade clara ao Esprito e frequentemente recebo direo para outros"]},{id:8,text:"Quando estou em um ambiente de adorao ou orao:",category:"profeta",opts:["Me distraio facilmente","Participo mas sem muita intensidade","Sinto a presena de Deus de forma real","Discirno o que Deus est fazendo e muitas vezes recebo palavras para compartilhar"]},{id:9,text:"Sobre falar verdades difceis para pessoas que amo:",category:"profeta",opts:["Evito confronto a todo custo","Falo s se for muito grave","Falo com cuidado quando Deus pede","Tenho coragem de falar a verdade em amor, mesmo sabendo que pode custar a amizade"]},{id:10,text:"Minha postura diante de compromissos morais e ticos :",category:"profeta",opts:["Sou flexvel  cada situao  diferente","Tenho meus princpios mas s vezes cedo","Mantenho meus valores mesmo sob presso","Sou zeloso pela santidade e no tolero hipocrisia, comeando por mim mesmo"]},{id:11,text:"Quando conheo algum que no  cristo, meu primeiro instinto :",category:"evangelista",opts:["No penso em falar de Jesus","Fico desconfortvel se o assunto surgir","Espero uma oportunidade natural para falar","Busco construir um relacionamento estratgico para compartilhar o Evangelho"]},{id:12,text:"Sobre adaptar a linguagem da f para diferentes pblicos:",category:"evangelista",opts:["S sei falar 'linguagem de igreja'","Tenho dificuldade em explicar de forma simples","Consigo explicar o Evangelho de forma acessvel","Amo encontrar formas criativas e relevantes de comunicar Jesus para cada pessoa"]},{id:13,text:"Quando ouo a histria de vida de algum distante de Deus:",category:"evangelista",opts:["No me afeta muito","Sinto pena mas no sei o que fazer","Oro por essa pessoa","Meu corao se parte e eu fao qualquer coisa para apresentar Jesus a ela"]},{id:14,text:"Em relao a convidar pessoas para a igreja ou eventos cristos:",category:"evangelista",opts:["Nunca convido ningum","Convido s vezes, quando  fcil","Convido regularmente pessoas prximas","Estou sempre convidando, criando oportunidades e acompanhando visitantes"]},{id:15,text:"Sobre compartilhar meu testemunho pessoal:",category:"evangelista",opts:["Tenho vergonha de falar da minha histria","Falo se algum perguntar","Compartilho quando sinto que  apropriado","Uso minha histria como ferramenta poderosa e a adapto para cada ouvinte"]},{id:16,text:"Quando percebo que algum est passando por dificuldade emocional:",category:"pastor",opts:["Geralmente nem percebo","Percebo mas no sei o que fazer","Mando uma mensagem ou oro","Vou at a pessoa, ouo com pacincia e caminho junto no processo"]},{id:17,text:"Em relao a acompanhar o crescimento espiritual de outros:",category:"pastor",opts:["Nunca fiz isso","Acho que isso  papel do pastor","Fao informalmente com amigos prximos","Invisto tempo intencional discipulando, aconselhando e acompanhando pessoas"]},{id:18,text:"Quando h um conflito entre pessoas na comunidade:",category:"pastor",opts:["Fujo de conflito","Fico neutro e no me envolvo","Tento mediar se me pedirem","Busco ativamente a reconciliao, cuidando de cada parte com amor"]},{id:19,text:"Sobre criar ambientes seguros para pessoas vulnerveis:",category:"pastor",opts:["No penso nisso","Reconheo a importncia mas no fao na prtica","Tento ser acolhedor quando algum me procura","Sou intencional em criar espaos onde pessoas podem ser transparentes sem julgamento"]},{id:20,text:"Minha reao quando algum da comunidade se afasta da f:",category:"pastor",opts:["No me afeta muito","Lamento mas sigo em frente","Oro pela pessoa  distncia","Vou atrs, sem julgamento, e fao o que for preciso para traz-la de volta"]},{id:21,text:"Quando estudo a Bblia, minha abordagem :",category:"mestre",opts:["Leio rapidamente sem aprofundar","Leio e reflito superficialmente","Pesquiso o contexto e busco entender melhor","Estudo com ferramentas (comentrios, grego/hebraico, contexto histrico) e amo cada detalhe"]},{id:22,text:"Quando algum faz uma pergunta teolgica ou doutrinria:",category:"mestre",opts:["No sei responder e no me interessa muito","Dou minha opinio pessoal","Busco na Bblia antes de responder","Amo pesquisar profundamente e explicar de forma clara e fundamentada"]},{id:23,text:"Sobre preparar e ensinar estudos bblicos ou lies:",category:"mestre",opts:["Nunca fiz e no me sinto chamado","J tentei mas no  minha rea forte","Fao quando pedem e me empenho"," minha paixo  amo preparar contedo e ver as pessoas aprendendo"]},{id:24,text:"Quando ouo um ensino que parece fora da base bblica:",category:"mestre",opts:["Aceito sem questionar","Fico desconfiado mas no verifico","Pesquiso depois para confirmar","Confronto com as Escrituras e protejo outros de ensinos distorcidos"]},{id:25,text:"Em relao a tornar conceitos complexos compreensveis:",category:"mestre",opts:["Tenho dificuldade em explicar coisas","Explico de forma razovel","Consigo simplificar e usar boas ilustraes","Tenho um dom natural de pegar algo profundo e torn-lo prtico e inesquecvel"]}],dq=()=>{const[n]=TV(no),e=an(),[t,i]=P.useState(0),[a,o]=P.useState(Array(Us.length).fill(null)),[c,h]=P.useState(!1),[d,m]=P.useState({}),[y,_]=P.useState(0),[T,x]=P.useState(null),[C,M]=P.useState(!1),N=H=>{const $=[...a];$[t]=H,o($),t<Us.length-1?setTimeout(()=>i(t+1),300):B($)},B=async H=>{M(!0);let $={};bv.forEach(Ee=>$[Ee.id]=0);let I=0;H.forEach((Ee,te)=>{const oe=Us[te],me=Ee!==null?Ee+1:0;$[oe.category]+=me,I+=me});let w=-1,D="";Object.keys($).forEach(Ee=>{$[Ee]>w&&(w=$[Ee],D=Ee)});let z=-1,k="";Object.keys($).forEach(Ee=>{Ee!==D&&$[Ee]>z&&(z=$[Ee],k=Ee)});const q=Vw[D],V=Vw[k];m($),_(I),x({profile:q,secondaryProfile:V,dominantId:D,secondaryId:k}),h(!0),n&&await rq(n.uid,{answers:H,scores:$,totalScore:I,perfil:q.title,perfilSubtitle:q.subtitle,perfilSecundario:V.title}),M(!1)},j=H=>(d&&d[H]||0)/20*100;if(C)return v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-main)"},children:v.jsx(Be.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},style:{fontSize:"3rem"},children:""})});if(c&&T){const{profile:H,secondaryProfile:$}=T;return v.jsxs(Be.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",paddingBottom:"5rem"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx(Be.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.8},style:{fontSize:"5rem",marginBottom:"0.5rem"},children:H.icon}),v.jsx("h2",{style:{fontSize:"2rem",margin:"0 0 4px",fontFamily:"var(--font-display)"},children:"RESULTADO MINISTERIAL"}),v.jsx("p",{style:{color:"var(--text-dim)",margin:0},children:"Descobrindo seu chamado  Efsios 4:11"})]}),v.jsxs(ke,{style:{textAlign:"center",marginBottom:"1.5rem",border:"2px solid var(--color-gold)",overflow:"hidden"},children:[v.jsxs("div",{style:{background:H.gradient,padding:"1.5rem 1rem",margin:"-1rem -1rem 1rem -1rem"},children:[v.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"0.3rem"},children:H.icon}),v.jsx("h3",{style:{fontSize:"1.8rem",margin:"0 0 4px",fontFamily:"var(--font-display)",color:"#fff",textShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:H.title}),v.jsx("div",{style:{display:"inline-block",padding:"4px 16px",background:"rgba(255,255,255,0.2)",borderRadius:"20px",color:"#fff",fontSize:"0.85rem",fontWeight:"bold",backdropFilter:"blur(4px)"},children:H.subtitle})]}),v.jsxs("div",{style:{padding:"0 1rem"},children:[v.jsx("em",{style:{display:"block",marginBottom:"1rem",color:"var(--color-gold)"},children:H.verse}),v.jsx("p",{style:{margin:0,lineHeight:1.6,fontSize:"0.95rem",textAlign:"left"},children:H.desc})]})]}),v.jsxs(ke,{style:{marginBottom:"1.5rem",borderLeft:"4px solid var(--color-gold)"},children:[v.jsx("h4",{style:{margin:"0 0 10px 0",color:"var(--color-gold)"},children:" SUA COMBINAO"}),v.jsxs("p",{style:{margin:0},children:["Seu perfil principal  ",v.jsx("strong",{children:H.title}),", mas voc tambm tem fortes caractersticas de ",v.jsx("strong",{children:$.title}),". Essa combinao forja sua identidade nica no Corpo de Cristo."]})]}),v.jsxs(ke,{style:{marginBottom:"1.5rem"},children:[v.jsx("h4",{style:{margin:"0 0 10px 0",color:"var(--color-gold)"},children:" CARACTERSTICAS"}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:H.traits.map((I,w)=>v.jsx("span",{style:{background:"rgba(255,255,255,0.1)",padding:"4px 10px",borderRadius:"12px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.2)"},children:I},w))}),v.jsxs("p",{style:{marginTop:"15px",fontSize:"0.85rem",color:"var(--text-dim)"},children:[" ",v.jsx("strong",{children:"Exemplos Bblicos:"})," ",H.heroes]})]}),v.jsx("h3",{style:{marginBottom:"1rem",color:"var(--color-gold)",fontFamily:"var(--font-display)"},children:" PONTUAO POR MINISTRIO"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem",marginBottom:"2rem"},children:bv.map(I=>{const w=T.dominantId===I.id;return v.jsxs(ke,{style:{padding:"0.8rem 1rem",border:w?`1px solid ${I.color}`:"none"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.4rem"},children:[v.jsxs("span",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:[I.icon," ",I.name," ",w&&""]}),v.jsxs("span",{style:{color:I.color,fontWeight:"bold"},children:[d[I.id],"/20"]})]}),v.jsx("div",{style:{height:"8px",background:"var(--color-wood-dark)",borderRadius:"4px",overflow:"hidden"},children:v.jsx(Be.div,{initial:{width:0},animate:{width:`${j(I.id)}%`},transition:{duration:1,delay:.3},style:{height:"100%",background:I.color||"var(--color-gold)",borderRadius:"4px"}})})]},I.id)})}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx(Pe,{onClick:()=>e("/meu-perfil"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(yV,{size:20})," MINHAS INFORMAES"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>{h(!1),i(0),o(Array(Us.length).fill(null)),x(null)},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(pV,{size:20})," REFAZER DIAGNSTICO"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>e("/home"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(fV,{size:20})," VOLTAR AO QG"]})})]})]})}const U=Us[t];bv.find(H=>H.id===U.category);const J=t/Us.length*100;return v.jsxs("div",{style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[v.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsxs("button",{onClick:()=>e("/home"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center"},children:[v.jsx(Ao,{})," VOLTAR"]}),v.jsxs("div",{style:{fontFamily:"var(--font-display)",color:"var(--color-gold)",fontSize:"0.85rem"},children:[t+1," / ",Us.length]})]}),v.jsx("div",{style:{height:"4px",background:"var(--bg-card)",borderRadius:"2px",marginBottom:"2rem",overflow:"hidden"},children:v.jsx(Be.div,{animate:{width:`${J}%`},style:{height:"100%",background:"var(--color-fire)"}})}),v.jsx("div",{style:{textAlign:"center",marginBottom:"1rem"},children:v.jsx("div",{style:{display:"inline-block",padding:"4px 12px",background:"var(--bg-card)",border:"1px solid var(--color-gold)",color:"var(--color-gold)",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"DIAGNSTICO MINISTERIAL"})}),v.jsx(Ec,{mode:"wait",children:v.jsxs(Be.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},style:{flex:1},children:[v.jsx("h2",{style:{fontSize:"1.4rem",lineHeight:1.4,marginBottom:"2rem",textAlign:"center"},children:U.text}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:U.opts.map((H,$)=>v.jsx(ke,{onClick:()=>N($),style:{borderColor:a[t]===$?"var(--color-fire)":"var(--color-wood-light)",background:a[t]===$?"rgba(211, 84, 0, 0.1)":"var(--bg-card)",padding:"1rem",transition:"all 0.2s",cursor:"pointer"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid var(--color-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"0.8rem",fontWeight:"bold",color:"var(--text-dim)"},children:a[t]===$?v.jsx("div",{style:{width:"12px",height:"12px",background:"var(--color-fire)",borderRadius:"50%"}}):$+1}),v.jsx("span",{style:{fontSize:"0.95rem",fontWeight:a[t]===$?"bold":"normal"},children:H})]})},$))})]},t)}),v.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"space-between"},children:v.jsx(Pe,{variant:"secondary",disabled:t===0,onClick:()=>i(H=>H-1),children:"ANTERIOR"})})]})},fq=async(n=10)=>{const e=hL(pt),t=[];for(let i=0;i<n;i++){const a=`FORJA-${Math.random().toString(36).substring(2,7).toUpperCase()}`,o=Qt(Eh(pt,"vouchers"));e.set(o,{code:a,used:!1,createdAt:He.now()}),t.push(a)}return await e.commit(),t};function mq(){const{currentUser:n}=vi(),e=an(),[t,i]=P.useState([]),[a,o]=P.useState([]),[c,h]=P.useState("PENDING"),[d,m]=P.useState(!0),[y,_]=P.useState(10),[T,x]=P.useState(!1),[C,M]=P.useState(""),[N,B]=P.useState(""),[j,U]=P.useState("soldier"),[J,H]=P.useState(!1),[$,I]=P.useState(""),[w,D]=P.useState("");P.useEffect(()=>{const O=$h(n?.email)||n?.profile?.role==="admin";(!n||!O)&&e("/home")},[n,e]),P.useEffect(()=>{m(!0);const O=So(Eh(pt,"users"),de=>{i(de.docs.map(Se=>({id:Se.id,...Se.data()}))),m(!1)},de=>{console.error("ERRO ao sincronizar usurios:",de),m(!1)}),ie=P_(Eh(pt,"vouchers"),aL("createdAt","desc")),ue=So(ie,de=>{o(de.docs.map(Se=>({id:Se.id,...Se.data()})))},de=>{console.error("ERRO ao sincronizar vouchers:",de)});return()=>{O(),ue()}},[]);const z=async()=>{y<=0||(m(!0),await fq(Number(y)),m(!1))},k=O=>{const ue=` *CONVOCAO PARA A FORJA 2026* 

Soldado, o alistamento oficial foi aberto! 
Sua presena  requisitada para o maior treinamento do ano.

 *Identidade do Front:* https://haniellevi.github.io/ACAMP2026-ANTIGRAVITY/
 *Cdigo de Acesso:* ${O}

Prepare seus equipamentos e apresente-se no QG Digital! `;navigator.clipboard.writeText(ue),alert(`Convite Militar para o voucher ${O} copiado para a rea de transferncia!`)},q=async O=>{window.confirm("Confirma a aprovao deste soldado?")&&await T2(O)},V=async O=>{window.confirm("REJEITAR e EXCLUIR este alistamento?")&&await S2(O)},Ae=async O=>{if(O.preventDefault(),I(""),D(""),!C.trim()||!N.trim()){I("Preencha nome e PIN.");return}if(N.length<4){I("PIN deve ter pelo menos 4 dgitos.");return}H(!0);const ie=await b2(C.trim(),N,j);H(!1),ie.success?(D(` ${C} cadastrado com sucesso!`),M(""),B(""),U("soldier"),setTimeout(()=>{D(""),x(!1)},2e3)):I(ie.error||"Erro ao criar usurio.")},Ee=async O=>{const ie=O.role==="admin"?"soldier":"admin",ue=ie==="admin"?"PROMOVER a Admin":"REBAIXAR a Soldado";window.confirm(`${ue}: ${O.nomeGuerra}?`)&&await x2(O.id,ie)},te=async O=>{if(O.id===n.uid){alert("Voc no pode deletar a si mesmo!");return}window.confirm(`EXCLUIR permanentemente: ${O.nomeGuerra}? Esta ao no pode ser desfeita!`)&&await MC(Qt(pt,"users",O.id))},oe=t.filter(O=>O.status==="pending"),me=t.filter(O=>O.status==="approved"||O.role==="admin"),Ie={width:"100%",background:"rgba(0,0,0,0.3)",border:"1px solid var(--color-wood-dark)",borderRadius:"4px",padding:"10px",color:"white",fontSize:"1rem",boxSizing:"border-box"},Ne={fontSize:"0.7rem",color:"var(--color-gold)",display:"block",marginBottom:"5px",textTransform:"uppercase",letterSpacing:"1px"};return v.jsxs("div",{style:{padding:"1rem",maxWidth:"800px",margin:"0 auto",paddingBottom:"5rem"},children:[v.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[v.jsx(bE,{size:40,color:"var(--color-fire)",style:{marginBottom:"0.5rem"}}),v.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"CENTRO DE COMANDO (ADMIN)"}),v.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"Gerencie a logstica da Forja 2026"})]}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",overflowX:"auto",padding:"5px"},children:[v.jsxs(Pe,{variant:c==="PENDING"?"primary":"secondary",onClick:()=>h("PENDING"),style:{flex:1,minWidth:"120px",position:"relative"},children:[v.jsx(LF,{size:16,style:{marginRight:"4px"}})," APROVAO",oe.length>0&&v.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center"},children:oe.length})]}),v.jsxs(Pe,{variant:c==="USERS"?"primary":"secondary",onClick:()=>h("USERS"),style:{flex:1,minWidth:"120px"},children:[v.jsx(xE,{size:16,style:{marginRight:"4px"}})," SOLDADOS"]}),v.jsxs(Pe,{variant:c==="VOUCHERS"?"primary":"secondary",onClick:()=>h("VOUCHERS"),style:{flex:1,minWidth:"120px"},children:[v.jsx(CF,{size:16,style:{marginRight:"4px"}})," VOUCHERS"]}),v.jsxs(Pe,{variant:c==="ESCALAS"?"primary":"secondary",onClick:()=>h("ESCALAS"),style:{flex:1,minWidth:"120px"},children:[v.jsx(C0,{size:16,style:{marginRight:"4px"}})," ESCALAS"]})]}),d&&v.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Sincronizando com o QG Central..."}),v.jsxs(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[c==="PENDING"&&v.jsxs("div",{children:[v.jsxs("h3",{children:["Aprovaes Pendentes (",oe.length,")"]}),oe.length===0?v.jsx("p",{style:{opacity:.5,fontStyle:"italic"},children:"Nenhum soldado aguardando na portaria."}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:oe.map(O=>v.jsxs(ke,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:"4px solid orange"},children:[v.jsxs("div",{children:[v.jsx("strong",{style:{color:"var(--color-gold)",fontSize:"1.1rem"},children:O.nomeGuerra}),v.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",O.pin," | Criado em: ",new Date(O.createdAt).toLocaleDateString()]})]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{onClick:()=>q(O.id),style:{background:"none",border:"none",cursor:"pointer",color:"#51cf66"},title:"Aprovar",children:v.jsx(Zm,{size:28})}),v.jsx("button",{onClick:()=>V(O.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ff6b6b"},title:"Rejeitar",children:v.jsx(G8,{size:28})})]})]},O.id))})]}),c==="USERS"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsxs("h3",{style:{margin:0},children:["Peloto (",me.length," soldados)"]}),v.jsxs(Pe,{onClick:()=>x(!T),variant:"primary",style:{display:"flex",alignItems:"center",gap:"5px"},children:[T?v.jsx(GF,{size:16}):v.jsx(D0,{size:16}),T?"FECHAR":"NOVO SOLDADO"]})]}),v.jsx(Ec,{children:T&&v.jsx(Be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},children:v.jsxs(ke,{style:{marginBottom:"1.5rem",border:"1px solid var(--color-gold)",padding:"1.2rem"},children:[v.jsxs("h4",{style:{color:"var(--color-gold)",margin:"0 0 1rem 0",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(D0,{size:18})," CADASTRAR NOVO SOLDADO"]}),v.jsx("form",{onSubmit:Ae,children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:Ne,children:"NOME DE GUERRA"}),v.jsx("input",{type:"text",value:C,onChange:O=>M(O.target.value),placeholder:"Ex: Recruta Silva",style:Ie,required:!0})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsx("label",{style:Ne,children:"PIN (4+ dgitos)"}),v.jsx("input",{type:"text",value:N,onChange:O=>B(O.target.value.replace(/\D/g,"")),placeholder:"1234",maxLength:6,style:Ie,required:!0})]}),v.jsxs("div",{style:{flex:1},children:[v.jsx("label",{style:Ne,children:"PATENTE"}),v.jsxs("select",{value:j,onChange:O=>U(O.target.value),style:{...Ie,cursor:"pointer"},children:[v.jsx("option",{value:"soldier",children:" Soldado"}),v.jsx("option",{value:"admin",children:" Admin"})]})]})]}),$&&v.jsxs("div",{style:{color:"#ff6b6b",fontSize:"0.85rem",padding:"8px",background:"rgba(255,107,107,0.1)",borderRadius:"4px"},children:[" ",$]}),w&&v.jsx("div",{style:{color:"#51cf66",fontSize:"0.85rem",padding:"8px",background:"rgba(81,207,102,0.1)",borderRadius:"4px"},children:w}),v.jsx(Pe,{type:"submit",variant:"primary",fullWidth:!0,disabled:J,children:J?"CADASTRANDO...":" ALISTAR SOLDADO"})]})})]})})}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:me.map(O=>v.jsxs(ke,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:O.role==="admin"?"4px solid var(--color-gold)":"4px solid var(--color-sage-green)"},children:[v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx("strong",{style:{color:O.role==="admin"?"var(--color-gold)":"var(--text-main)"},children:O.nomeGuerra}),O.role==="admin"&&v.jsx(ww,{size:14,color:"var(--color-gold)",title:"Admin"})]}),v.jsxs("p",{style:{margin:0,fontSize:"0.7rem",opacity:.6},children:["PIN: ",O.pin," | ",O.role==="admin"?" Admin":" Soldado",O.createdByAdmin&&" |  Cadastro Admin"]})]}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsxs("button",{onClick:()=>Ee(O),style:{background:"none",border:"1px solid",borderColor:O.role==="admin"?"var(--color-sage-green)":"var(--color-gold)",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",color:O.role==="admin"?"var(--color-sage-green)":"var(--color-gold)",fontSize:"0.65rem",display:"flex",alignItems:"center",gap:"4px"},title:O.role==="admin"?"Rebaixar a Soldado":"Promover a Admin",children:[v.jsx(ww,{size:12}),O.role==="admin"?"REBAIXAR":"PROMOVER"]}),v.jsx("button",{onClick:()=>te(O),style:{background:"none",border:"none",cursor:"pointer",color:"#ff6b6b",opacity:O.id===n?.uid?.3:1},title:"Excluir Soldado",disabled:O.id===n?.uid,children:v.jsx(VF,{size:18})})]})]},O.id))})]}),c==="VOUCHERS"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem",gap:"10px"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsx("label",{style:Ne,children:"QUANTIDADE PARA GERAR"}),v.jsx("input",{type:"number",value:y,onChange:O=>_(O.target.value),style:Ie})]}),v.jsxs(Pe,{onClick:z,variant:"primary",style:{height:"45px"},children:[v.jsx(cF,{size:20})," GERAR VOUCHERS"]})]}),v.jsxs("h3",{children:["Vouchers no Sistema (",a.length,")"]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:a.map(O=>v.jsxs(ke,{style:{padding:"1rem",textAlign:"center",background:O.used?"rgba(0,0,0,0.2)":"rgba(197, 157, 95, 0.1)",border:O.used?"1px solid #444":"1px solid var(--color-gold)",opacity:O.used?.7:1,position:"relative"},children:[v.jsx("code",{style:{fontSize:"1.1rem",color:"var(--color-gold)",display:"block",fontWeight:"bold",marginBottom:"5px"},children:O.code}),v.jsx("div",{style:{padding:"4px",borderRadius:"4px",background:O.used?"rgba(255,0,0,0.1)":"rgba(0,255,0,0.1)",marginBottom:"8px"},children:v.jsx("span",{style:{fontSize:"0.65rem",color:O.used?"#ff6b6b":"#51cf66",fontWeight:"bold"},children:O.used?"utilizado":" disponvel"})}),O.used&&O.usedByName&&v.jsxs("div",{style:{mt:"5px",borderTop:"1px solid rgba(255,255,255,0.1)",pt:"5px"},children:[v.jsx("p",{style:{margin:0,fontSize:"0.65rem",opacity:.6,textTransform:"uppercase"},children:"Soldado:"}),v.jsx("strong",{style:{fontSize:"0.8rem",color:"white"},children:O.usedByName})]}),!O.used&&v.jsxs("button",{onClick:()=>k(O.code),style:{marginTop:"10px",background:"none",border:"1px solid var(--color-gold)",borderRadius:"4px",padding:"5px",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",width:"100%",fontSize:"0.7rem"},children:[v.jsx(EF,{size:12})," ENVIAR CONVITE"]})]},O.id))})]}),c==="ESCALAS"&&v.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[v.jsx(C0,{size:48,opacity:.3,style:{marginBottom:"1rem"}}),v.jsx("h3",{children:"Gerenciamento de Escalas"}),v.jsxs("p",{style:{fontSize:"0.9rem",opacity:.7},children:["O algoritmo est pronto para distribuir ",t.length," soldados."]}),v.jsx(Pe,{style:{marginTop:"1rem"},children:"GERAR DISTRIBUIO AUTOMTICA"})]})]},c),v.jsx("div",{style:{marginTop:"2rem"},children:v.jsx(Pe,{onClick:()=>e("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function pq(){const[n,e]=P.useState([]),[t,i]=P.useState(!0),a=an();return P.useEffect(()=>{(async()=>{try{const c=P_(Eh(pt,"users"),oL(50)),m=(await uL(c)).docs.map(y=>({id:y.id,...y.data(),score:(y.data().selos?.length||0)*100})).sort((y,_)=>_.score-y.score);e(m)}catch(c){console.error("Erro ao buscar ranking:",c)}i(!1)})()},[]),v.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[v.jsxs("header",{style:{marginBottom:"2rem",textAlign:"center"},children:[v.jsx(gV,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),v.jsx("h2",{style:{color:"var(--color-gold)",margin:0},children:"RANKING DE PRONTIDO"}),v.jsx("p",{style:{opacity:.7,fontSize:"0.8rem"},children:"HONRA MILITAR NO FRONT"})]}),t?v.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Calculando mritos..."}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map((o,c)=>v.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.05},children:v.jsxs(ke,{style:{display:"flex",alignItems:"center",gap:"1rem",borderLeft:c<3?"4px solid var(--color-gold)":"2px solid var(--color-wood-light)"},children:[v.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:c===0?"var(--color-gold)":c===1?"#bdc3c7":c===2?"#cd7f32":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",border:c>2?"1px solid var(--color-wood-light)":"none",color:c<3?"var(--color-wood-dark)":"inherit"},children:c+1}),v.jsxs("div",{style:{flex:1},children:[v.jsx("strong",{style:{display:"block",color:"var(--color-gold)"},children:o.nomeGuerra}),v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:v.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6},children:[o.selos?.length||0," SELOS CONQUISTADOS"]})})]}),v.jsxs("div",{style:{textAlign:"right"},children:[v.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-gold)"},children:o.score}),v.jsx("div",{style:{fontSize:"0.5rem",opacity:.5},children:"PTOS"})]})]})},o.id))}),v.jsx("div",{style:{marginTop:"2rem"},children:v.jsx(Pe,{onClick:()=>a("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}function gq(){const{currentUser:n}=vi(),e=an(),[t,i]=P.useState(null),[a,o]=P.useState({}),[c,h]=P.useState(0),[d,m]=P.useState(!1),[y,_]=P.useState(!1),T=t==="MATURIDADE"?hq:Us,x=(B,j)=>{o(U=>({...U,[B]:j})),c<T.length-1&&setTimeout(()=>h(c+1),300)},C=async()=>{if(Object.keys(a).length<T.length)return;_(!0);const B={tipo:t,respostas:a,data:new Date().toISOString(),userId:n.uid};try{await _V(n.uid,B),m(!0)}catch(j){console.error("Erro ao salvar:",j)}_(!1)};if(d)return v.jsx("div",{className:"page-container",style:{padding:"20px",textAlign:"center"},children:v.jsxs(ke,{children:[v.jsx(Zm,{size:64,color:"var(--color-gold)",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{color:"var(--color-gold)"},children:"MISSO CUMPRIDA!"}),v.jsx("p",{children:"Seu diagnstico foi enviado para o Grande Comando."}),v.jsx(Pe,{onClick:()=>e("/home"),style:{marginTop:"20px"},children:"VOLTAR AO QG"})]})});if(!t)return v.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[v.jsx(Pe,{variant:"ghost",onClick:()=>e("/home"),style:{padding:"5px"},children:v.jsx(Ao,{size:24})}),v.jsx("h1",{style:{fontSize:"1.8rem"},children:"FERRAMENTAS"})]}),v.jsxs("div",{style:{display:"grid",gap:"20px"},children:[v.jsxs(ke,{onClick:()=>i("MATURIDADE"),interactive:!0,children:[v.jsx("h3",{style:{color:"var(--color-gold)"},children:"PERFIL DE MATURIDADE"}),v.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Avalie sua fibra espiritual e emocional para o combate."}),v.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",v.jsx(xw,{size:18})]})]}),v.jsxs(ke,{onClick:()=>e("/diagnostico-ministerial"),interactive:!0,children:[v.jsx("h3",{style:{color:"var(--color-gold)"},children:"DESCOBRINDO MEU MINISTRIO"}),v.jsx("p",{style:{fontSize:"0.9rem",opacity:.8},children:"Identifique seu chamado nos 5 ministrios (Efsios 4:11)."}),v.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",gap:"5px",color:"var(--color-gold)",fontWeight:"bold"},children:["INICIAR ",v.jsx(xw,{size:18})]})]})]})]});const M=T[c],N=(c+1)/T.length*100;return v.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[v.jsx(Pe,{variant:"ghost",onClick:()=>i(null),style:{padding:"5px"},children:v.jsx(Ao,{size:24})}),v.jsxs("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"var(--color-gold)"},children:["QUESTO ",c+1," DE ",T.length]})]}),v.jsx("div",{style:{height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",marginBottom:"30px"},children:v.jsx(Be.div,{initial:{width:0},animate:{width:`${N}%`},style:{height:"100%",background:"var(--color-gold)",borderRadius:"2px"}})}),v.jsx(Ec,{mode:"wait",children:v.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:v.jsx(ke,{style:{padding:"30px",minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},children:v.jsx("h2",{style:{fontSize:"1.4rem",textAlign:"center",marginBottom:"0"},children:M.text})})},c)}),v.jsx("div",{style:{display:"grid",gap:"12px",marginTop:"30px"},children:M.opts.map((B,j)=>{const U=j+1;return v.jsx("button",{onClick:()=>x(M.id,U),style:{background:a[M.id]===U?"var(--color-gold)":"var(--bg-card)",border:`2px solid ${a[M.id]===U?"var(--color-gold)":"var(--color-wood-dark)"}`,color:a[M.id]===U?"var(--color-dark-earth)":"var(--color-gold)",padding:"15px 20px",borderRadius:"var(--radius-rustic)",fontWeight:"bold",fontSize:"1rem",textAlign:"left",cursor:"pointer",transition:"all 0.2s",boxShadow:"var(--shadow-rustic)",lineSize:"1.2"},children:B},U)})}),c===T.length-1&&a[M.id]&&v.jsx(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{marginTop:"40px"},children:v.jsxs(Pe,{onClick:C,fullWidth:!0,loading:y,children:["ENVIAR RELATRIO ",v.jsx(gF,{size:20,style:{marginLeft:"10px"}})]})})]})}function yq(){const n=an(),e=[{title:"HONRA E RESPEITO",desc:"Honrar a liderana e respeitar cada soldado de Cristo no campo.",icon:v.jsx(bF,{size:28})},{title:"PONTUALIDADE",desc:"A alvorada e os cultos no esperam. Esteja pronto 5 min antes.",icon:v.jsx(hV,{size:28})},{title:"DISCIPLINA",desc:"Celulares apenas para o app e anotaes nos momentos permitidos.",icon:v.jsx(NF,{size:28})},{title:"LIMPEZA (ZELO)",desc:"Mantenha sua barraca e reas comuns impecveis. O lixo tem lugar certo.",icon:v.jsx(j8,{size:28})},{title:"CONSUMO CONSCIENTE",desc:"gua e comida so preciosos. Evite desperdcios.",icon:v.jsx(qF,{size:28})},{title:"BANHOS RPIDOS",desc:"Respeite o tempo do seu irmo. 5 a 10 minutos no mximo.",icon:v.jsx(Y8,{size:28})},{title:"SILNCIO",desc:"Aps o 'Apagar Luzes', o silncio  absoluto para o descanso da tropa.",icon:v.jsx(dV,{size:28})}];return v.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[v.jsx(Pe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:v.jsx(Ao,{size:24})}),v.jsx("h1",{style:{fontSize:"1.8rem"},children:"CDIGO DE CONDUTA"})]}),v.jsx(ke,{style:{marginBottom:"20px",border:"1px dashed var(--color-fire)"},children:v.jsxs("p",{style:{fontSize:"0.9rem",fontStyle:"italic",textAlign:"center",margin:0},children:['"Ningum que milita se embaraa com negcios desta vida, a fim de agradar quele que o alistou para a guerra." ',v.jsx("br",{}),v.jsx("strong",{children:"2 Timteo 2:4"})]})}),v.jsx("div",{style:{display:"grid",gap:"15px"},children:e.map((t,i)=>v.jsx(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},children:v.jsxs(ke,{style:{display:"flex",gap:"15px",alignItems:"center",padding:"15px"},children:[v.jsx("div",{style:{color:"var(--color-gold)",background:"var(--color-wood-dark)",padding:"10px",borderRadius:"8px"},children:t.icon}),v.jsxs("div",{children:[v.jsx("h4",{style:{margin:0,color:"var(--color-gold)",letterSpacing:"1px"},children:t.title}),v.jsx("p",{style:{margin:"3px 0 0",fontSize:"0.85rem",opacity:.8},children:t.desc})]})]})},i))}),v.jsxs(ke,{style:{marginTop:"25px",background:"var(--color-wood-dark)",textAlign:"center"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:"INFRAES"}),v.jsx("p",{style:{fontSize:"0.8rem",margin:"5px 0 0",opacity:.7},children:"O descumprimento das regras resultar em perda de pontos no ranking do peloto."})]})]})}function vq(){const n=an(),[e,t]=P.useState(new Date),a=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][e.getDay()],[o,c]=P.useState($s.some(d=>d.dia===a)?a:$s[0].dia);P.useEffect(()=>{const d=setInterval(()=>t(new Date),6e4);return()=>clearInterval(d)},[]);const h=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");return v.jsxs("div",{className:"page-container",style:{padding:"20px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[v.jsx(Pe,{variant:"ghost",onClick:()=>n("/home"),style:{padding:"5px"},children:v.jsx(Ao,{size:24})}),v.jsx("h1",{style:{fontSize:"1.8rem"},children:"PROGRAMAO"})]}),v.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px",scrollbarWidth:"none"},children:$s.map(d=>v.jsx(Pe,{variant:o===d.dia?"primary":"secondary",onClick:()=>c(d.dia),style:{minWidth:"100px",border:o===d.dia?"2px solid var(--color-gold)":"1px solid var(--color-wood-dark)"},children:d.dia.toUpperCase()},d.dia))}),$s.filter(d=>d.dia===o).map((d,m)=>{const _=["Sbado","Domingo","Segunda","Tera"].indexOf(d.dia),T=e.getDay(),x=T===6?0:T===0?1:T===1?2:T===2?3:-1,C=x>_,M=x===_;return v.jsxs("div",{style:{marginBottom:"30px"},children:[v.jsxs("h2",{style:{color:M?"var(--color-fire)":"var(--color-gold)",fontSize:"1.2rem",borderBottom:"1px solid var(--color-wood-dark)",paddingBottom:"5px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[v.jsx(C0,{size:20}),d.dia.toUpperCase()," ",M&&v.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-fire)",color:"white",padding:"2px 8px",borderRadius:"10px"},children:"HOJE"})]}),v.jsx("div",{style:{display:"grid",gap:"10px"},children:d.eventos.map((N,B)=>{const j=d.eventos[B+1],U=M&&h>=N.hora&&(!j||h<j.hora),J=C||M&&h>(j?j.hora:N.hora);return v.jsx(Be.div,{whileHover:{scale:1.01},children:v.jsxs(ke,{style:{padding:"12px 15px",border:U?"2px solid var(--color-fire)":J?"1px solid #27ae60":"1px solid var(--color-wood-dark)",background:U?"rgba(211, 84, 0, 0.1)":J?"rgba(39, 174, 96, 0.05)":"var(--bg-card)",position:"relative",overflow:"hidden",opacity:J?.8:1},children:[U&&v.jsx(Be.div,{animate:{opacity:[.3,.6,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"var(--color-fire)"}}),J&&!U&&v.jsx("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"#27ae60"}}),v.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",minWidth:"60px",color:U?"var(--color-fire)":J?"#27ae60":"var(--text-main)",animation:U?"blink 2s infinite":"none"},children:N.hora}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:U?"var(--color-fire-glow)":J?"#2ecc71":"var(--color-gold)"},children:N.nome}),J&&!U&&v.jsx("span",{style:{fontSize:"0.6rem",color:"#2ecc71",fontWeight:"bold"},children:"CONCLUDO"})]}),v.jsx("p",{style:{margin:0,fontSize:"0.8rem",opacity:.7},children:N.desc})]})]})]})},B)})})]},m)}),v.jsx("style",{children:`
                @keyframes blink {
                    0% { opacity: 1; }
                    50% { opacity: 0.4; }
                    100% { opacity: 1; }
                }
            `})]})}function _q(){const n=an(),[e,t]=P.useState([]),[i,a]=P.useState(""),[o,c]=P.useState(!0);P.useEffect(()=>{const d=P_(Eh(pt,"users"),sL("status","==","approved")),m=So(d,y=>{const _=y.docs.map(T=>({id:T.id,...T.data()}));_.sort((T,x)=>(T.nome||"").localeCompare(x.nome||"")),t(_),c(!1)},y=>{console.error("Erro ao carregar acampantes:",y),c(!1)});return()=>m()},[]);const h=e.filter(d=>(d.nome||d.email||"").toLowerCase().includes(i.toLowerCase()));return v.jsxs("div",{style:{padding:"1rem",paddingBottom:"5rem",maxWidth:"600px",margin:"0 auto"},children:[v.jsxs("header",{style:{marginBottom:"1.5rem",textAlign:"center"},children:[v.jsx(xE,{size:40,color:"var(--color-gold)",style:{marginBottom:"0.5rem"}}),v.jsx("h2",{style:{color:"var(--color-gold)",margin:0,fontSize:"2rem"},children:"ACAMPANTES"}),v.jsx("p",{style:{opacity:.7,fontSize:"0.9rem"},children:"Todos os guerreiros cadastrados"})]}),v.jsxs(ke,{style:{marginBottom:"1.5rem",textAlign:"center",borderColor:"var(--color-gold)"},children:[v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7,textTransform:"uppercase",letterSpacing:"1px"},children:"Total de Guerreiros"}),v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--color-gold)"},children:e.length})]}),v.jsxs("div",{style:{position:"relative",marginBottom:"1.5rem"},children:[v.jsx(mF,{size:18,color:"var(--color-gold)",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),v.jsx("input",{type:"text",placeholder:"Buscar guerreiro...",value:i,onChange:d=>a(d.target.value),style:{width:"100%",padding:"0.8rem 0.8rem 0.8rem 2.5rem",background:"rgba(0,0,0,0.3)",border:"1px solid var(--color-wood-medium)",borderRadius:"8px",color:"var(--text-main)",fontSize:"1rem",fontFamily:"var(--font-body)",outline:"none",boxSizing:"border-box"}})]}),o?v.jsx("div",{style:{textAlign:"center",padding:"2rem",opacity:.7},children:"Carregando soldados..."}):v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:[h.map((d,m)=>v.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.03},children:v.jsxs(ke,{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.8rem 1rem",borderLeft:d.role==="admin"?"3px solid var(--color-fire)":"3px solid var(--color-gold-dim)"},children:[v.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:d.role==="admin"?"linear-gradient(135deg, var(--color-fire), #c0392b)":"linear-gradient(135deg, var(--color-wood-medium), var(--color-wood-dark))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:"bold",color:"var(--color-gold)",border:"2px solid var(--color-gold-dim)",flexShrink:0},children:(d.nome||d.email||"?")[0].toUpperCase()}),v.jsx("div",{style:{flex:1,minWidth:0},children:v.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--text-main)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.nome||d.email?.split("@")[0]||"Soldado"})}),d.role==="admin"&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",background:"rgba(211, 84, 0, 0.2)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.65rem",color:"var(--color-fire)",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px",flexShrink:0},children:[v.jsx(AF,{size:10})," LDER"]}),d.selos&&d.selos.length>0&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"3px",fontSize:"0.75rem",color:"var(--color-gold)",flexShrink:0},children:[" ",d.selos.length]})]})},d.id)),h.length===0&&!o&&v.jsx("div",{style:{textAlign:"center",padding:"2rem",opacity:.5},children:"Nenhum guerreiro encontrado."})]}),v.jsx("div",{style:{marginTop:"3rem",textAlign:"center"},children:v.jsx(Pe,{onClick:()=>n("/home"),variant:"secondary",fullWidth:!0,children:"VOLTAR AO QG"})})]})}const Ow={SEMENTE:{icon:"",color:"#22c55e",gradient:"linear-gradient(135deg, #4ade80, #22c55e)"},MUDA:{icon:"",color:"#059669",gradient:"linear-gradient(135deg, #34d399, #059669)"},RVORE:{icon:"",color:"#d97706",gradient:"linear-gradient(135deg, #f59e0b, #d97706)"},"DISCPULO RADICAL":{icon:"",color:"#dc2626",gradient:"linear-gradient(135deg, #ef4444, #dc2626)"}};function Eq(){const{currentUser:n}=vi(),e=an(),[t,i]=P.useState(null),[a,o]=P.useState(null),[c,h]=P.useState(!0);if(P.useEffect(()=>{if(!n?.uid)return;const j=So(Qt(pt,"users",n.uid),J=>{J.exists()&&i(J.data()),h(!1)}),U=So(Qt(pt,"passaportes",n.uid),J=>{J.exists()&&o(J.data())});return()=>{j(),U()}},[n]),c)return v.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-main)"},children:v.jsx(Be.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},style:{fontSize:"3rem"},children:""})});const d=t?.lastDiagnostico,m=t?.diagnostico||[],y=a?.selos||[],_=wo.length,T=y.length,x=d?.perfil||null,C=x?Ow[x]:null,M=t?Object.keys(t).filter(j=>j.startsWith("sermao_")&&t[j]?.notas).length:0,N=n?.profile?.name||n?.displayName||"Guerreiro",B=n?.profile?.church||n?.profile?.igreja||"";return v.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{padding:"1rem",maxWidth:"500px",margin:"0 auto",paddingBottom:"5rem"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[v.jsx("button",{onClick:()=>e("/home"),style:{background:"none",border:"none",color:"var(--color-gold)",cursor:"pointer",display:"flex",alignItems:"center",padding:0},children:v.jsx(Ao,{size:24})}),v.jsx("h1",{style:{flex:1,textAlign:"center",fontFamily:"var(--font-display)",fontSize:"1.5rem",margin:0},children:"MINHAS INFORMAES"}),v.jsx("div",{style:{width:24}})]}),v.jsxs(ke,{style:{marginBottom:"1.5rem",border:"1px solid var(--color-gold)",position:"relative",overflow:"hidden"},children:[v.jsx("div",{style:{position:"absolute",top:0,right:0,width:"100px",height:"100px",background:"radial-gradient(circle at top right, rgba(211,132,0,0.15), transparent)",borderRadius:"0 0 0 100px"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("div",{style:{width:60,height:60,borderRadius:"50%",background:"linear-gradient(135deg, var(--color-gold), var(--color-fire))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.8rem",flexShrink:0},children:C?C.icon:""}),v.jsxs("div",{children:[v.jsx("h2",{style:{margin:"0 0 2px",fontSize:"1.3rem"},children:N}),v.jsxs("p",{style:{margin:0,color:"var(--text-dim)",fontSize:"0.85rem"},children:[" ",B]}),x&&v.jsxs("span",{style:{display:"inline-block",marginTop:"4px",padding:"2px 10px",background:C?.gradient||"var(--color-gold)",borderRadius:"12px",color:"#fff",fontSize:"0.7rem",fontWeight:"bold"},children:[C?.icon," ",x]})]})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem",marginBottom:"1.5rem"},children:[v.jsxs(ke,{style:{textAlign:"center",padding:"1rem"},children:[v.jsx(mm,{size:28,color:"var(--color-gold)"}),v.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-gold)",lineHeight:1.2},children:[T,"/",_]}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-dim)"},children:"SELOS CONQUISTADOS"})]}),v.jsxs(ke,{style:{textAlign:"center",padding:"1rem"},children:[v.jsx(Aw,{size:28,color:"var(--color-fire)"}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-fire)",lineHeight:1.2},children:d?.totalScore||""}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-dim)"},children:"SCORE DIAGNSTICO"})]}),v.jsxs(ke,{style:{textAlign:"center",padding:"1rem"},children:[v.jsx(uV,{size:28,color:"#6c5ce7"}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#6c5ce7",lineHeight:1.2},children:M}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-dim)"},children:"ANOTAES EU+DEUS"})]}),v.jsxs(ke,{style:{textAlign:"center",padding:"1rem"},children:[v.jsx(RF,{size:28,color:"#00cec9"}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#00cec9",lineHeight:1.2},children:m.length}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-dim)"},children:"DIAGNSTICOS FEITOS"})]})]}),d?v.jsxs(v.Fragment,{children:[v.jsxs("h3",{style:{color:"var(--color-gold)",fontFamily:"var(--font-display)",marginBottom:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx(dV,{size:20})," LTIMO DIAGNSTICO"]}),v.jsxs(ke,{style:{marginBottom:"1.5rem",borderLeft:`4px solid ${C?.color||"var(--color-gold)"}`},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsxs("div",{children:[v.jsx("span",{style:{fontSize:"1.5rem"},children:C?.icon||""}),v.jsx("span",{style:{marginLeft:"0.5rem",fontWeight:"bold",fontSize:"1.1rem",color:C?.color||"var(--text-main)"},children:x})]}),v.jsxs("span",{style:{padding:"4px 12px",background:"rgba(211, 132, 0, 0.15)",borderRadius:"12px",color:"var(--color-gold)",fontWeight:"bold",fontSize:"0.9rem"},children:[d.totalScore,"/100"]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:qu.map(j=>{const U=d.scores?.[j.id]||0,J=U/20*100;return v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"2px"},children:[v.jsxs("span",{children:[j.icon," ",j.name]}),v.jsxs("span",{style:{color:j.color},children:[U,"/20"]})]}),v.jsx("div",{style:{height:"6px",background:"var(--color-wood-dark)",borderRadius:"3px",overflow:"hidden"},children:v.jsx(Be.div,{initial:{width:0},animate:{width:`${J}%`},transition:{duration:.8},style:{height:"100%",background:j.color,borderRadius:"3px"}})})]},j.id)})}),d.date&&v.jsxs("div",{style:{marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--text-dim)",textAlign:"right"},children:[" ",d.date?.toDate?d.date.toDate().toLocaleDateString("pt-BR"):new Date(d.date).toLocaleDateString("pt-BR")]})]})]}):v.jsxs(ke,{style:{textAlign:"center",marginBottom:"1.5rem",padding:"2rem",border:"2px dashed var(--color-wood-light)"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),v.jsx("h3",{style:{margin:"0 0 0.5rem"},children:"Nenhum diagnstico ainda"}),v.jsx("p",{style:{color:"var(--text-dim)",margin:"0 0 1rem",fontSize:"0.9rem"},children:"Faa o diagnstico para descobrir seu nvel de maturidade espiritual"}),v.jsx(Pe,{onClick:()=>e("/diagnostico"),children:"FAZER DIAGNSTICO"})]}),m.length>1&&v.jsxs(v.Fragment,{children:[v.jsxs("h3",{style:{color:"var(--color-gold)",fontFamily:"var(--font-display)",marginBottom:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx(PF,{size:20})," HISTRICO"]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"},children:m.slice().reverse().map((j,U)=>{const J=j.perfil?Ow[j.perfil]:null;return v.jsxs(ke,{style:{padding:"0.8rem 1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx("span",{style:{fontSize:"1.2rem"},children:J?.icon||""}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"bold",fontSize:"0.85rem",color:J?.color||"var(--text-main)"},children:j.perfil||"Diagnstico"}),v.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-dim)"},children:j.date?.toDate?j.date.toDate().toLocaleDateString("pt-BR"):""})]})]}),v.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"var(--color-gold)"},children:[j.totalScore,"/100"]})]},U)})})]}),v.jsxs("h3",{style:{color:"var(--color-gold)",fontFamily:"var(--font-display)",marginBottom:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx(mm,{size:20})," SELOS DO PASSAPORTE"]}),v.jsx(ke,{style:{marginBottom:"1.5rem"},children:v.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"1rem"},children:wo.map((j,U)=>{const J=y.includes(j.id);return v.jsxs("div",{style:{textAlign:"center",opacity:J?1:.3},children:[v.jsx("div",{style:{fontSize:"2rem",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",background:J?"rgba(211, 132, 0, 0.15)":"var(--color-wood-dark)",borderRadius:"50%",border:J?"2px solid var(--color-gold)":"2px solid transparent"},children:J?j.icon:""}),v.jsx("div",{style:{fontSize:"0.6rem",marginTop:"4px",color:J?"var(--text-main)":"var(--text-dim)"},children:j.tema})]},U)})})}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[v.jsx(Pe,{onClick:()=>e("/diagnostico"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(Aw,{size:20})," ",d?"REFAZER DIAGNSTICO":"FAZER DIAGNSTICO"]})}),v.jsx(Pe,{variant:"secondary",onClick:()=>e("/passaporte"),children:v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx(mm,{size:20})," VER PASSAPORTE"]})})]})]})}const $n=({children:n})=>{const{currentUser:e,loading:t}=vi();return t?v.jsx("div",{style:{color:"#d35400",textAlign:"center",padding:"2rem"},children:"Carregando QG..."}):e?e.profile?.status==="pending"?v.jsx(Gl,{to:"/pending"}):n:v.jsx(Gl,{to:"/"})},Tq=({children:n})=>{const{currentUser:e,loading:t}=vi();return t?v.jsx("div",{children:"..."}):e?e.profile?.status==="approved"||e.profile?.role==="admin"?v.jsx(Gl,{to:"/home"}):n:v.jsx(Gl,{to:"/"})},Sq=({children:n})=>{const{currentUser:e,loading:t}=vi();if(t)return v.jsx("div",{children:"..."});if(!e)return v.jsx(Gl,{to:"/"});const i=e.profile?.role==="admin",a=$h(e.email);return!i&&!a?v.jsx(Gl,{to:"/home"}):n};function bq(){return v.jsx(DM,{basename:"/ACAMP2026-ANTIGRAVITY/",children:v.jsx(w6,{children:v.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--bg-main)",color:"var(--text-main)",fontFamily:"var(--font-body)"},children:v.jsxs(aM,{children:[v.jsx(fn,{path:"/",element:v.jsx(QF,{})}),v.jsx(fn,{path:"/pending",element:v.jsx(Tq,{children:v.jsx($F,{})})}),v.jsx(fn,{path:"/home",element:v.jsx($n,{children:v.jsx(YF,{})})}),v.jsx(fn,{path:"/passaporte",element:v.jsx($n,{children:v.jsx(WF,{})})}),v.jsx(fn,{path:"/sermoes",element:v.jsx($n,{children:v.jsx(XF,{})})}),v.jsx(fn,{path:"/sermoes/:id",element:v.jsx($n,{children:v.jsx(tq,{})})}),v.jsx(fn,{path:"/escalas",element:v.jsx($n,{children:v.jsx(iq,{})})}),v.jsx(fn,{path:"/ranking",element:v.jsx($n,{children:v.jsx(pq,{})})}),v.jsx(fn,{path:"/diagnostico",element:v.jsx($n,{children:v.jsx(uq,{})})}),v.jsx(fn,{path:"/diagnostico-ministerial",element:v.jsx($n,{children:v.jsx(dq,{})})}),v.jsx(fn,{path:"/ferramentas",element:v.jsx($n,{children:v.jsx(gq,{})})}),v.jsx(fn,{path:"/regras",element:v.jsx($n,{children:v.jsx(yq,{})})}),v.jsx(fn,{path:"/programacao",element:v.jsx($n,{children:v.jsx(vq,{})})}),v.jsx(fn,{path:"/acampantes",element:v.jsx($n,{children:v.jsx(_q,{})})}),v.jsx(fn,{path:"/meu-perfil",element:v.jsx($n,{children:v.jsx(Eq,{})})}),v.jsx(fn,{path:"/admin",element:v.jsx(Sq,{children:v.jsx(mq,{})})})]})})})})}lP.createRoot(document.getElementById("root")).render(v.jsx(P.StrictMode,{children:v.jsx(bq,{})}));
